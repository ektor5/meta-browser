From 0000000000000000000000000000000000000000 Mon Sep 17 00:00:00 2001
From: Denis Grigorev <d.grigorev@omprussia.ru>
Date: Tue, 25 May 2021 19:08:12 +0300
Subject: [PATCH] [sailfishos][webrtc] Regenerate moz.build files. JB#53756

https://firefox-source-docs.mozilla.org/build/buildsystem/gn.html

Signed-off-by: Denis Grigorev <d.grigorev@omprussia.ru>
---
 .../gn-configs/arm64_False_arm64_linux.json   |  5874 +-------
 .../gn-configs/arm_False_arm_linux.json       |  6114 +--------
 .../gn-configs/x86_False_x86_linux.json       | 11339 ++++++++++++++++
 .../trunk/webrtc/api/array_view_gn/moz.build  |   159 +-
 .../L16/audio_decoder_L16_gn/moz.build        |   163 +-
 .../L16/audio_encoder_L16_gn/moz.build        |   163 +-
 .../audio_codecs_api_gn/moz.build             |   163 +-
 .../moz.build                                 |   222 +-
 .../moz.build                                 |   222 +-
 .../g711/audio_decoder_g711_gn/moz.build      |   163 +-
 .../g711/audio_encoder_g711_gn/moz.build      |   163 +-
 .../g722/audio_decoder_g722_gn/moz.build      |   163 +-
 .../audio_encoder_g722_config_gn/moz.build    |   143 +-
 .../g722/audio_encoder_g722_gn/moz.build      |   163 +-
 .../ilbc/audio_decoder_ilbc_gn/moz.build      |   163 +-
 .../audio_encoder_ilbc_config_gn/moz.build    |   143 +-
 .../ilbc/audio_encoder_ilbc_gn/moz.build      |   163 +-
 .../isac/audio_decoder_isac_fix_gn/moz.build  |    60 +-
 .../audio_decoder_isac_float_gn/moz.build     |   151 +-
 .../isac/audio_decoder_isac_gn/moz.build      |   210 +-
 .../isac/audio_encoder_isac_fix_gn/moz.build  |    60 +-
 .../audio_encoder_isac_float_gn/moz.build     |   151 +-
 .../isac/audio_encoder_isac_gn/moz.build      |   210 +-
 .../opus/audio_decoder_opus_gn/moz.build      |   163 +-
 .../audio_encoder_opus_config_gn/moz.build    |   163 +-
 .../opus/audio_encoder_opus_gn/moz.build      |   163 +-
 .../webrtc/api/audio_mixer_api_gn/moz.build   |   159 +-
 .../api/base_peerconnection_api_gn/moz.build  |   147 +-
 .../trunk/webrtc/api/call_api_gn/moz.build    |   159 +-
 .../trunk/webrtc/api/optional_gn/moz.build    |   163 +-
 .../webrtc/api/refcountedbase_gn/moz.build    |   159 +-
 .../webrtc/api/transport_api_gn/moz.build     |   143 +-
 .../video_codecs_api_gn/moz.build             |   163 +-
 .../webrtc/api/video_frame_api_gn/moz.build   |   163 +-
 .../api/video_frame_api_i420_gn/moz.build     |   163 +-
 .../trunk/webrtc/audio/audio_gn/moz.build     |   163 +-
 .../audio_frame_operations_gn/moz.build       |   163 +-
 .../call/bitrate_allocator_gn/moz.build       |   163 +-
 .../trunk/webrtc/call/call_gn/moz.build       |   163 +-
 .../webrtc/call/call_interfaces_gn/moz.build  |   163 +-
 .../webrtc/call/rtp_interfaces_gn/moz.build   |   163 +-
 .../webrtc/call/rtp_receiver_gn/moz.build     |   163 +-
 .../trunk/webrtc/call/rtp_sender_gn/moz.build |   163 +-
 .../webrtc/call/video_stream_api_gn/moz.build |   163 +-
 .../common_audio_c_arm_asm_gn/moz.build       |   143 +-
 .../common_audio/common_audio_c_gn/moz.build  |   235 +-
 .../common_audio/common_audio_cc_gn/moz.build |   163 +-
 .../common_audio/common_audio_gn/moz.build    |   163 +-
 .../common_audio_neon_c_gn/moz.build          |   101 +-
 .../common_audio_neon_gn/moz.build            |   101 +-
 .../common_audio_sse2_gn/moz.build            |   176 +-
 .../fir_filter_factory_gn/moz.build           |   179 +-
 .../common_audio/fir_filter_gn/moz.build      |   143 +-
 .../common_audio/sinc_resampler_gn/moz.build  |   159 +-
 .../common_video/common_video_gn/moz.build    |   163 +-
 .../logging/rtc_event_log_api_gn/moz.build    |   163 +-
 .../logging/rtc_event_log_impl_gn/moz.build   |   163 +-
 .../webrtc/media/rtc_audio_video_gn/moz.build |   169 +-
 .../media/rtc_h264_profile_id_gn/moz.build    |   163 +-
 .../webrtc/media/rtc_media_base_gn/moz.build  |   163 +-
 .../trunk/webrtc/media/rtc_media_gn/moz.build |   165 +-
 .../audio_coding/audio_coding_gn/moz.build    |   244 +-
 .../audio_coding_module_typedefs_gn/moz.build |   159 +-
 .../audio_format_conversion_gn/moz.build      |   163 +-
 .../audio_network_adaptor_config_gn/moz.build |   163 +-
 .../audio_network_adaptor_gn/moz.build        |   163 +-
 .../modules/audio_coding/cng_gn/moz.build     |   163 +-
 .../modules/audio_coding/g711_c_gn/moz.build  |   147 +-
 .../modules/audio_coding/g711_gn/moz.build    |   163 +-
 .../modules/audio_coding/g722_c_gn/moz.build  |   147 +-
 .../modules/audio_coding/g722_gn/moz.build    |   163 +-
 .../modules/audio_coding/ilbc_c_gn/moz.build  |   163 +-
 .../modules/audio_coding/ilbc_gn/moz.build    |   163 +-
 .../modules/audio_coding/isac_c_gn/moz.build  |   163 +-
 .../audio_coding/isac_common_gn/moz.build     |   163 +-
 .../isac_fix_c_arm_asm_gn/moz.build           |    54 +-
 .../audio_coding/isac_fix_c_gn/moz.build      |   245 +-
 .../audio_coding/isac_fix_common_gn/moz.build |   147 +-
 .../audio_coding/isac_fix_gn/moz.build        |    60 +-
 .../modules/audio_coding/isac_gn/moz.build    |   163 +-
 .../audio_coding/isac_neon_gn/moz.build       |   101 +-
 .../legacy_encoded_audio_frame_gn/moz.build   |   163 +-
 .../neteq_decoder_enum_gn/moz.build           |   163 +-
 .../modules/audio_coding/neteq_gn/moz.build   |   163 +-
 .../audio_coding/pcm16b_c_gn/moz.build        |   147 +-
 .../modules/audio_coding/pcm16b_gn/moz.build  |   163 +-
 .../audio_coding/rent_a_codec_gn/moz.build    |   244 +-
 .../audio_coding/webrtc_opus_c_gn/moz.build   |   200 +-
 .../audio_coding/webrtc_opus_gn/moz.build     |   200 +-
 .../audio_device_generic_gn/moz.build         |   179 +-
 .../audio_device/audio_device_gn/moz.build    |   159 +-
 .../audio_frame_manipulator_gn/moz.build      |   163 +-
 .../audio_mixer/audio_mixer_impl_gn/moz.build |   163 +-
 .../aec_dump/aec_dump_gn/moz.build            |   159 +-
 .../null_aec_dump_factory_gn/moz.build        |   163 +-
 .../aec_dump_interface_gn/moz.build           |   163 +-
 .../audio_processing_c_gn/moz.build           |   221 +-
 .../audio_processing_gn/moz.build             |   192 +-
 .../audio_processing_neon_c_gn/moz.build      |   101 +-
 .../audio_processing_neon_gn/moz.build        |   101 +-
 .../audio_processing_sse2_gn/moz.build        |   160 +-
 .../audio_processing_statistics_gn/moz.build  |   163 +-
 .../bitrate_controller_gn/moz.build           |   163 +-
 .../congestion_controller_gn/moz.build        |   163 +-
 .../desktop_capture_differ_sse2_gn/moz.build  |    86 +-
 .../desktop_capture_generic_gn/moz.build      |   220 +-
 .../desktop_capture_gn/moz.build              |   132 +-
 .../desktop_capture_objc_gn/moz.build         |    10 +-
 .../desktop_capture/primitives_gn/moz.build   |    80 +-
 .../media_file/media_file_gn/moz.build        |   163 +-
 .../webrtc/modules/module_api_gn/moz.build    |   159 +-
 .../modules/module_api_public_gn/moz.build    |   159 +-
 .../webrtc/modules/pacing/pacing_gn/moz.build |   163 +-
 .../remote_bitrate_estimator_gn/moz.build     |   163 +-
 .../rtp_rtcp/rtp_rtcp_format_gn/moz.build     |   163 +-
 .../modules/rtp_rtcp/rtp_rtcp_gn/moz.build    |   163 +-
 .../modules/utility/utility_gn/moz.build      |   173 +-
 .../video_capture_internal_impl_gn/moz.build  |   149 +-
 .../moz.build                                 |    10 +-
 .../video_capture_module_gn/moz.build         |   163 +-
 .../codec_globals_headers_gn/moz.build        |   143 +-
 .../video_coding/video_coding_gn/moz.build    |   163 +-
 .../video_coding_utility_gn/moz.build         |   163 +-
 .../video_coding/webrtc_h264_gn/moz.build     |   163 +-
 .../video_coding/webrtc_i420_gn/moz.build     |   163 +-
 .../video_coding/webrtc_stereo_gn/moz.build   |   163 +-
 .../video_coding/webrtc_vp8_gn/moz.build      |   163 +-
 .../video_coding/webrtc_vp9_gn/moz.build      |   163 +-
 .../denoiser_filter_gn/moz.build              |   159 +-
 .../video_processing_gn/moz.build             |   163 +-
 .../video_processing_neon_gn/moz.build        |   101 +-
 .../video_processing_sse2_gn/moz.build        |   176 +-
 media/webrtc/trunk/webrtc/moz.build           |    33 +-
 .../rtc_base/compile_assert_c_gn/moz.build    |   117 +-
 .../webrtc/rtc_base/gtest_prod_gn/moz.build   |   143 +-
 .../rtc_base/protobuf_utils_gn/moz.build      |   117 +-
 .../rtc_base_approved_generic_gn/moz.build    |   191 +-
 .../rtc_base/rtc_base_approved_gn/moz.build   |   159 +-
 .../rtc_base_approved_objc_gn/moz.build       |    10 +-
 .../webrtc/rtc_base/rtc_base_gn/moz.build     |   151 +-
 .../rtc_base/rtc_base_objc_gn/moz.build       |    10 +-
 .../webrtc/rtc_base/rtc_numerics_gn/moz.build |   163 +-
 .../rtc_base/rtc_task_queue_api_gn/moz.build  |   159 +-
 .../rtc_base/rtc_task_queue_gn/moz.build      |   159 +-
 .../rtc_base/rtc_task_queue_impl_gn/moz.build |   211 +-
 .../sequenced_task_checker_gn/moz.build       |   163 +-
 .../webrtc/rtc_base/weak_ptr_gn/moz.build     |   163 +-
 .../cpu_features_api_gn/moz.build             |   143 +-
 .../cpu_features_linux_gn/moz.build           |    52 +-
 .../field_trial_api_gn/moz.build              |   143 +-
 .../field_trial_default_gn/moz.build          |   147 +-
 .../system_wrappers/metrics_api_gn/moz.build  |   159 +-
 .../metrics_default_gn/moz.build              |   163 +-
 .../system_wrappers_gn/moz.build              |   209 +-
 .../trunk/webrtc/video/video_gn/moz.build     |   163 +-
 .../voice_engine/audio_level_gn/moz.build     |   163 +-
 .../voice_engine/voice_engine_gn/moz.build    |   163 +-
 .../trunk/webrtc/webrtc_common_gn/moz.build   |   147 +-
 media/webrtc/trunk/webrtc/webrtc_gn/moz.build |   276 +-
 159 files changed, 27315 insertions(+), 20166 deletions(-)
 create mode 100644 media/webrtc/gn-configs/x86_False_x86_linux.json

diff --git a/media/webrtc/gn-configs/arm64_False_arm64_linux.json b/media/webrtc/gn-configs/arm64_False_arm64_linux.json
index b9093e4fb181..f1e7bfac33b8 100644
--- a/media/webrtc/gn-configs/arm64_False_arm64_linux.json
+++ b/media/webrtc/gn-configs/arm64_False_arm64_linux.json
@@ -30,23 +30,13 @@
                 "-funwind-tables",
                 "-fPIC",
                 "-pipe",
-                "-fcolor-diagnostics",
-                "--target=aarch64-linux-gnu",
                 "-pthread",
                 "-Wall",
                 "-Werror",
-                "-Wextra",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
                 "-Wno-missing-field-initializers",
                 "-Wno-unused-parameter",
-                "-Wno-c++11-narrowing",
-                "-Wno-covered-switch-default",
-                "-Wno-unneeded-internal-declaration",
-                "-Wno-inconsistent-missing-override",
-                "-Wno-undefined-var-template",
-                "-Wno-nonportable-include-path",
-                "-Wno-address-of-packed-member",
-                "-Wno-unused-lambda-capture",
-                "-Wno-user-defined-warnings",
                 "-O2",
                 "-fno-ident",
                 "-fdata-sections",
@@ -54,44 +44,19 @@
                 "-fno-omit-frame-pointer",
                 "-g0",
                 "-fvisibility=hidden",
-                "-Xclang",
-                "-load",
-                "-Xclang",
-                "../../../../../../media/webrtc/trunk/webrtc/third_party/llvm-build/Release+Asserts/lib/libFindBadConstructs.so",
-                "-Xclang",
-                "-add-plugin",
-                "-Xclang",
-                "find-bad-constructs",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-auto-raw-pointer",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-ipc",
-                "-Wheader-hygiene",
-                "-Wstring-conversion",
-                "-Wtautological-overlap-compare",
                 "-Wextra",
                 "-Wno-unused-parameter",
                 "-Wno-missing-field-initializers",
-                "-Wno-strict-overflow",
-                "-Wc++11-narrowing",
-                "-Wimplicit-fallthrough",
-                "-Wthread-safety",
-                "-Winconsistent-missing-override",
-                "-Wundef",
-                "-Wunused-lambda-capture"
+                "-Wno-strict-overflow"
             ],
             "defines": [
                 "V8_DEPRECATION_WARNINGS",
                 "USE_NSS_CERTS=1",
-                "USE_X11=1",
                 "NO_TCMALLOC",
                 "DISABLE_NACL",
                 "CHROMIUM_BUILD",
                 "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
                 "NDEBUG",
                 "NVALGRIND",
                 "DYNAMIC_ANNOTATIONS_ENABLED=0",
@@ -141,17 +106,7 @@
             ],
             "libs": [
                 "rt",
-                "m",
-                "X11",
-                "X11-xcb",
-                "xcb",
-                "Xcomposite",
-                "Xcursor",
-                "Xdamage",
-                "Xext",
-                "Xfixes",
-                "Xi",
-                "Xrender"
+                "m"
             ],
             "sources": [],
             "type": "static_library"
@@ -168,23 +123,13 @@
                 "-funwind-tables",
                 "-fPIC",
                 "-pipe",
-                "-fcolor-diagnostics",
-                "--target=aarch64-linux-gnu",
                 "-pthread",
                 "-Wall",
                 "-Werror",
-                "-Wextra",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
                 "-Wno-missing-field-initializers",
                 "-Wno-unused-parameter",
-                "-Wno-c++11-narrowing",
-                "-Wno-covered-switch-default",
-                "-Wno-unneeded-internal-declaration",
-                "-Wno-inconsistent-missing-override",
-                "-Wno-undefined-var-template",
-                "-Wno-nonportable-include-path",
-                "-Wno-address-of-packed-member",
-                "-Wno-unused-lambda-capture",
-                "-Wno-user-defined-warnings",
                 "-O2",
                 "-fno-ident",
                 "-fdata-sections",
@@ -192,28 +137,19 @@
                 "-fno-omit-frame-pointer",
                 "-g0",
                 "-fvisibility=hidden",
-                "-Wheader-hygiene",
-                "-Wstring-conversion",
-                "-Wtautological-overlap-compare",
                 "-Wextra",
                 "-Wno-unused-parameter",
                 "-Wno-missing-field-initializers",
-                "-Wno-strict-overflow",
-                "-Wc++11-narrowing",
-                "-Wimplicit-fallthrough",
-                "-Wthread-safety",
-                "-Winconsistent-missing-override",
-                "-Wundef",
-                "-Wunused-lambda-capture"
+                "-Wno-strict-overflow"
             ],
             "defines": [
                 "V8_DEPRECATION_WARNINGS",
                 "USE_NSS_CERTS=1",
-                "USE_X11=1",
                 "NO_TCMALLOC",
                 "DISABLE_NACL",
                 "CHROMIUM_BUILD",
                 "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
                 "NDEBUG",
                 "NVALGRIND",
                 "DYNAMIC_ANNOTATIONS_ENABLED=0",
@@ -251,23 +187,13 @@
                 "-funwind-tables",
                 "-fPIC",
                 "-pipe",
-                "-fcolor-diagnostics",
-                "--target=aarch64-linux-gnu",
                 "-pthread",
                 "-Wall",
                 "-Werror",
-                "-Wextra",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
                 "-Wno-missing-field-initializers",
                 "-Wno-unused-parameter",
-                "-Wno-c++11-narrowing",
-                "-Wno-covered-switch-default",
-                "-Wno-unneeded-internal-declaration",
-                "-Wno-inconsistent-missing-override",
-                "-Wno-undefined-var-template",
-                "-Wno-nonportable-include-path",
-                "-Wno-address-of-packed-member",
-                "-Wno-unused-lambda-capture",
-                "-Wno-user-defined-warnings",
                 "-O2",
                 "-fno-ident",
                 "-fdata-sections",
@@ -275,44 +201,19 @@
                 "-fno-omit-frame-pointer",
                 "-g0",
                 "-fvisibility=hidden",
-                "-Xclang",
-                "-load",
-                "-Xclang",
-                "../../../../../../media/webrtc/trunk/webrtc/third_party/llvm-build/Release+Asserts/lib/libFindBadConstructs.so",
-                "-Xclang",
-                "-add-plugin",
-                "-Xclang",
-                "find-bad-constructs",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-auto-raw-pointer",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-ipc",
-                "-Wheader-hygiene",
-                "-Wstring-conversion",
-                "-Wtautological-overlap-compare",
                 "-Wextra",
                 "-Wno-unused-parameter",
                 "-Wno-missing-field-initializers",
-                "-Wno-strict-overflow",
-                "-Wc++11-narrowing",
-                "-Wimplicit-fallthrough",
-                "-Wthread-safety",
-                "-Winconsistent-missing-override",
-                "-Wundef",
-                "-Wunused-lambda-capture"
+                "-Wno-strict-overflow"
             ],
             "defines": [
                 "V8_DEPRECATION_WARNINGS",
                 "USE_NSS_CERTS=1",
-                "USE_X11=1",
                 "NO_TCMALLOC",
                 "DISABLE_NACL",
                 "CHROMIUM_BUILD",
                 "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
                 "NDEBUG",
                 "NVALGRIND",
                 "DYNAMIC_ANNOTATIONS_ENABLED=0",
@@ -356,23 +257,13 @@
                 "-funwind-tables",
                 "-fPIC",
                 "-pipe",
-                "-fcolor-diagnostics",
-                "--target=aarch64-linux-gnu",
                 "-pthread",
                 "-Wall",
                 "-Werror",
-                "-Wextra",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
                 "-Wno-missing-field-initializers",
                 "-Wno-unused-parameter",
-                "-Wno-c++11-narrowing",
-                "-Wno-covered-switch-default",
-                "-Wno-unneeded-internal-declaration",
-                "-Wno-inconsistent-missing-override",
-                "-Wno-undefined-var-template",
-                "-Wno-nonportable-include-path",
-                "-Wno-address-of-packed-member",
-                "-Wno-unused-lambda-capture",
-                "-Wno-user-defined-warnings",
                 "-O2",
                 "-fno-ident",
                 "-fdata-sections",
@@ -380,44 +271,19 @@
                 "-fno-omit-frame-pointer",
                 "-g0",
                 "-fvisibility=hidden",
-                "-Xclang",
-                "-load",
-                "-Xclang",
-                "../../../../../../media/webrtc/trunk/webrtc/third_party/llvm-build/Release+Asserts/lib/libFindBadConstructs.so",
-                "-Xclang",
-                "-add-plugin",
-                "-Xclang",
-                "find-bad-constructs",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-auto-raw-pointer",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-ipc",
-                "-Wheader-hygiene",
-                "-Wstring-conversion",
-                "-Wtautological-overlap-compare",
                 "-Wextra",
                 "-Wno-unused-parameter",
                 "-Wno-missing-field-initializers",
-                "-Wno-strict-overflow",
-                "-Wc++11-narrowing",
-                "-Wimplicit-fallthrough",
-                "-Wthread-safety",
-                "-Winconsistent-missing-override",
-                "-Wundef",
-                "-Wunused-lambda-capture"
+                "-Wno-strict-overflow"
             ],
             "defines": [
                 "V8_DEPRECATION_WARNINGS",
                 "USE_NSS_CERTS=1",
-                "USE_X11=1",
                 "NO_TCMALLOC",
                 "DISABLE_NACL",
                 "CHROMIUM_BUILD",
                 "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
                 "NDEBUG",
                 "NVALGRIND",
                 "DYNAMIC_ANNOTATIONS_ENABLED=0",
@@ -461,23 +327,13 @@
                 "-funwind-tables",
                 "-fPIC",
                 "-pipe",
-                "-fcolor-diagnostics",
-                "--target=aarch64-linux-gnu",
                 "-pthread",
                 "-Wall",
                 "-Werror",
-                "-Wextra",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
                 "-Wno-missing-field-initializers",
                 "-Wno-unused-parameter",
-                "-Wno-c++11-narrowing",
-                "-Wno-covered-switch-default",
-                "-Wno-unneeded-internal-declaration",
-                "-Wno-inconsistent-missing-override",
-                "-Wno-undefined-var-template",
-                "-Wno-nonportable-include-path",
-                "-Wno-address-of-packed-member",
-                "-Wno-unused-lambda-capture",
-                "-Wno-user-defined-warnings",
                 "-O2",
                 "-fno-ident",
                 "-fdata-sections",
@@ -485,44 +341,19 @@
                 "-fno-omit-frame-pointer",
                 "-g0",
                 "-fvisibility=hidden",
-                "-Xclang",
-                "-load",
-                "-Xclang",
-                "../../../../../../media/webrtc/trunk/webrtc/third_party/llvm-build/Release+Asserts/lib/libFindBadConstructs.so",
-                "-Xclang",
-                "-add-plugin",
-                "-Xclang",
-                "find-bad-constructs",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-auto-raw-pointer",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-ipc",
-                "-Wheader-hygiene",
-                "-Wstring-conversion",
-                "-Wtautological-overlap-compare",
                 "-Wextra",
                 "-Wno-unused-parameter",
                 "-Wno-missing-field-initializers",
-                "-Wno-strict-overflow",
-                "-Wc++11-narrowing",
-                "-Wimplicit-fallthrough",
-                "-Wthread-safety",
-                "-Winconsistent-missing-override",
-                "-Wundef",
-                "-Wunused-lambda-capture"
+                "-Wno-strict-overflow"
             ],
             "defines": [
                 "V8_DEPRECATION_WARNINGS",
                 "USE_NSS_CERTS=1",
-                "USE_X11=1",
                 "NO_TCMALLOC",
                 "DISABLE_NACL",
                 "CHROMIUM_BUILD",
                 "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
                 "NDEBUG",
                 "NVALGRIND",
                 "DYNAMIC_ANNOTATIONS_ENABLED=0",
@@ -566,23 +397,13 @@
                 "-funwind-tables",
                 "-fPIC",
                 "-pipe",
-                "-fcolor-diagnostics",
-                "--target=aarch64-linux-gnu",
                 "-pthread",
                 "-Wall",
                 "-Werror",
-                "-Wextra",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
                 "-Wno-missing-field-initializers",
                 "-Wno-unused-parameter",
-                "-Wno-c++11-narrowing",
-                "-Wno-covered-switch-default",
-                "-Wno-unneeded-internal-declaration",
-                "-Wno-inconsistent-missing-override",
-                "-Wno-undefined-var-template",
-                "-Wno-nonportable-include-path",
-                "-Wno-address-of-packed-member",
-                "-Wno-unused-lambda-capture",
-                "-Wno-user-defined-warnings",
                 "-O2",
                 "-fno-ident",
                 "-fdata-sections",
@@ -590,44 +411,19 @@
                 "-fno-omit-frame-pointer",
                 "-g0",
                 "-fvisibility=hidden",
-                "-Xclang",
-                "-load",
-                "-Xclang",
-                "../../../../../../media/webrtc/trunk/webrtc/third_party/llvm-build/Release+Asserts/lib/libFindBadConstructs.so",
-                "-Xclang",
-                "-add-plugin",
-                "-Xclang",
-                "find-bad-constructs",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-auto-raw-pointer",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-ipc",
-                "-Wheader-hygiene",
-                "-Wstring-conversion",
-                "-Wtautological-overlap-compare",
                 "-Wextra",
                 "-Wno-unused-parameter",
                 "-Wno-missing-field-initializers",
-                "-Wno-strict-overflow",
-                "-Wc++11-narrowing",
-                "-Wimplicit-fallthrough",
-                "-Wthread-safety",
-                "-Winconsistent-missing-override",
-                "-Wundef",
-                "-Wunused-lambda-capture"
+                "-Wno-strict-overflow"
             ],
             "defines": [
                 "V8_DEPRECATION_WARNINGS",
                 "USE_NSS_CERTS=1",
-                "USE_X11=1",
                 "NO_TCMALLOC",
                 "DISABLE_NACL",
                 "CHROMIUM_BUILD",
                 "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
                 "NDEBUG",
                 "NVALGRIND",
                 "DYNAMIC_ANNOTATIONS_ENABLED=0",
@@ -671,23 +467,13 @@
                 "-funwind-tables",
                 "-fPIC",
                 "-pipe",
-                "-fcolor-diagnostics",
-                "--target=aarch64-linux-gnu",
                 "-pthread",
                 "-Wall",
                 "-Werror",
-                "-Wextra",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
                 "-Wno-missing-field-initializers",
                 "-Wno-unused-parameter",
-                "-Wno-c++11-narrowing",
-                "-Wno-covered-switch-default",
-                "-Wno-unneeded-internal-declaration",
-                "-Wno-inconsistent-missing-override",
-                "-Wno-undefined-var-template",
-                "-Wno-nonportable-include-path",
-                "-Wno-address-of-packed-member",
-                "-Wno-unused-lambda-capture",
-                "-Wno-user-defined-warnings",
                 "-O2",
                 "-fno-ident",
                 "-fdata-sections",
@@ -695,44 +481,19 @@
                 "-fno-omit-frame-pointer",
                 "-g0",
                 "-fvisibility=hidden",
-                "-Xclang",
-                "-load",
-                "-Xclang",
-                "../../../../../../media/webrtc/trunk/webrtc/third_party/llvm-build/Release+Asserts/lib/libFindBadConstructs.so",
-                "-Xclang",
-                "-add-plugin",
-                "-Xclang",
-                "find-bad-constructs",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-auto-raw-pointer",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-ipc",
-                "-Wheader-hygiene",
-                "-Wstring-conversion",
-                "-Wtautological-overlap-compare",
                 "-Wextra",
                 "-Wno-unused-parameter",
                 "-Wno-missing-field-initializers",
-                "-Wno-strict-overflow",
-                "-Wc++11-narrowing",
-                "-Wimplicit-fallthrough",
-                "-Wthread-safety",
-                "-Winconsistent-missing-override",
-                "-Wundef",
-                "-Wunused-lambda-capture"
+                "-Wno-strict-overflow"
             ],
             "defines": [
                 "V8_DEPRECATION_WARNINGS",
                 "USE_NSS_CERTS=1",
-                "USE_X11=1",
                 "NO_TCMALLOC",
                 "DISABLE_NACL",
                 "CHROMIUM_BUILD",
                 "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
                 "NDEBUG",
                 "NVALGRIND",
                 "DYNAMIC_ANNOTATIONS_ENABLED=0",
@@ -776,23 +537,13 @@
                 "-funwind-tables",
                 "-fPIC",
                 "-pipe",
-                "-fcolor-diagnostics",
-                "--target=aarch64-linux-gnu",
                 "-pthread",
                 "-Wall",
                 "-Werror",
-                "-Wextra",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
                 "-Wno-missing-field-initializers",
                 "-Wno-unused-parameter",
-                "-Wno-c++11-narrowing",
-                "-Wno-covered-switch-default",
-                "-Wno-unneeded-internal-declaration",
-                "-Wno-inconsistent-missing-override",
-                "-Wno-undefined-var-template",
-                "-Wno-nonportable-include-path",
-                "-Wno-address-of-packed-member",
-                "-Wno-unused-lambda-capture",
-                "-Wno-user-defined-warnings",
                 "-O2",
                 "-fno-ident",
                 "-fdata-sections",
@@ -800,44 +551,19 @@
                 "-fno-omit-frame-pointer",
                 "-g0",
                 "-fvisibility=hidden",
-                "-Xclang",
-                "-load",
-                "-Xclang",
-                "../../../../../../media/webrtc/trunk/webrtc/third_party/llvm-build/Release+Asserts/lib/libFindBadConstructs.so",
-                "-Xclang",
-                "-add-plugin",
-                "-Xclang",
-                "find-bad-constructs",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-auto-raw-pointer",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-ipc",
-                "-Wheader-hygiene",
-                "-Wstring-conversion",
-                "-Wtautological-overlap-compare",
                 "-Wextra",
                 "-Wno-unused-parameter",
                 "-Wno-missing-field-initializers",
-                "-Wno-strict-overflow",
-                "-Wc++11-narrowing",
-                "-Wimplicit-fallthrough",
-                "-Wthread-safety",
-                "-Winconsistent-missing-override",
-                "-Wundef",
-                "-Wunused-lambda-capture"
+                "-Wno-strict-overflow"
             ],
             "defines": [
                 "V8_DEPRECATION_WARNINGS",
                 "USE_NSS_CERTS=1",
-                "USE_X11=1",
                 "NO_TCMALLOC",
                 "DISABLE_NACL",
                 "CHROMIUM_BUILD",
                 "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
                 "NDEBUG",
                 "NVALGRIND",
                 "DYNAMIC_ANNOTATIONS_ENABLED=0",
@@ -882,23 +608,13 @@
                 "-funwind-tables",
                 "-fPIC",
                 "-pipe",
-                "-fcolor-diagnostics",
-                "--target=aarch64-linux-gnu",
                 "-pthread",
                 "-Wall",
                 "-Werror",
-                "-Wextra",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
                 "-Wno-missing-field-initializers",
                 "-Wno-unused-parameter",
-                "-Wno-c++11-narrowing",
-                "-Wno-covered-switch-default",
-                "-Wno-unneeded-internal-declaration",
-                "-Wno-inconsistent-missing-override",
-                "-Wno-undefined-var-template",
-                "-Wno-nonportable-include-path",
-                "-Wno-address-of-packed-member",
-                "-Wno-unused-lambda-capture",
-                "-Wno-user-defined-warnings",
                 "-O2",
                 "-fno-ident",
                 "-fdata-sections",
@@ -906,44 +622,19 @@
                 "-fno-omit-frame-pointer",
                 "-g0",
                 "-fvisibility=hidden",
-                "-Xclang",
-                "-load",
-                "-Xclang",
-                "../../../../../../media/webrtc/trunk/webrtc/third_party/llvm-build/Release+Asserts/lib/libFindBadConstructs.so",
-                "-Xclang",
-                "-add-plugin",
-                "-Xclang",
-                "find-bad-constructs",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-auto-raw-pointer",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-ipc",
-                "-Wheader-hygiene",
-                "-Wstring-conversion",
-                "-Wtautological-overlap-compare",
                 "-Wextra",
                 "-Wno-unused-parameter",
                 "-Wno-missing-field-initializers",
-                "-Wno-strict-overflow",
-                "-Wc++11-narrowing",
-                "-Wimplicit-fallthrough",
-                "-Wthread-safety",
-                "-Winconsistent-missing-override",
-                "-Wundef",
-                "-Wunused-lambda-capture"
+                "-Wno-strict-overflow"
             ],
             "defines": [
                 "V8_DEPRECATION_WARNINGS",
                 "USE_NSS_CERTS=1",
-                "USE_X11=1",
                 "NO_TCMALLOC",
                 "DISABLE_NACL",
                 "CHROMIUM_BUILD",
                 "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
                 "NDEBUG",
                 "NVALGRIND",
                 "DYNAMIC_ANNOTATIONS_ENABLED=0",
@@ -979,23 +670,13 @@
                 "-funwind-tables",
                 "-fPIC",
                 "-pipe",
-                "-fcolor-diagnostics",
-                "--target=aarch64-linux-gnu",
                 "-pthread",
                 "-Wall",
                 "-Werror",
-                "-Wextra",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
                 "-Wno-missing-field-initializers",
                 "-Wno-unused-parameter",
-                "-Wno-c++11-narrowing",
-                "-Wno-covered-switch-default",
-                "-Wno-unneeded-internal-declaration",
-                "-Wno-inconsistent-missing-override",
-                "-Wno-undefined-var-template",
-                "-Wno-nonportable-include-path",
-                "-Wno-address-of-packed-member",
-                "-Wno-unused-lambda-capture",
-                "-Wno-user-defined-warnings",
                 "-O2",
                 "-fno-ident",
                 "-fdata-sections",
@@ -1003,44 +684,19 @@
                 "-fno-omit-frame-pointer",
                 "-g0",
                 "-fvisibility=hidden",
-                "-Xclang",
-                "-load",
-                "-Xclang",
-                "../../../../../../media/webrtc/trunk/webrtc/third_party/llvm-build/Release+Asserts/lib/libFindBadConstructs.so",
-                "-Xclang",
-                "-add-plugin",
-                "-Xclang",
-                "find-bad-constructs",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-auto-raw-pointer",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-ipc",
-                "-Wheader-hygiene",
-                "-Wstring-conversion",
-                "-Wtautological-overlap-compare",
                 "-Wextra",
                 "-Wno-unused-parameter",
                 "-Wno-missing-field-initializers",
-                "-Wno-strict-overflow",
-                "-Wc++11-narrowing",
-                "-Wimplicit-fallthrough",
-                "-Wthread-safety",
-                "-Winconsistent-missing-override",
-                "-Wundef",
-                "-Wunused-lambda-capture"
+                "-Wno-strict-overflow"
             ],
             "defines": [
                 "V8_DEPRECATION_WARNINGS",
                 "USE_NSS_CERTS=1",
-                "USE_X11=1",
                 "NO_TCMALLOC",
                 "DISABLE_NACL",
                 "CHROMIUM_BUILD",
                 "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
                 "NDEBUG",
                 "NVALGRIND",
                 "DYNAMIC_ANNOTATIONS_ENABLED=0",
@@ -1086,23 +742,13 @@
                 "-funwind-tables",
                 "-fPIC",
                 "-pipe",
-                "-fcolor-diagnostics",
-                "--target=aarch64-linux-gnu",
                 "-pthread",
                 "-Wall",
                 "-Werror",
-                "-Wextra",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
                 "-Wno-missing-field-initializers",
                 "-Wno-unused-parameter",
-                "-Wno-c++11-narrowing",
-                "-Wno-covered-switch-default",
-                "-Wno-unneeded-internal-declaration",
-                "-Wno-inconsistent-missing-override",
-                "-Wno-undefined-var-template",
-                "-Wno-nonportable-include-path",
-                "-Wno-address-of-packed-member",
-                "-Wno-unused-lambda-capture",
-                "-Wno-user-defined-warnings",
                 "-O2",
                 "-fno-ident",
                 "-fdata-sections",
@@ -1110,44 +756,19 @@
                 "-fno-omit-frame-pointer",
                 "-g0",
                 "-fvisibility=hidden",
-                "-Xclang",
-                "-load",
-                "-Xclang",
-                "../../../../../../media/webrtc/trunk/webrtc/third_party/llvm-build/Release+Asserts/lib/libFindBadConstructs.so",
-                "-Xclang",
-                "-add-plugin",
-                "-Xclang",
-                "find-bad-constructs",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-auto-raw-pointer",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-ipc",
-                "-Wheader-hygiene",
-                "-Wstring-conversion",
-                "-Wtautological-overlap-compare",
                 "-Wextra",
                 "-Wno-unused-parameter",
                 "-Wno-missing-field-initializers",
-                "-Wno-strict-overflow",
-                "-Wc++11-narrowing",
-                "-Wimplicit-fallthrough",
-                "-Wthread-safety",
-                "-Winconsistent-missing-override",
-                "-Wundef",
-                "-Wunused-lambda-capture"
+                "-Wno-strict-overflow"
             ],
             "defines": [
                 "V8_DEPRECATION_WARNINGS",
                 "USE_NSS_CERTS=1",
-                "USE_X11=1",
                 "NO_TCMALLOC",
                 "DISABLE_NACL",
                 "CHROMIUM_BUILD",
                 "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
                 "NDEBUG",
                 "NVALGRIND",
                 "DYNAMIC_ANNOTATIONS_ENABLED=0",
@@ -1194,23 +815,13 @@
                 "-funwind-tables",
                 "-fPIC",
                 "-pipe",
-                "-fcolor-diagnostics",
-                "--target=aarch64-linux-gnu",
                 "-pthread",
                 "-Wall",
                 "-Werror",
-                "-Wextra",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
                 "-Wno-missing-field-initializers",
                 "-Wno-unused-parameter",
-                "-Wno-c++11-narrowing",
-                "-Wno-covered-switch-default",
-                "-Wno-unneeded-internal-declaration",
-                "-Wno-inconsistent-missing-override",
-                "-Wno-undefined-var-template",
-                "-Wno-nonportable-include-path",
-                "-Wno-address-of-packed-member",
-                "-Wno-unused-lambda-capture",
-                "-Wno-user-defined-warnings",
                 "-O2",
                 "-fno-ident",
                 "-fdata-sections",
@@ -1218,44 +829,19 @@
                 "-fno-omit-frame-pointer",
                 "-g0",
                 "-fvisibility=hidden",
-                "-Xclang",
-                "-load",
-                "-Xclang",
-                "../../../../../../media/webrtc/trunk/webrtc/third_party/llvm-build/Release+Asserts/lib/libFindBadConstructs.so",
-                "-Xclang",
-                "-add-plugin",
-                "-Xclang",
-                "find-bad-constructs",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-auto-raw-pointer",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-ipc",
-                "-Wheader-hygiene",
-                "-Wstring-conversion",
-                "-Wtautological-overlap-compare",
                 "-Wextra",
                 "-Wno-unused-parameter",
                 "-Wno-missing-field-initializers",
-                "-Wno-strict-overflow",
-                "-Wc++11-narrowing",
-                "-Wimplicit-fallthrough",
-                "-Wthread-safety",
-                "-Winconsistent-missing-override",
-                "-Wundef",
-                "-Wunused-lambda-capture"
+                "-Wno-strict-overflow"
             ],
             "defines": [
                 "V8_DEPRECATION_WARNINGS",
                 "USE_NSS_CERTS=1",
-                "USE_X11=1",
                 "NO_TCMALLOC",
                 "DISABLE_NACL",
                 "CHROMIUM_BUILD",
                 "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
                 "NDEBUG",
                 "NVALGRIND",
                 "DYNAMIC_ANNOTATIONS_ENABLED=0",
@@ -1291,23 +877,13 @@
                 "-funwind-tables",
                 "-fPIC",
                 "-pipe",
-                "-fcolor-diagnostics",
-                "--target=aarch64-linux-gnu",
                 "-pthread",
                 "-Wall",
                 "-Werror",
-                "-Wextra",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
                 "-Wno-missing-field-initializers",
                 "-Wno-unused-parameter",
-                "-Wno-c++11-narrowing",
-                "-Wno-covered-switch-default",
-                "-Wno-unneeded-internal-declaration",
-                "-Wno-inconsistent-missing-override",
-                "-Wno-undefined-var-template",
-                "-Wno-nonportable-include-path",
-                "-Wno-address-of-packed-member",
-                "-Wno-unused-lambda-capture",
-                "-Wno-user-defined-warnings",
                 "-O2",
                 "-fno-ident",
                 "-fdata-sections",
@@ -1315,44 +891,19 @@
                 "-fno-omit-frame-pointer",
                 "-g0",
                 "-fvisibility=hidden",
-                "-Xclang",
-                "-load",
-                "-Xclang",
-                "../../../../../../media/webrtc/trunk/webrtc/third_party/llvm-build/Release+Asserts/lib/libFindBadConstructs.so",
-                "-Xclang",
-                "-add-plugin",
-                "-Xclang",
-                "find-bad-constructs",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-auto-raw-pointer",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-ipc",
-                "-Wheader-hygiene",
-                "-Wstring-conversion",
-                "-Wtautological-overlap-compare",
                 "-Wextra",
                 "-Wno-unused-parameter",
                 "-Wno-missing-field-initializers",
-                "-Wno-strict-overflow",
-                "-Wc++11-narrowing",
-                "-Wimplicit-fallthrough",
-                "-Wthread-safety",
-                "-Winconsistent-missing-override",
-                "-Wundef",
-                "-Wunused-lambda-capture"
+                "-Wno-strict-overflow"
             ],
             "defines": [
                 "V8_DEPRECATION_WARNINGS",
                 "USE_NSS_CERTS=1",
-                "USE_X11=1",
                 "NO_TCMALLOC",
                 "DISABLE_NACL",
                 "CHROMIUM_BUILD",
                 "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
                 "NDEBUG",
                 "NVALGRIND",
                 "DYNAMIC_ANNOTATIONS_ENABLED=0",
@@ -1393,23 +944,13 @@
                 "-funwind-tables",
                 "-fPIC",
                 "-pipe",
-                "-fcolor-diagnostics",
-                "--target=aarch64-linux-gnu",
                 "-pthread",
                 "-Wall",
                 "-Werror",
-                "-Wextra",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
                 "-Wno-missing-field-initializers",
                 "-Wno-unused-parameter",
-                "-Wno-c++11-narrowing",
-                "-Wno-covered-switch-default",
-                "-Wno-unneeded-internal-declaration",
-                "-Wno-inconsistent-missing-override",
-                "-Wno-undefined-var-template",
-                "-Wno-nonportable-include-path",
-                "-Wno-address-of-packed-member",
-                "-Wno-unused-lambda-capture",
-                "-Wno-user-defined-warnings",
                 "-O2",
                 "-fno-ident",
                 "-fdata-sections",
@@ -1417,44 +958,19 @@
                 "-fno-omit-frame-pointer",
                 "-g0",
                 "-fvisibility=hidden",
-                "-Xclang",
-                "-load",
-                "-Xclang",
-                "../../../../../../media/webrtc/trunk/webrtc/third_party/llvm-build/Release+Asserts/lib/libFindBadConstructs.so",
-                "-Xclang",
-                "-add-plugin",
-                "-Xclang",
-                "find-bad-constructs",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-auto-raw-pointer",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-ipc",
-                "-Wheader-hygiene",
-                "-Wstring-conversion",
-                "-Wtautological-overlap-compare",
                 "-Wextra",
                 "-Wno-unused-parameter",
                 "-Wno-missing-field-initializers",
-                "-Wno-strict-overflow",
-                "-Wc++11-narrowing",
-                "-Wimplicit-fallthrough",
-                "-Wthread-safety",
-                "-Winconsistent-missing-override",
-                "-Wundef",
-                "-Wunused-lambda-capture"
+                "-Wno-strict-overflow"
             ],
             "defines": [
                 "V8_DEPRECATION_WARNINGS",
                 "USE_NSS_CERTS=1",
-                "USE_X11=1",
                 "NO_TCMALLOC",
                 "DISABLE_NACL",
                 "CHROMIUM_BUILD",
                 "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
                 "NDEBUG",
                 "NVALGRIND",
                 "DYNAMIC_ANNOTATIONS_ENABLED=0",
@@ -1501,23 +1017,13 @@
                 "-funwind-tables",
                 "-fPIC",
                 "-pipe",
-                "-fcolor-diagnostics",
-                "--target=aarch64-linux-gnu",
                 "-pthread",
                 "-Wall",
                 "-Werror",
-                "-Wextra",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
                 "-Wno-missing-field-initializers",
                 "-Wno-unused-parameter",
-                "-Wno-c++11-narrowing",
-                "-Wno-covered-switch-default",
-                "-Wno-unneeded-internal-declaration",
-                "-Wno-inconsistent-missing-override",
-                "-Wno-undefined-var-template",
-                "-Wno-nonportable-include-path",
-                "-Wno-address-of-packed-member",
-                "-Wno-unused-lambda-capture",
-                "-Wno-user-defined-warnings",
                 "-O2",
                 "-fno-ident",
                 "-fdata-sections",
@@ -1525,44 +1031,19 @@
                 "-fno-omit-frame-pointer",
                 "-g0",
                 "-fvisibility=hidden",
-                "-Xclang",
-                "-load",
-                "-Xclang",
-                "../../../../../../media/webrtc/trunk/webrtc/third_party/llvm-build/Release+Asserts/lib/libFindBadConstructs.so",
-                "-Xclang",
-                "-add-plugin",
-                "-Xclang",
-                "find-bad-constructs",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-auto-raw-pointer",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-ipc",
-                "-Wheader-hygiene",
-                "-Wstring-conversion",
-                "-Wtautological-overlap-compare",
                 "-Wextra",
                 "-Wno-unused-parameter",
                 "-Wno-missing-field-initializers",
-                "-Wno-strict-overflow",
-                "-Wc++11-narrowing",
-                "-Wimplicit-fallthrough",
-                "-Wthread-safety",
-                "-Winconsistent-missing-override",
-                "-Wundef",
-                "-Wunused-lambda-capture"
+                "-Wno-strict-overflow"
             ],
             "defines": [
                 "V8_DEPRECATION_WARNINGS",
                 "USE_NSS_CERTS=1",
-                "USE_X11=1",
                 "NO_TCMALLOC",
                 "DISABLE_NACL",
                 "CHROMIUM_BUILD",
                 "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
                 "NDEBUG",
                 "NVALGRIND",
                 "DYNAMIC_ANNOTATIONS_ENABLED=0",
@@ -1603,23 +1084,13 @@
                 "-funwind-tables",
                 "-fPIC",
                 "-pipe",
-                "-fcolor-diagnostics",
-                "--target=aarch64-linux-gnu",
                 "-pthread",
                 "-Wall",
                 "-Werror",
-                "-Wextra",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
                 "-Wno-missing-field-initializers",
                 "-Wno-unused-parameter",
-                "-Wno-c++11-narrowing",
-                "-Wno-covered-switch-default",
-                "-Wno-unneeded-internal-declaration",
-                "-Wno-inconsistent-missing-override",
-                "-Wno-undefined-var-template",
-                "-Wno-nonportable-include-path",
-                "-Wno-address-of-packed-member",
-                "-Wno-unused-lambda-capture",
-                "-Wno-user-defined-warnings",
                 "-O2",
                 "-fno-ident",
                 "-fdata-sections",
@@ -1627,44 +1098,19 @@
                 "-fno-omit-frame-pointer",
                 "-g0",
                 "-fvisibility=hidden",
-                "-Xclang",
-                "-load",
-                "-Xclang",
-                "../../../../../../media/webrtc/trunk/webrtc/third_party/llvm-build/Release+Asserts/lib/libFindBadConstructs.so",
-                "-Xclang",
-                "-add-plugin",
-                "-Xclang",
-                "find-bad-constructs",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-auto-raw-pointer",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-ipc",
-                "-Wheader-hygiene",
-                "-Wstring-conversion",
-                "-Wtautological-overlap-compare",
                 "-Wextra",
                 "-Wno-unused-parameter",
                 "-Wno-missing-field-initializers",
-                "-Wno-strict-overflow",
-                "-Wc++11-narrowing",
-                "-Wimplicit-fallthrough",
-                "-Wthread-safety",
-                "-Winconsistent-missing-override",
-                "-Wundef",
-                "-Wunused-lambda-capture"
+                "-Wno-strict-overflow"
             ],
             "defines": [
                 "V8_DEPRECATION_WARNINGS",
                 "USE_NSS_CERTS=1",
-                "USE_X11=1",
                 "NO_TCMALLOC",
                 "DISABLE_NACL",
                 "CHROMIUM_BUILD",
                 "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
                 "NDEBUG",
                 "NVALGRIND",
                 "DYNAMIC_ANNOTATIONS_ENABLED=0",
@@ -1711,23 +1157,13 @@
                 "-funwind-tables",
                 "-fPIC",
                 "-pipe",
-                "-fcolor-diagnostics",
-                "--target=aarch64-linux-gnu",
                 "-pthread",
                 "-Wall",
                 "-Werror",
-                "-Wextra",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
                 "-Wno-missing-field-initializers",
                 "-Wno-unused-parameter",
-                "-Wno-c++11-narrowing",
-                "-Wno-covered-switch-default",
-                "-Wno-unneeded-internal-declaration",
-                "-Wno-inconsistent-missing-override",
-                "-Wno-undefined-var-template",
-                "-Wno-nonportable-include-path",
-                "-Wno-address-of-packed-member",
-                "-Wno-unused-lambda-capture",
-                "-Wno-user-defined-warnings",
                 "-O2",
                 "-fno-ident",
                 "-fdata-sections",
@@ -1735,44 +1171,19 @@
                 "-fno-omit-frame-pointer",
                 "-g0",
                 "-fvisibility=hidden",
-                "-Xclang",
-                "-load",
-                "-Xclang",
-                "../../../../../../media/webrtc/trunk/webrtc/third_party/llvm-build/Release+Asserts/lib/libFindBadConstructs.so",
-                "-Xclang",
-                "-add-plugin",
-                "-Xclang",
-                "find-bad-constructs",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-auto-raw-pointer",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-ipc",
-                "-Wheader-hygiene",
-                "-Wstring-conversion",
-                "-Wtautological-overlap-compare",
                 "-Wextra",
                 "-Wno-unused-parameter",
                 "-Wno-missing-field-initializers",
-                "-Wno-strict-overflow",
-                "-Wc++11-narrowing",
-                "-Wimplicit-fallthrough",
-                "-Wthread-safety",
-                "-Winconsistent-missing-override",
-                "-Wundef",
-                "-Wunused-lambda-capture"
+                "-Wno-strict-overflow"
             ],
             "defines": [
                 "V8_DEPRECATION_WARNINGS",
                 "USE_NSS_CERTS=1",
-                "USE_X11=1",
                 "NO_TCMALLOC",
                 "DISABLE_NACL",
                 "CHROMIUM_BUILD",
                 "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
                 "NDEBUG",
                 "NVALGRIND",
                 "DYNAMIC_ANNOTATIONS_ENABLED=0",
@@ -1818,23 +1229,13 @@
                 "-funwind-tables",
                 "-fPIC",
                 "-pipe",
-                "-fcolor-diagnostics",
-                "--target=aarch64-linux-gnu",
                 "-pthread",
                 "-Wall",
                 "-Werror",
-                "-Wextra",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
                 "-Wno-missing-field-initializers",
                 "-Wno-unused-parameter",
-                "-Wno-c++11-narrowing",
-                "-Wno-covered-switch-default",
-                "-Wno-unneeded-internal-declaration",
-                "-Wno-inconsistent-missing-override",
-                "-Wno-undefined-var-template",
-                "-Wno-nonportable-include-path",
-                "-Wno-address-of-packed-member",
-                "-Wno-unused-lambda-capture",
-                "-Wno-user-defined-warnings",
                 "-O2",
                 "-fno-ident",
                 "-fdata-sections",
@@ -1842,44 +1243,19 @@
                 "-fno-omit-frame-pointer",
                 "-g0",
                 "-fvisibility=hidden",
-                "-Xclang",
-                "-load",
-                "-Xclang",
-                "../../../../../../media/webrtc/trunk/webrtc/third_party/llvm-build/Release+Asserts/lib/libFindBadConstructs.so",
-                "-Xclang",
-                "-add-plugin",
-                "-Xclang",
-                "find-bad-constructs",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-auto-raw-pointer",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-ipc",
-                "-Wheader-hygiene",
-                "-Wstring-conversion",
-                "-Wtautological-overlap-compare",
                 "-Wextra",
                 "-Wno-unused-parameter",
                 "-Wno-missing-field-initializers",
-                "-Wno-strict-overflow",
-                "-Wc++11-narrowing",
-                "-Wimplicit-fallthrough",
-                "-Wthread-safety",
-                "-Winconsistent-missing-override",
-                "-Wundef",
-                "-Wunused-lambda-capture"
+                "-Wno-strict-overflow"
             ],
             "defines": [
                 "V8_DEPRECATION_WARNINGS",
                 "USE_NSS_CERTS=1",
-                "USE_X11=1",
                 "NO_TCMALLOC",
                 "DISABLE_NACL",
                 "CHROMIUM_BUILD",
                 "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
                 "NDEBUG",
                 "NVALGRIND",
                 "DYNAMIC_ANNOTATIONS_ENABLED=0",
@@ -1925,23 +1301,13 @@
                 "-funwind-tables",
                 "-fPIC",
                 "-pipe",
-                "-fcolor-diagnostics",
-                "--target=aarch64-linux-gnu",
                 "-pthread",
                 "-Wall",
                 "-Werror",
-                "-Wextra",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
                 "-Wno-missing-field-initializers",
                 "-Wno-unused-parameter",
-                "-Wno-c++11-narrowing",
-                "-Wno-covered-switch-default",
-                "-Wno-unneeded-internal-declaration",
-                "-Wno-inconsistent-missing-override",
-                "-Wno-undefined-var-template",
-                "-Wno-nonportable-include-path",
-                "-Wno-address-of-packed-member",
-                "-Wno-unused-lambda-capture",
-                "-Wno-user-defined-warnings",
                 "-O2",
                 "-fno-ident",
                 "-fdata-sections",
@@ -1949,45 +1315,20 @@
                 "-fno-omit-frame-pointer",
                 "-g0",
                 "-fvisibility=hidden",
-                "-Xclang",
-                "-load",
-                "-Xclang",
-                "../../../../../../media/webrtc/trunk/webrtc/third_party/llvm-build/Release+Asserts/lib/libFindBadConstructs.so",
-                "-Xclang",
-                "-add-plugin",
-                "-Xclang",
-                "find-bad-constructs",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-auto-raw-pointer",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-ipc",
-                "-Wheader-hygiene",
-                "-Wstring-conversion",
-                "-Wtautological-overlap-compare",
                 "-Wextra",
                 "-Wno-unused-parameter",
                 "-Wno-missing-field-initializers",
-                "-Wno-strict-overflow",
-                "-Wc++11-narrowing",
-                "-Wimplicit-fallthrough",
-                "-Wthread-safety",
-                "-Winconsistent-missing-override",
-                "-Wundef",
-                "-Wunused-lambda-capture"
+                "-Wno-strict-overflow"
             ],
             "defines": [
                 "WEBRTC_OPUS_VARIABLE_COMPLEXITY=0",
                 "V8_DEPRECATION_WARNINGS",
                 "USE_NSS_CERTS=1",
-                "USE_X11=1",
                 "NO_TCMALLOC",
                 "DISABLE_NACL",
                 "CHROMIUM_BUILD",
                 "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
                 "NDEBUG",
                 "NVALGRIND",
                 "DYNAMIC_ANNOTATIONS_ENABLED=0",
@@ -2028,23 +1369,13 @@
                 "-funwind-tables",
                 "-fPIC",
                 "-pipe",
-                "-fcolor-diagnostics",
-                "--target=aarch64-linux-gnu",
                 "-pthread",
                 "-Wall",
                 "-Werror",
-                "-Wextra",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
                 "-Wno-missing-field-initializers",
                 "-Wno-unused-parameter",
-                "-Wno-c++11-narrowing",
-                "-Wno-covered-switch-default",
-                "-Wno-unneeded-internal-declaration",
-                "-Wno-inconsistent-missing-override",
-                "-Wno-undefined-var-template",
-                "-Wno-nonportable-include-path",
-                "-Wno-address-of-packed-member",
-                "-Wno-unused-lambda-capture",
-                "-Wno-user-defined-warnings",
                 "-O2",
                 "-fno-ident",
                 "-fdata-sections",
@@ -2052,44 +1383,19 @@
                 "-fno-omit-frame-pointer",
                 "-g0",
                 "-fvisibility=hidden",
-                "-Xclang",
-                "-load",
-                "-Xclang",
-                "../../../../../../media/webrtc/trunk/webrtc/third_party/llvm-build/Release+Asserts/lib/libFindBadConstructs.so",
-                "-Xclang",
-                "-add-plugin",
-                "-Xclang",
-                "find-bad-constructs",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-auto-raw-pointer",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-ipc",
-                "-Wheader-hygiene",
-                "-Wstring-conversion",
-                "-Wtautological-overlap-compare",
                 "-Wextra",
                 "-Wno-unused-parameter",
                 "-Wno-missing-field-initializers",
-                "-Wno-strict-overflow",
-                "-Wc++11-narrowing",
-                "-Wimplicit-fallthrough",
-                "-Wthread-safety",
-                "-Winconsistent-missing-override",
-                "-Wundef",
-                "-Wunused-lambda-capture"
+                "-Wno-strict-overflow"
             ],
             "defines": [
                 "V8_DEPRECATION_WARNINGS",
                 "USE_NSS_CERTS=1",
-                "USE_X11=1",
                 "NO_TCMALLOC",
                 "DISABLE_NACL",
                 "CHROMIUM_BUILD",
                 "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
                 "NDEBUG",
                 "NVALGRIND",
                 "DYNAMIC_ANNOTATIONS_ENABLED=0",
@@ -2139,23 +1445,13 @@
                 "-funwind-tables",
                 "-fPIC",
                 "-pipe",
-                "-fcolor-diagnostics",
-                "--target=aarch64-linux-gnu",
                 "-pthread",
                 "-Wall",
                 "-Werror",
-                "-Wextra",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
                 "-Wno-missing-field-initializers",
                 "-Wno-unused-parameter",
-                "-Wno-c++11-narrowing",
-                "-Wno-covered-switch-default",
-                "-Wno-unneeded-internal-declaration",
-                "-Wno-inconsistent-missing-override",
-                "-Wno-undefined-var-template",
-                "-Wno-nonportable-include-path",
-                "-Wno-address-of-packed-member",
-                "-Wno-unused-lambda-capture",
-                "-Wno-user-defined-warnings",
                 "-O2",
                 "-fno-ident",
                 "-fdata-sections",
@@ -2163,46 +1459,21 @@
                 "-fno-omit-frame-pointer",
                 "-g0",
                 "-fvisibility=hidden",
-                "-Xclang",
-                "-load",
-                "-Xclang",
-                "../../../../../../media/webrtc/trunk/webrtc/third_party/llvm-build/Release+Asserts/lib/libFindBadConstructs.so",
-                "-Xclang",
-                "-add-plugin",
-                "-Xclang",
-                "find-bad-constructs",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-auto-raw-pointer",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-ipc",
-                "-Wheader-hygiene",
-                "-Wstring-conversion",
-                "-Wtautological-overlap-compare",
                 "-Wextra",
                 "-Wno-unused-parameter",
                 "-Wno-missing-field-initializers",
-                "-Wno-strict-overflow",
-                "-Wc++11-narrowing",
-                "-Wimplicit-fallthrough",
-                "-Wthread-safety",
-                "-Winconsistent-missing-override",
-                "-Wundef",
-                "-Wunused-lambda-capture"
+                "-Wno-strict-overflow"
             ],
             "defines": [
                 "WEBRTC_USE_BUILTIN_ILBC=1",
                 "WEBRTC_USE_BUILTIN_OPUS=1",
                 "V8_DEPRECATION_WARNINGS",
                 "USE_NSS_CERTS=1",
-                "USE_X11=1",
                 "NO_TCMALLOC",
                 "DISABLE_NACL",
                 "CHROMIUM_BUILD",
                 "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
                 "NDEBUG",
                 "NVALGRIND",
                 "DYNAMIC_ANNOTATIONS_ENABLED=0",
@@ -2253,23 +1524,13 @@
                 "-funwind-tables",
                 "-fPIC",
                 "-pipe",
-                "-fcolor-diagnostics",
-                "--target=aarch64-linux-gnu",
                 "-pthread",
                 "-Wall",
                 "-Werror",
-                "-Wextra",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
                 "-Wno-missing-field-initializers",
                 "-Wno-unused-parameter",
-                "-Wno-c++11-narrowing",
-                "-Wno-covered-switch-default",
-                "-Wno-unneeded-internal-declaration",
-                "-Wno-inconsistent-missing-override",
-                "-Wno-undefined-var-template",
-                "-Wno-nonportable-include-path",
-                "-Wno-address-of-packed-member",
-                "-Wno-unused-lambda-capture",
-                "-Wno-user-defined-warnings",
                 "-O2",
                 "-fno-ident",
                 "-fdata-sections",
@@ -2277,46 +1538,21 @@
                 "-fno-omit-frame-pointer",
                 "-g0",
                 "-fvisibility=hidden",
-                "-Xclang",
-                "-load",
-                "-Xclang",
-                "../../../../../../media/webrtc/trunk/webrtc/third_party/llvm-build/Release+Asserts/lib/libFindBadConstructs.so",
-                "-Xclang",
-                "-add-plugin",
-                "-Xclang",
-                "find-bad-constructs",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-auto-raw-pointer",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-ipc",
-                "-Wheader-hygiene",
-                "-Wstring-conversion",
-                "-Wtautological-overlap-compare",
                 "-Wextra",
                 "-Wno-unused-parameter",
                 "-Wno-missing-field-initializers",
-                "-Wno-strict-overflow",
-                "-Wc++11-narrowing",
-                "-Wimplicit-fallthrough",
-                "-Wthread-safety",
-                "-Winconsistent-missing-override",
-                "-Wundef",
-                "-Wunused-lambda-capture"
+                "-Wno-strict-overflow"
             ],
             "defines": [
                 "WEBRTC_USE_BUILTIN_ILBC=1",
                 "WEBRTC_USE_BUILTIN_OPUS=1",
                 "V8_DEPRECATION_WARNINGS",
                 "USE_NSS_CERTS=1",
-                "USE_X11=1",
                 "NO_TCMALLOC",
                 "DISABLE_NACL",
                 "CHROMIUM_BUILD",
                 "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
                 "NDEBUG",
                 "NVALGRIND",
                 "DYNAMIC_ANNOTATIONS_ENABLED=0",
@@ -2367,23 +1603,13 @@
                 "-funwind-tables",
                 "-fPIC",
                 "-pipe",
-                "-fcolor-diagnostics",
-                "--target=aarch64-linux-gnu",
                 "-pthread",
                 "-Wall",
                 "-Werror",
-                "-Wextra",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
                 "-Wno-missing-field-initializers",
                 "-Wno-unused-parameter",
-                "-Wno-c++11-narrowing",
-                "-Wno-covered-switch-default",
-                "-Wno-unneeded-internal-declaration",
-                "-Wno-inconsistent-missing-override",
-                "-Wno-undefined-var-template",
-                "-Wno-nonportable-include-path",
-                "-Wno-address-of-packed-member",
-                "-Wno-unused-lambda-capture",
-                "-Wno-user-defined-warnings",
                 "-O2",
                 "-fno-ident",
                 "-fdata-sections",
@@ -2391,44 +1617,19 @@
                 "-fno-omit-frame-pointer",
                 "-g0",
                 "-fvisibility=hidden",
-                "-Xclang",
-                "-load",
-                "-Xclang",
-                "../../../../../../media/webrtc/trunk/webrtc/third_party/llvm-build/Release+Asserts/lib/libFindBadConstructs.so",
-                "-Xclang",
-                "-add-plugin",
-                "-Xclang",
-                "find-bad-constructs",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-auto-raw-pointer",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-ipc",
-                "-Wheader-hygiene",
-                "-Wstring-conversion",
-                "-Wtautological-overlap-compare",
                 "-Wextra",
                 "-Wno-unused-parameter",
                 "-Wno-missing-field-initializers",
-                "-Wno-strict-overflow",
-                "-Wc++11-narrowing",
-                "-Wimplicit-fallthrough",
-                "-Wthread-safety",
-                "-Winconsistent-missing-override",
-                "-Wundef",
-                "-Wunused-lambda-capture"
+                "-Wno-strict-overflow"
             ],
             "defines": [
                 "V8_DEPRECATION_WARNINGS",
                 "USE_NSS_CERTS=1",
-                "USE_X11=1",
                 "NO_TCMALLOC",
                 "DISABLE_NACL",
                 "CHROMIUM_BUILD",
                 "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
                 "NDEBUG",
                 "NVALGRIND",
                 "DYNAMIC_ANNOTATIONS_ENABLED=0",
@@ -2479,23 +1680,13 @@
                 "-funwind-tables",
                 "-fPIC",
                 "-pipe",
-                "-fcolor-diagnostics",
-                "--target=aarch64-linux-gnu",
                 "-pthread",
                 "-Wall",
                 "-Werror",
-                "-Wextra",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
                 "-Wno-missing-field-initializers",
                 "-Wno-unused-parameter",
-                "-Wno-c++11-narrowing",
-                "-Wno-covered-switch-default",
-                "-Wno-unneeded-internal-declaration",
-                "-Wno-inconsistent-missing-override",
-                "-Wno-undefined-var-template",
-                "-Wno-nonportable-include-path",
-                "-Wno-address-of-packed-member",
-                "-Wno-unused-lambda-capture",
-                "-Wno-user-defined-warnings",
                 "-O2",
                 "-fno-ident",
                 "-fdata-sections",
@@ -2503,44 +1694,19 @@
                 "-fno-omit-frame-pointer",
                 "-g0",
                 "-fvisibility=hidden",
-                "-Xclang",
-                "-load",
-                "-Xclang",
-                "../../../../../../media/webrtc/trunk/webrtc/third_party/llvm-build/Release+Asserts/lib/libFindBadConstructs.so",
-                "-Xclang",
-                "-add-plugin",
-                "-Xclang",
-                "find-bad-constructs",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-auto-raw-pointer",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-ipc",
-                "-Wheader-hygiene",
-                "-Wstring-conversion",
-                "-Wtautological-overlap-compare",
                 "-Wextra",
                 "-Wno-unused-parameter",
                 "-Wno-missing-field-initializers",
-                "-Wno-strict-overflow",
-                "-Wc++11-narrowing",
-                "-Wimplicit-fallthrough",
-                "-Wthread-safety",
-                "-Winconsistent-missing-override",
-                "-Wundef",
-                "-Wunused-lambda-capture"
+                "-Wno-strict-overflow"
             ],
             "defines": [
                 "V8_DEPRECATION_WARNINGS",
                 "USE_NSS_CERTS=1",
-                "USE_X11=1",
                 "NO_TCMALLOC",
                 "DISABLE_NACL",
                 "CHROMIUM_BUILD",
                 "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
                 "NDEBUG",
                 "NVALGRIND",
                 "DYNAMIC_ANNOTATIONS_ENABLED=0",
@@ -2578,23 +1744,13 @@
                 "-funwind-tables",
                 "-fPIC",
                 "-pipe",
-                "-fcolor-diagnostics",
-                "--target=aarch64-linux-gnu",
                 "-pthread",
                 "-Wall",
                 "-Werror",
-                "-Wextra",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
                 "-Wno-missing-field-initializers",
                 "-Wno-unused-parameter",
-                "-Wno-c++11-narrowing",
-                "-Wno-covered-switch-default",
-                "-Wno-unneeded-internal-declaration",
-                "-Wno-inconsistent-missing-override",
-                "-Wno-undefined-var-template",
-                "-Wno-nonportable-include-path",
-                "-Wno-address-of-packed-member",
-                "-Wno-unused-lambda-capture",
-                "-Wno-user-defined-warnings",
                 "-O2",
                 "-fno-ident",
                 "-fdata-sections",
@@ -2602,44 +1758,19 @@
                 "-fno-omit-frame-pointer",
                 "-g0",
                 "-fvisibility=hidden",
-                "-Xclang",
-                "-load",
-                "-Xclang",
-                "../../../../../../media/webrtc/trunk/webrtc/third_party/llvm-build/Release+Asserts/lib/libFindBadConstructs.so",
-                "-Xclang",
-                "-add-plugin",
-                "-Xclang",
-                "find-bad-constructs",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-auto-raw-pointer",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-ipc",
-                "-Wheader-hygiene",
-                "-Wstring-conversion",
-                "-Wtautological-overlap-compare",
                 "-Wextra",
                 "-Wno-unused-parameter",
                 "-Wno-missing-field-initializers",
-                "-Wno-strict-overflow",
-                "-Wc++11-narrowing",
-                "-Wimplicit-fallthrough",
-                "-Wthread-safety",
-                "-Winconsistent-missing-override",
-                "-Wundef",
-                "-Wunused-lambda-capture"
+                "-Wno-strict-overflow"
             ],
             "defines": [
                 "V8_DEPRECATION_WARNINGS",
                 "USE_NSS_CERTS=1",
-                "USE_X11=1",
                 "NO_TCMALLOC",
                 "DISABLE_NACL",
                 "CHROMIUM_BUILD",
                 "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
                 "NDEBUG",
                 "NVALGRIND",
                 "DYNAMIC_ANNOTATIONS_ENABLED=0",
@@ -2680,23 +1811,13 @@
                 "-funwind-tables",
                 "-fPIC",
                 "-pipe",
-                "-fcolor-diagnostics",
-                "--target=aarch64-linux-gnu",
                 "-pthread",
                 "-Wall",
                 "-Werror",
-                "-Wextra",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
                 "-Wno-missing-field-initializers",
                 "-Wno-unused-parameter",
-                "-Wno-c++11-narrowing",
-                "-Wno-covered-switch-default",
-                "-Wno-unneeded-internal-declaration",
-                "-Wno-inconsistent-missing-override",
-                "-Wno-undefined-var-template",
-                "-Wno-nonportable-include-path",
-                "-Wno-address-of-packed-member",
-                "-Wno-unused-lambda-capture",
-                "-Wno-user-defined-warnings",
                 "-O2",
                 "-fno-ident",
                 "-fdata-sections",
@@ -2704,44 +1825,19 @@
                 "-fno-omit-frame-pointer",
                 "-g0",
                 "-fvisibility=hidden",
-                "-Xclang",
-                "-load",
-                "-Xclang",
-                "../../../../../../media/webrtc/trunk/webrtc/third_party/llvm-build/Release+Asserts/lib/libFindBadConstructs.so",
-                "-Xclang",
-                "-add-plugin",
-                "-Xclang",
-                "find-bad-constructs",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-auto-raw-pointer",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-ipc",
-                "-Wheader-hygiene",
-                "-Wstring-conversion",
-                "-Wtautological-overlap-compare",
                 "-Wextra",
                 "-Wno-unused-parameter",
                 "-Wno-missing-field-initializers",
-                "-Wno-strict-overflow",
-                "-Wc++11-narrowing",
-                "-Wimplicit-fallthrough",
-                "-Wthread-safety",
-                "-Winconsistent-missing-override",
-                "-Wundef",
-                "-Wunused-lambda-capture"
+                "-Wno-strict-overflow"
             ],
             "defines": [
                 "V8_DEPRECATION_WARNINGS",
                 "USE_NSS_CERTS=1",
-                "USE_X11=1",
                 "NO_TCMALLOC",
                 "DISABLE_NACL",
                 "CHROMIUM_BUILD",
                 "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
                 "NDEBUG",
                 "NVALGRIND",
                 "DYNAMIC_ANNOTATIONS_ENABLED=0",
@@ -2778,23 +1874,13 @@
                 "-funwind-tables",
                 "-fPIC",
                 "-pipe",
-                "-fcolor-diagnostics",
-                "--target=aarch64-linux-gnu",
                 "-pthread",
                 "-Wall",
                 "-Werror",
-                "-Wextra",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
                 "-Wno-missing-field-initializers",
                 "-Wno-unused-parameter",
-                "-Wno-c++11-narrowing",
-                "-Wno-covered-switch-default",
-                "-Wno-unneeded-internal-declaration",
-                "-Wno-inconsistent-missing-override",
-                "-Wno-undefined-var-template",
-                "-Wno-nonportable-include-path",
-                "-Wno-address-of-packed-member",
-                "-Wno-unused-lambda-capture",
-                "-Wno-user-defined-warnings",
                 "-O2",
                 "-fno-ident",
                 "-fdata-sections",
@@ -2802,44 +1888,19 @@
                 "-fno-omit-frame-pointer",
                 "-g0",
                 "-fvisibility=hidden",
-                "-Xclang",
-                "-load",
-                "-Xclang",
-                "../../../../../../media/webrtc/trunk/webrtc/third_party/llvm-build/Release+Asserts/lib/libFindBadConstructs.so",
-                "-Xclang",
-                "-add-plugin",
-                "-Xclang",
-                "find-bad-constructs",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-auto-raw-pointer",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-ipc",
-                "-Wheader-hygiene",
-                "-Wstring-conversion",
-                "-Wtautological-overlap-compare",
                 "-Wextra",
                 "-Wno-unused-parameter",
                 "-Wno-missing-field-initializers",
-                "-Wno-strict-overflow",
-                "-Wc++11-narrowing",
-                "-Wimplicit-fallthrough",
-                "-Wthread-safety",
-                "-Winconsistent-missing-override",
-                "-Wundef",
-                "-Wunused-lambda-capture"
+                "-Wno-strict-overflow"
             ],
             "defines": [
                 "V8_DEPRECATION_WARNINGS",
                 "USE_NSS_CERTS=1",
-                "USE_X11=1",
                 "NO_TCMALLOC",
                 "DISABLE_NACL",
                 "CHROMIUM_BUILD",
                 "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
                 "NDEBUG",
                 "NVALGRIND",
                 "DYNAMIC_ANNOTATIONS_ENABLED=0",
@@ -2883,23 +1944,13 @@
                 "-funwind-tables",
                 "-fPIC",
                 "-pipe",
-                "-fcolor-diagnostics",
-                "--target=aarch64-linux-gnu",
                 "-pthread",
                 "-Wall",
                 "-Werror",
-                "-Wextra",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
                 "-Wno-missing-field-initializers",
                 "-Wno-unused-parameter",
-                "-Wno-c++11-narrowing",
-                "-Wno-covered-switch-default",
-                "-Wno-unneeded-internal-declaration",
-                "-Wno-inconsistent-missing-override",
-                "-Wno-undefined-var-template",
-                "-Wno-nonportable-include-path",
-                "-Wno-address-of-packed-member",
-                "-Wno-unused-lambda-capture",
-                "-Wno-user-defined-warnings",
                 "-O2",
                 "-fno-ident",
                 "-fdata-sections",
@@ -2907,44 +1958,19 @@
                 "-fno-omit-frame-pointer",
                 "-g0",
                 "-fvisibility=hidden",
-                "-Xclang",
-                "-load",
-                "-Xclang",
-                "../../../../../../media/webrtc/trunk/webrtc/third_party/llvm-build/Release+Asserts/lib/libFindBadConstructs.so",
-                "-Xclang",
-                "-add-plugin",
-                "-Xclang",
-                "find-bad-constructs",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-auto-raw-pointer",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-ipc",
-                "-Wheader-hygiene",
-                "-Wstring-conversion",
-                "-Wtautological-overlap-compare",
                 "-Wextra",
                 "-Wno-unused-parameter",
                 "-Wno-missing-field-initializers",
-                "-Wno-strict-overflow",
-                "-Wc++11-narrowing",
-                "-Wimplicit-fallthrough",
-                "-Wthread-safety",
-                "-Winconsistent-missing-override",
-                "-Wundef",
-                "-Wunused-lambda-capture"
+                "-Wno-strict-overflow"
             ],
             "defines": [
                 "V8_DEPRECATION_WARNINGS",
                 "USE_NSS_CERTS=1",
-                "USE_X11=1",
                 "NO_TCMALLOC",
                 "DISABLE_NACL",
                 "CHROMIUM_BUILD",
                 "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
                 "NDEBUG",
                 "NVALGRIND",
                 "DYNAMIC_ANNOTATIONS_ENABLED=0",
@@ -2984,23 +2010,13 @@
                 "-funwind-tables",
                 "-fPIC",
                 "-pipe",
-                "-fcolor-diagnostics",
-                "--target=aarch64-linux-gnu",
                 "-pthread",
                 "-Wall",
                 "-Werror",
-                "-Wextra",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
                 "-Wno-missing-field-initializers",
                 "-Wno-unused-parameter",
-                "-Wno-c++11-narrowing",
-                "-Wno-covered-switch-default",
-                "-Wno-unneeded-internal-declaration",
-                "-Wno-inconsistent-missing-override",
-                "-Wno-undefined-var-template",
-                "-Wno-nonportable-include-path",
-                "-Wno-address-of-packed-member",
-                "-Wno-unused-lambda-capture",
-                "-Wno-user-defined-warnings",
                 "-O2",
                 "-fno-ident",
                 "-fdata-sections",
@@ -3008,44 +2024,19 @@
                 "-fno-omit-frame-pointer",
                 "-g0",
                 "-fvisibility=hidden",
-                "-Xclang",
-                "-load",
-                "-Xclang",
-                "../../../../../../media/webrtc/trunk/webrtc/third_party/llvm-build/Release+Asserts/lib/libFindBadConstructs.so",
-                "-Xclang",
-                "-add-plugin",
-                "-Xclang",
-                "find-bad-constructs",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-auto-raw-pointer",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-ipc",
-                "-Wheader-hygiene",
-                "-Wstring-conversion",
-                "-Wtautological-overlap-compare",
                 "-Wextra",
                 "-Wno-unused-parameter",
                 "-Wno-missing-field-initializers",
-                "-Wno-strict-overflow",
-                "-Wc++11-narrowing",
-                "-Wimplicit-fallthrough",
-                "-Wthread-safety",
-                "-Winconsistent-missing-override",
-                "-Wundef",
-                "-Wunused-lambda-capture"
+                "-Wno-strict-overflow"
             ],
             "defines": [
                 "V8_DEPRECATION_WARNINGS",
                 "USE_NSS_CERTS=1",
-                "USE_X11=1",
                 "NO_TCMALLOC",
                 "DISABLE_NACL",
                 "CHROMIUM_BUILD",
                 "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
                 "NDEBUG",
                 "NVALGRIND",
                 "DYNAMIC_ANNOTATIONS_ENABLED=0",
@@ -3083,23 +2074,13 @@
                 "-funwind-tables",
                 "-fPIC",
                 "-pipe",
-                "-fcolor-diagnostics",
-                "--target=aarch64-linux-gnu",
                 "-pthread",
                 "-Wall",
                 "-Werror",
-                "-Wextra",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
                 "-Wno-missing-field-initializers",
                 "-Wno-unused-parameter",
-                "-Wno-c++11-narrowing",
-                "-Wno-covered-switch-default",
-                "-Wno-unneeded-internal-declaration",
-                "-Wno-inconsistent-missing-override",
-                "-Wno-undefined-var-template",
-                "-Wno-nonportable-include-path",
-                "-Wno-address-of-packed-member",
-                "-Wno-unused-lambda-capture",
-                "-Wno-user-defined-warnings",
                 "-O2",
                 "-fno-ident",
                 "-fdata-sections",
@@ -3107,44 +2088,19 @@
                 "-fno-omit-frame-pointer",
                 "-g0",
                 "-fvisibility=hidden",
-                "-Xclang",
-                "-load",
-                "-Xclang",
-                "../../../../../../media/webrtc/trunk/webrtc/third_party/llvm-build/Release+Asserts/lib/libFindBadConstructs.so",
-                "-Xclang",
-                "-add-plugin",
-                "-Xclang",
-                "find-bad-constructs",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-auto-raw-pointer",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-ipc",
-                "-Wheader-hygiene",
-                "-Wstring-conversion",
-                "-Wtautological-overlap-compare",
                 "-Wextra",
                 "-Wno-unused-parameter",
                 "-Wno-missing-field-initializers",
-                "-Wno-strict-overflow",
-                "-Wc++11-narrowing",
-                "-Wimplicit-fallthrough",
-                "-Wthread-safety",
-                "-Winconsistent-missing-override",
-                "-Wundef",
-                "-Wunused-lambda-capture"
+                "-Wno-strict-overflow"
             ],
             "defines": [
                 "V8_DEPRECATION_WARNINGS",
                 "USE_NSS_CERTS=1",
-                "USE_X11=1",
                 "NO_TCMALLOC",
                 "DISABLE_NACL",
                 "CHROMIUM_BUILD",
                 "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
                 "NDEBUG",
                 "NVALGRIND",
                 "DYNAMIC_ANNOTATIONS_ENABLED=0",
@@ -3180,23 +2136,13 @@
                 "-funwind-tables",
                 "-fPIC",
                 "-pipe",
-                "-fcolor-diagnostics",
-                "--target=aarch64-linux-gnu",
                 "-pthread",
                 "-Wall",
                 "-Werror",
-                "-Wextra",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
                 "-Wno-missing-field-initializers",
                 "-Wno-unused-parameter",
-                "-Wno-c++11-narrowing",
-                "-Wno-covered-switch-default",
-                "-Wno-unneeded-internal-declaration",
-                "-Wno-inconsistent-missing-override",
-                "-Wno-undefined-var-template",
-                "-Wno-nonportable-include-path",
-                "-Wno-address-of-packed-member",
-                "-Wno-unused-lambda-capture",
-                "-Wno-user-defined-warnings",
                 "-O2",
                 "-fno-ident",
                 "-fdata-sections",
@@ -3204,44 +2150,19 @@
                 "-fno-omit-frame-pointer",
                 "-g0",
                 "-fvisibility=hidden",
-                "-Xclang",
-                "-load",
-                "-Xclang",
-                "../../../../../../media/webrtc/trunk/webrtc/third_party/llvm-build/Release+Asserts/lib/libFindBadConstructs.so",
-                "-Xclang",
-                "-add-plugin",
-                "-Xclang",
-                "find-bad-constructs",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-auto-raw-pointer",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-ipc",
-                "-Wheader-hygiene",
-                "-Wstring-conversion",
-                "-Wtautological-overlap-compare",
                 "-Wextra",
                 "-Wno-unused-parameter",
                 "-Wno-missing-field-initializers",
-                "-Wno-strict-overflow",
-                "-Wc++11-narrowing",
-                "-Wimplicit-fallthrough",
-                "-Wthread-safety",
-                "-Winconsistent-missing-override",
-                "-Wundef",
-                "-Wunused-lambda-capture"
+                "-Wno-strict-overflow"
             ],
             "defines": [
                 "V8_DEPRECATION_WARNINGS",
                 "USE_NSS_CERTS=1",
-                "USE_X11=1",
                 "NO_TCMALLOC",
                 "DISABLE_NACL",
                 "CHROMIUM_BUILD",
                 "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
                 "NDEBUG",
                 "NVALGRIND",
                 "DYNAMIC_ANNOTATIONS_ENABLED=0",
@@ -3288,23 +2209,13 @@
                 "-funwind-tables",
                 "-fPIC",
                 "-pipe",
-                "-fcolor-diagnostics",
-                "--target=aarch64-linux-gnu",
                 "-pthread",
                 "-Wall",
                 "-Werror",
-                "-Wextra",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
                 "-Wno-missing-field-initializers",
                 "-Wno-unused-parameter",
-                "-Wno-c++11-narrowing",
-                "-Wno-covered-switch-default",
-                "-Wno-unneeded-internal-declaration",
-                "-Wno-inconsistent-missing-override",
-                "-Wno-undefined-var-template",
-                "-Wno-nonportable-include-path",
-                "-Wno-address-of-packed-member",
-                "-Wno-unused-lambda-capture",
-                "-Wno-user-defined-warnings",
                 "-O2",
                 "-fno-ident",
                 "-fdata-sections",
@@ -3312,44 +2223,19 @@
                 "-fno-omit-frame-pointer",
                 "-g0",
                 "-fvisibility=hidden",
-                "-Xclang",
-                "-load",
-                "-Xclang",
-                "../../../../../../media/webrtc/trunk/webrtc/third_party/llvm-build/Release+Asserts/lib/libFindBadConstructs.so",
-                "-Xclang",
-                "-add-plugin",
-                "-Xclang",
-                "find-bad-constructs",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-auto-raw-pointer",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-ipc",
-                "-Wheader-hygiene",
-                "-Wstring-conversion",
-                "-Wtautological-overlap-compare",
                 "-Wextra",
                 "-Wno-unused-parameter",
                 "-Wno-missing-field-initializers",
-                "-Wno-strict-overflow",
-                "-Wc++11-narrowing",
-                "-Wimplicit-fallthrough",
-                "-Wthread-safety",
-                "-Winconsistent-missing-override",
-                "-Wundef",
-                "-Wunused-lambda-capture"
+                "-Wno-strict-overflow"
             ],
             "defines": [
                 "V8_DEPRECATION_WARNINGS",
                 "USE_NSS_CERTS=1",
-                "USE_X11=1",
                 "NO_TCMALLOC",
                 "DISABLE_NACL",
                 "CHROMIUM_BUILD",
                 "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
                 "NDEBUG",
                 "NVALGRIND",
                 "DYNAMIC_ANNOTATIONS_ENABLED=0",
@@ -3393,23 +2279,13 @@
                 "-funwind-tables",
                 "-fPIC",
                 "-pipe",
-                "-fcolor-diagnostics",
-                "--target=aarch64-linux-gnu",
                 "-pthread",
                 "-Wall",
                 "-Werror",
-                "-Wextra",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
                 "-Wno-missing-field-initializers",
                 "-Wno-unused-parameter",
-                "-Wno-c++11-narrowing",
-                "-Wno-covered-switch-default",
-                "-Wno-unneeded-internal-declaration",
-                "-Wno-inconsistent-missing-override",
-                "-Wno-undefined-var-template",
-                "-Wno-nonportable-include-path",
-                "-Wno-address-of-packed-member",
-                "-Wno-unused-lambda-capture",
-                "-Wno-user-defined-warnings",
                 "-O2",
                 "-fno-ident",
                 "-fdata-sections",
@@ -3417,44 +2293,19 @@
                 "-fno-omit-frame-pointer",
                 "-g0",
                 "-fvisibility=hidden",
-                "-Xclang",
-                "-load",
-                "-Xclang",
-                "../../../../../../media/webrtc/trunk/webrtc/third_party/llvm-build/Release+Asserts/lib/libFindBadConstructs.so",
-                "-Xclang",
-                "-add-plugin",
-                "-Xclang",
-                "find-bad-constructs",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-auto-raw-pointer",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-ipc",
-                "-Wheader-hygiene",
-                "-Wstring-conversion",
-                "-Wtautological-overlap-compare",
                 "-Wextra",
                 "-Wno-unused-parameter",
                 "-Wno-missing-field-initializers",
-                "-Wno-strict-overflow",
-                "-Wc++11-narrowing",
-                "-Wimplicit-fallthrough",
-                "-Wthread-safety",
-                "-Winconsistent-missing-override",
-                "-Wundef",
-                "-Wunused-lambda-capture"
+                "-Wno-strict-overflow"
             ],
             "defines": [
                 "V8_DEPRECATION_WARNINGS",
                 "USE_NSS_CERTS=1",
-                "USE_X11=1",
                 "NO_TCMALLOC",
                 "DISABLE_NACL",
                 "CHROMIUM_BUILD",
                 "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
                 "NDEBUG",
                 "NVALGRIND",
                 "DYNAMIC_ANNOTATIONS_ENABLED=0",
@@ -3498,23 +2349,13 @@
                 "-funwind-tables",
                 "-fPIC",
                 "-pipe",
-                "-fcolor-diagnostics",
-                "--target=aarch64-linux-gnu",
                 "-pthread",
                 "-Wall",
                 "-Werror",
-                "-Wextra",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
                 "-Wno-missing-field-initializers",
                 "-Wno-unused-parameter",
-                "-Wno-c++11-narrowing",
-                "-Wno-covered-switch-default",
-                "-Wno-unneeded-internal-declaration",
-                "-Wno-inconsistent-missing-override",
-                "-Wno-undefined-var-template",
-                "-Wno-nonportable-include-path",
-                "-Wno-address-of-packed-member",
-                "-Wno-unused-lambda-capture",
-                "-Wno-user-defined-warnings",
                 "-O2",
                 "-fno-ident",
                 "-fdata-sections",
@@ -3522,28 +2363,19 @@
                 "-fno-omit-frame-pointer",
                 "-g0",
                 "-fvisibility=hidden",
-                "-Wheader-hygiene",
-                "-Wstring-conversion",
-                "-Wtautological-overlap-compare",
                 "-Wextra",
                 "-Wno-unused-parameter",
                 "-Wno-missing-field-initializers",
-                "-Wno-strict-overflow",
-                "-Wc++11-narrowing",
-                "-Wimplicit-fallthrough",
-                "-Wthread-safety",
-                "-Winconsistent-missing-override",
-                "-Wundef",
-                "-Wunused-lambda-capture"
+                "-Wno-strict-overflow"
             ],
             "defines": [
                 "V8_DEPRECATION_WARNINGS",
                 "USE_NSS_CERTS=1",
-                "USE_X11=1",
                 "NO_TCMALLOC",
                 "DISABLE_NACL",
                 "CHROMIUM_BUILD",
                 "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
                 "NDEBUG",
                 "NVALGRIND",
                 "DYNAMIC_ANNOTATIONS_ENABLED=0",
@@ -3628,23 +2460,13 @@
                 "-funwind-tables",
                 "-fPIC",
                 "-pipe",
-                "-fcolor-diagnostics",
-                "--target=aarch64-linux-gnu",
                 "-pthread",
                 "-Wall",
                 "-Werror",
-                "-Wextra",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
                 "-Wno-missing-field-initializers",
                 "-Wno-unused-parameter",
-                "-Wno-c++11-narrowing",
-                "-Wno-covered-switch-default",
-                "-Wno-unneeded-internal-declaration",
-                "-Wno-inconsistent-missing-override",
-                "-Wno-undefined-var-template",
-                "-Wno-nonportable-include-path",
-                "-Wno-address-of-packed-member",
-                "-Wno-unused-lambda-capture",
-                "-Wno-user-defined-warnings",
                 "-O2",
                 "-fno-ident",
                 "-fdata-sections",
@@ -3652,28 +2474,19 @@
                 "-fno-omit-frame-pointer",
                 "-g0",
                 "-fvisibility=hidden",
-                "-Wheader-hygiene",
-                "-Wstring-conversion",
-                "-Wtautological-overlap-compare",
                 "-Wextra",
                 "-Wno-unused-parameter",
                 "-Wno-missing-field-initializers",
-                "-Wno-strict-overflow",
-                "-Wc++11-narrowing",
-                "-Wimplicit-fallthrough",
-                "-Wthread-safety",
-                "-Winconsistent-missing-override",
-                "-Wundef",
-                "-Wunused-lambda-capture"
+                "-Wno-strict-overflow"
             ],
             "defines": [
                 "V8_DEPRECATION_WARNINGS",
                 "USE_NSS_CERTS=1",
-                "USE_X11=1",
                 "NO_TCMALLOC",
                 "DISABLE_NACL",
                 "CHROMIUM_BUILD",
                 "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
                 "NDEBUG",
                 "NVALGRIND",
                 "DYNAMIC_ANNOTATIONS_ENABLED=0",
@@ -3717,23 +2530,13 @@
                 "-funwind-tables",
                 "-fPIC",
                 "-pipe",
-                "-fcolor-diagnostics",
-                "--target=aarch64-linux-gnu",
                 "-pthread",
                 "-Wall",
                 "-Werror",
-                "-Wextra",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
                 "-Wno-missing-field-initializers",
                 "-Wno-unused-parameter",
-                "-Wno-c++11-narrowing",
-                "-Wno-covered-switch-default",
-                "-Wno-unneeded-internal-declaration",
-                "-Wno-inconsistent-missing-override",
-                "-Wno-undefined-var-template",
-                "-Wno-nonportable-include-path",
-                "-Wno-address-of-packed-member",
-                "-Wno-unused-lambda-capture",
-                "-Wno-user-defined-warnings",
                 "-O2",
                 "-fno-ident",
                 "-fdata-sections",
@@ -3741,28 +2544,19 @@
                 "-fno-omit-frame-pointer",
                 "-g0",
                 "-fvisibility=hidden",
-                "-Wheader-hygiene",
-                "-Wstring-conversion",
-                "-Wtautological-overlap-compare",
                 "-Wextra",
                 "-Wno-unused-parameter",
                 "-Wno-missing-field-initializers",
-                "-Wno-strict-overflow",
-                "-Wc++11-narrowing",
-                "-Wimplicit-fallthrough",
-                "-Wthread-safety",
-                "-Winconsistent-missing-override",
-                "-Wundef",
-                "-Wunused-lambda-capture"
+                "-Wno-strict-overflow"
             ],
             "defines": [
                 "V8_DEPRECATION_WARNINGS",
                 "USE_NSS_CERTS=1",
-                "USE_X11=1",
                 "NO_TCMALLOC",
                 "DISABLE_NACL",
                 "CHROMIUM_BUILD",
                 "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
                 "NDEBUG",
                 "NVALGRIND",
                 "DYNAMIC_ANNOTATIONS_ENABLED=0",
@@ -3829,23 +2623,13 @@
                 "-funwind-tables",
                 "-fPIC",
                 "-pipe",
-                "-fcolor-diagnostics",
-                "--target=aarch64-linux-gnu",
                 "-pthread",
                 "-Wall",
                 "-Werror",
-                "-Wextra",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
                 "-Wno-missing-field-initializers",
                 "-Wno-unused-parameter",
-                "-Wno-c++11-narrowing",
-                "-Wno-covered-switch-default",
-                "-Wno-unneeded-internal-declaration",
-                "-Wno-inconsistent-missing-override",
-                "-Wno-undefined-var-template",
-                "-Wno-nonportable-include-path",
-                "-Wno-address-of-packed-member",
-                "-Wno-unused-lambda-capture",
-                "-Wno-user-defined-warnings",
                 "-O2",
                 "-fno-ident",
                 "-fdata-sections",
@@ -3853,44 +2637,19 @@
                 "-fno-omit-frame-pointer",
                 "-g0",
                 "-fvisibility=hidden",
-                "-Xclang",
-                "-load",
-                "-Xclang",
-                "../../../../../../media/webrtc/trunk/webrtc/third_party/llvm-build/Release+Asserts/lib/libFindBadConstructs.so",
-                "-Xclang",
-                "-add-plugin",
-                "-Xclang",
-                "find-bad-constructs",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-auto-raw-pointer",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-ipc",
-                "-Wheader-hygiene",
-                "-Wstring-conversion",
-                "-Wtautological-overlap-compare",
                 "-Wextra",
                 "-Wno-unused-parameter",
                 "-Wno-missing-field-initializers",
-                "-Wno-strict-overflow",
-                "-Wc++11-narrowing",
-                "-Wimplicit-fallthrough",
-                "-Wthread-safety",
-                "-Winconsistent-missing-override",
-                "-Wundef",
-                "-Wunused-lambda-capture"
+                "-Wno-strict-overflow"
             ],
             "defines": [
                 "V8_DEPRECATION_WARNINGS",
                 "USE_NSS_CERTS=1",
-                "USE_X11=1",
                 "NO_TCMALLOC",
                 "DISABLE_NACL",
                 "CHROMIUM_BUILD",
                 "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
                 "NDEBUG",
                 "NVALGRIND",
                 "DYNAMIC_ANNOTATIONS_ENABLED=0",
@@ -3947,23 +2706,13 @@
                 "-funwind-tables",
                 "-fPIC",
                 "-pipe",
-                "-fcolor-diagnostics",
-                "--target=aarch64-linux-gnu",
                 "-pthread",
                 "-Wall",
                 "-Werror",
-                "-Wextra",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
                 "-Wno-missing-field-initializers",
                 "-Wno-unused-parameter",
-                "-Wno-c++11-narrowing",
-                "-Wno-covered-switch-default",
-                "-Wno-unneeded-internal-declaration",
-                "-Wno-inconsistent-missing-override",
-                "-Wno-undefined-var-template",
-                "-Wno-nonportable-include-path",
-                "-Wno-address-of-packed-member",
-                "-Wno-unused-lambda-capture",
-                "-Wno-user-defined-warnings",
                 "-O2",
                 "-fno-ident",
                 "-fdata-sections",
@@ -3971,44 +2720,19 @@
                 "-fno-omit-frame-pointer",
                 "-g0",
                 "-fvisibility=hidden",
-                "-Xclang",
-                "-load",
-                "-Xclang",
-                "../../../../../../media/webrtc/trunk/webrtc/third_party/llvm-build/Release+Asserts/lib/libFindBadConstructs.so",
-                "-Xclang",
-                "-add-plugin",
-                "-Xclang",
-                "find-bad-constructs",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-auto-raw-pointer",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-ipc",
-                "-Wheader-hygiene",
-                "-Wstring-conversion",
-                "-Wtautological-overlap-compare",
                 "-Wextra",
                 "-Wno-unused-parameter",
                 "-Wno-missing-field-initializers",
-                "-Wno-strict-overflow",
-                "-Wc++11-narrowing",
-                "-Wimplicit-fallthrough",
-                "-Wthread-safety",
-                "-Winconsistent-missing-override",
-                "-Wundef",
-                "-Wunused-lambda-capture"
+                "-Wno-strict-overflow"
             ],
             "defines": [
                 "V8_DEPRECATION_WARNINGS",
                 "USE_NSS_CERTS=1",
-                "USE_X11=1",
                 "NO_TCMALLOC",
                 "DISABLE_NACL",
                 "CHROMIUM_BUILD",
                 "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
                 "NDEBUG",
                 "NVALGRIND",
                 "DYNAMIC_ANNOTATIONS_ENABLED=0",
@@ -4052,23 +2776,13 @@
                 "-funwind-tables",
                 "-fPIC",
                 "-pipe",
-                "-fcolor-diagnostics",
-                "--target=aarch64-linux-gnu",
                 "-pthread",
                 "-Wall",
                 "-Werror",
-                "-Wextra",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
                 "-Wno-missing-field-initializers",
                 "-Wno-unused-parameter",
-                "-Wno-c++11-narrowing",
-                "-Wno-covered-switch-default",
-                "-Wno-unneeded-internal-declaration",
-                "-Wno-inconsistent-missing-override",
-                "-Wno-undefined-var-template",
-                "-Wno-nonportable-include-path",
-                "-Wno-address-of-packed-member",
-                "-Wno-unused-lambda-capture",
-                "-Wno-user-defined-warnings",
                 "-O2",
                 "-fno-ident",
                 "-fdata-sections",
@@ -4076,44 +2790,19 @@
                 "-fno-omit-frame-pointer",
                 "-g0",
                 "-fvisibility=hidden",
-                "-Xclang",
-                "-load",
-                "-Xclang",
-                "../../../../../../media/webrtc/trunk/webrtc/third_party/llvm-build/Release+Asserts/lib/libFindBadConstructs.so",
-                "-Xclang",
-                "-add-plugin",
-                "-Xclang",
-                "find-bad-constructs",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-auto-raw-pointer",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-ipc",
-                "-Wheader-hygiene",
-                "-Wstring-conversion",
-                "-Wtautological-overlap-compare",
                 "-Wextra",
                 "-Wno-unused-parameter",
                 "-Wno-missing-field-initializers",
-                "-Wno-strict-overflow",
-                "-Wc++11-narrowing",
-                "-Wimplicit-fallthrough",
-                "-Wthread-safety",
-                "-Winconsistent-missing-override",
-                "-Wundef",
-                "-Wunused-lambda-capture"
+                "-Wno-strict-overflow"
             ],
             "defines": [
                 "V8_DEPRECATION_WARNINGS",
                 "USE_NSS_CERTS=1",
-                "USE_X11=1",
                 "NO_TCMALLOC",
                 "DISABLE_NACL",
                 "CHROMIUM_BUILD",
                 "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
                 "NDEBUG",
                 "NVALGRIND",
                 "DYNAMIC_ANNOTATIONS_ENABLED=0",
@@ -4168,23 +2857,13 @@
                 "-funwind-tables",
                 "-fPIC",
                 "-pipe",
-                "-fcolor-diagnostics",
-                "--target=aarch64-linux-gnu",
                 "-pthread",
                 "-Wall",
                 "-Werror",
-                "-Wextra",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
                 "-Wno-missing-field-initializers",
                 "-Wno-unused-parameter",
-                "-Wno-c++11-narrowing",
-                "-Wno-covered-switch-default",
-                "-Wno-unneeded-internal-declaration",
-                "-Wno-inconsistent-missing-override",
-                "-Wno-undefined-var-template",
-                "-Wno-nonportable-include-path",
-                "-Wno-address-of-packed-member",
-                "-Wno-unused-lambda-capture",
-                "-Wno-user-defined-warnings",
                 "-O2",
                 "-fno-ident",
                 "-fdata-sections",
@@ -4192,44 +2871,19 @@
                 "-fno-omit-frame-pointer",
                 "-g0",
                 "-fvisibility=hidden",
-                "-Xclang",
-                "-load",
-                "-Xclang",
-                "../../../../../../media/webrtc/trunk/webrtc/third_party/llvm-build/Release+Asserts/lib/libFindBadConstructs.so",
-                "-Xclang",
-                "-add-plugin",
-                "-Xclang",
-                "find-bad-constructs",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-auto-raw-pointer",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-ipc",
-                "-Wheader-hygiene",
-                "-Wstring-conversion",
-                "-Wtautological-overlap-compare",
                 "-Wextra",
                 "-Wno-unused-parameter",
                 "-Wno-missing-field-initializers",
-                "-Wno-strict-overflow",
-                "-Wc++11-narrowing",
-                "-Wimplicit-fallthrough",
-                "-Wthread-safety",
-                "-Winconsistent-missing-override",
-                "-Wundef",
-                "-Wunused-lambda-capture"
+                "-Wno-strict-overflow"
             ],
             "defines": [
                 "V8_DEPRECATION_WARNINGS",
                 "USE_NSS_CERTS=1",
-                "USE_X11=1",
                 "NO_TCMALLOC",
                 "DISABLE_NACL",
                 "CHROMIUM_BUILD",
                 "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
                 "NDEBUG",
                 "NVALGRIND",
                 "DYNAMIC_ANNOTATIONS_ENABLED=0",
@@ -4274,23 +2928,13 @@
                 "-funwind-tables",
                 "-fPIC",
                 "-pipe",
-                "-fcolor-diagnostics",
-                "--target=aarch64-linux-gnu",
                 "-pthread",
                 "-Wall",
                 "-Werror",
-                "-Wextra",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
                 "-Wno-missing-field-initializers",
                 "-Wno-unused-parameter",
-                "-Wno-c++11-narrowing",
-                "-Wno-covered-switch-default",
-                "-Wno-unneeded-internal-declaration",
-                "-Wno-inconsistent-missing-override",
-                "-Wno-undefined-var-template",
-                "-Wno-nonportable-include-path",
-                "-Wno-address-of-packed-member",
-                "-Wno-unused-lambda-capture",
-                "-Wno-user-defined-warnings",
                 "-O2",
                 "-fno-ident",
                 "-fdata-sections",
@@ -4298,44 +2942,19 @@
                 "-fno-omit-frame-pointer",
                 "-g0",
                 "-fvisibility=hidden",
-                "-Xclang",
-                "-load",
-                "-Xclang",
-                "../../../../../../media/webrtc/trunk/webrtc/third_party/llvm-build/Release+Asserts/lib/libFindBadConstructs.so",
-                "-Xclang",
-                "-add-plugin",
-                "-Xclang",
-                "find-bad-constructs",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-auto-raw-pointer",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-ipc",
-                "-Wheader-hygiene",
-                "-Wstring-conversion",
-                "-Wtautological-overlap-compare",
                 "-Wextra",
                 "-Wno-unused-parameter",
                 "-Wno-missing-field-initializers",
-                "-Wno-strict-overflow",
-                "-Wc++11-narrowing",
-                "-Wimplicit-fallthrough",
-                "-Wthread-safety",
-                "-Winconsistent-missing-override",
-                "-Wundef",
-                "-Wunused-lambda-capture"
+                "-Wno-strict-overflow"
             ],
             "defines": [
                 "V8_DEPRECATION_WARNINGS",
                 "USE_NSS_CERTS=1",
-                "USE_X11=1",
                 "NO_TCMALLOC",
                 "DISABLE_NACL",
                 "CHROMIUM_BUILD",
                 "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
                 "NDEBUG",
                 "NVALGRIND",
                 "DYNAMIC_ANNOTATIONS_ENABLED=0",
@@ -4387,23 +3006,13 @@
                 "-funwind-tables",
                 "-fPIC",
                 "-pipe",
-                "-fcolor-diagnostics",
-                "--target=aarch64-linux-gnu",
                 "-pthread",
                 "-Wall",
                 "-Werror",
-                "-Wextra",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
                 "-Wno-missing-field-initializers",
                 "-Wno-unused-parameter",
-                "-Wno-c++11-narrowing",
-                "-Wno-covered-switch-default",
-                "-Wno-unneeded-internal-declaration",
-                "-Wno-inconsistent-missing-override",
-                "-Wno-undefined-var-template",
-                "-Wno-nonportable-include-path",
-                "-Wno-address-of-packed-member",
-                "-Wno-unused-lambda-capture",
-                "-Wno-user-defined-warnings",
                 "-O2",
                 "-fno-ident",
                 "-fdata-sections",
@@ -4411,28 +3020,19 @@
                 "-fno-omit-frame-pointer",
                 "-g0",
                 "-fvisibility=hidden",
-                "-Wheader-hygiene",
-                "-Wstring-conversion",
-                "-Wtautological-overlap-compare",
                 "-Wextra",
                 "-Wno-unused-parameter",
                 "-Wno-missing-field-initializers",
-                "-Wno-strict-overflow",
-                "-Wc++11-narrowing",
-                "-Wimplicit-fallthrough",
-                "-Wthread-safety",
-                "-Winconsistent-missing-override",
-                "-Wundef",
-                "-Wunused-lambda-capture"
+                "-Wno-strict-overflow"
             ],
             "defines": [
                 "V8_DEPRECATION_WARNINGS",
                 "USE_NSS_CERTS=1",
-                "USE_X11=1",
                 "NO_TCMALLOC",
                 "DISABLE_NACL",
                 "CHROMIUM_BUILD",
                 "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
                 "NDEBUG",
                 "NVALGRIND",
                 "DYNAMIC_ANNOTATIONS_ENABLED=0",
@@ -4516,23 +3116,13 @@
                 "-funwind-tables",
                 "-fPIC",
                 "-pipe",
-                "-fcolor-diagnostics",
-                "--target=aarch64-linux-gnu",
                 "-pthread",
                 "-Wall",
                 "-Werror",
-                "-Wextra",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
                 "-Wno-missing-field-initializers",
                 "-Wno-unused-parameter",
-                "-Wno-c++11-narrowing",
-                "-Wno-covered-switch-default",
-                "-Wno-unneeded-internal-declaration",
-                "-Wno-inconsistent-missing-override",
-                "-Wno-undefined-var-template",
-                "-Wno-nonportable-include-path",
-                "-Wno-address-of-packed-member",
-                "-Wno-unused-lambda-capture",
-                "-Wno-user-defined-warnings",
                 "-O2",
                 "-fno-ident",
                 "-fdata-sections",
@@ -4540,44 +3130,19 @@
                 "-fno-omit-frame-pointer",
                 "-g0",
                 "-fvisibility=hidden",
-                "-Xclang",
-                "-load",
-                "-Xclang",
-                "../../../../../../media/webrtc/trunk/webrtc/third_party/llvm-build/Release+Asserts/lib/libFindBadConstructs.so",
-                "-Xclang",
-                "-add-plugin",
-                "-Xclang",
-                "find-bad-constructs",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-auto-raw-pointer",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-ipc",
-                "-Wheader-hygiene",
-                "-Wstring-conversion",
-                "-Wtautological-overlap-compare",
                 "-Wextra",
                 "-Wno-unused-parameter",
                 "-Wno-missing-field-initializers",
-                "-Wno-strict-overflow",
-                "-Wc++11-narrowing",
-                "-Wimplicit-fallthrough",
-                "-Wthread-safety",
-                "-Winconsistent-missing-override",
-                "-Wundef",
-                "-Wunused-lambda-capture"
+                "-Wno-strict-overflow"
             ],
             "defines": [
                 "V8_DEPRECATION_WARNINGS",
                 "USE_NSS_CERTS=1",
-                "USE_X11=1",
                 "NO_TCMALLOC",
                 "DISABLE_NACL",
                 "CHROMIUM_BUILD",
                 "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
                 "NDEBUG",
                 "NVALGRIND",
                 "DYNAMIC_ANNOTATIONS_ENABLED=0",
@@ -4677,23 +3242,13 @@
                 "-funwind-tables",
                 "-fPIC",
                 "-pipe",
-                "-fcolor-diagnostics",
-                "--target=aarch64-linux-gnu",
                 "-pthread",
                 "-Wall",
                 "-Werror",
-                "-Wextra",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
                 "-Wno-missing-field-initializers",
                 "-Wno-unused-parameter",
-                "-Wno-c++11-narrowing",
-                "-Wno-covered-switch-default",
-                "-Wno-unneeded-internal-declaration",
-                "-Wno-inconsistent-missing-override",
-                "-Wno-undefined-var-template",
-                "-Wno-nonportable-include-path",
-                "-Wno-address-of-packed-member",
-                "-Wno-unused-lambda-capture",
-                "-Wno-user-defined-warnings",
                 "-O2",
                 "-fno-ident",
                 "-fdata-sections",
@@ -4701,44 +3256,19 @@
                 "-fno-omit-frame-pointer",
                 "-g0",
                 "-fvisibility=hidden",
-                "-Xclang",
-                "-load",
-                "-Xclang",
-                "../../../../../../media/webrtc/trunk/webrtc/third_party/llvm-build/Release+Asserts/lib/libFindBadConstructs.so",
-                "-Xclang",
-                "-add-plugin",
-                "-Xclang",
-                "find-bad-constructs",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-auto-raw-pointer",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-ipc",
-                "-Wheader-hygiene",
-                "-Wstring-conversion",
-                "-Wtautological-overlap-compare",
                 "-Wextra",
                 "-Wno-unused-parameter",
                 "-Wno-missing-field-initializers",
-                "-Wno-strict-overflow",
-                "-Wc++11-narrowing",
-                "-Wimplicit-fallthrough",
-                "-Wthread-safety",
-                "-Winconsistent-missing-override",
-                "-Wundef",
-                "-Wunused-lambda-capture"
+                "-Wno-strict-overflow"
             ],
             "defines": [
                 "V8_DEPRECATION_WARNINGS",
                 "USE_NSS_CERTS=1",
-                "USE_X11=1",
                 "NO_TCMALLOC",
                 "DISABLE_NACL",
                 "CHROMIUM_BUILD",
                 "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
                 "NDEBUG",
                 "NVALGRIND",
                 "DYNAMIC_ANNOTATIONS_ENABLED=0",
@@ -4772,23 +3302,13 @@
                 "-funwind-tables",
                 "-fPIC",
                 "-pipe",
-                "-fcolor-diagnostics",
-                "--target=aarch64-linux-gnu",
                 "-pthread",
                 "-Wall",
                 "-Werror",
-                "-Wextra",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
                 "-Wno-missing-field-initializers",
                 "-Wno-unused-parameter",
-                "-Wno-c++11-narrowing",
-                "-Wno-covered-switch-default",
-                "-Wno-unneeded-internal-declaration",
-                "-Wno-inconsistent-missing-override",
-                "-Wno-undefined-var-template",
-                "-Wno-nonportable-include-path",
-                "-Wno-address-of-packed-member",
-                "-Wno-unused-lambda-capture",
-                "-Wno-user-defined-warnings",
                 "-O2",
                 "-fno-ident",
                 "-fdata-sections",
@@ -4796,44 +3316,19 @@
                 "-fno-omit-frame-pointer",
                 "-g0",
                 "-fvisibility=hidden",
-                "-Xclang",
-                "-load",
-                "-Xclang",
-                "../../../../../../media/webrtc/trunk/webrtc/third_party/llvm-build/Release+Asserts/lib/libFindBadConstructs.so",
-                "-Xclang",
-                "-add-plugin",
-                "-Xclang",
-                "find-bad-constructs",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-auto-raw-pointer",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-ipc",
-                "-Wheader-hygiene",
-                "-Wstring-conversion",
-                "-Wtautological-overlap-compare",
                 "-Wextra",
                 "-Wno-unused-parameter",
                 "-Wno-missing-field-initializers",
-                "-Wno-strict-overflow",
-                "-Wc++11-narrowing",
-                "-Wimplicit-fallthrough",
-                "-Wthread-safety",
-                "-Winconsistent-missing-override",
-                "-Wundef",
-                "-Wunused-lambda-capture"
+                "-Wno-strict-overflow"
             ],
             "defines": [
                 "V8_DEPRECATION_WARNINGS",
                 "USE_NSS_CERTS=1",
-                "USE_X11=1",
                 "NO_TCMALLOC",
                 "DISABLE_NACL",
                 "CHROMIUM_BUILD",
                 "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
                 "NDEBUG",
                 "NVALGRIND",
                 "DYNAMIC_ANNOTATIONS_ENABLED=0",
@@ -4879,23 +3374,13 @@
                 "-funwind-tables",
                 "-fPIC",
                 "-pipe",
-                "-fcolor-diagnostics",
-                "--target=aarch64-linux-gnu",
                 "-pthread",
                 "-Wall",
                 "-Werror",
-                "-Wextra",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
                 "-Wno-missing-field-initializers",
                 "-Wno-unused-parameter",
-                "-Wno-c++11-narrowing",
-                "-Wno-covered-switch-default",
-                "-Wno-unneeded-internal-declaration",
-                "-Wno-inconsistent-missing-override",
-                "-Wno-undefined-var-template",
-                "-Wno-nonportable-include-path",
-                "-Wno-address-of-packed-member",
-                "-Wno-unused-lambda-capture",
-                "-Wno-user-defined-warnings",
                 "-O2",
                 "-fno-ident",
                 "-fdata-sections",
@@ -4903,28 +3388,19 @@
                 "-fno-omit-frame-pointer",
                 "-g0",
                 "-fvisibility=hidden",
-                "-Wheader-hygiene",
-                "-Wstring-conversion",
-                "-Wtautological-overlap-compare",
                 "-Wextra",
                 "-Wno-unused-parameter",
                 "-Wno-missing-field-initializers",
-                "-Wno-strict-overflow",
-                "-Wc++11-narrowing",
-                "-Wimplicit-fallthrough",
-                "-Wthread-safety",
-                "-Winconsistent-missing-override",
-                "-Wundef",
-                "-Wunused-lambda-capture"
+                "-Wno-strict-overflow"
             ],
             "defines": [
                 "V8_DEPRECATION_WARNINGS",
                 "USE_NSS_CERTS=1",
-                "USE_X11=1",
                 "NO_TCMALLOC",
                 "DISABLE_NACL",
                 "CHROMIUM_BUILD",
                 "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
                 "NDEBUG",
                 "NVALGRIND",
                 "DYNAMIC_ANNOTATIONS_ENABLED=0",
@@ -4970,23 +3446,13 @@
                 "-funwind-tables",
                 "-fPIC",
                 "-pipe",
-                "-fcolor-diagnostics",
-                "--target=aarch64-linux-gnu",
                 "-pthread",
                 "-Wall",
                 "-Werror",
-                "-Wextra",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
                 "-Wno-missing-field-initializers",
                 "-Wno-unused-parameter",
-                "-Wno-c++11-narrowing",
-                "-Wno-covered-switch-default",
-                "-Wno-unneeded-internal-declaration",
-                "-Wno-inconsistent-missing-override",
-                "-Wno-undefined-var-template",
-                "-Wno-nonportable-include-path",
-                "-Wno-address-of-packed-member",
-                "-Wno-unused-lambda-capture",
-                "-Wno-user-defined-warnings",
                 "-O2",
                 "-fno-ident",
                 "-fdata-sections",
@@ -4994,28 +3460,19 @@
                 "-fno-omit-frame-pointer",
                 "-g0",
                 "-fvisibility=hidden",
-                "-Wheader-hygiene",
-                "-Wstring-conversion",
-                "-Wtautological-overlap-compare",
                 "-Wextra",
                 "-Wno-unused-parameter",
                 "-Wno-missing-field-initializers",
-                "-Wno-strict-overflow",
-                "-Wc++11-narrowing",
-                "-Wimplicit-fallthrough",
-                "-Wthread-safety",
-                "-Winconsistent-missing-override",
-                "-Wundef",
-                "-Wunused-lambda-capture"
+                "-Wno-strict-overflow"
             ],
             "defines": [
                 "V8_DEPRECATION_WARNINGS",
                 "USE_NSS_CERTS=1",
-                "USE_X11=1",
                 "NO_TCMALLOC",
                 "DISABLE_NACL",
                 "CHROMIUM_BUILD",
                 "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
                 "NDEBUG",
                 "NVALGRIND",
                 "DYNAMIC_ANNOTATIONS_ENABLED=0",
@@ -5061,23 +3518,13 @@
                 "-funwind-tables",
                 "-fPIC",
                 "-pipe",
-                "-fcolor-diagnostics",
-                "--target=aarch64-linux-gnu",
                 "-pthread",
                 "-Wall",
                 "-Werror",
-                "-Wextra",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
                 "-Wno-missing-field-initializers",
                 "-Wno-unused-parameter",
-                "-Wno-c++11-narrowing",
-                "-Wno-covered-switch-default",
-                "-Wno-unneeded-internal-declaration",
-                "-Wno-inconsistent-missing-override",
-                "-Wno-undefined-var-template",
-                "-Wno-nonportable-include-path",
-                "-Wno-address-of-packed-member",
-                "-Wno-unused-lambda-capture",
-                "-Wno-user-defined-warnings",
                 "-O2",
                 "-fno-ident",
                 "-fdata-sections",
@@ -5085,44 +3532,19 @@
                 "-fno-omit-frame-pointer",
                 "-g0",
                 "-fvisibility=hidden",
-                "-Xclang",
-                "-load",
-                "-Xclang",
-                "../../../../../../media/webrtc/trunk/webrtc/third_party/llvm-build/Release+Asserts/lib/libFindBadConstructs.so",
-                "-Xclang",
-                "-add-plugin",
-                "-Xclang",
-                "find-bad-constructs",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-auto-raw-pointer",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-ipc",
-                "-Wheader-hygiene",
-                "-Wstring-conversion",
-                "-Wtautological-overlap-compare",
                 "-Wextra",
                 "-Wno-unused-parameter",
                 "-Wno-missing-field-initializers",
-                "-Wno-strict-overflow",
-                "-Wc++11-narrowing",
-                "-Wimplicit-fallthrough",
-                "-Wthread-safety",
-                "-Winconsistent-missing-override",
-                "-Wundef",
-                "-Wunused-lambda-capture"
+                "-Wno-strict-overflow"
             ],
             "defines": [
                 "V8_DEPRECATION_WARNINGS",
                 "USE_NSS_CERTS=1",
-                "USE_X11=1",
                 "NO_TCMALLOC",
                 "DISABLE_NACL",
                 "CHROMIUM_BUILD",
                 "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
                 "NDEBUG",
                 "NVALGRIND",
                 "DYNAMIC_ANNOTATIONS_ENABLED=0",
@@ -5158,23 +3580,13 @@
                 "-funwind-tables",
                 "-fPIC",
                 "-pipe",
-                "-fcolor-diagnostics",
-                "--target=aarch64-linux-gnu",
                 "-pthread",
                 "-Wall",
                 "-Werror",
-                "-Wextra",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
                 "-Wno-missing-field-initializers",
                 "-Wno-unused-parameter",
-                "-Wno-c++11-narrowing",
-                "-Wno-covered-switch-default",
-                "-Wno-unneeded-internal-declaration",
-                "-Wno-inconsistent-missing-override",
-                "-Wno-undefined-var-template",
-                "-Wno-nonportable-include-path",
-                "-Wno-address-of-packed-member",
-                "-Wno-unused-lambda-capture",
-                "-Wno-user-defined-warnings",
                 "-O2",
                 "-fno-ident",
                 "-fdata-sections",
@@ -5182,44 +3594,19 @@
                 "-fno-omit-frame-pointer",
                 "-g0",
                 "-fvisibility=hidden",
-                "-Xclang",
-                "-load",
-                "-Xclang",
-                "../../../../../../media/webrtc/trunk/webrtc/third_party/llvm-build/Release+Asserts/lib/libFindBadConstructs.so",
-                "-Xclang",
-                "-add-plugin",
-                "-Xclang",
-                "find-bad-constructs",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-auto-raw-pointer",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-ipc",
-                "-Wheader-hygiene",
-                "-Wstring-conversion",
-                "-Wtautological-overlap-compare",
                 "-Wextra",
                 "-Wno-unused-parameter",
                 "-Wno-missing-field-initializers",
-                "-Wno-strict-overflow",
-                "-Wc++11-narrowing",
-                "-Wimplicit-fallthrough",
-                "-Wthread-safety",
-                "-Winconsistent-missing-override",
-                "-Wundef",
-                "-Wunused-lambda-capture"
+                "-Wno-strict-overflow"
             ],
             "defines": [
                 "V8_DEPRECATION_WARNINGS",
                 "USE_NSS_CERTS=1",
-                "USE_X11=1",
                 "NO_TCMALLOC",
                 "DISABLE_NACL",
                 "CHROMIUM_BUILD",
                 "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
                 "NDEBUG",
                 "NVALGRIND",
                 "DYNAMIC_ANNOTATIONS_ENABLED=0",
@@ -5265,23 +3652,13 @@
                 "-funwind-tables",
                 "-fPIC",
                 "-pipe",
-                "-fcolor-diagnostics",
-                "--target=aarch64-linux-gnu",
                 "-pthread",
                 "-Wall",
                 "-Werror",
-                "-Wextra",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
                 "-Wno-missing-field-initializers",
                 "-Wno-unused-parameter",
-                "-Wno-c++11-narrowing",
-                "-Wno-covered-switch-default",
-                "-Wno-unneeded-internal-declaration",
-                "-Wno-inconsistent-missing-override",
-                "-Wno-undefined-var-template",
-                "-Wno-nonportable-include-path",
-                "-Wno-address-of-packed-member",
-                "-Wno-unused-lambda-capture",
-                "-Wno-user-defined-warnings",
                 "-O2",
                 "-fno-ident",
                 "-fdata-sections",
@@ -5289,44 +3666,19 @@
                 "-fno-omit-frame-pointer",
                 "-g0",
                 "-fvisibility=hidden",
-                "-Xclang",
-                "-load",
-                "-Xclang",
-                "../../../../../../media/webrtc/trunk/webrtc/third_party/llvm-build/Release+Asserts/lib/libFindBadConstructs.so",
-                "-Xclang",
-                "-add-plugin",
-                "-Xclang",
-                "find-bad-constructs",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-auto-raw-pointer",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-ipc",
-                "-Wheader-hygiene",
-                "-Wstring-conversion",
-                "-Wtautological-overlap-compare",
                 "-Wextra",
                 "-Wno-unused-parameter",
                 "-Wno-missing-field-initializers",
-                "-Wno-strict-overflow",
-                "-Wc++11-narrowing",
-                "-Wimplicit-fallthrough",
-                "-Wthread-safety",
-                "-Winconsistent-missing-override",
-                "-Wundef",
-                "-Wunused-lambda-capture"
+                "-Wno-strict-overflow"
             ],
             "defines": [
                 "V8_DEPRECATION_WARNINGS",
                 "USE_NSS_CERTS=1",
-                "USE_X11=1",
                 "NO_TCMALLOC",
                 "DISABLE_NACL",
                 "CHROMIUM_BUILD",
                 "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
                 "NDEBUG",
                 "NVALGRIND",
                 "DYNAMIC_ANNOTATIONS_ENABLED=0",
@@ -5369,23 +3721,13 @@
                 "-funwind-tables",
                 "-fPIC",
                 "-pipe",
-                "-fcolor-diagnostics",
-                "--target=aarch64-linux-gnu",
                 "-pthread",
                 "-Wall",
                 "-Werror",
-                "-Wextra",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
                 "-Wno-missing-field-initializers",
                 "-Wno-unused-parameter",
-                "-Wno-c++11-narrowing",
-                "-Wno-covered-switch-default",
-                "-Wno-unneeded-internal-declaration",
-                "-Wno-inconsistent-missing-override",
-                "-Wno-undefined-var-template",
-                "-Wno-nonportable-include-path",
-                "-Wno-address-of-packed-member",
-                "-Wno-unused-lambda-capture",
-                "-Wno-user-defined-warnings",
                 "-O2",
                 "-fno-ident",
                 "-fdata-sections",
@@ -5393,28 +3735,19 @@
                 "-fno-omit-frame-pointer",
                 "-g0",
                 "-fvisibility=hidden",
-                "-Wheader-hygiene",
-                "-Wstring-conversion",
-                "-Wtautological-overlap-compare",
                 "-Wextra",
                 "-Wno-unused-parameter",
                 "-Wno-missing-field-initializers",
-                "-Wno-strict-overflow",
-                "-Wc++11-narrowing",
-                "-Wimplicit-fallthrough",
-                "-Wthread-safety",
-                "-Winconsistent-missing-override",
-                "-Wundef",
-                "-Wunused-lambda-capture"
+                "-Wno-strict-overflow"
             ],
             "defines": [
                 "V8_DEPRECATION_WARNINGS",
                 "USE_NSS_CERTS=1",
-                "USE_X11=1",
                 "NO_TCMALLOC",
                 "DISABLE_NACL",
                 "CHROMIUM_BUILD",
                 "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
                 "NDEBUG",
                 "NVALGRIND",
                 "DYNAMIC_ANNOTATIONS_ENABLED=0",
@@ -5492,23 +3825,13 @@
                 "-funwind-tables",
                 "-fPIC",
                 "-pipe",
-                "-fcolor-diagnostics",
-                "--target=aarch64-linux-gnu",
                 "-pthread",
                 "-Wall",
                 "-Werror",
-                "-Wextra",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
                 "-Wno-missing-field-initializers",
                 "-Wno-unused-parameter",
-                "-Wno-c++11-narrowing",
-                "-Wno-covered-switch-default",
-                "-Wno-unneeded-internal-declaration",
-                "-Wno-inconsistent-missing-override",
-                "-Wno-undefined-var-template",
-                "-Wno-nonportable-include-path",
-                "-Wno-address-of-packed-member",
-                "-Wno-unused-lambda-capture",
-                "-Wno-user-defined-warnings",
                 "-O2",
                 "-fno-ident",
                 "-fdata-sections",
@@ -5516,28 +3839,19 @@
                 "-fno-omit-frame-pointer",
                 "-g0",
                 "-fvisibility=hidden",
-                "-Wheader-hygiene",
-                "-Wstring-conversion",
-                "-Wtautological-overlap-compare",
                 "-Wextra",
                 "-Wno-unused-parameter",
                 "-Wno-missing-field-initializers",
-                "-Wno-strict-overflow",
-                "-Wc++11-narrowing",
-                "-Wimplicit-fallthrough",
-                "-Wthread-safety",
-                "-Winconsistent-missing-override",
-                "-Wundef",
-                "-Wunused-lambda-capture"
+                "-Wno-strict-overflow"
             ],
             "defines": [
                 "V8_DEPRECATION_WARNINGS",
                 "USE_NSS_CERTS=1",
-                "USE_X11=1",
                 "NO_TCMALLOC",
                 "DISABLE_NACL",
                 "CHROMIUM_BUILD",
                 "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
                 "NDEBUG",
                 "NVALGRIND",
                 "DYNAMIC_ANNOTATIONS_ENABLED=0",
@@ -5624,23 +3938,13 @@
                 "-funwind-tables",
                 "-fPIC",
                 "-pipe",
-                "-fcolor-diagnostics",
-                "--target=aarch64-linux-gnu",
                 "-pthread",
                 "-Wall",
                 "-Werror",
-                "-Wextra",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
                 "-Wno-missing-field-initializers",
                 "-Wno-unused-parameter",
-                "-Wno-c++11-narrowing",
-                "-Wno-covered-switch-default",
-                "-Wno-unneeded-internal-declaration",
-                "-Wno-inconsistent-missing-override",
-                "-Wno-undefined-var-template",
-                "-Wno-nonportable-include-path",
-                "-Wno-address-of-packed-member",
-                "-Wno-unused-lambda-capture",
-                "-Wno-user-defined-warnings",
                 "-O2",
                 "-fno-ident",
                 "-fdata-sections",
@@ -5648,28 +3952,19 @@
                 "-fno-omit-frame-pointer",
                 "-g0",
                 "-fvisibility=hidden",
-                "-Wheader-hygiene",
-                "-Wstring-conversion",
-                "-Wtautological-overlap-compare",
                 "-Wextra",
                 "-Wno-unused-parameter",
                 "-Wno-missing-field-initializers",
-                "-Wno-strict-overflow",
-                "-Wc++11-narrowing",
-                "-Wimplicit-fallthrough",
-                "-Wthread-safety",
-                "-Winconsistent-missing-override",
-                "-Wundef",
-                "-Wunused-lambda-capture"
+                "-Wno-strict-overflow"
             ],
             "defines": [
                 "V8_DEPRECATION_WARNINGS",
                 "USE_NSS_CERTS=1",
-                "USE_X11=1",
                 "NO_TCMALLOC",
                 "DISABLE_NACL",
                 "CHROMIUM_BUILD",
                 "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
                 "NDEBUG",
                 "NVALGRIND",
                 "DYNAMIC_ANNOTATIONS_ENABLED=0",
@@ -5723,23 +4018,13 @@
                 "-funwind-tables",
                 "-fPIC",
                 "-pipe",
-                "-fcolor-diagnostics",
-                "--target=aarch64-linux-gnu",
                 "-pthread",
                 "-Wall",
                 "-Werror",
-                "-Wextra",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
                 "-Wno-missing-field-initializers",
                 "-Wno-unused-parameter",
-                "-Wno-c++11-narrowing",
-                "-Wno-covered-switch-default",
-                "-Wno-unneeded-internal-declaration",
-                "-Wno-inconsistent-missing-override",
-                "-Wno-undefined-var-template",
-                "-Wno-nonportable-include-path",
-                "-Wno-address-of-packed-member",
-                "-Wno-unused-lambda-capture",
-                "-Wno-user-defined-warnings",
                 "-O2",
                 "-fno-ident",
                 "-fdata-sections",
@@ -5747,19 +4032,10 @@
                 "-fno-omit-frame-pointer",
                 "-g0",
                 "-fvisibility=hidden",
-                "-Wheader-hygiene",
-                "-Wstring-conversion",
-                "-Wtautological-overlap-compare",
                 "-Wextra",
                 "-Wno-unused-parameter",
                 "-Wno-missing-field-initializers",
                 "-Wno-strict-overflow",
-                "-Wc++11-narrowing",
-                "-Wimplicit-fallthrough",
-                "-Wthread-safety",
-                "-Winconsistent-missing-override",
-                "-Wundef",
-                "-Wunused-lambda-capture",
                 "-Wno-deprecated-declarations"
             ],
             "defines": [
@@ -5767,11 +4043,11 @@
                 "WEBRTC_OPUS_SUPPORT_120MS_PTIME=1",
                 "V8_DEPRECATION_WARNINGS",
                 "USE_NSS_CERTS=1",
-                "USE_X11=1",
                 "NO_TCMALLOC",
                 "DISABLE_NACL",
                 "CHROMIUM_BUILD",
                 "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
                 "NDEBUG",
                 "NVALGRIND",
                 "DYNAMIC_ANNOTATIONS_ENABLED=0",
@@ -5885,23 +4161,13 @@
                 "-funwind-tables",
                 "-fPIC",
                 "-pipe",
-                "-fcolor-diagnostics",
-                "--target=aarch64-linux-gnu",
                 "-pthread",
                 "-Wall",
                 "-Werror",
-                "-Wextra",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
                 "-Wno-missing-field-initializers",
                 "-Wno-unused-parameter",
-                "-Wno-c++11-narrowing",
-                "-Wno-covered-switch-default",
-                "-Wno-unneeded-internal-declaration",
-                "-Wno-inconsistent-missing-override",
-                "-Wno-undefined-var-template",
-                "-Wno-nonportable-include-path",
-                "-Wno-address-of-packed-member",
-                "-Wno-unused-lambda-capture",
-                "-Wno-user-defined-warnings",
                 "-O2",
                 "-fno-ident",
                 "-fdata-sections",
@@ -5909,28 +4175,19 @@
                 "-fno-omit-frame-pointer",
                 "-g0",
                 "-fvisibility=hidden",
-                "-Wheader-hygiene",
-                "-Wstring-conversion",
-                "-Wtautological-overlap-compare",
                 "-Wextra",
                 "-Wno-unused-parameter",
                 "-Wno-missing-field-initializers",
-                "-Wno-strict-overflow",
-                "-Wc++11-narrowing",
-                "-Wimplicit-fallthrough",
-                "-Wthread-safety",
-                "-Winconsistent-missing-override",
-                "-Wundef",
-                "-Wunused-lambda-capture"
+                "-Wno-strict-overflow"
             ],
             "defines": [
                 "V8_DEPRECATION_WARNINGS",
                 "USE_NSS_CERTS=1",
-                "USE_X11=1",
                 "NO_TCMALLOC",
                 "DISABLE_NACL",
                 "CHROMIUM_BUILD",
                 "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
                 "NDEBUG",
                 "NVALGRIND",
                 "DYNAMIC_ANNOTATIONS_ENABLED=0",
@@ -5972,23 +4229,13 @@
                 "-funwind-tables",
                 "-fPIC",
                 "-pipe",
-                "-fcolor-diagnostics",
-                "--target=aarch64-linux-gnu",
                 "-pthread",
                 "-Wall",
                 "-Werror",
-                "-Wextra",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
                 "-Wno-missing-field-initializers",
                 "-Wno-unused-parameter",
-                "-Wno-c++11-narrowing",
-                "-Wno-covered-switch-default",
-                "-Wno-unneeded-internal-declaration",
-                "-Wno-inconsistent-missing-override",
-                "-Wno-undefined-var-template",
-                "-Wno-nonportable-include-path",
-                "-Wno-address-of-packed-member",
-                "-Wno-unused-lambda-capture",
-                "-Wno-user-defined-warnings",
                 "-O2",
                 "-fno-ident",
                 "-fdata-sections",
@@ -5996,44 +4243,19 @@
                 "-fno-omit-frame-pointer",
                 "-g0",
                 "-fvisibility=hidden",
-                "-Xclang",
-                "-load",
-                "-Xclang",
-                "../../../../../../media/webrtc/trunk/webrtc/third_party/llvm-build/Release+Asserts/lib/libFindBadConstructs.so",
-                "-Xclang",
-                "-add-plugin",
-                "-Xclang",
-                "find-bad-constructs",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-auto-raw-pointer",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-ipc",
-                "-Wheader-hygiene",
-                "-Wstring-conversion",
-                "-Wtautological-overlap-compare",
                 "-Wextra",
                 "-Wno-unused-parameter",
                 "-Wno-missing-field-initializers",
-                "-Wno-strict-overflow",
-                "-Wc++11-narrowing",
-                "-Wimplicit-fallthrough",
-                "-Wthread-safety",
-                "-Winconsistent-missing-override",
-                "-Wundef",
-                "-Wunused-lambda-capture"
+                "-Wno-strict-overflow"
             ],
             "defines": [
                 "V8_DEPRECATION_WARNINGS",
                 "USE_NSS_CERTS=1",
-                "USE_X11=1",
                 "NO_TCMALLOC",
                 "DISABLE_NACL",
                 "CHROMIUM_BUILD",
                 "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
                 "NDEBUG",
                 "NVALGRIND",
                 "DYNAMIC_ANNOTATIONS_ENABLED=0",
@@ -6074,23 +4296,13 @@
                 "-funwind-tables",
                 "-fPIC",
                 "-pipe",
-                "-fcolor-diagnostics",
-                "--target=aarch64-linux-gnu",
                 "-pthread",
                 "-Wall",
                 "-Werror",
-                "-Wextra",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
                 "-Wno-missing-field-initializers",
                 "-Wno-unused-parameter",
-                "-Wno-c++11-narrowing",
-                "-Wno-covered-switch-default",
-                "-Wno-unneeded-internal-declaration",
-                "-Wno-inconsistent-missing-override",
-                "-Wno-undefined-var-template",
-                "-Wno-nonportable-include-path",
-                "-Wno-address-of-packed-member",
-                "-Wno-unused-lambda-capture",
-                "-Wno-user-defined-warnings",
                 "-O2",
                 "-fno-ident",
                 "-fdata-sections",
@@ -6098,28 +4310,19 @@
                 "-fno-omit-frame-pointer",
                 "-g0",
                 "-fvisibility=hidden",
-                "-Wheader-hygiene",
-                "-Wstring-conversion",
-                "-Wtautological-overlap-compare",
                 "-Wextra",
                 "-Wno-unused-parameter",
                 "-Wno-missing-field-initializers",
-                "-Wno-strict-overflow",
-                "-Wc++11-narrowing",
-                "-Wimplicit-fallthrough",
-                "-Wthread-safety",
-                "-Winconsistent-missing-override",
-                "-Wundef",
-                "-Wunused-lambda-capture"
+                "-Wno-strict-overflow"
             ],
             "defines": [
                 "V8_DEPRECATION_WARNINGS",
                 "USE_NSS_CERTS=1",
-                "USE_X11=1",
                 "NO_TCMALLOC",
                 "DISABLE_NACL",
                 "CHROMIUM_BUILD",
                 "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
                 "NDEBUG",
                 "NVALGRIND",
                 "DYNAMIC_ANNOTATIONS_ENABLED=0",
@@ -6197,23 +4400,13 @@
                 "-funwind-tables",
                 "-fPIC",
                 "-pipe",
-                "-fcolor-diagnostics",
-                "--target=aarch64-linux-gnu",
                 "-pthread",
                 "-Wall",
                 "-Werror",
-                "-Wextra",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
                 "-Wno-missing-field-initializers",
                 "-Wno-unused-parameter",
-                "-Wno-c++11-narrowing",
-                "-Wno-covered-switch-default",
-                "-Wno-unneeded-internal-declaration",
-                "-Wno-inconsistent-missing-override",
-                "-Wno-undefined-var-template",
-                "-Wno-nonportable-include-path",
-                "-Wno-address-of-packed-member",
-                "-Wno-unused-lambda-capture",
-                "-Wno-user-defined-warnings",
                 "-O2",
                 "-fno-ident",
                 "-fdata-sections",
@@ -6221,35 +4414,10 @@
                 "-fno-omit-frame-pointer",
                 "-g0",
                 "-fvisibility=hidden",
-                "-Xclang",
-                "-load",
-                "-Xclang",
-                "../../../../../../media/webrtc/trunk/webrtc/third_party/llvm-build/Release+Asserts/lib/libFindBadConstructs.so",
-                "-Xclang",
-                "-add-plugin",
-                "-Xclang",
-                "find-bad-constructs",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-auto-raw-pointer",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-ipc",
-                "-Wheader-hygiene",
-                "-Wstring-conversion",
-                "-Wtautological-overlap-compare",
                 "-Wextra",
                 "-Wno-unused-parameter",
                 "-Wno-missing-field-initializers",
-                "-Wno-strict-overflow",
-                "-Wc++11-narrowing",
-                "-Wimplicit-fallthrough",
-                "-Wthread-safety",
-                "-Winconsistent-missing-override",
-                "-Wundef",
-                "-Wunused-lambda-capture"
+                "-Wno-strict-overflow"
             ],
             "defines": [
                 "WEBRTC_CODEC_ILBC",
@@ -6258,11 +4426,11 @@
                 "WEBRTC_CODEC_ISAC",
                 "V8_DEPRECATION_WARNINGS",
                 "USE_NSS_CERTS=1",
-                "USE_X11=1",
                 "NO_TCMALLOC",
                 "DISABLE_NACL",
                 "CHROMIUM_BUILD",
                 "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
                 "NDEBUG",
                 "NVALGRIND",
                 "DYNAMIC_ANNOTATIONS_ENABLED=0",
@@ -6342,23 +4510,13 @@
                 "-funwind-tables",
                 "-fPIC",
                 "-pipe",
-                "-fcolor-diagnostics",
-                "--target=aarch64-linux-gnu",
                 "-pthread",
                 "-Wall",
                 "-Werror",
-                "-Wextra",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
                 "-Wno-missing-field-initializers",
                 "-Wno-unused-parameter",
-                "-Wno-c++11-narrowing",
-                "-Wno-covered-switch-default",
-                "-Wno-unneeded-internal-declaration",
-                "-Wno-inconsistent-missing-override",
-                "-Wno-undefined-var-template",
-                "-Wno-nonportable-include-path",
-                "-Wno-address-of-packed-member",
-                "-Wno-unused-lambda-capture",
-                "-Wno-user-defined-warnings",
                 "-O2",
                 "-fno-ident",
                 "-fdata-sections",
@@ -6366,44 +4524,19 @@
                 "-fno-omit-frame-pointer",
                 "-g0",
                 "-fvisibility=hidden",
-                "-Xclang",
-                "-load",
-                "-Xclang",
-                "../../../../../../media/webrtc/trunk/webrtc/third_party/llvm-build/Release+Asserts/lib/libFindBadConstructs.so",
-                "-Xclang",
-                "-add-plugin",
-                "-Xclang",
-                "find-bad-constructs",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-auto-raw-pointer",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-ipc",
-                "-Wheader-hygiene",
-                "-Wstring-conversion",
-                "-Wtautological-overlap-compare",
                 "-Wextra",
                 "-Wno-unused-parameter",
                 "-Wno-missing-field-initializers",
-                "-Wno-strict-overflow",
-                "-Wc++11-narrowing",
-                "-Wimplicit-fallthrough",
-                "-Wthread-safety",
-                "-Winconsistent-missing-override",
-                "-Wundef",
-                "-Wunused-lambda-capture"
+                "-Wno-strict-overflow"
             ],
             "defines": [
                 "V8_DEPRECATION_WARNINGS",
                 "USE_NSS_CERTS=1",
-                "USE_X11=1",
                 "NO_TCMALLOC",
                 "DISABLE_NACL",
                 "CHROMIUM_BUILD",
                 "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
                 "NDEBUG",
                 "NVALGRIND",
                 "DYNAMIC_ANNOTATIONS_ENABLED=0",
@@ -6444,23 +4577,13 @@
                 "-funwind-tables",
                 "-fPIC",
                 "-pipe",
-                "-fcolor-diagnostics",
-                "--target=aarch64-linux-gnu",
                 "-pthread",
                 "-Wall",
                 "-Werror",
-                "-Wextra",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
                 "-Wno-missing-field-initializers",
                 "-Wno-unused-parameter",
-                "-Wno-c++11-narrowing",
-                "-Wno-covered-switch-default",
-                "-Wno-unneeded-internal-declaration",
-                "-Wno-inconsistent-missing-override",
-                "-Wno-undefined-var-template",
-                "-Wno-nonportable-include-path",
-                "-Wno-address-of-packed-member",
-                "-Wno-unused-lambda-capture",
-                "-Wno-user-defined-warnings",
                 "-O2",
                 "-fno-ident",
                 "-fdata-sections",
@@ -6468,44 +4591,19 @@
                 "-fno-omit-frame-pointer",
                 "-g0",
                 "-fvisibility=hidden",
-                "-Xclang",
-                "-load",
-                "-Xclang",
-                "../../../../../../media/webrtc/trunk/webrtc/third_party/llvm-build/Release+Asserts/lib/libFindBadConstructs.so",
-                "-Xclang",
-                "-add-plugin",
-                "-Xclang",
-                "find-bad-constructs",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-auto-raw-pointer",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-ipc",
-                "-Wheader-hygiene",
-                "-Wstring-conversion",
-                "-Wtautological-overlap-compare",
                 "-Wextra",
                 "-Wno-unused-parameter",
                 "-Wno-missing-field-initializers",
-                "-Wno-strict-overflow",
-                "-Wc++11-narrowing",
-                "-Wimplicit-fallthrough",
-                "-Wthread-safety",
-                "-Winconsistent-missing-override",
-                "-Wundef",
-                "-Wunused-lambda-capture"
+                "-Wno-strict-overflow"
             ],
             "defines": [
                 "V8_DEPRECATION_WARNINGS",
                 "USE_NSS_CERTS=1",
-                "USE_X11=1",
                 "NO_TCMALLOC",
                 "DISABLE_NACL",
                 "CHROMIUM_BUILD",
                 "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
                 "NDEBUG",
                 "NVALGRIND",
                 "DYNAMIC_ANNOTATIONS_ENABLED=0",
@@ -6548,23 +4646,13 @@
                 "-funwind-tables",
                 "-fPIC",
                 "-pipe",
-                "-fcolor-diagnostics",
-                "--target=aarch64-linux-gnu",
                 "-pthread",
                 "-Wall",
                 "-Werror",
-                "-Wextra",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
                 "-Wno-missing-field-initializers",
                 "-Wno-unused-parameter",
-                "-Wno-c++11-narrowing",
-                "-Wno-covered-switch-default",
-                "-Wno-unneeded-internal-declaration",
-                "-Wno-inconsistent-missing-override",
-                "-Wno-undefined-var-template",
-                "-Wno-nonportable-include-path",
-                "-Wno-address-of-packed-member",
-                "-Wno-unused-lambda-capture",
-                "-Wno-user-defined-warnings",
                 "-O2",
                 "-fno-ident",
                 "-fdata-sections",
@@ -6572,28 +4660,19 @@
                 "-fno-omit-frame-pointer",
                 "-g0",
                 "-fvisibility=hidden",
-                "-Wheader-hygiene",
-                "-Wstring-conversion",
-                "-Wtautological-overlap-compare",
                 "-Wextra",
                 "-Wno-unused-parameter",
                 "-Wno-missing-field-initializers",
-                "-Wno-strict-overflow",
-                "-Wc++11-narrowing",
-                "-Wimplicit-fallthrough",
-                "-Wthread-safety",
-                "-Winconsistent-missing-override",
-                "-Wundef",
-                "-Wunused-lambda-capture"
+                "-Wno-strict-overflow"
             ],
             "defines": [
                 "V8_DEPRECATION_WARNINGS",
                 "USE_NSS_CERTS=1",
-                "USE_X11=1",
                 "NO_TCMALLOC",
                 "DISABLE_NACL",
                 "CHROMIUM_BUILD",
                 "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
                 "NDEBUG",
                 "NVALGRIND",
                 "DYNAMIC_ANNOTATIONS_ENABLED=0",
@@ -6667,23 +4746,13 @@
                 "-funwind-tables",
                 "-fPIC",
                 "-pipe",
-                "-fcolor-diagnostics",
-                "--target=aarch64-linux-gnu",
                 "-pthread",
                 "-Wall",
                 "-Werror",
-                "-Wextra",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
                 "-Wno-missing-field-initializers",
                 "-Wno-unused-parameter",
-                "-Wno-c++11-narrowing",
-                "-Wno-covered-switch-default",
-                "-Wno-unneeded-internal-declaration",
-                "-Wno-inconsistent-missing-override",
-                "-Wno-undefined-var-template",
-                "-Wno-nonportable-include-path",
-                "-Wno-address-of-packed-member",
-                "-Wno-unused-lambda-capture",
-                "-Wno-user-defined-warnings",
                 "-O2",
                 "-fno-ident",
                 "-fdata-sections",
@@ -6691,44 +4760,19 @@
                 "-fno-omit-frame-pointer",
                 "-g0",
                 "-fvisibility=hidden",
-                "-Xclang",
-                "-load",
-                "-Xclang",
-                "../../../../../../media/webrtc/trunk/webrtc/third_party/llvm-build/Release+Asserts/lib/libFindBadConstructs.so",
-                "-Xclang",
-                "-add-plugin",
-                "-Xclang",
-                "find-bad-constructs",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-auto-raw-pointer",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-ipc",
-                "-Wheader-hygiene",
-                "-Wstring-conversion",
-                "-Wtautological-overlap-compare",
                 "-Wextra",
                 "-Wno-unused-parameter",
                 "-Wno-missing-field-initializers",
-                "-Wno-strict-overflow",
-                "-Wc++11-narrowing",
-                "-Wimplicit-fallthrough",
-                "-Wthread-safety",
-                "-Winconsistent-missing-override",
-                "-Wundef",
-                "-Wunused-lambda-capture"
+                "-Wno-strict-overflow"
             ],
             "defines": [
                 "V8_DEPRECATION_WARNINGS",
                 "USE_NSS_CERTS=1",
-                "USE_X11=1",
                 "NO_TCMALLOC",
                 "DISABLE_NACL",
                 "CHROMIUM_BUILD",
                 "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
                 "NDEBUG",
                 "NVALGRIND",
                 "DYNAMIC_ANNOTATIONS_ENABLED=0",
@@ -6767,23 +4811,13 @@
                 "-funwind-tables",
                 "-fPIC",
                 "-pipe",
-                "-fcolor-diagnostics",
-                "--target=aarch64-linux-gnu",
                 "-pthread",
                 "-Wall",
                 "-Werror",
-                "-Wextra",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
                 "-Wno-missing-field-initializers",
                 "-Wno-unused-parameter",
-                "-Wno-c++11-narrowing",
-                "-Wno-covered-switch-default",
-                "-Wno-unneeded-internal-declaration",
-                "-Wno-inconsistent-missing-override",
-                "-Wno-undefined-var-template",
-                "-Wno-nonportable-include-path",
-                "-Wno-address-of-packed-member",
-                "-Wno-unused-lambda-capture",
-                "-Wno-user-defined-warnings",
                 "-O2",
                 "-fno-ident",
                 "-fdata-sections",
@@ -6791,44 +4825,19 @@
                 "-fno-omit-frame-pointer",
                 "-g0",
                 "-fvisibility=hidden",
-                "-Xclang",
-                "-load",
-                "-Xclang",
-                "../../../../../../media/webrtc/trunk/webrtc/third_party/llvm-build/Release+Asserts/lib/libFindBadConstructs.so",
-                "-Xclang",
-                "-add-plugin",
-                "-Xclang",
-                "find-bad-constructs",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-auto-raw-pointer",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-ipc",
-                "-Wheader-hygiene",
-                "-Wstring-conversion",
-                "-Wtautological-overlap-compare",
                 "-Wextra",
                 "-Wno-unused-parameter",
                 "-Wno-missing-field-initializers",
-                "-Wno-strict-overflow",
-                "-Wc++11-narrowing",
-                "-Wimplicit-fallthrough",
-                "-Wthread-safety",
-                "-Winconsistent-missing-override",
-                "-Wundef",
-                "-Wunused-lambda-capture"
+                "-Wno-strict-overflow"
             ],
             "defines": [
                 "V8_DEPRECATION_WARNINGS",
                 "USE_NSS_CERTS=1",
-                "USE_X11=1",
                 "NO_TCMALLOC",
                 "DISABLE_NACL",
                 "CHROMIUM_BUILD",
                 "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
                 "NDEBUG",
                 "NVALGRIND",
                 "DYNAMIC_ANNOTATIONS_ENABLED=0",
@@ -6879,23 +4888,13 @@
                 "-funwind-tables",
                 "-fPIC",
                 "-pipe",
-                "-fcolor-diagnostics",
-                "--target=aarch64-linux-gnu",
                 "-pthread",
                 "-Wall",
                 "-Werror",
-                "-Wextra",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
                 "-Wno-missing-field-initializers",
                 "-Wno-unused-parameter",
-                "-Wno-c++11-narrowing",
-                "-Wno-covered-switch-default",
-                "-Wno-unneeded-internal-declaration",
-                "-Wno-inconsistent-missing-override",
-                "-Wno-undefined-var-template",
-                "-Wno-nonportable-include-path",
-                "-Wno-address-of-packed-member",
-                "-Wno-unused-lambda-capture",
-                "-Wno-user-defined-warnings",
                 "-O2",
                 "-fno-ident",
                 "-fdata-sections",
@@ -6903,44 +4902,19 @@
                 "-fno-omit-frame-pointer",
                 "-g0",
                 "-fvisibility=hidden",
-                "-Xclang",
-                "-load",
-                "-Xclang",
-                "../../../../../../media/webrtc/trunk/webrtc/third_party/llvm-build/Release+Asserts/lib/libFindBadConstructs.so",
-                "-Xclang",
-                "-add-plugin",
-                "-Xclang",
-                "find-bad-constructs",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-auto-raw-pointer",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-ipc",
-                "-Wheader-hygiene",
-                "-Wstring-conversion",
-                "-Wtautological-overlap-compare",
                 "-Wextra",
                 "-Wno-unused-parameter",
                 "-Wno-missing-field-initializers",
-                "-Wno-strict-overflow",
-                "-Wc++11-narrowing",
-                "-Wimplicit-fallthrough",
-                "-Wthread-safety",
-                "-Winconsistent-missing-override",
-                "-Wundef",
-                "-Wunused-lambda-capture"
+                "-Wno-strict-overflow"
             ],
             "defines": [
                 "V8_DEPRECATION_WARNINGS",
                 "USE_NSS_CERTS=1",
-                "USE_X11=1",
                 "NO_TCMALLOC",
                 "DISABLE_NACL",
                 "CHROMIUM_BUILD",
                 "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
                 "NDEBUG",
                 "NVALGRIND",
                 "DYNAMIC_ANNOTATIONS_ENABLED=0",
@@ -6986,23 +4960,13 @@
                 "-funwind-tables",
                 "-fPIC",
                 "-pipe",
-                "-fcolor-diagnostics",
-                "--target=aarch64-linux-gnu",
                 "-pthread",
                 "-Wall",
                 "-Werror",
-                "-Wextra",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
                 "-Wno-missing-field-initializers",
                 "-Wno-unused-parameter",
-                "-Wno-c++11-narrowing",
-                "-Wno-covered-switch-default",
-                "-Wno-unneeded-internal-declaration",
-                "-Wno-inconsistent-missing-override",
-                "-Wno-undefined-var-template",
-                "-Wno-nonportable-include-path",
-                "-Wno-address-of-packed-member",
-                "-Wno-unused-lambda-capture",
-                "-Wno-user-defined-warnings",
                 "-O2",
                 "-fno-ident",
                 "-fdata-sections",
@@ -7010,44 +4974,19 @@
                 "-fno-omit-frame-pointer",
                 "-g0",
                 "-fvisibility=hidden",
-                "-Xclang",
-                "-load",
-                "-Xclang",
-                "../../../../../../media/webrtc/trunk/webrtc/third_party/llvm-build/Release+Asserts/lib/libFindBadConstructs.so",
-                "-Xclang",
-                "-add-plugin",
-                "-Xclang",
-                "find-bad-constructs",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-auto-raw-pointer",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-ipc",
-                "-Wheader-hygiene",
-                "-Wstring-conversion",
-                "-Wtautological-overlap-compare",
                 "-Wextra",
                 "-Wno-unused-parameter",
                 "-Wno-missing-field-initializers",
-                "-Wno-strict-overflow",
-                "-Wc++11-narrowing",
-                "-Wimplicit-fallthrough",
-                "-Wthread-safety",
-                "-Winconsistent-missing-override",
-                "-Wundef",
-                "-Wunused-lambda-capture"
+                "-Wno-strict-overflow"
             ],
             "defines": [
                 "V8_DEPRECATION_WARNINGS",
                 "USE_NSS_CERTS=1",
-                "USE_X11=1",
                 "NO_TCMALLOC",
                 "DISABLE_NACL",
                 "CHROMIUM_BUILD",
                 "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
                 "NDEBUG",
                 "NVALGRIND",
                 "DYNAMIC_ANNOTATIONS_ENABLED=0",
@@ -7088,23 +5027,13 @@
                 "-funwind-tables",
                 "-fPIC",
                 "-pipe",
-                "-fcolor-diagnostics",
-                "--target=aarch64-linux-gnu",
                 "-pthread",
                 "-Wall",
                 "-Werror",
-                "-Wextra",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
                 "-Wno-missing-field-initializers",
                 "-Wno-unused-parameter",
-                "-Wno-c++11-narrowing",
-                "-Wno-covered-switch-default",
-                "-Wno-unneeded-internal-declaration",
-                "-Wno-inconsistent-missing-override",
-                "-Wno-undefined-var-template",
-                "-Wno-nonportable-include-path",
-                "-Wno-address-of-packed-member",
-                "-Wno-unused-lambda-capture",
-                "-Wno-user-defined-warnings",
                 "-O2",
                 "-fno-ident",
                 "-fdata-sections",
@@ -7112,44 +5041,19 @@
                 "-fno-omit-frame-pointer",
                 "-g0",
                 "-fvisibility=hidden",
-                "-Xclang",
-                "-load",
-                "-Xclang",
-                "../../../../../../media/webrtc/trunk/webrtc/third_party/llvm-build/Release+Asserts/lib/libFindBadConstructs.so",
-                "-Xclang",
-                "-add-plugin",
-                "-Xclang",
-                "find-bad-constructs",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-auto-raw-pointer",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-ipc",
-                "-Wheader-hygiene",
-                "-Wstring-conversion",
-                "-Wtautological-overlap-compare",
                 "-Wextra",
                 "-Wno-unused-parameter",
                 "-Wno-missing-field-initializers",
-                "-Wno-strict-overflow",
-                "-Wc++11-narrowing",
-                "-Wimplicit-fallthrough",
-                "-Wthread-safety",
-                "-Winconsistent-missing-override",
-                "-Wundef",
-                "-Wunused-lambda-capture"
+                "-Wno-strict-overflow"
             ],
             "defines": [
                 "V8_DEPRECATION_WARNINGS",
                 "USE_NSS_CERTS=1",
-                "USE_X11=1",
                 "NO_TCMALLOC",
                 "DISABLE_NACL",
                 "CHROMIUM_BUILD",
                 "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
                 "NDEBUG",
                 "NVALGRIND",
                 "DYNAMIC_ANNOTATIONS_ENABLED=0",
@@ -7196,23 +5100,13 @@
                 "-funwind-tables",
                 "-fPIC",
                 "-pipe",
-                "-fcolor-diagnostics",
-                "--target=aarch64-linux-gnu",
                 "-pthread",
                 "-Wall",
                 "-Werror",
-                "-Wextra",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
                 "-Wno-missing-field-initializers",
                 "-Wno-unused-parameter",
-                "-Wno-c++11-narrowing",
-                "-Wno-covered-switch-default",
-                "-Wno-unneeded-internal-declaration",
-                "-Wno-inconsistent-missing-override",
-                "-Wno-undefined-var-template",
-                "-Wno-nonportable-include-path",
-                "-Wno-address-of-packed-member",
-                "-Wno-unused-lambda-capture",
-                "-Wno-user-defined-warnings",
                 "-O2",
                 "-fno-ident",
                 "-fdata-sections",
@@ -7220,44 +5114,19 @@
                 "-fno-omit-frame-pointer",
                 "-g0",
                 "-fvisibility=hidden",
-                "-Xclang",
-                "-load",
-                "-Xclang",
-                "../../../../../../media/webrtc/trunk/webrtc/third_party/llvm-build/Release+Asserts/lib/libFindBadConstructs.so",
-                "-Xclang",
-                "-add-plugin",
-                "-Xclang",
-                "find-bad-constructs",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-auto-raw-pointer",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-ipc",
-                "-Wheader-hygiene",
-                "-Wstring-conversion",
-                "-Wtautological-overlap-compare",
                 "-Wextra",
                 "-Wno-unused-parameter",
                 "-Wno-missing-field-initializers",
-                "-Wno-strict-overflow",
-                "-Wc++11-narrowing",
-                "-Wimplicit-fallthrough",
-                "-Wthread-safety",
-                "-Winconsistent-missing-override",
-                "-Wundef",
-                "-Wunused-lambda-capture"
+                "-Wno-strict-overflow"
             ],
             "defines": [
                 "V8_DEPRECATION_WARNINGS",
                 "USE_NSS_CERTS=1",
-                "USE_X11=1",
                 "NO_TCMALLOC",
                 "DISABLE_NACL",
                 "CHROMIUM_BUILD",
                 "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
                 "NDEBUG",
                 "NVALGRIND",
                 "DYNAMIC_ANNOTATIONS_ENABLED=0",
@@ -7299,23 +5168,13 @@
                 "-funwind-tables",
                 "-fPIC",
                 "-pipe",
-                "-fcolor-diagnostics",
-                "--target=aarch64-linux-gnu",
                 "-pthread",
                 "-Wall",
                 "-Werror",
-                "-Wextra",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
                 "-Wno-missing-field-initializers",
                 "-Wno-unused-parameter",
-                "-Wno-c++11-narrowing",
-                "-Wno-covered-switch-default",
-                "-Wno-unneeded-internal-declaration",
-                "-Wno-inconsistent-missing-override",
-                "-Wno-undefined-var-template",
-                "-Wno-nonportable-include-path",
-                "-Wno-address-of-packed-member",
-                "-Wno-unused-lambda-capture",
-                "-Wno-user-defined-warnings",
                 "-O2",
                 "-fno-ident",
                 "-fdata-sections",
@@ -7323,44 +5182,19 @@
                 "-fno-omit-frame-pointer",
                 "-g0",
                 "-fvisibility=hidden",
-                "-Xclang",
-                "-load",
-                "-Xclang",
-                "../../../../../../media/webrtc/trunk/webrtc/third_party/llvm-build/Release+Asserts/lib/libFindBadConstructs.so",
-                "-Xclang",
-                "-add-plugin",
-                "-Xclang",
-                "find-bad-constructs",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-auto-raw-pointer",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-ipc",
-                "-Wheader-hygiene",
-                "-Wstring-conversion",
-                "-Wtautological-overlap-compare",
                 "-Wextra",
                 "-Wno-unused-parameter",
                 "-Wno-missing-field-initializers",
-                "-Wno-strict-overflow",
-                "-Wc++11-narrowing",
-                "-Wimplicit-fallthrough",
-                "-Wthread-safety",
-                "-Winconsistent-missing-override",
-                "-Wundef",
-                "-Wunused-lambda-capture"
+                "-Wno-strict-overflow"
             ],
             "defines": [
                 "V8_DEPRECATION_WARNINGS",
                 "USE_NSS_CERTS=1",
-                "USE_X11=1",
                 "NO_TCMALLOC",
                 "DISABLE_NACL",
                 "CHROMIUM_BUILD",
                 "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
                 "NDEBUG",
                 "NVALGRIND",
                 "DYNAMIC_ANNOTATIONS_ENABLED=0",
@@ -7413,23 +5247,13 @@
                 "-funwind-tables",
                 "-fPIC",
                 "-pipe",
-                "-fcolor-diagnostics",
-                "--target=aarch64-linux-gnu",
                 "-pthread",
                 "-Wall",
                 "-Werror",
-                "-Wextra",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
                 "-Wno-missing-field-initializers",
                 "-Wno-unused-parameter",
-                "-Wno-c++11-narrowing",
-                "-Wno-covered-switch-default",
-                "-Wno-unneeded-internal-declaration",
-                "-Wno-inconsistent-missing-override",
-                "-Wno-undefined-var-template",
-                "-Wno-nonportable-include-path",
-                "-Wno-address-of-packed-member",
-                "-Wno-unused-lambda-capture",
-                "-Wno-user-defined-warnings",
                 "-O2",
                 "-fno-ident",
                 "-fdata-sections",
@@ -7437,44 +5261,19 @@
                 "-fno-omit-frame-pointer",
                 "-g0",
                 "-fvisibility=hidden",
-                "-Xclang",
-                "-load",
-                "-Xclang",
-                "../../../../../../media/webrtc/trunk/webrtc/third_party/llvm-build/Release+Asserts/lib/libFindBadConstructs.so",
-                "-Xclang",
-                "-add-plugin",
-                "-Xclang",
-                "find-bad-constructs",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-auto-raw-pointer",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-ipc",
-                "-Wheader-hygiene",
-                "-Wstring-conversion",
-                "-Wtautological-overlap-compare",
                 "-Wextra",
                 "-Wno-unused-parameter",
                 "-Wno-missing-field-initializers",
-                "-Wno-strict-overflow",
-                "-Wc++11-narrowing",
-                "-Wimplicit-fallthrough",
-                "-Wthread-safety",
-                "-Winconsistent-missing-override",
-                "-Wundef",
-                "-Wunused-lambda-capture"
+                "-Wno-strict-overflow"
             ],
             "defines": [
                 "V8_DEPRECATION_WARNINGS",
                 "USE_NSS_CERTS=1",
-                "USE_X11=1",
                 "NO_TCMALLOC",
                 "DISABLE_NACL",
                 "CHROMIUM_BUILD",
                 "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
                 "NDEBUG",
                 "NVALGRIND",
                 "DYNAMIC_ANNOTATIONS_ENABLED=0",
@@ -7659,23 +5458,13 @@
                 "-funwind-tables",
                 "-fPIC",
                 "-pipe",
-                "-fcolor-diagnostics",
-                "--target=aarch64-linux-gnu",
                 "-pthread",
                 "-Wall",
                 "-Werror",
-                "-Wextra",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
                 "-Wno-missing-field-initializers",
                 "-Wno-unused-parameter",
-                "-Wno-c++11-narrowing",
-                "-Wno-covered-switch-default",
-                "-Wno-unneeded-internal-declaration",
-                "-Wno-inconsistent-missing-override",
-                "-Wno-undefined-var-template",
-                "-Wno-nonportable-include-path",
-                "-Wno-address-of-packed-member",
-                "-Wno-unused-lambda-capture",
-                "-Wno-user-defined-warnings",
                 "-O2",
                 "-fno-ident",
                 "-fdata-sections",
@@ -7683,44 +5472,19 @@
                 "-fno-omit-frame-pointer",
                 "-g0",
                 "-fvisibility=hidden",
-                "-Xclang",
-                "-load",
-                "-Xclang",
-                "../../../../../../media/webrtc/trunk/webrtc/third_party/llvm-build/Release+Asserts/lib/libFindBadConstructs.so",
-                "-Xclang",
-                "-add-plugin",
-                "-Xclang",
-                "find-bad-constructs",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-auto-raw-pointer",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-ipc",
-                "-Wheader-hygiene",
-                "-Wstring-conversion",
-                "-Wtautological-overlap-compare",
                 "-Wextra",
                 "-Wno-unused-parameter",
                 "-Wno-missing-field-initializers",
-                "-Wno-strict-overflow",
-                "-Wc++11-narrowing",
-                "-Wimplicit-fallthrough",
-                "-Wthread-safety",
-                "-Winconsistent-missing-override",
-                "-Wundef",
-                "-Wunused-lambda-capture"
+                "-Wno-strict-overflow"
             ],
             "defines": [
                 "V8_DEPRECATION_WARNINGS",
                 "USE_NSS_CERTS=1",
-                "USE_X11=1",
                 "NO_TCMALLOC",
                 "DISABLE_NACL",
                 "CHROMIUM_BUILD",
                 "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
                 "NDEBUG",
                 "NVALGRIND",
                 "DYNAMIC_ANNOTATIONS_ENABLED=0",
@@ -7767,23 +5531,13 @@
                 "-funwind-tables",
                 "-fPIC",
                 "-pipe",
-                "-fcolor-diagnostics",
-                "--target=aarch64-linux-gnu",
                 "-pthread",
                 "-Wall",
                 "-Werror",
-                "-Wextra",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
                 "-Wno-missing-field-initializers",
                 "-Wno-unused-parameter",
-                "-Wno-c++11-narrowing",
-                "-Wno-covered-switch-default",
-                "-Wno-unneeded-internal-declaration",
-                "-Wno-inconsistent-missing-override",
-                "-Wno-undefined-var-template",
-                "-Wno-nonportable-include-path",
-                "-Wno-address-of-packed-member",
-                "-Wno-unused-lambda-capture",
-                "-Wno-user-defined-warnings",
                 "-O2",
                 "-fno-ident",
                 "-fdata-sections",
@@ -7791,44 +5545,19 @@
                 "-fno-omit-frame-pointer",
                 "-g0",
                 "-fvisibility=hidden",
-                "-Xclang",
-                "-load",
-                "-Xclang",
-                "../../../../../../media/webrtc/trunk/webrtc/third_party/llvm-build/Release+Asserts/lib/libFindBadConstructs.so",
-                "-Xclang",
-                "-add-plugin",
-                "-Xclang",
-                "find-bad-constructs",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-auto-raw-pointer",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-ipc",
-                "-Wheader-hygiene",
-                "-Wstring-conversion",
-                "-Wtautological-overlap-compare",
                 "-Wextra",
                 "-Wno-unused-parameter",
                 "-Wno-missing-field-initializers",
-                "-Wno-strict-overflow",
-                "-Wc++11-narrowing",
-                "-Wimplicit-fallthrough",
-                "-Wthread-safety",
-                "-Winconsistent-missing-override",
-                "-Wundef",
-                "-Wunused-lambda-capture"
+                "-Wno-strict-overflow"
             ],
             "defines": [
                 "V8_DEPRECATION_WARNINGS",
                 "USE_NSS_CERTS=1",
-                "USE_X11=1",
                 "NO_TCMALLOC",
                 "DISABLE_NACL",
                 "CHROMIUM_BUILD",
                 "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
                 "NDEBUG",
                 "NVALGRIND",
                 "DYNAMIC_ANNOTATIONS_ENABLED=0",
@@ -7926,23 +5655,13 @@
                 "-funwind-tables",
                 "-fPIC",
                 "-pipe",
-                "-fcolor-diagnostics",
-                "--target=aarch64-linux-gnu",
                 "-pthread",
                 "-Wall",
                 "-Werror",
-                "-Wextra",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
                 "-Wno-missing-field-initializers",
                 "-Wno-unused-parameter",
-                "-Wno-c++11-narrowing",
-                "-Wno-covered-switch-default",
-                "-Wno-unneeded-internal-declaration",
-                "-Wno-inconsistent-missing-override",
-                "-Wno-undefined-var-template",
-                "-Wno-nonportable-include-path",
-                "-Wno-address-of-packed-member",
-                "-Wno-unused-lambda-capture",
-                "-Wno-user-defined-warnings",
                 "-O2",
                 "-fno-ident",
                 "-fdata-sections",
@@ -7950,44 +5669,19 @@
                 "-fno-omit-frame-pointer",
                 "-g0",
                 "-fvisibility=hidden",
-                "-Xclang",
-                "-load",
-                "-Xclang",
-                "../../../../../../media/webrtc/trunk/webrtc/third_party/llvm-build/Release+Asserts/lib/libFindBadConstructs.so",
-                "-Xclang",
-                "-add-plugin",
-                "-Xclang",
-                "find-bad-constructs",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-auto-raw-pointer",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-ipc",
-                "-Wheader-hygiene",
-                "-Wstring-conversion",
-                "-Wtautological-overlap-compare",
                 "-Wextra",
                 "-Wno-unused-parameter",
                 "-Wno-missing-field-initializers",
-                "-Wno-strict-overflow",
-                "-Wc++11-narrowing",
-                "-Wimplicit-fallthrough",
-                "-Wthread-safety",
-                "-Winconsistent-missing-override",
-                "-Wundef",
-                "-Wunused-lambda-capture"
+                "-Wno-strict-overflow"
             ],
             "defines": [
                 "V8_DEPRECATION_WARNINGS",
                 "USE_NSS_CERTS=1",
-                "USE_X11=1",
                 "NO_TCMALLOC",
                 "DISABLE_NACL",
                 "CHROMIUM_BUILD",
                 "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
                 "NDEBUG",
                 "NVALGRIND",
                 "DYNAMIC_ANNOTATIONS_ENABLED=0",
@@ -8030,23 +5724,13 @@
                 "-funwind-tables",
                 "-fPIC",
                 "-pipe",
-                "-fcolor-diagnostics",
-                "--target=aarch64-linux-gnu",
                 "-pthread",
                 "-Wall",
                 "-Werror",
-                "-Wextra",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
                 "-Wno-missing-field-initializers",
                 "-Wno-unused-parameter",
-                "-Wno-c++11-narrowing",
-                "-Wno-covered-switch-default",
-                "-Wno-unneeded-internal-declaration",
-                "-Wno-inconsistent-missing-override",
-                "-Wno-undefined-var-template",
-                "-Wno-nonportable-include-path",
-                "-Wno-address-of-packed-member",
-                "-Wno-unused-lambda-capture",
-                "-Wno-user-defined-warnings",
                 "-O2",
                 "-fno-ident",
                 "-fdata-sections",
@@ -8054,44 +5738,19 @@
                 "-fno-omit-frame-pointer",
                 "-g0",
                 "-fvisibility=hidden",
-                "-Xclang",
-                "-load",
-                "-Xclang",
-                "../../../../../../media/webrtc/trunk/webrtc/third_party/llvm-build/Release+Asserts/lib/libFindBadConstructs.so",
-                "-Xclang",
-                "-add-plugin",
-                "-Xclang",
-                "find-bad-constructs",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-auto-raw-pointer",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-ipc",
-                "-Wheader-hygiene",
-                "-Wstring-conversion",
-                "-Wtautological-overlap-compare",
                 "-Wextra",
                 "-Wno-unused-parameter",
                 "-Wno-missing-field-initializers",
-                "-Wno-strict-overflow",
-                "-Wc++11-narrowing",
-                "-Wimplicit-fallthrough",
-                "-Wthread-safety",
-                "-Winconsistent-missing-override",
-                "-Wundef",
-                "-Wunused-lambda-capture"
+                "-Wno-strict-overflow"
             ],
             "defines": [
                 "V8_DEPRECATION_WARNINGS",
                 "USE_NSS_CERTS=1",
-                "USE_X11=1",
                 "NO_TCMALLOC",
                 "DISABLE_NACL",
                 "CHROMIUM_BUILD",
                 "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
                 "NDEBUG",
                 "NVALGRIND",
                 "DYNAMIC_ANNOTATIONS_ENABLED=0",
@@ -8184,23 +5843,13 @@
                 "-funwind-tables",
                 "-fPIC",
                 "-pipe",
-                "-fcolor-diagnostics",
-                "--target=aarch64-linux-gnu",
                 "-pthread",
                 "-Wall",
                 "-Werror",
-                "-Wextra",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
                 "-Wno-missing-field-initializers",
                 "-Wno-unused-parameter",
-                "-Wno-c++11-narrowing",
-                "-Wno-covered-switch-default",
-                "-Wno-unneeded-internal-declaration",
-                "-Wno-inconsistent-missing-override",
-                "-Wno-undefined-var-template",
-                "-Wno-nonportable-include-path",
-                "-Wno-address-of-packed-member",
-                "-Wno-unused-lambda-capture",
-                "-Wno-user-defined-warnings",
                 "-O2",
                 "-fno-ident",
                 "-fdata-sections",
@@ -8208,44 +5857,19 @@
                 "-fno-omit-frame-pointer",
                 "-g0",
                 "-fvisibility=hidden",
-                "-Xclang",
-                "-load",
-                "-Xclang",
-                "../../../../../../media/webrtc/trunk/webrtc/third_party/llvm-build/Release+Asserts/lib/libFindBadConstructs.so",
-                "-Xclang",
-                "-add-plugin",
-                "-Xclang",
-                "find-bad-constructs",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-auto-raw-pointer",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-ipc",
-                "-Wheader-hygiene",
-                "-Wstring-conversion",
-                "-Wtautological-overlap-compare",
                 "-Wextra",
                 "-Wno-unused-parameter",
                 "-Wno-missing-field-initializers",
-                "-Wno-strict-overflow",
-                "-Wc++11-narrowing",
-                "-Wimplicit-fallthrough",
-                "-Wthread-safety",
-                "-Winconsistent-missing-override",
-                "-Wundef",
-                "-Wunused-lambda-capture"
+                "-Wno-strict-overflow"
             ],
             "defines": [
                 "V8_DEPRECATION_WARNINGS",
                 "USE_NSS_CERTS=1",
-                "USE_X11=1",
                 "NO_TCMALLOC",
                 "DISABLE_NACL",
                 "CHROMIUM_BUILD",
                 "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
                 "NDEBUG",
                 "NVALGRIND",
                 "DYNAMIC_ANNOTATIONS_ENABLED=0",
@@ -8285,23 +5909,13 @@
                 "-funwind-tables",
                 "-fPIC",
                 "-pipe",
-                "-fcolor-diagnostics",
-                "--target=aarch64-linux-gnu",
                 "-pthread",
                 "-Wall",
                 "-Werror",
-                "-Wextra",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
                 "-Wno-missing-field-initializers",
                 "-Wno-unused-parameter",
-                "-Wno-c++11-narrowing",
-                "-Wno-covered-switch-default",
-                "-Wno-unneeded-internal-declaration",
-                "-Wno-inconsistent-missing-override",
-                "-Wno-undefined-var-template",
-                "-Wno-nonportable-include-path",
-                "-Wno-address-of-packed-member",
-                "-Wno-unused-lambda-capture",
-                "-Wno-user-defined-warnings",
                 "-O2",
                 "-fno-ident",
                 "-fdata-sections",
@@ -8309,44 +5923,19 @@
                 "-fno-omit-frame-pointer",
                 "-g0",
                 "-fvisibility=hidden",
-                "-Xclang",
-                "-load",
-                "-Xclang",
-                "../../../../../../media/webrtc/trunk/webrtc/third_party/llvm-build/Release+Asserts/lib/libFindBadConstructs.so",
-                "-Xclang",
-                "-add-plugin",
-                "-Xclang",
-                "find-bad-constructs",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-auto-raw-pointer",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-ipc",
-                "-Wheader-hygiene",
-                "-Wstring-conversion",
-                "-Wtautological-overlap-compare",
                 "-Wextra",
                 "-Wno-unused-parameter",
                 "-Wno-missing-field-initializers",
-                "-Wno-strict-overflow",
-                "-Wc++11-narrowing",
-                "-Wimplicit-fallthrough",
-                "-Wthread-safety",
-                "-Winconsistent-missing-override",
-                "-Wundef",
-                "-Wunused-lambda-capture"
+                "-Wno-strict-overflow"
             ],
             "defines": [
                 "V8_DEPRECATION_WARNINGS",
                 "USE_NSS_CERTS=1",
-                "USE_X11=1",
                 "NO_TCMALLOC",
                 "DISABLE_NACL",
                 "CHROMIUM_BUILD",
                 "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
                 "NDEBUG",
                 "NVALGRIND",
                 "DYNAMIC_ANNOTATIONS_ENABLED=0",
@@ -8396,23 +5985,13 @@
                 "-funwind-tables",
                 "-fPIC",
                 "-pipe",
-                "-fcolor-diagnostics",
-                "--target=aarch64-linux-gnu",
                 "-pthread",
                 "-Wall",
                 "-Werror",
-                "-Wextra",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
                 "-Wno-missing-field-initializers",
                 "-Wno-unused-parameter",
-                "-Wno-c++11-narrowing",
-                "-Wno-covered-switch-default",
-                "-Wno-unneeded-internal-declaration",
-                "-Wno-inconsistent-missing-override",
-                "-Wno-undefined-var-template",
-                "-Wno-nonportable-include-path",
-                "-Wno-address-of-packed-member",
-                "-Wno-unused-lambda-capture",
-                "-Wno-user-defined-warnings",
                 "-O2",
                 "-fno-ident",
                 "-fdata-sections",
@@ -8420,44 +5999,19 @@
                 "-fno-omit-frame-pointer",
                 "-g0",
                 "-fvisibility=hidden",
-                "-Xclang",
-                "-load",
-                "-Xclang",
-                "../../../../../../media/webrtc/trunk/webrtc/third_party/llvm-build/Release+Asserts/lib/libFindBadConstructs.so",
-                "-Xclang",
-                "-add-plugin",
-                "-Xclang",
-                "find-bad-constructs",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-auto-raw-pointer",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-ipc",
-                "-Wheader-hygiene",
-                "-Wstring-conversion",
-                "-Wtautological-overlap-compare",
                 "-Wextra",
                 "-Wno-unused-parameter",
                 "-Wno-missing-field-initializers",
-                "-Wno-strict-overflow",
-                "-Wc++11-narrowing",
-                "-Wimplicit-fallthrough",
-                "-Wthread-safety",
-                "-Winconsistent-missing-override",
-                "-Wundef",
-                "-Wunused-lambda-capture"
+                "-Wno-strict-overflow"
             ],
             "defines": [
                 "V8_DEPRECATION_WARNINGS",
                 "USE_NSS_CERTS=1",
-                "USE_X11=1",
                 "NO_TCMALLOC",
                 "DISABLE_NACL",
                 "CHROMIUM_BUILD",
                 "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
                 "NDEBUG",
                 "NVALGRIND",
                 "DYNAMIC_ANNOTATIONS_ENABLED=0",
@@ -8498,23 +6052,13 @@
                 "-funwind-tables",
                 "-fPIC",
                 "-pipe",
-                "-fcolor-diagnostics",
-                "--target=aarch64-linux-gnu",
                 "-pthread",
                 "-Wall",
                 "-Werror",
-                "-Wextra",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
                 "-Wno-missing-field-initializers",
                 "-Wno-unused-parameter",
-                "-Wno-c++11-narrowing",
-                "-Wno-covered-switch-default",
-                "-Wno-unneeded-internal-declaration",
-                "-Wno-inconsistent-missing-override",
-                "-Wno-undefined-var-template",
-                "-Wno-nonportable-include-path",
-                "-Wno-address-of-packed-member",
-                "-Wno-unused-lambda-capture",
-                "-Wno-user-defined-warnings",
                 "-O2",
                 "-fno-ident",
                 "-fdata-sections",
@@ -8522,44 +6066,19 @@
                 "-fno-omit-frame-pointer",
                 "-g0",
                 "-fvisibility=hidden",
-                "-Xclang",
-                "-load",
-                "-Xclang",
-                "../../../../../../media/webrtc/trunk/webrtc/third_party/llvm-build/Release+Asserts/lib/libFindBadConstructs.so",
-                "-Xclang",
-                "-add-plugin",
-                "-Xclang",
-                "find-bad-constructs",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-auto-raw-pointer",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-ipc",
-                "-Wheader-hygiene",
-                "-Wstring-conversion",
-                "-Wtautological-overlap-compare",
                 "-Wextra",
                 "-Wno-unused-parameter",
                 "-Wno-missing-field-initializers",
-                "-Wno-strict-overflow",
-                "-Wc++11-narrowing",
-                "-Wimplicit-fallthrough",
-                "-Wthread-safety",
-                "-Winconsistent-missing-override",
-                "-Wundef",
-                "-Wunused-lambda-capture"
+                "-Wno-strict-overflow"
             ],
             "defines": [
                 "V8_DEPRECATION_WARNINGS",
                 "USE_NSS_CERTS=1",
-                "USE_X11=1",
                 "NO_TCMALLOC",
                 "DISABLE_NACL",
                 "CHROMIUM_BUILD",
                 "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
                 "NDEBUG",
                 "NVALGRIND",
                 "DYNAMIC_ANNOTATIONS_ENABLED=0",
@@ -8681,23 +6200,13 @@
                 "-funwind-tables",
                 "-fPIC",
                 "-pipe",
-                "-fcolor-diagnostics",
-                "--target=aarch64-linux-gnu",
                 "-pthread",
                 "-Wall",
                 "-Werror",
-                "-Wextra",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
                 "-Wno-missing-field-initializers",
                 "-Wno-unused-parameter",
-                "-Wno-c++11-narrowing",
-                "-Wno-covered-switch-default",
-                "-Wno-unneeded-internal-declaration",
-                "-Wno-inconsistent-missing-override",
-                "-Wno-undefined-var-template",
-                "-Wno-nonportable-include-path",
-                "-Wno-address-of-packed-member",
-                "-Wno-unused-lambda-capture",
-                "-Wno-user-defined-warnings",
                 "-O2",
                 "-fno-ident",
                 "-fdata-sections",
@@ -8705,44 +6214,19 @@
                 "-fno-omit-frame-pointer",
                 "-g0",
                 "-fvisibility=hidden",
-                "-Xclang",
-                "-load",
-                "-Xclang",
-                "../../../../../../media/webrtc/trunk/webrtc/third_party/llvm-build/Release+Asserts/lib/libFindBadConstructs.so",
-                "-Xclang",
-                "-add-plugin",
-                "-Xclang",
-                "find-bad-constructs",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-auto-raw-pointer",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-ipc",
-                "-Wheader-hygiene",
-                "-Wstring-conversion",
-                "-Wtautological-overlap-compare",
                 "-Wextra",
                 "-Wno-unused-parameter",
                 "-Wno-missing-field-initializers",
-                "-Wno-strict-overflow",
-                "-Wc++11-narrowing",
-                "-Wimplicit-fallthrough",
-                "-Wthread-safety",
-                "-Winconsistent-missing-override",
-                "-Wundef",
-                "-Wunused-lambda-capture"
+                "-Wno-strict-overflow"
             ],
             "defines": [
                 "V8_DEPRECATION_WARNINGS",
                 "USE_NSS_CERTS=1",
-                "USE_X11=1",
                 "NO_TCMALLOC",
                 "DISABLE_NACL",
                 "CHROMIUM_BUILD",
                 "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
                 "NDEBUG",
                 "NVALGRIND",
                 "DYNAMIC_ANNOTATIONS_ENABLED=0",
@@ -8783,23 +6267,13 @@
                 "-funwind-tables",
                 "-fPIC",
                 "-pipe",
-                "-fcolor-diagnostics",
-                "--target=aarch64-linux-gnu",
                 "-pthread",
                 "-Wall",
                 "-Werror",
-                "-Wextra",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
                 "-Wno-missing-field-initializers",
                 "-Wno-unused-parameter",
-                "-Wno-c++11-narrowing",
-                "-Wno-covered-switch-default",
-                "-Wno-unneeded-internal-declaration",
-                "-Wno-inconsistent-missing-override",
-                "-Wno-undefined-var-template",
-                "-Wno-nonportable-include-path",
-                "-Wno-address-of-packed-member",
-                "-Wno-unused-lambda-capture",
-                "-Wno-user-defined-warnings",
                 "-O2",
                 "-fno-ident",
                 "-fdata-sections",
@@ -8807,44 +6281,19 @@
                 "-fno-omit-frame-pointer",
                 "-g0",
                 "-fvisibility=hidden",
-                "-Xclang",
-                "-load",
-                "-Xclang",
-                "../../../../../../media/webrtc/trunk/webrtc/third_party/llvm-build/Release+Asserts/lib/libFindBadConstructs.so",
-                "-Xclang",
-                "-add-plugin",
-                "-Xclang",
-                "find-bad-constructs",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-auto-raw-pointer",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-ipc",
-                "-Wheader-hygiene",
-                "-Wstring-conversion",
-                "-Wtautological-overlap-compare",
                 "-Wextra",
                 "-Wno-unused-parameter",
                 "-Wno-missing-field-initializers",
-                "-Wno-strict-overflow",
-                "-Wc++11-narrowing",
-                "-Wimplicit-fallthrough",
-                "-Wthread-safety",
-                "-Winconsistent-missing-override",
-                "-Wundef",
-                "-Wunused-lambda-capture"
+                "-Wno-strict-overflow"
             ],
             "defines": [
                 "V8_DEPRECATION_WARNINGS",
                 "USE_NSS_CERTS=1",
-                "USE_X11=1",
                 "NO_TCMALLOC",
                 "DISABLE_NACL",
                 "CHROMIUM_BUILD",
                 "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
                 "NDEBUG",
                 "NVALGRIND",
                 "DYNAMIC_ANNOTATIONS_ENABLED=0",
@@ -8894,23 +6343,13 @@
                 "-funwind-tables",
                 "-fPIC",
                 "-pipe",
-                "-fcolor-diagnostics",
-                "--target=aarch64-linux-gnu",
                 "-pthread",
                 "-Wall",
                 "-Werror",
-                "-Wextra",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
                 "-Wno-missing-field-initializers",
                 "-Wno-unused-parameter",
-                "-Wno-c++11-narrowing",
-                "-Wno-covered-switch-default",
-                "-Wno-unneeded-internal-declaration",
-                "-Wno-inconsistent-missing-override",
-                "-Wno-undefined-var-template",
-                "-Wno-nonportable-include-path",
-                "-Wno-address-of-packed-member",
-                "-Wno-unused-lambda-capture",
-                "-Wno-user-defined-warnings",
                 "-O2",
                 "-fno-ident",
                 "-fdata-sections",
@@ -8918,44 +6357,19 @@
                 "-fno-omit-frame-pointer",
                 "-g0",
                 "-fvisibility=hidden",
-                "-Xclang",
-                "-load",
-                "-Xclang",
-                "../../../../../../media/webrtc/trunk/webrtc/third_party/llvm-build/Release+Asserts/lib/libFindBadConstructs.so",
-                "-Xclang",
-                "-add-plugin",
-                "-Xclang",
-                "find-bad-constructs",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-auto-raw-pointer",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-ipc",
-                "-Wheader-hygiene",
-                "-Wstring-conversion",
-                "-Wtautological-overlap-compare",
                 "-Wextra",
                 "-Wno-unused-parameter",
                 "-Wno-missing-field-initializers",
-                "-Wno-strict-overflow",
-                "-Wc++11-narrowing",
-                "-Wimplicit-fallthrough",
-                "-Wthread-safety",
-                "-Winconsistent-missing-override",
-                "-Wundef",
-                "-Wunused-lambda-capture"
+                "-Wno-strict-overflow"
             ],
             "defines": [
                 "V8_DEPRECATION_WARNINGS",
                 "USE_NSS_CERTS=1",
-                "USE_X11=1",
                 "NO_TCMALLOC",
                 "DISABLE_NACL",
                 "CHROMIUM_BUILD",
                 "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
                 "NDEBUG",
                 "NVALGRIND",
                 "DYNAMIC_ANNOTATIONS_ENABLED=0",
@@ -8995,23 +6409,13 @@
                 "-funwind-tables",
                 "-fPIC",
                 "-pipe",
-                "-fcolor-diagnostics",
-                "--target=aarch64-linux-gnu",
                 "-pthread",
                 "-Wall",
                 "-Werror",
-                "-Wextra",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
                 "-Wno-missing-field-initializers",
                 "-Wno-unused-parameter",
-                "-Wno-c++11-narrowing",
-                "-Wno-covered-switch-default",
-                "-Wno-unneeded-internal-declaration",
-                "-Wno-inconsistent-missing-override",
-                "-Wno-undefined-var-template",
-                "-Wno-nonportable-include-path",
-                "-Wno-address-of-packed-member",
-                "-Wno-unused-lambda-capture",
-                "-Wno-user-defined-warnings",
                 "-O2",
                 "-fno-ident",
                 "-fdata-sections",
@@ -9019,35 +6423,10 @@
                 "-fno-omit-frame-pointer",
                 "-g0",
                 "-fvisibility=hidden",
-                "-Xclang",
-                "-load",
-                "-Xclang",
-                "../../../../../../media/webrtc/trunk/webrtc/third_party/llvm-build/Release+Asserts/lib/libFindBadConstructs.so",
-                "-Xclang",
-                "-add-plugin",
-                "-Xclang",
-                "find-bad-constructs",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-auto-raw-pointer",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-ipc",
-                "-Wheader-hygiene",
-                "-Wstring-conversion",
-                "-Wtautological-overlap-compare",
                 "-Wextra",
                 "-Wno-unused-parameter",
                 "-Wno-missing-field-initializers",
-                "-Wno-strict-overflow",
-                "-Wc++11-narrowing",
-                "-Wimplicit-fallthrough",
-                "-Wthread-safety",
-                "-Winconsistent-missing-override",
-                "-Wundef",
-                "-Wunused-lambda-capture"
+                "-Wno-strict-overflow"
             ],
             "defines": [
                 "WEBRTC_CODEC_ILBC",
@@ -9056,11 +6435,11 @@
                 "WEBRTC_CODEC_ISAC",
                 "V8_DEPRECATION_WARNINGS",
                 "USE_NSS_CERTS=1",
-                "USE_X11=1",
                 "NO_TCMALLOC",
                 "DISABLE_NACL",
                 "CHROMIUM_BUILD",
                 "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
                 "NDEBUG",
                 "NVALGRIND",
                 "DYNAMIC_ANNOTATIONS_ENABLED=0",
@@ -9129,23 +6508,13 @@
                 "-funwind-tables",
                 "-fPIC",
                 "-pipe",
-                "-fcolor-diagnostics",
-                "--target=aarch64-linux-gnu",
                 "-pthread",
                 "-Wall",
                 "-Werror",
-                "-Wextra",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
                 "-Wno-missing-field-initializers",
                 "-Wno-unused-parameter",
-                "-Wno-c++11-narrowing",
-                "-Wno-covered-switch-default",
-                "-Wno-unneeded-internal-declaration",
-                "-Wno-inconsistent-missing-override",
-                "-Wno-undefined-var-template",
-                "-Wno-nonportable-include-path",
-                "-Wno-address-of-packed-member",
-                "-Wno-unused-lambda-capture",
-                "-Wno-user-defined-warnings",
                 "-O2",
                 "-fno-ident",
                 "-fdata-sections",
@@ -9153,35 +6522,10 @@
                 "-fno-omit-frame-pointer",
                 "-g0",
                 "-fvisibility=hidden",
-                "-Xclang",
-                "-load",
-                "-Xclang",
-                "../../../../../../media/webrtc/trunk/webrtc/third_party/llvm-build/Release+Asserts/lib/libFindBadConstructs.so",
-                "-Xclang",
-                "-add-plugin",
-                "-Xclang",
-                "find-bad-constructs",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-auto-raw-pointer",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-ipc",
-                "-Wheader-hygiene",
-                "-Wstring-conversion",
-                "-Wtautological-overlap-compare",
                 "-Wextra",
                 "-Wno-unused-parameter",
                 "-Wno-missing-field-initializers",
-                "-Wno-strict-overflow",
-                "-Wc++11-narrowing",
-                "-Wimplicit-fallthrough",
-                "-Wthread-safety",
-                "-Winconsistent-missing-override",
-                "-Wundef",
-                "-Wunused-lambda-capture"
+                "-Wno-strict-overflow"
             ],
             "defines": [
                 "WEBRTC_CODEC_ILBC",
@@ -9190,11 +6534,11 @@
                 "WEBRTC_CODEC_ISAC",
                 "V8_DEPRECATION_WARNINGS",
                 "USE_NSS_CERTS=1",
-                "USE_X11=1",
                 "NO_TCMALLOC",
                 "DISABLE_NACL",
                 "CHROMIUM_BUILD",
                 "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
                 "NDEBUG",
                 "NVALGRIND",
                 "DYNAMIC_ANNOTATIONS_ENABLED=0",
@@ -9251,23 +6595,13 @@
                 "-funwind-tables",
                 "-fPIC",
                 "-pipe",
-                "-fcolor-diagnostics",
-                "--target=aarch64-linux-gnu",
                 "-pthread",
                 "-Wall",
                 "-Werror",
-                "-Wextra",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
                 "-Wno-missing-field-initializers",
                 "-Wno-unused-parameter",
-                "-Wno-c++11-narrowing",
-                "-Wno-covered-switch-default",
-                "-Wno-unneeded-internal-declaration",
-                "-Wno-inconsistent-missing-override",
-                "-Wno-undefined-var-template",
-                "-Wno-nonportable-include-path",
-                "-Wno-address-of-packed-member",
-                "-Wno-unused-lambda-capture",
-                "-Wno-user-defined-warnings",
                 "-O2",
                 "-fno-ident",
                 "-fdata-sections",
@@ -9275,35 +6609,10 @@
                 "-fno-omit-frame-pointer",
                 "-g0",
                 "-fvisibility=hidden",
-                "-Xclang",
-                "-load",
-                "-Xclang",
-                "../../../../../../media/webrtc/trunk/webrtc/third_party/llvm-build/Release+Asserts/lib/libFindBadConstructs.so",
-                "-Xclang",
-                "-add-plugin",
-                "-Xclang",
-                "find-bad-constructs",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-auto-raw-pointer",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-ipc",
-                "-Wheader-hygiene",
-                "-Wstring-conversion",
-                "-Wtautological-overlap-compare",
                 "-Wextra",
                 "-Wno-unused-parameter",
                 "-Wno-missing-field-initializers",
-                "-Wno-strict-overflow",
-                "-Wc++11-narrowing",
-                "-Wimplicit-fallthrough",
-                "-Wthread-safety",
-                "-Winconsistent-missing-override",
-                "-Wundef",
-                "-Wunused-lambda-capture"
+                "-Wno-strict-overflow"
             ],
             "defines": [
                 "WEBRTC_CODEC_ILBC",
@@ -9312,11 +6621,11 @@
                 "WEBRTC_CODEC_ISAC",
                 "V8_DEPRECATION_WARNINGS",
                 "USE_NSS_CERTS=1",
-                "USE_X11=1",
                 "NO_TCMALLOC",
                 "DISABLE_NACL",
                 "CHROMIUM_BUILD",
                 "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
                 "NDEBUG",
                 "NVALGRIND",
                 "DYNAMIC_ANNOTATIONS_ENABLED=0",
@@ -9358,23 +6667,13 @@
                 "-funwind-tables",
                 "-fPIC",
                 "-pipe",
-                "-fcolor-diagnostics",
-                "--target=aarch64-linux-gnu",
                 "-pthread",
                 "-Wall",
                 "-Werror",
-                "-Wextra",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
                 "-Wno-missing-field-initializers",
                 "-Wno-unused-parameter",
-                "-Wno-c++11-narrowing",
-                "-Wno-covered-switch-default",
-                "-Wno-unneeded-internal-declaration",
-                "-Wno-inconsistent-missing-override",
-                "-Wno-undefined-var-template",
-                "-Wno-nonportable-include-path",
-                "-Wno-address-of-packed-member",
-                "-Wno-unused-lambda-capture",
-                "-Wno-user-defined-warnings",
                 "-O2",
                 "-fno-ident",
                 "-fdata-sections",
@@ -9382,44 +6681,19 @@
                 "-fno-omit-frame-pointer",
                 "-g0",
                 "-fvisibility=hidden",
-                "-Xclang",
-                "-load",
-                "-Xclang",
-                "../../../../../../media/webrtc/trunk/webrtc/third_party/llvm-build/Release+Asserts/lib/libFindBadConstructs.so",
-                "-Xclang",
-                "-add-plugin",
-                "-Xclang",
-                "find-bad-constructs",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-auto-raw-pointer",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-ipc",
-                "-Wheader-hygiene",
-                "-Wstring-conversion",
-                "-Wtautological-overlap-compare",
                 "-Wextra",
                 "-Wno-unused-parameter",
                 "-Wno-missing-field-initializers",
-                "-Wno-strict-overflow",
-                "-Wc++11-narrowing",
-                "-Wimplicit-fallthrough",
-                "-Wthread-safety",
-                "-Winconsistent-missing-override",
-                "-Wundef",
-                "-Wunused-lambda-capture"
+                "-Wno-strict-overflow"
             ],
             "defines": [
                 "V8_DEPRECATION_WARNINGS",
                 "USE_NSS_CERTS=1",
-                "USE_X11=1",
                 "NO_TCMALLOC",
                 "DISABLE_NACL",
                 "CHROMIUM_BUILD",
                 "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
                 "NDEBUG",
                 "NVALGRIND",
                 "DYNAMIC_ANNOTATIONS_ENABLED=0",
@@ -9460,23 +6734,13 @@
                 "-funwind-tables",
                 "-fPIC",
                 "-pipe",
-                "-fcolor-diagnostics",
-                "--target=aarch64-linux-gnu",
                 "-pthread",
                 "-Wall",
                 "-Werror",
-                "-Wextra",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
                 "-Wno-missing-field-initializers",
                 "-Wno-unused-parameter",
-                "-Wno-c++11-narrowing",
-                "-Wno-covered-switch-default",
-                "-Wno-unneeded-internal-declaration",
-                "-Wno-inconsistent-missing-override",
-                "-Wno-undefined-var-template",
-                "-Wno-nonportable-include-path",
-                "-Wno-address-of-packed-member",
-                "-Wno-unused-lambda-capture",
-                "-Wno-user-defined-warnings",
                 "-O2",
                 "-fno-ident",
                 "-fdata-sections",
@@ -9484,29 +6748,20 @@
                 "-fno-omit-frame-pointer",
                 "-g0",
                 "-fvisibility=hidden",
-                "-Wheader-hygiene",
-                "-Wstring-conversion",
-                "-Wtautological-overlap-compare",
                 "-Wextra",
                 "-Wno-unused-parameter",
                 "-Wno-missing-field-initializers",
-                "-Wno-strict-overflow",
-                "-Wc++11-narrowing",
-                "-Wimplicit-fallthrough",
-                "-Wthread-safety",
-                "-Winconsistent-missing-override",
-                "-Wundef",
-                "-Wunused-lambda-capture"
+                "-Wno-strict-overflow"
             ],
             "defines": [
                 "WEBRTC_DUMMY_AUDIO_BUILD",
                 "V8_DEPRECATION_WARNINGS",
                 "USE_NSS_CERTS=1",
-                "USE_X11=1",
                 "NO_TCMALLOC",
                 "DISABLE_NACL",
                 "CHROMIUM_BUILD",
                 "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
                 "NDEBUG",
                 "NVALGRIND",
                 "DYNAMIC_ANNOTATIONS_ENABLED=0",
@@ -9574,23 +6829,13 @@
                 "-funwind-tables",
                 "-fPIC",
                 "-pipe",
-                "-fcolor-diagnostics",
-                "--target=aarch64-linux-gnu",
                 "-pthread",
                 "-Wall",
                 "-Werror",
-                "-Wextra",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
                 "-Wno-missing-field-initializers",
                 "-Wno-unused-parameter",
-                "-Wno-c++11-narrowing",
-                "-Wno-covered-switch-default",
-                "-Wno-unneeded-internal-declaration",
-                "-Wno-inconsistent-missing-override",
-                "-Wno-undefined-var-template",
-                "-Wno-nonportable-include-path",
-                "-Wno-address-of-packed-member",
-                "-Wno-unused-lambda-capture",
-                "-Wno-user-defined-warnings",
                 "-O2",
                 "-fno-ident",
                 "-fdata-sections",
@@ -9598,44 +6843,19 @@
                 "-fno-omit-frame-pointer",
                 "-g0",
                 "-fvisibility=hidden",
-                "-Xclang",
-                "-load",
-                "-Xclang",
-                "../../../../../../media/webrtc/trunk/webrtc/third_party/llvm-build/Release+Asserts/lib/libFindBadConstructs.so",
-                "-Xclang",
-                "-add-plugin",
-                "-Xclang",
-                "find-bad-constructs",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-auto-raw-pointer",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-ipc",
-                "-Wheader-hygiene",
-                "-Wstring-conversion",
-                "-Wtautological-overlap-compare",
                 "-Wextra",
                 "-Wno-unused-parameter",
                 "-Wno-missing-field-initializers",
-                "-Wno-strict-overflow",
-                "-Wc++11-narrowing",
-                "-Wimplicit-fallthrough",
-                "-Wthread-safety",
-                "-Winconsistent-missing-override",
-                "-Wundef",
-                "-Wunused-lambda-capture"
+                "-Wno-strict-overflow"
             ],
             "defines": [
                 "V8_DEPRECATION_WARNINGS",
                 "USE_NSS_CERTS=1",
-                "USE_X11=1",
                 "NO_TCMALLOC",
                 "DISABLE_NACL",
                 "CHROMIUM_BUILD",
                 "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
                 "NDEBUG",
                 "NVALGRIND",
                 "DYNAMIC_ANNOTATIONS_ENABLED=0",
@@ -9678,23 +6898,13 @@
                 "-funwind-tables",
                 "-fPIC",
                 "-pipe",
-                "-fcolor-diagnostics",
-                "--target=aarch64-linux-gnu",
                 "-pthread",
                 "-Wall",
                 "-Werror",
-                "-Wextra",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
                 "-Wno-missing-field-initializers",
                 "-Wno-unused-parameter",
-                "-Wno-c++11-narrowing",
-                "-Wno-covered-switch-default",
-                "-Wno-unneeded-internal-declaration",
-                "-Wno-inconsistent-missing-override",
-                "-Wno-undefined-var-template",
-                "-Wno-nonportable-include-path",
-                "-Wno-address-of-packed-member",
-                "-Wno-unused-lambda-capture",
-                "-Wno-user-defined-warnings",
                 "-O2",
                 "-fno-ident",
                 "-fdata-sections",
@@ -9702,44 +6912,19 @@
                 "-fno-omit-frame-pointer",
                 "-g0",
                 "-fvisibility=hidden",
-                "-Xclang",
-                "-load",
-                "-Xclang",
-                "../../../../../../media/webrtc/trunk/webrtc/third_party/llvm-build/Release+Asserts/lib/libFindBadConstructs.so",
-                "-Xclang",
-                "-add-plugin",
-                "-Xclang",
-                "find-bad-constructs",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-auto-raw-pointer",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-ipc",
-                "-Wheader-hygiene",
-                "-Wstring-conversion",
-                "-Wtautological-overlap-compare",
                 "-Wextra",
                 "-Wno-unused-parameter",
                 "-Wno-missing-field-initializers",
-                "-Wno-strict-overflow",
-                "-Wc++11-narrowing",
-                "-Wimplicit-fallthrough",
-                "-Wthread-safety",
-                "-Winconsistent-missing-override",
-                "-Wundef",
-                "-Wunused-lambda-capture"
+                "-Wno-strict-overflow"
             ],
             "defines": [
                 "V8_DEPRECATION_WARNINGS",
                 "USE_NSS_CERTS=1",
-                "USE_X11=1",
                 "NO_TCMALLOC",
                 "DISABLE_NACL",
                 "CHROMIUM_BUILD",
                 "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
                 "NDEBUG",
                 "NVALGRIND",
                 "DYNAMIC_ANNOTATIONS_ENABLED=0",
@@ -9794,23 +6979,13 @@
                 "-funwind-tables",
                 "-fPIC",
                 "-pipe",
-                "-fcolor-diagnostics",
-                "--target=aarch64-linux-gnu",
                 "-pthread",
                 "-Wall",
                 "-Werror",
-                "-Wextra",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
                 "-Wno-missing-field-initializers",
                 "-Wno-unused-parameter",
-                "-Wno-c++11-narrowing",
-                "-Wno-covered-switch-default",
-                "-Wno-unneeded-internal-declaration",
-                "-Wno-inconsistent-missing-override",
-                "-Wno-undefined-var-template",
-                "-Wno-nonportable-include-path",
-                "-Wno-address-of-packed-member",
-                "-Wno-unused-lambda-capture",
-                "-Wno-user-defined-warnings",
                 "-O2",
                 "-fno-ident",
                 "-fdata-sections",
@@ -9818,44 +6993,19 @@
                 "-fno-omit-frame-pointer",
                 "-g0",
                 "-fvisibility=hidden",
-                "-Xclang",
-                "-load",
-                "-Xclang",
-                "../../../../../../media/webrtc/trunk/webrtc/third_party/llvm-build/Release+Asserts/lib/libFindBadConstructs.so",
-                "-Xclang",
-                "-add-plugin",
-                "-Xclang",
-                "find-bad-constructs",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-auto-raw-pointer",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-ipc",
-                "-Wheader-hygiene",
-                "-Wstring-conversion",
-                "-Wtautological-overlap-compare",
                 "-Wextra",
                 "-Wno-unused-parameter",
                 "-Wno-missing-field-initializers",
-                "-Wno-strict-overflow",
-                "-Wc++11-narrowing",
-                "-Wimplicit-fallthrough",
-                "-Wthread-safety",
-                "-Winconsistent-missing-override",
-                "-Wundef",
-                "-Wunused-lambda-capture"
+                "-Wno-strict-overflow"
             ],
             "defines": [
                 "V8_DEPRECATION_WARNINGS",
                 "USE_NSS_CERTS=1",
-                "USE_X11=1",
                 "NO_TCMALLOC",
                 "DISABLE_NACL",
                 "CHROMIUM_BUILD",
                 "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
                 "NDEBUG",
                 "NVALGRIND",
                 "DYNAMIC_ANNOTATIONS_ENABLED=0",
@@ -9894,23 +7044,13 @@
                 "-funwind-tables",
                 "-fPIC",
                 "-pipe",
-                "-fcolor-diagnostics",
-                "--target=aarch64-linux-gnu",
                 "-pthread",
                 "-Wall",
                 "-Werror",
-                "-Wextra",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
                 "-Wno-missing-field-initializers",
                 "-Wno-unused-parameter",
-                "-Wno-c++11-narrowing",
-                "-Wno-covered-switch-default",
-                "-Wno-unneeded-internal-declaration",
-                "-Wno-inconsistent-missing-override",
-                "-Wno-undefined-var-template",
-                "-Wno-nonportable-include-path",
-                "-Wno-address-of-packed-member",
-                "-Wno-unused-lambda-capture",
-                "-Wno-user-defined-warnings",
                 "-O2",
                 "-fno-ident",
                 "-fdata-sections",
@@ -9918,44 +7058,19 @@
                 "-fno-omit-frame-pointer",
                 "-g0",
                 "-fvisibility=hidden",
-                "-Xclang",
-                "-load",
-                "-Xclang",
-                "../../../../../../media/webrtc/trunk/webrtc/third_party/llvm-build/Release+Asserts/lib/libFindBadConstructs.so",
-                "-Xclang",
-                "-add-plugin",
-                "-Xclang",
-                "find-bad-constructs",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-auto-raw-pointer",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-ipc",
-                "-Wheader-hygiene",
-                "-Wstring-conversion",
-                "-Wtautological-overlap-compare",
                 "-Wextra",
                 "-Wno-unused-parameter",
                 "-Wno-missing-field-initializers",
-                "-Wno-strict-overflow",
-                "-Wc++11-narrowing",
-                "-Wimplicit-fallthrough",
-                "-Wthread-safety",
-                "-Winconsistent-missing-override",
-                "-Wundef",
-                "-Wunused-lambda-capture"
+                "-Wno-strict-overflow"
             ],
             "defines": [
                 "V8_DEPRECATION_WARNINGS",
                 "USE_NSS_CERTS=1",
-                "USE_X11=1",
                 "NO_TCMALLOC",
                 "DISABLE_NACL",
                 "CHROMIUM_BUILD",
                 "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
                 "NDEBUG",
                 "NVALGRIND",
                 "DYNAMIC_ANNOTATIONS_ENABLED=0",
@@ -9994,23 +7109,13 @@
                 "-funwind-tables",
                 "-fPIC",
                 "-pipe",
-                "-fcolor-diagnostics",
-                "--target=aarch64-linux-gnu",
                 "-pthread",
                 "-Wall",
                 "-Werror",
-                "-Wextra",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
                 "-Wno-missing-field-initializers",
                 "-Wno-unused-parameter",
-                "-Wno-c++11-narrowing",
-                "-Wno-covered-switch-default",
-                "-Wno-unneeded-internal-declaration",
-                "-Wno-inconsistent-missing-override",
-                "-Wno-undefined-var-template",
-                "-Wno-nonportable-include-path",
-                "-Wno-address-of-packed-member",
-                "-Wno-unused-lambda-capture",
-                "-Wno-user-defined-warnings",
                 "-O2",
                 "-fno-ident",
                 "-fdata-sections",
@@ -10018,44 +7123,19 @@
                 "-fno-omit-frame-pointer",
                 "-g0",
                 "-fvisibility=hidden",
-                "-Xclang",
-                "-load",
-                "-Xclang",
-                "../../../../../../media/webrtc/trunk/webrtc/third_party/llvm-build/Release+Asserts/lib/libFindBadConstructs.so",
-                "-Xclang",
-                "-add-plugin",
-                "-Xclang",
-                "find-bad-constructs",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-auto-raw-pointer",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-ipc",
-                "-Wheader-hygiene",
-                "-Wstring-conversion",
-                "-Wtautological-overlap-compare",
                 "-Wextra",
                 "-Wno-unused-parameter",
                 "-Wno-missing-field-initializers",
-                "-Wno-strict-overflow",
-                "-Wc++11-narrowing",
-                "-Wimplicit-fallthrough",
-                "-Wthread-safety",
-                "-Winconsistent-missing-override",
-                "-Wundef",
-                "-Wunused-lambda-capture"
+                "-Wno-strict-overflow"
             ],
             "defines": [
                 "V8_DEPRECATION_WARNINGS",
                 "USE_NSS_CERTS=1",
-                "USE_X11=1",
                 "NO_TCMALLOC",
                 "DISABLE_NACL",
                 "CHROMIUM_BUILD",
                 "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
                 "NDEBUG",
                 "NVALGRIND",
                 "DYNAMIC_ANNOTATIONS_ENABLED=0",
@@ -10095,23 +7175,13 @@
                 "-funwind-tables",
                 "-fPIC",
                 "-pipe",
-                "-fcolor-diagnostics",
-                "--target=aarch64-linux-gnu",
                 "-pthread",
                 "-Wall",
                 "-Werror",
-                "-Wextra",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
                 "-Wno-missing-field-initializers",
                 "-Wno-unused-parameter",
-                "-Wno-c++11-narrowing",
-                "-Wno-covered-switch-default",
-                "-Wno-unneeded-internal-declaration",
-                "-Wno-inconsistent-missing-override",
-                "-Wno-undefined-var-template",
-                "-Wno-nonportable-include-path",
-                "-Wno-address-of-packed-member",
-                "-Wno-unused-lambda-capture",
-                "-Wno-user-defined-warnings",
                 "-O2",
                 "-fno-ident",
                 "-fdata-sections",
@@ -10119,35 +7189,10 @@
                 "-fno-omit-frame-pointer",
                 "-g0",
                 "-fvisibility=hidden",
-                "-Xclang",
-                "-load",
-                "-Xclang",
-                "../../../../../../media/webrtc/trunk/webrtc/third_party/llvm-build/Release+Asserts/lib/libFindBadConstructs.so",
-                "-Xclang",
-                "-add-plugin",
-                "-Xclang",
-                "find-bad-constructs",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-auto-raw-pointer",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-ipc",
-                "-Wheader-hygiene",
-                "-Wstring-conversion",
-                "-Wtautological-overlap-compare",
                 "-Wextra",
                 "-Wno-unused-parameter",
                 "-Wno-missing-field-initializers",
-                "-Wno-strict-overflow",
-                "-Wc++11-narrowing",
-                "-Wimplicit-fallthrough",
-                "-Wthread-safety",
-                "-Winconsistent-missing-override",
-                "-Wundef",
-                "-Wunused-lambda-capture"
+                "-Wno-strict-overflow"
             ],
             "defines": [
                 "WEBRTC_APM_DEBUG_DUMP=1",
@@ -10155,11 +7200,11 @@
                 "WEBRTC_NS_FIXED",
                 "V8_DEPRECATION_WARNINGS",
                 "USE_NSS_CERTS=1",
-                "USE_X11=1",
                 "NO_TCMALLOC",
                 "DISABLE_NACL",
                 "CHROMIUM_BUILD",
                 "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
                 "NDEBUG",
                 "NVALGRIND",
                 "DYNAMIC_ANNOTATIONS_ENABLED=0",
@@ -10430,23 +7475,13 @@
                 "-funwind-tables",
                 "-fPIC",
                 "-pipe",
-                "-fcolor-diagnostics",
-                "--target=aarch64-linux-gnu",
                 "-pthread",
                 "-Wall",
                 "-Werror",
-                "-Wextra",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
                 "-Wno-missing-field-initializers",
                 "-Wno-unused-parameter",
-                "-Wno-c++11-narrowing",
-                "-Wno-covered-switch-default",
-                "-Wno-unneeded-internal-declaration",
-                "-Wno-inconsistent-missing-override",
-                "-Wno-undefined-var-template",
-                "-Wno-nonportable-include-path",
-                "-Wno-address-of-packed-member",
-                "-Wno-unused-lambda-capture",
-                "-Wno-user-defined-warnings",
                 "-O2",
                 "-fno-ident",
                 "-fdata-sections",
@@ -10454,44 +7489,19 @@
                 "-fno-omit-frame-pointer",
                 "-g0",
                 "-fvisibility=hidden",
-                "-Xclang",
-                "-load",
-                "-Xclang",
-                "../../../../../../media/webrtc/trunk/webrtc/third_party/llvm-build/Release+Asserts/lib/libFindBadConstructs.so",
-                "-Xclang",
-                "-add-plugin",
-                "-Xclang",
-                "find-bad-constructs",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-auto-raw-pointer",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-ipc",
-                "-Wheader-hygiene",
-                "-Wstring-conversion",
-                "-Wtautological-overlap-compare",
                 "-Wextra",
                 "-Wno-unused-parameter",
                 "-Wno-missing-field-initializers",
-                "-Wno-strict-overflow",
-                "-Wc++11-narrowing",
-                "-Wimplicit-fallthrough",
-                "-Wthread-safety",
-                "-Winconsistent-missing-override",
-                "-Wundef",
-                "-Wunused-lambda-capture"
+                "-Wno-strict-overflow"
             ],
             "defines": [
                 "V8_DEPRECATION_WARNINGS",
                 "USE_NSS_CERTS=1",
-                "USE_X11=1",
                 "NO_TCMALLOC",
                 "DISABLE_NACL",
                 "CHROMIUM_BUILD",
                 "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
                 "NDEBUG",
                 "NVALGRIND",
                 "DYNAMIC_ANNOTATIONS_ENABLED=0",
@@ -10548,23 +7558,13 @@
                 "-funwind-tables",
                 "-fPIC",
                 "-pipe",
-                "-fcolor-diagnostics",
-                "--target=aarch64-linux-gnu",
                 "-pthread",
                 "-Wall",
                 "-Werror",
-                "-Wextra",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
                 "-Wno-missing-field-initializers",
                 "-Wno-unused-parameter",
-                "-Wno-c++11-narrowing",
-                "-Wno-covered-switch-default",
-                "-Wno-unneeded-internal-declaration",
-                "-Wno-inconsistent-missing-override",
-                "-Wno-undefined-var-template",
-                "-Wno-nonportable-include-path",
-                "-Wno-address-of-packed-member",
-                "-Wno-unused-lambda-capture",
-                "-Wno-user-defined-warnings",
                 "-O2",
                 "-fno-ident",
                 "-fdata-sections",
@@ -10572,45 +7572,20 @@
                 "-fno-omit-frame-pointer",
                 "-g0",
                 "-fvisibility=hidden",
-                "-Xclang",
-                "-load",
-                "-Xclang",
-                "../../../../../../media/webrtc/trunk/webrtc/third_party/llvm-build/Release+Asserts/lib/libFindBadConstructs.so",
-                "-Xclang",
-                "-add-plugin",
-                "-Xclang",
-                "find-bad-constructs",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-auto-raw-pointer",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-ipc",
-                "-Wheader-hygiene",
-                "-Wstring-conversion",
-                "-Wtautological-overlap-compare",
                 "-Wextra",
                 "-Wno-unused-parameter",
                 "-Wno-missing-field-initializers",
-                "-Wno-strict-overflow",
-                "-Wc++11-narrowing",
-                "-Wimplicit-fallthrough",
-                "-Wthread-safety",
-                "-Winconsistent-missing-override",
-                "-Wundef",
-                "-Wunused-lambda-capture"
+                "-Wno-strict-overflow"
             ],
             "defines": [
                 "WEBRTC_APM_DEBUG_DUMP=1",
                 "V8_DEPRECATION_WARNINGS",
                 "USE_NSS_CERTS=1",
-                "USE_X11=1",
                 "NO_TCMALLOC",
                 "DISABLE_NACL",
                 "CHROMIUM_BUILD",
                 "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
                 "NDEBUG",
                 "NVALGRIND",
                 "DYNAMIC_ANNOTATIONS_ENABLED=0",
@@ -10657,23 +7632,13 @@
                 "-funwind-tables",
                 "-fPIC",
                 "-pipe",
-                "-fcolor-diagnostics",
-                "--target=aarch64-linux-gnu",
                 "-pthread",
                 "-Wall",
                 "-Werror",
-                "-Wextra",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
                 "-Wno-missing-field-initializers",
                 "-Wno-unused-parameter",
-                "-Wno-c++11-narrowing",
-                "-Wno-covered-switch-default",
-                "-Wno-unneeded-internal-declaration",
-                "-Wno-inconsistent-missing-override",
-                "-Wno-undefined-var-template",
-                "-Wno-nonportable-include-path",
-                "-Wno-address-of-packed-member",
-                "-Wno-unused-lambda-capture",
-                "-Wno-user-defined-warnings",
                 "-O2",
                 "-fno-ident",
                 "-fdata-sections",
@@ -10681,44 +7646,19 @@
                 "-fno-omit-frame-pointer",
                 "-g0",
                 "-fvisibility=hidden",
-                "-Xclang",
-                "-load",
-                "-Xclang",
-                "../../../../../../media/webrtc/trunk/webrtc/third_party/llvm-build/Release+Asserts/lib/libFindBadConstructs.so",
-                "-Xclang",
-                "-add-plugin",
-                "-Xclang",
-                "find-bad-constructs",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-auto-raw-pointer",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-ipc",
-                "-Wheader-hygiene",
-                "-Wstring-conversion",
-                "-Wtautological-overlap-compare",
                 "-Wextra",
                 "-Wno-unused-parameter",
                 "-Wno-missing-field-initializers",
-                "-Wno-strict-overflow",
-                "-Wc++11-narrowing",
-                "-Wimplicit-fallthrough",
-                "-Wthread-safety",
-                "-Winconsistent-missing-override",
-                "-Wundef",
-                "-Wunused-lambda-capture"
+                "-Wno-strict-overflow"
             ],
             "defines": [
                 "V8_DEPRECATION_WARNINGS",
                 "USE_NSS_CERTS=1",
-                "USE_X11=1",
                 "NO_TCMALLOC",
                 "DISABLE_NACL",
                 "CHROMIUM_BUILD",
                 "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
                 "NDEBUG",
                 "NVALGRIND",
                 "DYNAMIC_ANNOTATIONS_ENABLED=0",
@@ -10756,23 +7696,13 @@
                 "-funwind-tables",
                 "-fPIC",
                 "-pipe",
-                "-fcolor-diagnostics",
-                "--target=aarch64-linux-gnu",
                 "-pthread",
                 "-Wall",
                 "-Werror",
-                "-Wextra",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
                 "-Wno-missing-field-initializers",
                 "-Wno-unused-parameter",
-                "-Wno-c++11-narrowing",
-                "-Wno-covered-switch-default",
-                "-Wno-unneeded-internal-declaration",
-                "-Wno-inconsistent-missing-override",
-                "-Wno-undefined-var-template",
-                "-Wno-nonportable-include-path",
-                "-Wno-address-of-packed-member",
-                "-Wno-unused-lambda-capture",
-                "-Wno-user-defined-warnings",
                 "-O2",
                 "-fno-ident",
                 "-fdata-sections",
@@ -10780,44 +7710,19 @@
                 "-fno-omit-frame-pointer",
                 "-g0",
                 "-fvisibility=hidden",
-                "-Xclang",
-                "-load",
-                "-Xclang",
-                "../../../../../../media/webrtc/trunk/webrtc/third_party/llvm-build/Release+Asserts/lib/libFindBadConstructs.so",
-                "-Xclang",
-                "-add-plugin",
-                "-Xclang",
-                "find-bad-constructs",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-auto-raw-pointer",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-ipc",
-                "-Wheader-hygiene",
-                "-Wstring-conversion",
-                "-Wtautological-overlap-compare",
                 "-Wextra",
                 "-Wno-unused-parameter",
                 "-Wno-missing-field-initializers",
-                "-Wno-strict-overflow",
-                "-Wc++11-narrowing",
-                "-Wimplicit-fallthrough",
-                "-Wthread-safety",
-                "-Winconsistent-missing-override",
-                "-Wundef",
-                "-Wunused-lambda-capture"
+                "-Wno-strict-overflow"
             ],
             "defines": [
                 "V8_DEPRECATION_WARNINGS",
                 "USE_NSS_CERTS=1",
-                "USE_X11=1",
                 "NO_TCMALLOC",
                 "DISABLE_NACL",
                 "CHROMIUM_BUILD",
                 "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
                 "NDEBUG",
                 "NVALGRIND",
                 "DYNAMIC_ANNOTATIONS_ENABLED=0",
@@ -10856,23 +7761,13 @@
                 "-funwind-tables",
                 "-fPIC",
                 "-pipe",
-                "-fcolor-diagnostics",
-                "--target=aarch64-linux-gnu",
                 "-pthread",
                 "-Wall",
                 "-Werror",
-                "-Wextra",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
                 "-Wno-missing-field-initializers",
                 "-Wno-unused-parameter",
-                "-Wno-c++11-narrowing",
-                "-Wno-covered-switch-default",
-                "-Wno-unneeded-internal-declaration",
-                "-Wno-inconsistent-missing-override",
-                "-Wno-undefined-var-template",
-                "-Wno-nonportable-include-path",
-                "-Wno-address-of-packed-member",
-                "-Wno-unused-lambda-capture",
-                "-Wno-user-defined-warnings",
                 "-O2",
                 "-fno-ident",
                 "-fdata-sections",
@@ -10880,29 +7775,20 @@
                 "-fno-omit-frame-pointer",
                 "-g0",
                 "-fvisibility=hidden",
-                "-Wheader-hygiene",
-                "-Wstring-conversion",
-                "-Wtautological-overlap-compare",
                 "-Wextra",
                 "-Wno-unused-parameter",
                 "-Wno-missing-field-initializers",
-                "-Wno-strict-overflow",
-                "-Wc++11-narrowing",
-                "-Wimplicit-fallthrough",
-                "-Wthread-safety",
-                "-Winconsistent-missing-override",
-                "-Wundef",
-                "-Wunused-lambda-capture"
+                "-Wno-strict-overflow"
             ],
             "defines": [
                 "BWE_TEST_LOGGING_COMPILE_TIME_ENABLE=0",
                 "V8_DEPRECATION_WARNINGS",
                 "USE_NSS_CERTS=1",
-                "USE_X11=1",
                 "NO_TCMALLOC",
                 "DISABLE_NACL",
                 "CHROMIUM_BUILD",
                 "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
                 "NDEBUG",
                 "NVALGRIND",
                 "DYNAMIC_ANNOTATIONS_ENABLED=0",
@@ -10948,23 +7834,13 @@
                 "-funwind-tables",
                 "-fPIC",
                 "-pipe",
-                "-fcolor-diagnostics",
-                "--target=aarch64-linux-gnu",
                 "-pthread",
                 "-Wall",
                 "-Werror",
-                "-Wextra",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
                 "-Wno-missing-field-initializers",
                 "-Wno-unused-parameter",
-                "-Wno-c++11-narrowing",
-                "-Wno-covered-switch-default",
-                "-Wno-unneeded-internal-declaration",
-                "-Wno-inconsistent-missing-override",
-                "-Wno-undefined-var-template",
-                "-Wno-nonportable-include-path",
-                "-Wno-address-of-packed-member",
-                "-Wno-unused-lambda-capture",
-                "-Wno-user-defined-warnings",
                 "-O2",
                 "-fno-ident",
                 "-fdata-sections",
@@ -10972,29 +7848,20 @@
                 "-fno-omit-frame-pointer",
                 "-g0",
                 "-fvisibility=hidden",
-                "-Wheader-hygiene",
-                "-Wstring-conversion",
-                "-Wtautological-overlap-compare",
                 "-Wextra",
                 "-Wno-unused-parameter",
                 "-Wno-missing-field-initializers",
-                "-Wno-strict-overflow",
-                "-Wc++11-narrowing",
-                "-Wimplicit-fallthrough",
-                "-Wthread-safety",
-                "-Winconsistent-missing-override",
-                "-Wundef",
-                "-Wunused-lambda-capture"
+                "-Wno-strict-overflow"
             ],
             "defines": [
                 "BWE_TEST_LOGGING_COMPILE_TIME_ENABLE=0",
                 "V8_DEPRECATION_WARNINGS",
                 "USE_NSS_CERTS=1",
-                "USE_X11=1",
                 "NO_TCMALLOC",
                 "DISABLE_NACL",
                 "CHROMIUM_BUILD",
                 "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
                 "NDEBUG",
                 "NVALGRIND",
                 "DYNAMIC_ANNOTATIONS_ENABLED=0",
@@ -11053,406 +7920,6 @@
             ],
             "type": "static_library"
         },
-        "//modules/desktop_capture:desktop_capture": {
-            "cflags": [
-                "-fno-strict-aliasing",
-                "--param=ssp-buffer-size=4",
-                "-fstack-protector",
-                "-Wno-builtin-macro-redefined",
-                "-D__DATE__=",
-                "-D__TIME__=",
-                "-D__TIMESTAMP__=",
-                "-funwind-tables",
-                "-fPIC",
-                "-pipe",
-                "-fcolor-diagnostics",
-                "--target=aarch64-linux-gnu",
-                "-pthread",
-                "-Wall",
-                "-Werror",
-                "-Wextra",
-                "-Wno-missing-field-initializers",
-                "-Wno-unused-parameter",
-                "-Wno-c++11-narrowing",
-                "-Wno-covered-switch-default",
-                "-Wno-unneeded-internal-declaration",
-                "-Wno-inconsistent-missing-override",
-                "-Wno-undefined-var-template",
-                "-Wno-nonportable-include-path",
-                "-Wno-address-of-packed-member",
-                "-Wno-unused-lambda-capture",
-                "-Wno-user-defined-warnings",
-                "-O2",
-                "-fno-ident",
-                "-fdata-sections",
-                "-ffunction-sections",
-                "-fno-omit-frame-pointer",
-                "-g0",
-                "-fvisibility=hidden",
-                "-Xclang",
-                "-load",
-                "-Xclang",
-                "../../../../../../media/webrtc/trunk/webrtc/third_party/llvm-build/Release+Asserts/lib/libFindBadConstructs.so",
-                "-Xclang",
-                "-add-plugin",
-                "-Xclang",
-                "find-bad-constructs",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-auto-raw-pointer",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-ipc",
-                "-Wheader-hygiene",
-                "-Wstring-conversion",
-                "-Wtautological-overlap-compare",
-                "-Wextra",
-                "-Wno-unused-parameter",
-                "-Wno-missing-field-initializers",
-                "-Wno-strict-overflow",
-                "-Wc++11-narrowing",
-                "-Wimplicit-fallthrough",
-                "-Wthread-safety",
-                "-Winconsistent-missing-override",
-                "-Wundef",
-                "-Wunused-lambda-capture"
-            ],
-            "defines": [
-                "V8_DEPRECATION_WARNINGS",
-                "USE_NSS_CERTS=1",
-                "USE_X11=1",
-                "NO_TCMALLOC",
-                "DISABLE_NACL",
-                "CHROMIUM_BUILD",
-                "_FILE_OFFSET_BITS=64",
-                "NDEBUG",
-                "NVALGRIND",
-                "DYNAMIC_ANNOTATIONS_ENABLED=0",
-                "WEBRTC_ENABLE_PROTOBUF=0",
-                "WEBRTC_RESTRICT_LOGGING",
-                "WEBRTC_ARCH_ARM64",
-                "WEBRTC_HAS_NEON",
-                "WEBRTC_MOZILLA_BUILD",
-                "WEBRTC_NON_STATIC_TRACE_EVENT_HANDLERS=0",
-                "WEBRTC_POSIX",
-                "WEBRTC_LINUX"
-            ],
-            "deps": [
-                "//modules/desktop_capture:desktop_capture_generic"
-            ],
-            "include_dirs": [
-                "//",
-                "/home/jenkins/workspace/Firefox-default/label/aarch64/firefox/obj-aarch64-unknown-linux-gnu/media/webrtc/trunk/webrtc/gn-output/gen/"
-            ],
-            "libs": [
-                "X11",
-                "X11-xcb",
-                "xcb",
-                "Xcomposite",
-                "Xcursor",
-                "Xdamage",
-                "Xext",
-                "Xfixes",
-                "Xi",
-                "Xrender",
-                "rt"
-            ],
-            "sources": [],
-            "type": "source_set"
-        },
-        "//modules/desktop_capture:desktop_capture_generic": {
-            "cflags": [
-                "-fno-strict-aliasing",
-                "--param=ssp-buffer-size=4",
-                "-fstack-protector",
-                "-Wno-builtin-macro-redefined",
-                "-D__DATE__=",
-                "-D__TIME__=",
-                "-D__TIMESTAMP__=",
-                "-funwind-tables",
-                "-fPIC",
-                "-pipe",
-                "-fcolor-diagnostics",
-                "--target=aarch64-linux-gnu",
-                "-pthread",
-                "-Wall",
-                "-Werror",
-                "-Wextra",
-                "-Wno-missing-field-initializers",
-                "-Wno-unused-parameter",
-                "-Wno-c++11-narrowing",
-                "-Wno-covered-switch-default",
-                "-Wno-unneeded-internal-declaration",
-                "-Wno-inconsistent-missing-override",
-                "-Wno-undefined-var-template",
-                "-Wno-nonportable-include-path",
-                "-Wno-address-of-packed-member",
-                "-Wno-unused-lambda-capture",
-                "-Wno-user-defined-warnings",
-                "-O2",
-                "-fno-ident",
-                "-fdata-sections",
-                "-ffunction-sections",
-                "-fno-omit-frame-pointer",
-                "-g0",
-                "-fvisibility=hidden",
-                "-Xclang",
-                "-load",
-                "-Xclang",
-                "../../../../../../media/webrtc/trunk/webrtc/third_party/llvm-build/Release+Asserts/lib/libFindBadConstructs.so",
-                "-Xclang",
-                "-add-plugin",
-                "-Xclang",
-                "find-bad-constructs",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-auto-raw-pointer",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-ipc",
-                "-Wheader-hygiene",
-                "-Wstring-conversion",
-                "-Wtautological-overlap-compare",
-                "-Wextra",
-                "-Wno-unused-parameter",
-                "-Wno-missing-field-initializers",
-                "-Wno-strict-overflow",
-                "-Wc++11-narrowing",
-                "-Wimplicit-fallthrough",
-                "-Wthread-safety",
-                "-Winconsistent-missing-override",
-                "-Wundef",
-                "-Wunused-lambda-capture"
-            ],
-            "defines": [
-                "MULTI_MONITOR_SCREENSHARE",
-                "V8_DEPRECATION_WARNINGS",
-                "USE_NSS_CERTS=1",
-                "USE_X11=1",
-                "NO_TCMALLOC",
-                "DISABLE_NACL",
-                "CHROMIUM_BUILD",
-                "_FILE_OFFSET_BITS=64",
-                "NDEBUG",
-                "NVALGRIND",
-                "DYNAMIC_ANNOTATIONS_ENABLED=0",
-                "WEBRTC_ENABLE_PROTOBUF=0",
-                "WEBRTC_RESTRICT_LOGGING",
-                "WEBRTC_ARCH_ARM64",
-                "WEBRTC_HAS_NEON",
-                "WEBRTC_MOZILLA_BUILD",
-                "WEBRTC_NON_STATIC_TRACE_EVENT_HANDLERS=0",
-                "WEBRTC_POSIX",
-                "WEBRTC_LINUX"
-            ],
-            "deps": [
-                "//:webrtc_common",
-                "//api:refcountedbase",
-                "//modules/desktop_capture:primitives",
-                "//rtc_base:rtc_base",
-                "//rtc_base:rtc_base_approved",
-                "//system_wrappers:system_wrappers"
-            ],
-            "include_dirs": [
-                "/media/libyuv/libyuv/include/",
-                "//",
-                "/home/jenkins/workspace/Firefox-default/label/aarch64/firefox/obj-aarch64-unknown-linux-gnu/media/webrtc/trunk/webrtc/gn-output/gen/"
-            ],
-            "libs": [
-                "X11",
-                "X11-xcb",
-                "xcb",
-                "Xcomposite",
-                "Xcursor",
-                "Xdamage",
-                "Xext",
-                "Xfixes",
-                "Xi",
-                "Xrender",
-                "rt"
-            ],
-            "sources": [
-                "//modules/desktop_capture/blank_detector_desktop_capturer_wrapper.cc",
-                "//modules/desktop_capture/blank_detector_desktop_capturer_wrapper.h",
-                "//modules/desktop_capture/capture_result_desktop_capturer_wrapper.cc",
-                "//modules/desktop_capture/capture_result_desktop_capturer_wrapper.h",
-                "//modules/desktop_capture/cropped_desktop_frame.cc",
-                "//modules/desktop_capture/cropped_desktop_frame.h",
-                "//modules/desktop_capture/cropping_window_capturer.cc",
-                "//modules/desktop_capture/cropping_window_capturer.h",
-                "//modules/desktop_capture/desktop_and_cursor_composer.cc",
-                "//modules/desktop_capture/desktop_and_cursor_composer.h",
-                "//modules/desktop_capture/desktop_capture_options.cc",
-                "//modules/desktop_capture/desktop_capture_options.h",
-                "//modules/desktop_capture/desktop_capturer.cc",
-                "//modules/desktop_capture/desktop_capturer.h",
-                "//modules/desktop_capture/desktop_capturer_differ_wrapper.cc",
-                "//modules/desktop_capture/desktop_capturer_differ_wrapper.h",
-                "//modules/desktop_capture/desktop_capturer_wrapper.cc",
-                "//modules/desktop_capture/desktop_capturer_wrapper.h",
-                "//modules/desktop_capture/desktop_frame_generator.cc",
-                "//modules/desktop_capture/desktop_frame_generator.h",
-                "//modules/desktop_capture/desktop_frame_rotation.cc",
-                "//modules/desktop_capture/desktop_frame_rotation.h",
-                "//modules/desktop_capture/differ_block.cc",
-                "//modules/desktop_capture/differ_block.h",
-                "//modules/desktop_capture/fallback_desktop_capturer_wrapper.cc",
-                "//modules/desktop_capture/fallback_desktop_capturer_wrapper.h",
-                "//modules/desktop_capture/mouse_cursor.cc",
-                "//modules/desktop_capture/mouse_cursor.h",
-                "//modules/desktop_capture/mouse_cursor_monitor.h",
-                "//modules/desktop_capture/resolution_tracker.cc",
-                "//modules/desktop_capture/resolution_tracker.h",
-                "//modules/desktop_capture/rgba_color.cc",
-                "//modules/desktop_capture/rgba_color.h",
-                "//modules/desktop_capture/screen_capture_frame_queue.h",
-                "//modules/desktop_capture/screen_capturer_helper.cc",
-                "//modules/desktop_capture/screen_capturer_helper.h",
-                "//modules/desktop_capture/window_finder.cc",
-                "//modules/desktop_capture/window_finder.h",
-                "//modules/desktop_capture/desktop_device_info.cc",
-                "//modules/desktop_capture/desktop_device_info.h",
-                "//modules/desktop_capture/mouse_cursor_monitor_linux.cc",
-                "//modules/desktop_capture/screen_capturer_linux.cc",
-                "//modules/desktop_capture/window_capturer_linux.cc",
-                "//modules/desktop_capture/linux/mouse_cursor_monitor_x11.cc",
-                "//modules/desktop_capture/linux/mouse_cursor_monitor_x11.h",
-                "//modules/desktop_capture/linux/screen_capturer_x11.cc",
-                "//modules/desktop_capture/linux/screen_capturer_x11.h",
-                "//modules/desktop_capture/linux/shared_x_display.cc",
-                "//modules/desktop_capture/linux/shared_x_display.h",
-                "//modules/desktop_capture/linux/window_capturer_x11.cc",
-                "//modules/desktop_capture/linux/window_capturer_x11.h",
-                "//modules/desktop_capture/linux/window_finder_x11.cc",
-                "//modules/desktop_capture/linux/window_finder_x11.h",
-                "//modules/desktop_capture/linux/window_list_utils.cc",
-                "//modules/desktop_capture/linux/window_list_utils.h",
-                "//modules/desktop_capture/linux/x_atom_cache.cc",
-                "//modules/desktop_capture/linux/x_atom_cache.h",
-                "//modules/desktop_capture/linux/x_error_trap.cc",
-                "//modules/desktop_capture/linux/x_error_trap.h",
-                "//modules/desktop_capture/linux/x_server_pixel_buffer.cc",
-                "//modules/desktop_capture/linux/x_server_pixel_buffer.h",
-                "//modules/desktop_capture/linux/desktop_device_info_x11.cc",
-                "//modules/desktop_capture/linux/desktop_device_info_x11.h",
-                "//modules/desktop_capture/linux/shared_x_util.cc",
-                "//modules/desktop_capture/linux/shared_x_util.h"
-            ],
-            "type": "static_library"
-        },
-        "//modules/desktop_capture:primitives": {
-            "cflags": [
-                "-fno-strict-aliasing",
-                "--param=ssp-buffer-size=4",
-                "-fstack-protector",
-                "-Wno-builtin-macro-redefined",
-                "-D__DATE__=",
-                "-D__TIME__=",
-                "-D__TIMESTAMP__=",
-                "-funwind-tables",
-                "-fPIC",
-                "-pipe",
-                "-fcolor-diagnostics",
-                "--target=aarch64-linux-gnu",
-                "-pthread",
-                "-Wall",
-                "-Werror",
-                "-Wextra",
-                "-Wno-missing-field-initializers",
-                "-Wno-unused-parameter",
-                "-Wno-c++11-narrowing",
-                "-Wno-covered-switch-default",
-                "-Wno-unneeded-internal-declaration",
-                "-Wno-inconsistent-missing-override",
-                "-Wno-undefined-var-template",
-                "-Wno-nonportable-include-path",
-                "-Wno-address-of-packed-member",
-                "-Wno-unused-lambda-capture",
-                "-Wno-user-defined-warnings",
-                "-O2",
-                "-fno-ident",
-                "-fdata-sections",
-                "-ffunction-sections",
-                "-fno-omit-frame-pointer",
-                "-g0",
-                "-fvisibility=hidden",
-                "-Xclang",
-                "-load",
-                "-Xclang",
-                "../../../../../../media/webrtc/trunk/webrtc/third_party/llvm-build/Release+Asserts/lib/libFindBadConstructs.so",
-                "-Xclang",
-                "-add-plugin",
-                "-Xclang",
-                "find-bad-constructs",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-auto-raw-pointer",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-ipc",
-                "-Wheader-hygiene",
-                "-Wstring-conversion",
-                "-Wtautological-overlap-compare",
-                "-Wextra",
-                "-Wno-unused-parameter",
-                "-Wno-missing-field-initializers",
-                "-Wno-strict-overflow",
-                "-Wc++11-narrowing",
-                "-Wimplicit-fallthrough",
-                "-Wthread-safety",
-                "-Winconsistent-missing-override",
-                "-Wundef",
-                "-Wunused-lambda-capture"
-            ],
-            "defines": [
-                "V8_DEPRECATION_WARNINGS",
-                "USE_NSS_CERTS=1",
-                "USE_X11=1",
-                "NO_TCMALLOC",
-                "DISABLE_NACL",
-                "CHROMIUM_BUILD",
-                "_FILE_OFFSET_BITS=64",
-                "NDEBUG",
-                "NVALGRIND",
-                "DYNAMIC_ANNOTATIONS_ENABLED=0",
-                "WEBRTC_ENABLE_PROTOBUF=0",
-                "WEBRTC_RESTRICT_LOGGING",
-                "WEBRTC_ARCH_ARM64",
-                "WEBRTC_HAS_NEON",
-                "WEBRTC_MOZILLA_BUILD",
-                "WEBRTC_NON_STATIC_TRACE_EVENT_HANDLERS=0",
-                "WEBRTC_POSIX",
-                "WEBRTC_LINUX"
-            ],
-            "deps": [
-                "//:webrtc_common"
-            ],
-            "include_dirs": [
-                "//",
-                "/home/jenkins/workspace/Firefox-default/label/aarch64/firefox/obj-aarch64-unknown-linux-gnu/media/webrtc/trunk/webrtc/gn-output/gen/"
-            ],
-            "libs": [],
-            "sources": [
-                "//modules/desktop_capture/desktop_capture_types.h",
-                "//modules/desktop_capture/desktop_frame.cc",
-                "//modules/desktop_capture/desktop_frame.h",
-                "//modules/desktop_capture/desktop_geometry.cc",
-                "//modules/desktop_capture/desktop_geometry.h",
-                "//modules/desktop_capture/desktop_region.cc",
-                "//modules/desktop_capture/desktop_region.h",
-                "//modules/desktop_capture/shared_desktop_frame.cc",
-                "//modules/desktop_capture/shared_desktop_frame.h",
-                "//modules/desktop_capture/shared_memory.cc",
-                "//modules/desktop_capture/shared_memory.h"
-            ],
-            "type": "static_library"
-        },
         "//modules/media_file:media_file": {
             "cflags": [
                 "-fno-strict-aliasing",
@@ -11465,23 +7932,13 @@
                 "-funwind-tables",
                 "-fPIC",
                 "-pipe",
-                "-fcolor-diagnostics",
-                "--target=aarch64-linux-gnu",
                 "-pthread",
                 "-Wall",
                 "-Werror",
-                "-Wextra",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
                 "-Wno-missing-field-initializers",
                 "-Wno-unused-parameter",
-                "-Wno-c++11-narrowing",
-                "-Wno-covered-switch-default",
-                "-Wno-unneeded-internal-declaration",
-                "-Wno-inconsistent-missing-override",
-                "-Wno-undefined-var-template",
-                "-Wno-nonportable-include-path",
-                "-Wno-address-of-packed-member",
-                "-Wno-unused-lambda-capture",
-                "-Wno-user-defined-warnings",
                 "-O2",
                 "-fno-ident",
                 "-fdata-sections",
@@ -11489,28 +7946,19 @@
                 "-fno-omit-frame-pointer",
                 "-g0",
                 "-fvisibility=hidden",
-                "-Wheader-hygiene",
-                "-Wstring-conversion",
-                "-Wtautological-overlap-compare",
                 "-Wextra",
                 "-Wno-unused-parameter",
                 "-Wno-missing-field-initializers",
-                "-Wno-strict-overflow",
-                "-Wc++11-narrowing",
-                "-Wimplicit-fallthrough",
-                "-Wthread-safety",
-                "-Winconsistent-missing-override",
-                "-Wundef",
-                "-Wunused-lambda-capture"
+                "-Wno-strict-overflow"
             ],
             "defines": [
                 "V8_DEPRECATION_WARNINGS",
                 "USE_NSS_CERTS=1",
-                "USE_X11=1",
                 "NO_TCMALLOC",
                 "DISABLE_NACL",
                 "CHROMIUM_BUILD",
                 "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
                 "NDEBUG",
                 "NVALGRIND",
                 "DYNAMIC_ANNOTATIONS_ENABLED=0",
@@ -11562,23 +8010,13 @@
                 "-funwind-tables",
                 "-fPIC",
                 "-pipe",
-                "-fcolor-diagnostics",
-                "--target=aarch64-linux-gnu",
                 "-pthread",
                 "-Wall",
                 "-Werror",
-                "-Wextra",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
                 "-Wno-missing-field-initializers",
                 "-Wno-unused-parameter",
-                "-Wno-c++11-narrowing",
-                "-Wno-covered-switch-default",
-                "-Wno-unneeded-internal-declaration",
-                "-Wno-inconsistent-missing-override",
-                "-Wno-undefined-var-template",
-                "-Wno-nonportable-include-path",
-                "-Wno-address-of-packed-member",
-                "-Wno-unused-lambda-capture",
-                "-Wno-user-defined-warnings",
                 "-O2",
                 "-fno-ident",
                 "-fdata-sections",
@@ -11586,28 +8024,19 @@
                 "-fno-omit-frame-pointer",
                 "-g0",
                 "-fvisibility=hidden",
-                "-Wheader-hygiene",
-                "-Wstring-conversion",
-                "-Wtautological-overlap-compare",
                 "-Wextra",
                 "-Wno-unused-parameter",
                 "-Wno-missing-field-initializers",
-                "-Wno-strict-overflow",
-                "-Wc++11-narrowing",
-                "-Wimplicit-fallthrough",
-                "-Wthread-safety",
-                "-Winconsistent-missing-override",
-                "-Wundef",
-                "-Wunused-lambda-capture"
+                "-Wno-strict-overflow"
             ],
             "defines": [
                 "V8_DEPRECATION_WARNINGS",
                 "USE_NSS_CERTS=1",
-                "USE_X11=1",
                 "NO_TCMALLOC",
                 "DISABLE_NACL",
                 "CHROMIUM_BUILD",
                 "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
                 "NDEBUG",
                 "NVALGRIND",
                 "DYNAMIC_ANNOTATIONS_ENABLED=0",
@@ -11669,23 +8098,13 @@
                 "-funwind-tables",
                 "-fPIC",
                 "-pipe",
-                "-fcolor-diagnostics",
-                "--target=aarch64-linux-gnu",
                 "-pthread",
                 "-Wall",
                 "-Werror",
-                "-Wextra",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
                 "-Wno-missing-field-initializers",
                 "-Wno-unused-parameter",
-                "-Wno-c++11-narrowing",
-                "-Wno-covered-switch-default",
-                "-Wno-unneeded-internal-declaration",
-                "-Wno-inconsistent-missing-override",
-                "-Wno-undefined-var-template",
-                "-Wno-nonportable-include-path",
-                "-Wno-address-of-packed-member",
-                "-Wno-unused-lambda-capture",
-                "-Wno-user-defined-warnings",
                 "-O2",
                 "-fno-ident",
                 "-fdata-sections",
@@ -11693,29 +8112,20 @@
                 "-fno-omit-frame-pointer",
                 "-g0",
                 "-fvisibility=hidden",
-                "-Wheader-hygiene",
-                "-Wstring-conversion",
-                "-Wtautological-overlap-compare",
                 "-Wextra",
                 "-Wno-unused-parameter",
                 "-Wno-missing-field-initializers",
-                "-Wno-strict-overflow",
-                "-Wc++11-narrowing",
-                "-Wimplicit-fallthrough",
-                "-Wthread-safety",
-                "-Winconsistent-missing-override",
-                "-Wundef",
-                "-Wunused-lambda-capture"
+                "-Wno-strict-overflow"
             ],
             "defines": [
                 "BWE_TEST_LOGGING_COMPILE_TIME_ENABLE=0",
                 "V8_DEPRECATION_WARNINGS",
                 "USE_NSS_CERTS=1",
-                "USE_X11=1",
                 "NO_TCMALLOC",
                 "DISABLE_NACL",
                 "CHROMIUM_BUILD",
                 "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
                 "NDEBUG",
                 "NVALGRIND",
                 "DYNAMIC_ANNOTATIONS_ENABLED=0",
@@ -11779,23 +8189,13 @@
                 "-funwind-tables",
                 "-fPIC",
                 "-pipe",
-                "-fcolor-diagnostics",
-                "--target=aarch64-linux-gnu",
                 "-pthread",
                 "-Wall",
                 "-Werror",
-                "-Wextra",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
                 "-Wno-missing-field-initializers",
                 "-Wno-unused-parameter",
-                "-Wno-c++11-narrowing",
-                "-Wno-covered-switch-default",
-                "-Wno-unneeded-internal-declaration",
-                "-Wno-inconsistent-missing-override",
-                "-Wno-undefined-var-template",
-                "-Wno-nonportable-include-path",
-                "-Wno-address-of-packed-member",
-                "-Wno-unused-lambda-capture",
-                "-Wno-user-defined-warnings",
                 "-O2",
                 "-fno-ident",
                 "-fdata-sections",
@@ -11803,29 +8203,20 @@
                 "-fno-omit-frame-pointer",
                 "-g0",
                 "-fvisibility=hidden",
-                "-Wheader-hygiene",
-                "-Wstring-conversion",
-                "-Wtautological-overlap-compare",
                 "-Wextra",
                 "-Wno-unused-parameter",
                 "-Wno-missing-field-initializers",
-                "-Wno-strict-overflow",
-                "-Wc++11-narrowing",
-                "-Wimplicit-fallthrough",
-                "-Wthread-safety",
-                "-Winconsistent-missing-override",
-                "-Wundef",
-                "-Wunused-lambda-capture"
+                "-Wno-strict-overflow"
             ],
             "defines": [
                 "BWE_TEST_LOGGING_COMPILE_TIME_ENABLE=0",
                 "V8_DEPRECATION_WARNINGS",
                 "USE_NSS_CERTS=1",
-                "USE_X11=1",
                 "NO_TCMALLOC",
                 "DISABLE_NACL",
                 "CHROMIUM_BUILD",
                 "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
                 "NDEBUG",
                 "NVALGRIND",
                 "DYNAMIC_ANNOTATIONS_ENABLED=0",
@@ -11959,23 +8350,13 @@
                 "-funwind-tables",
                 "-fPIC",
                 "-pipe",
-                "-fcolor-diagnostics",
-                "--target=aarch64-linux-gnu",
                 "-pthread",
                 "-Wall",
                 "-Werror",
-                "-Wextra",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
                 "-Wno-missing-field-initializers",
                 "-Wno-unused-parameter",
-                "-Wno-c++11-narrowing",
-                "-Wno-covered-switch-default",
-                "-Wno-unneeded-internal-declaration",
-                "-Wno-inconsistent-missing-override",
-                "-Wno-undefined-var-template",
-                "-Wno-nonportable-include-path",
-                "-Wno-address-of-packed-member",
-                "-Wno-unused-lambda-capture",
-                "-Wno-user-defined-warnings",
                 "-O2",
                 "-fno-ident",
                 "-fdata-sections",
@@ -11983,44 +8364,19 @@
                 "-fno-omit-frame-pointer",
                 "-g0",
                 "-fvisibility=hidden",
-                "-Xclang",
-                "-load",
-                "-Xclang",
-                "../../../../../../media/webrtc/trunk/webrtc/third_party/llvm-build/Release+Asserts/lib/libFindBadConstructs.so",
-                "-Xclang",
-                "-add-plugin",
-                "-Xclang",
-                "find-bad-constructs",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-auto-raw-pointer",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-ipc",
-                "-Wheader-hygiene",
-                "-Wstring-conversion",
-                "-Wtautological-overlap-compare",
                 "-Wextra",
                 "-Wno-unused-parameter",
                 "-Wno-missing-field-initializers",
-                "-Wno-strict-overflow",
-                "-Wc++11-narrowing",
-                "-Wimplicit-fallthrough",
-                "-Wthread-safety",
-                "-Winconsistent-missing-override",
-                "-Wundef",
-                "-Wunused-lambda-capture"
+                "-Wno-strict-overflow"
             ],
             "defines": [
                 "V8_DEPRECATION_WARNINGS",
                 "USE_NSS_CERTS=1",
-                "USE_X11=1",
                 "NO_TCMALLOC",
                 "DISABLE_NACL",
                 "CHROMIUM_BUILD",
                 "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
                 "NDEBUG",
                 "NVALGRIND",
                 "DYNAMIC_ANNOTATIONS_ENABLED=0",
@@ -12099,23 +8455,13 @@
                 "-funwind-tables",
                 "-fPIC",
                 "-pipe",
-                "-fcolor-diagnostics",
-                "--target=aarch64-linux-gnu",
                 "-pthread",
                 "-Wall",
                 "-Werror",
-                "-Wextra",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
                 "-Wno-missing-field-initializers",
                 "-Wno-unused-parameter",
-                "-Wno-c++11-narrowing",
-                "-Wno-covered-switch-default",
-                "-Wno-unneeded-internal-declaration",
-                "-Wno-inconsistent-missing-override",
-                "-Wno-undefined-var-template",
-                "-Wno-nonportable-include-path",
-                "-Wno-address-of-packed-member",
-                "-Wno-unused-lambda-capture",
-                "-Wno-user-defined-warnings",
                 "-O2",
                 "-fno-ident",
                 "-fdata-sections",
@@ -12123,28 +8469,19 @@
                 "-fno-omit-frame-pointer",
                 "-g0",
                 "-fvisibility=hidden",
-                "-Wheader-hygiene",
-                "-Wstring-conversion",
-                "-Wtautological-overlap-compare",
                 "-Wextra",
                 "-Wno-unused-parameter",
                 "-Wno-missing-field-initializers",
-                "-Wno-strict-overflow",
-                "-Wc++11-narrowing",
-                "-Wimplicit-fallthrough",
-                "-Wthread-safety",
-                "-Winconsistent-missing-override",
-                "-Wundef",
-                "-Wunused-lambda-capture"
+                "-Wno-strict-overflow"
             ],
             "defines": [
                 "V8_DEPRECATION_WARNINGS",
                 "USE_NSS_CERTS=1",
-                "USE_X11=1",
                 "NO_TCMALLOC",
                 "DISABLE_NACL",
                 "CHROMIUM_BUILD",
                 "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
                 "NDEBUG",
                 "NVALGRIND",
                 "DYNAMIC_ANNOTATIONS_ENABLED=0",
@@ -12197,23 +8534,13 @@
                 "-funwind-tables",
                 "-fPIC",
                 "-pipe",
-                "-fcolor-diagnostics",
-                "--target=aarch64-linux-gnu",
                 "-pthread",
                 "-Wall",
                 "-Werror",
-                "-Wextra",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
                 "-Wno-missing-field-initializers",
                 "-Wno-unused-parameter",
-                "-Wno-c++11-narrowing",
-                "-Wno-covered-switch-default",
-                "-Wno-unneeded-internal-declaration",
-                "-Wno-inconsistent-missing-override",
-                "-Wno-undefined-var-template",
-                "-Wno-nonportable-include-path",
-                "-Wno-address-of-packed-member",
-                "-Wno-unused-lambda-capture",
-                "-Wno-user-defined-warnings",
                 "-O2",
                 "-fno-ident",
                 "-fdata-sections",
@@ -12221,28 +8548,19 @@
                 "-fno-omit-frame-pointer",
                 "-g0",
                 "-fvisibility=hidden",
-                "-Wheader-hygiene",
-                "-Wstring-conversion",
-                "-Wtautological-overlap-compare",
                 "-Wextra",
                 "-Wno-unused-parameter",
                 "-Wno-missing-field-initializers",
-                "-Wno-strict-overflow",
-                "-Wc++11-narrowing",
-                "-Wimplicit-fallthrough",
-                "-Wthread-safety",
-                "-Winconsistent-missing-override",
-                "-Wundef",
-                "-Wunused-lambda-capture"
+                "-Wno-strict-overflow"
             ],
             "defines": [
                 "V8_DEPRECATION_WARNINGS",
                 "USE_NSS_CERTS=1",
-                "USE_X11=1",
                 "NO_TCMALLOC",
                 "DISABLE_NACL",
                 "CHROMIUM_BUILD",
                 "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
                 "NDEBUG",
                 "NVALGRIND",
                 "DYNAMIC_ANNOTATIONS_ENABLED=0",
@@ -12289,23 +8607,13 @@
                 "-funwind-tables",
                 "-fPIC",
                 "-pipe",
-                "-fcolor-diagnostics",
-                "--target=aarch64-linux-gnu",
                 "-pthread",
                 "-Wall",
                 "-Werror",
-                "-Wextra",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
                 "-Wno-missing-field-initializers",
                 "-Wno-unused-parameter",
-                "-Wno-c++11-narrowing",
-                "-Wno-covered-switch-default",
-                "-Wno-unneeded-internal-declaration",
-                "-Wno-inconsistent-missing-override",
-                "-Wno-undefined-var-template",
-                "-Wno-nonportable-include-path",
-                "-Wno-address-of-packed-member",
-                "-Wno-unused-lambda-capture",
-                "-Wno-user-defined-warnings",
                 "-O2",
                 "-fno-ident",
                 "-fdata-sections",
@@ -12313,28 +8621,19 @@
                 "-fno-omit-frame-pointer",
                 "-g0",
                 "-fvisibility=hidden",
-                "-Wheader-hygiene",
-                "-Wstring-conversion",
-                "-Wtautological-overlap-compare",
                 "-Wextra",
                 "-Wno-unused-parameter",
                 "-Wno-missing-field-initializers",
-                "-Wno-strict-overflow",
-                "-Wc++11-narrowing",
-                "-Wimplicit-fallthrough",
-                "-Wthread-safety",
-                "-Winconsistent-missing-override",
-                "-Wundef",
-                "-Wunused-lambda-capture"
+                "-Wno-strict-overflow"
             ],
             "defines": [
                 "V8_DEPRECATION_WARNINGS",
                 "USE_NSS_CERTS=1",
-                "USE_X11=1",
                 "NO_TCMALLOC",
                 "DISABLE_NACL",
                 "CHROMIUM_BUILD",
                 "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
                 "NDEBUG",
                 "NVALGRIND",
                 "DYNAMIC_ANNOTATIONS_ENABLED=0",
@@ -12389,23 +8688,13 @@
                 "-funwind-tables",
                 "-fPIC",
                 "-pipe",
-                "-fcolor-diagnostics",
-                "--target=aarch64-linux-gnu",
                 "-pthread",
                 "-Wall",
                 "-Werror",
-                "-Wextra",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
                 "-Wno-missing-field-initializers",
                 "-Wno-unused-parameter",
-                "-Wno-c++11-narrowing",
-                "-Wno-covered-switch-default",
-                "-Wno-unneeded-internal-declaration",
-                "-Wno-inconsistent-missing-override",
-                "-Wno-undefined-var-template",
-                "-Wno-nonportable-include-path",
-                "-Wno-address-of-packed-member",
-                "-Wno-unused-lambda-capture",
-                "-Wno-user-defined-warnings",
                 "-O2",
                 "-fno-ident",
                 "-fdata-sections",
@@ -12413,44 +8702,19 @@
                 "-fno-omit-frame-pointer",
                 "-g0",
                 "-fvisibility=hidden",
-                "-Xclang",
-                "-load",
-                "-Xclang",
-                "../../../../../../media/webrtc/trunk/webrtc/third_party/llvm-build/Release+Asserts/lib/libFindBadConstructs.so",
-                "-Xclang",
-                "-add-plugin",
-                "-Xclang",
-                "find-bad-constructs",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-auto-raw-pointer",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-ipc",
-                "-Wheader-hygiene",
-                "-Wstring-conversion",
-                "-Wtautological-overlap-compare",
                 "-Wextra",
                 "-Wno-unused-parameter",
                 "-Wno-missing-field-initializers",
-                "-Wno-strict-overflow",
-                "-Wc++11-narrowing",
-                "-Wimplicit-fallthrough",
-                "-Wthread-safety",
-                "-Winconsistent-missing-override",
-                "-Wundef",
-                "-Wunused-lambda-capture"
+                "-Wno-strict-overflow"
             ],
             "defines": [
                 "V8_DEPRECATION_WARNINGS",
                 "USE_NSS_CERTS=1",
-                "USE_X11=1",
                 "NO_TCMALLOC",
                 "DISABLE_NACL",
                 "CHROMIUM_BUILD",
                 "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
                 "NDEBUG",
                 "NVALGRIND",
                 "DYNAMIC_ANNOTATIONS_ENABLED=0",
@@ -12489,23 +8753,13 @@
                 "-funwind-tables",
                 "-fPIC",
                 "-pipe",
-                "-fcolor-diagnostics",
-                "--target=aarch64-linux-gnu",
                 "-pthread",
                 "-Wall",
                 "-Werror",
-                "-Wextra",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
                 "-Wno-missing-field-initializers",
                 "-Wno-unused-parameter",
-                "-Wno-c++11-narrowing",
-                "-Wno-covered-switch-default",
-                "-Wno-unneeded-internal-declaration",
-                "-Wno-inconsistent-missing-override",
-                "-Wno-undefined-var-template",
-                "-Wno-nonportable-include-path",
-                "-Wno-address-of-packed-member",
-                "-Wno-unused-lambda-capture",
-                "-Wno-user-defined-warnings",
                 "-O2",
                 "-fno-ident",
                 "-fdata-sections",
@@ -12513,28 +8767,19 @@
                 "-fno-omit-frame-pointer",
                 "-g0",
                 "-fvisibility=hidden",
-                "-Wheader-hygiene",
-                "-Wstring-conversion",
-                "-Wtautological-overlap-compare",
                 "-Wextra",
                 "-Wno-unused-parameter",
                 "-Wno-missing-field-initializers",
-                "-Wno-strict-overflow",
-                "-Wc++11-narrowing",
-                "-Wimplicit-fallthrough",
-                "-Wthread-safety",
-                "-Winconsistent-missing-override",
-                "-Wundef",
-                "-Wunused-lambda-capture"
+                "-Wno-strict-overflow"
             ],
             "defines": [
                 "V8_DEPRECATION_WARNINGS",
                 "USE_NSS_CERTS=1",
-                "USE_X11=1",
                 "NO_TCMALLOC",
                 "DISABLE_NACL",
                 "CHROMIUM_BUILD",
                 "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
                 "NDEBUG",
                 "NVALGRIND",
                 "DYNAMIC_ANNOTATIONS_ENABLED=0",
@@ -12665,23 +8910,13 @@
                 "-funwind-tables",
                 "-fPIC",
                 "-pipe",
-                "-fcolor-diagnostics",
-                "--target=aarch64-linux-gnu",
                 "-pthread",
                 "-Wall",
                 "-Werror",
-                "-Wextra",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
                 "-Wno-missing-field-initializers",
                 "-Wno-unused-parameter",
-                "-Wno-c++11-narrowing",
-                "-Wno-covered-switch-default",
-                "-Wno-unneeded-internal-declaration",
-                "-Wno-inconsistent-missing-override",
-                "-Wno-undefined-var-template",
-                "-Wno-nonportable-include-path",
-                "-Wno-address-of-packed-member",
-                "-Wno-unused-lambda-capture",
-                "-Wno-user-defined-warnings",
                 "-O2",
                 "-fno-ident",
                 "-fdata-sections",
@@ -12689,28 +8924,19 @@
                 "-fno-omit-frame-pointer",
                 "-g0",
                 "-fvisibility=hidden",
-                "-Wheader-hygiene",
-                "-Wstring-conversion",
-                "-Wtautological-overlap-compare",
                 "-Wextra",
                 "-Wno-unused-parameter",
                 "-Wno-missing-field-initializers",
-                "-Wno-strict-overflow",
-                "-Wc++11-narrowing",
-                "-Wimplicit-fallthrough",
-                "-Wthread-safety",
-                "-Winconsistent-missing-override",
-                "-Wundef",
-                "-Wunused-lambda-capture"
+                "-Wno-strict-overflow"
             ],
             "defines": [
                 "V8_DEPRECATION_WARNINGS",
                 "USE_NSS_CERTS=1",
-                "USE_X11=1",
                 "NO_TCMALLOC",
                 "DISABLE_NACL",
                 "CHROMIUM_BUILD",
                 "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
                 "NDEBUG",
                 "NVALGRIND",
                 "DYNAMIC_ANNOTATIONS_ENABLED=0",
@@ -12777,23 +9003,13 @@
                 "-funwind-tables",
                 "-fPIC",
                 "-pipe",
-                "-fcolor-diagnostics",
-                "--target=aarch64-linux-gnu",
                 "-pthread",
                 "-Wall",
                 "-Werror",
-                "-Wextra",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
                 "-Wno-missing-field-initializers",
                 "-Wno-unused-parameter",
-                "-Wno-c++11-narrowing",
-                "-Wno-covered-switch-default",
-                "-Wno-unneeded-internal-declaration",
-                "-Wno-inconsistent-missing-override",
-                "-Wno-undefined-var-template",
-                "-Wno-nonportable-include-path",
-                "-Wno-address-of-packed-member",
-                "-Wno-unused-lambda-capture",
-                "-Wno-user-defined-warnings",
                 "-O2",
                 "-fno-ident",
                 "-fdata-sections",
@@ -12801,28 +9017,19 @@
                 "-fno-omit-frame-pointer",
                 "-g0",
                 "-fvisibility=hidden",
-                "-Wheader-hygiene",
-                "-Wstring-conversion",
-                "-Wtautological-overlap-compare",
                 "-Wextra",
                 "-Wno-unused-parameter",
                 "-Wno-missing-field-initializers",
-                "-Wno-strict-overflow",
-                "-Wc++11-narrowing",
-                "-Wimplicit-fallthrough",
-                "-Wthread-safety",
-                "-Winconsistent-missing-override",
-                "-Wundef",
-                "-Wunused-lambda-capture"
+                "-Wno-strict-overflow"
             ],
             "defines": [
                 "V8_DEPRECATION_WARNINGS",
                 "USE_NSS_CERTS=1",
-                "USE_X11=1",
                 "NO_TCMALLOC",
                 "DISABLE_NACL",
                 "CHROMIUM_BUILD",
                 "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
                 "NDEBUG",
                 "NVALGRIND",
                 "DYNAMIC_ANNOTATIONS_ENABLED=0",
@@ -12868,23 +9075,13 @@
                 "-funwind-tables",
                 "-fPIC",
                 "-pipe",
-                "-fcolor-diagnostics",
-                "--target=aarch64-linux-gnu",
                 "-pthread",
                 "-Wall",
                 "-Werror",
-                "-Wextra",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
                 "-Wno-missing-field-initializers",
                 "-Wno-unused-parameter",
-                "-Wno-c++11-narrowing",
-                "-Wno-covered-switch-default",
-                "-Wno-unneeded-internal-declaration",
-                "-Wno-inconsistent-missing-override",
-                "-Wno-undefined-var-template",
-                "-Wno-nonportable-include-path",
-                "-Wno-address-of-packed-member",
-                "-Wno-unused-lambda-capture",
-                "-Wno-user-defined-warnings",
                 "-O2",
                 "-fno-ident",
                 "-fdata-sections",
@@ -12892,28 +9089,19 @@
                 "-fno-omit-frame-pointer",
                 "-g0",
                 "-fvisibility=hidden",
-                "-Wheader-hygiene",
-                "-Wstring-conversion",
-                "-Wtautological-overlap-compare",
                 "-Wextra",
                 "-Wno-unused-parameter",
                 "-Wno-missing-field-initializers",
-                "-Wno-strict-overflow",
-                "-Wc++11-narrowing",
-                "-Wimplicit-fallthrough",
-                "-Wthread-safety",
-                "-Winconsistent-missing-override",
-                "-Wundef",
-                "-Wunused-lambda-capture"
+                "-Wno-strict-overflow"
             ],
             "defines": [
                 "V8_DEPRECATION_WARNINGS",
                 "USE_NSS_CERTS=1",
-                "USE_X11=1",
                 "NO_TCMALLOC",
                 "DISABLE_NACL",
                 "CHROMIUM_BUILD",
                 "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
                 "NDEBUG",
                 "NVALGRIND",
                 "DYNAMIC_ANNOTATIONS_ENABLED=0",
@@ -12961,23 +9149,13 @@
                 "-funwind-tables",
                 "-fPIC",
                 "-pipe",
-                "-fcolor-diagnostics",
-                "--target=aarch64-linux-gnu",
                 "-pthread",
                 "-Wall",
                 "-Werror",
-                "-Wextra",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
                 "-Wno-missing-field-initializers",
                 "-Wno-unused-parameter",
-                "-Wno-c++11-narrowing",
-                "-Wno-covered-switch-default",
-                "-Wno-unneeded-internal-declaration",
-                "-Wno-inconsistent-missing-override",
-                "-Wno-undefined-var-template",
-                "-Wno-nonportable-include-path",
-                "-Wno-address-of-packed-member",
-                "-Wno-unused-lambda-capture",
-                "-Wno-user-defined-warnings",
                 "-O2",
                 "-fno-ident",
                 "-fdata-sections",
@@ -12985,28 +9163,19 @@
                 "-fno-omit-frame-pointer",
                 "-g0",
                 "-fvisibility=hidden",
-                "-Wheader-hygiene",
-                "-Wstring-conversion",
-                "-Wtautological-overlap-compare",
                 "-Wextra",
                 "-Wno-unused-parameter",
                 "-Wno-missing-field-initializers",
-                "-Wno-strict-overflow",
-                "-Wc++11-narrowing",
-                "-Wimplicit-fallthrough",
-                "-Wthread-safety",
-                "-Winconsistent-missing-override",
-                "-Wundef",
-                "-Wunused-lambda-capture"
+                "-Wno-strict-overflow"
             ],
             "defines": [
                 "V8_DEPRECATION_WARNINGS",
                 "USE_NSS_CERTS=1",
-                "USE_X11=1",
                 "NO_TCMALLOC",
                 "DISABLE_NACL",
                 "CHROMIUM_BUILD",
                 "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
                 "NDEBUG",
                 "NVALGRIND",
                 "DYNAMIC_ANNOTATIONS_ENABLED=0",
@@ -13058,23 +9227,13 @@
                 "-funwind-tables",
                 "-fPIC",
                 "-pipe",
-                "-fcolor-diagnostics",
-                "--target=aarch64-linux-gnu",
                 "-pthread",
                 "-Wall",
                 "-Werror",
-                "-Wextra",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
                 "-Wno-missing-field-initializers",
                 "-Wno-unused-parameter",
-                "-Wno-c++11-narrowing",
-                "-Wno-covered-switch-default",
-                "-Wno-unneeded-internal-declaration",
-                "-Wno-inconsistent-missing-override",
-                "-Wno-undefined-var-template",
-                "-Wno-nonportable-include-path",
-                "-Wno-address-of-packed-member",
-                "-Wno-unused-lambda-capture",
-                "-Wno-user-defined-warnings",
                 "-O2",
                 "-fno-ident",
                 "-fdata-sections",
@@ -13082,28 +9241,19 @@
                 "-fno-omit-frame-pointer",
                 "-g0",
                 "-fvisibility=hidden",
-                "-Wheader-hygiene",
-                "-Wstring-conversion",
-                "-Wtautological-overlap-compare",
                 "-Wextra",
                 "-Wno-unused-parameter",
                 "-Wno-missing-field-initializers",
-                "-Wno-strict-overflow",
-                "-Wc++11-narrowing",
-                "-Wimplicit-fallthrough",
-                "-Wthread-safety",
-                "-Winconsistent-missing-override",
-                "-Wundef",
-                "-Wunused-lambda-capture"
+                "-Wno-strict-overflow"
             ],
             "defines": [
                 "V8_DEPRECATION_WARNINGS",
                 "USE_NSS_CERTS=1",
-                "USE_X11=1",
                 "NO_TCMALLOC",
                 "DISABLE_NACL",
                 "CHROMIUM_BUILD",
                 "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
                 "NDEBUG",
                 "NVALGRIND",
                 "DYNAMIC_ANNOTATIONS_ENABLED=0",
@@ -13165,23 +9315,13 @@
                 "-funwind-tables",
                 "-fPIC",
                 "-pipe",
-                "-fcolor-diagnostics",
-                "--target=aarch64-linux-gnu",
                 "-pthread",
                 "-Wall",
                 "-Werror",
-                "-Wextra",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
                 "-Wno-missing-field-initializers",
                 "-Wno-unused-parameter",
-                "-Wno-c++11-narrowing",
-                "-Wno-covered-switch-default",
-                "-Wno-unneeded-internal-declaration",
-                "-Wno-inconsistent-missing-override",
-                "-Wno-undefined-var-template",
-                "-Wno-nonportable-include-path",
-                "-Wno-address-of-packed-member",
-                "-Wno-unused-lambda-capture",
-                "-Wno-user-defined-warnings",
                 "-O2",
                 "-fno-ident",
                 "-fdata-sections",
@@ -13189,28 +9329,19 @@
                 "-fno-omit-frame-pointer",
                 "-g0",
                 "-fvisibility=hidden",
-                "-Wheader-hygiene",
-                "-Wstring-conversion",
-                "-Wtautological-overlap-compare",
                 "-Wextra",
                 "-Wno-unused-parameter",
                 "-Wno-missing-field-initializers",
-                "-Wno-strict-overflow",
-                "-Wc++11-narrowing",
-                "-Wimplicit-fallthrough",
-                "-Wthread-safety",
-                "-Winconsistent-missing-override",
-                "-Wundef",
-                "-Wunused-lambda-capture"
+                "-Wno-strict-overflow"
             ],
             "defines": [
                 "V8_DEPRECATION_WARNINGS",
                 "USE_NSS_CERTS=1",
-                "USE_X11=1",
                 "NO_TCMALLOC",
                 "DISABLE_NACL",
                 "CHROMIUM_BUILD",
                 "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
                 "NDEBUG",
                 "NVALGRIND",
                 "DYNAMIC_ANNOTATIONS_ENABLED=0",
@@ -13262,23 +9393,13 @@
                 "-funwind-tables",
                 "-fPIC",
                 "-pipe",
-                "-fcolor-diagnostics",
-                "--target=aarch64-linux-gnu",
                 "-pthread",
                 "-Wall",
                 "-Werror",
-                "-Wextra",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
                 "-Wno-missing-field-initializers",
                 "-Wno-unused-parameter",
-                "-Wno-c++11-narrowing",
-                "-Wno-covered-switch-default",
-                "-Wno-unneeded-internal-declaration",
-                "-Wno-inconsistent-missing-override",
-                "-Wno-undefined-var-template",
-                "-Wno-nonportable-include-path",
-                "-Wno-address-of-packed-member",
-                "-Wno-unused-lambda-capture",
-                "-Wno-user-defined-warnings",
                 "-O2",
                 "-fno-ident",
                 "-fdata-sections",
@@ -13286,44 +9407,19 @@
                 "-fno-omit-frame-pointer",
                 "-g0",
                 "-fvisibility=hidden",
-                "-Xclang",
-                "-load",
-                "-Xclang",
-                "../../../../../../media/webrtc/trunk/webrtc/third_party/llvm-build/Release+Asserts/lib/libFindBadConstructs.so",
-                "-Xclang",
-                "-add-plugin",
-                "-Xclang",
-                "find-bad-constructs",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-auto-raw-pointer",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-ipc",
-                "-Wheader-hygiene",
-                "-Wstring-conversion",
-                "-Wtautological-overlap-compare",
                 "-Wextra",
                 "-Wno-unused-parameter",
                 "-Wno-missing-field-initializers",
-                "-Wno-strict-overflow",
-                "-Wc++11-narrowing",
-                "-Wimplicit-fallthrough",
-                "-Wthread-safety",
-                "-Winconsistent-missing-override",
-                "-Wundef",
-                "-Wunused-lambda-capture"
+                "-Wno-strict-overflow"
             ],
             "defines": [
                 "V8_DEPRECATION_WARNINGS",
                 "USE_NSS_CERTS=1",
-                "USE_X11=1",
                 "NO_TCMALLOC",
                 "DISABLE_NACL",
                 "CHROMIUM_BUILD",
                 "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
                 "NDEBUG",
                 "NVALGRIND",
                 "DYNAMIC_ANNOTATIONS_ENABLED=0",
@@ -13363,23 +9459,13 @@
                 "-funwind-tables",
                 "-fPIC",
                 "-pipe",
-                "-fcolor-diagnostics",
-                "--target=aarch64-linux-gnu",
                 "-pthread",
                 "-Wall",
                 "-Werror",
-                "-Wextra",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
                 "-Wno-missing-field-initializers",
                 "-Wno-unused-parameter",
-                "-Wno-c++11-narrowing",
-                "-Wno-covered-switch-default",
-                "-Wno-unneeded-internal-declaration",
-                "-Wno-inconsistent-missing-override",
-                "-Wno-undefined-var-template",
-                "-Wno-nonportable-include-path",
-                "-Wno-address-of-packed-member",
-                "-Wno-unused-lambda-capture",
-                "-Wno-user-defined-warnings",
                 "-O2",
                 "-fno-ident",
                 "-fdata-sections",
@@ -13387,28 +9473,19 @@
                 "-fno-omit-frame-pointer",
                 "-g0",
                 "-fvisibility=hidden",
-                "-Wheader-hygiene",
-                "-Wstring-conversion",
-                "-Wtautological-overlap-compare",
                 "-Wextra",
                 "-Wno-unused-parameter",
                 "-Wno-missing-field-initializers",
-                "-Wno-strict-overflow",
-                "-Wc++11-narrowing",
-                "-Wimplicit-fallthrough",
-                "-Wthread-safety",
-                "-Winconsistent-missing-override",
-                "-Wundef",
-                "-Wunused-lambda-capture"
+                "-Wno-strict-overflow"
             ],
             "defines": [
                 "V8_DEPRECATION_WARNINGS",
                 "USE_NSS_CERTS=1",
-                "USE_X11=1",
                 "NO_TCMALLOC",
                 "DISABLE_NACL",
                 "CHROMIUM_BUILD",
                 "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
                 "NDEBUG",
                 "NVALGRIND",
                 "DYNAMIC_ANNOTATIONS_ENABLED=0",
@@ -13469,23 +9546,13 @@
                 "-funwind-tables",
                 "-fPIC",
                 "-pipe",
-                "-fcolor-diagnostics",
-                "--target=aarch64-linux-gnu",
                 "-pthread",
                 "-Wall",
                 "-Werror",
-                "-Wextra",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
                 "-Wno-missing-field-initializers",
                 "-Wno-unused-parameter",
-                "-Wno-c++11-narrowing",
-                "-Wno-covered-switch-default",
-                "-Wno-unneeded-internal-declaration",
-                "-Wno-inconsistent-missing-override",
-                "-Wno-undefined-var-template",
-                "-Wno-nonportable-include-path",
-                "-Wno-address-of-packed-member",
-                "-Wno-unused-lambda-capture",
-                "-Wno-user-defined-warnings",
                 "-O2",
                 "-fno-ident",
                 "-fdata-sections",
@@ -13493,44 +9560,19 @@
                 "-fno-omit-frame-pointer",
                 "-g0",
                 "-fvisibility=hidden",
-                "-Xclang",
-                "-load",
-                "-Xclang",
-                "../../../../../../media/webrtc/trunk/webrtc/third_party/llvm-build/Release+Asserts/lib/libFindBadConstructs.so",
-                "-Xclang",
-                "-add-plugin",
-                "-Xclang",
-                "find-bad-constructs",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-auto-raw-pointer",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-ipc",
-                "-Wheader-hygiene",
-                "-Wstring-conversion",
-                "-Wtautological-overlap-compare",
                 "-Wextra",
                 "-Wno-unused-parameter",
                 "-Wno-missing-field-initializers",
-                "-Wno-strict-overflow",
-                "-Wc++11-narrowing",
-                "-Wimplicit-fallthrough",
-                "-Wthread-safety",
-                "-Winconsistent-missing-override",
-                "-Wundef",
-                "-Wunused-lambda-capture"
+                "-Wno-strict-overflow"
             ],
             "defines": [
                 "V8_DEPRECATION_WARNINGS",
                 "USE_NSS_CERTS=1",
-                "USE_X11=1",
                 "NO_TCMALLOC",
                 "DISABLE_NACL",
                 "CHROMIUM_BUILD",
                 "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
                 "NDEBUG",
                 "NVALGRIND",
                 "DYNAMIC_ANNOTATIONS_ENABLED=0",
@@ -13571,23 +9613,13 @@
                 "-funwind-tables",
                 "-fPIC",
                 "-pipe",
-                "-fcolor-diagnostics",
-                "--target=aarch64-linux-gnu",
                 "-pthread",
                 "-Wall",
                 "-Werror",
-                "-Wextra",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
                 "-Wno-missing-field-initializers",
                 "-Wno-unused-parameter",
-                "-Wno-c++11-narrowing",
-                "-Wno-covered-switch-default",
-                "-Wno-unneeded-internal-declaration",
-                "-Wno-inconsistent-missing-override",
-                "-Wno-undefined-var-template",
-                "-Wno-nonportable-include-path",
-                "-Wno-address-of-packed-member",
-                "-Wno-unused-lambda-capture",
-                "-Wno-user-defined-warnings",
                 "-O2",
                 "-fno-ident",
                 "-fdata-sections",
@@ -13595,44 +9627,19 @@
                 "-fno-omit-frame-pointer",
                 "-g0",
                 "-fvisibility=hidden",
-                "-Xclang",
-                "-load",
-                "-Xclang",
-                "../../../../../../media/webrtc/trunk/webrtc/third_party/llvm-build/Release+Asserts/lib/libFindBadConstructs.so",
-                "-Xclang",
-                "-add-plugin",
-                "-Xclang",
-                "find-bad-constructs",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-auto-raw-pointer",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-ipc",
-                "-Wheader-hygiene",
-                "-Wstring-conversion",
-                "-Wtautological-overlap-compare",
                 "-Wextra",
                 "-Wno-unused-parameter",
                 "-Wno-missing-field-initializers",
-                "-Wno-strict-overflow",
-                "-Wc++11-narrowing",
-                "-Wimplicit-fallthrough",
-                "-Wthread-safety",
-                "-Winconsistent-missing-override",
-                "-Wundef",
-                "-Wunused-lambda-capture"
+                "-Wno-strict-overflow"
             ],
             "defines": [
                 "V8_DEPRECATION_WARNINGS",
                 "USE_NSS_CERTS=1",
-                "USE_X11=1",
                 "NO_TCMALLOC",
                 "DISABLE_NACL",
                 "CHROMIUM_BUILD",
                 "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
                 "NDEBUG",
                 "NVALGRIND",
                 "DYNAMIC_ANNOTATIONS_ENABLED=0",
@@ -13679,23 +9686,13 @@
                 "-funwind-tables",
                 "-fPIC",
                 "-pipe",
-                "-fcolor-diagnostics",
-                "--target=aarch64-linux-gnu",
                 "-pthread",
                 "-Wall",
                 "-Werror",
-                "-Wextra",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
                 "-Wno-missing-field-initializers",
                 "-Wno-unused-parameter",
-                "-Wno-c++11-narrowing",
-                "-Wno-covered-switch-default",
-                "-Wno-unneeded-internal-declaration",
-                "-Wno-inconsistent-missing-override",
-                "-Wno-undefined-var-template",
-                "-Wno-nonportable-include-path",
-                "-Wno-address-of-packed-member",
-                "-Wno-unused-lambda-capture",
-                "-Wno-user-defined-warnings",
                 "-O2",
                 "-fno-ident",
                 "-fdata-sections",
@@ -13703,44 +9700,19 @@
                 "-fno-omit-frame-pointer",
                 "-g0",
                 "-fvisibility=hidden",
-                "-Xclang",
-                "-load",
-                "-Xclang",
-                "../../../../../../media/webrtc/trunk/webrtc/third_party/llvm-build/Release+Asserts/lib/libFindBadConstructs.so",
-                "-Xclang",
-                "-add-plugin",
-                "-Xclang",
-                "find-bad-constructs",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-auto-raw-pointer",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-ipc",
-                "-Wheader-hygiene",
-                "-Wstring-conversion",
-                "-Wtautological-overlap-compare",
                 "-Wextra",
                 "-Wno-unused-parameter",
                 "-Wno-missing-field-initializers",
-                "-Wno-strict-overflow",
-                "-Wc++11-narrowing",
-                "-Wimplicit-fallthrough",
-                "-Wthread-safety",
-                "-Winconsistent-missing-override",
-                "-Wundef",
-                "-Wunused-lambda-capture"
+                "-Wno-strict-overflow"
             ],
             "defines": [
                 "V8_DEPRECATION_WARNINGS",
                 "USE_NSS_CERTS=1",
-                "USE_X11=1",
                 "NO_TCMALLOC",
                 "DISABLE_NACL",
                 "CHROMIUM_BUILD",
                 "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
                 "NDEBUG",
                 "NVALGRIND",
                 "DYNAMIC_ANNOTATIONS_ENABLED=0",
@@ -13779,58 +9751,29 @@
                 "-funwind-tables",
                 "-fPIC",
                 "-pipe",
-                "-fcolor-diagnostics",
-                "--target=aarch64-linux-gnu",
                 "-pthread",
                 "-Wall",
                 "-Werror",
-                "-Wextra",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
                 "-Wno-missing-field-initializers",
                 "-Wno-unused-parameter",
-                "-Wno-c++11-narrowing",
-                "-Wno-covered-switch-default",
-                "-Wno-unneeded-internal-declaration",
-                "-Wno-inconsistent-missing-override",
-                "-Wno-undefined-var-template",
-                "-Wno-nonportable-include-path",
-                "-Wno-address-of-packed-member",
-                "-Wno-unused-lambda-capture",
-                "-Wno-user-defined-warnings",
                 "-O2",
                 "-fno-ident",
                 "-fdata-sections",
                 "-ffunction-sections",
                 "-fno-omit-frame-pointer",
                 "-g0",
-                "-fvisibility=hidden",
-                "-Xclang",
-                "-load",
-                "-Xclang",
-                "../../../../../../media/webrtc/trunk/webrtc/third_party/llvm-build/Release+Asserts/lib/libFindBadConstructs.so",
-                "-Xclang",
-                "-add-plugin",
-                "-Xclang",
-                "find-bad-constructs",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-auto-raw-pointer",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-ipc",
-                "-Wheader-hygiene",
-                "-Wstring-conversion",
-                "-Wtautological-overlap-compare"
+                "-fvisibility=hidden"
             ],
             "defines": [
                 "V8_DEPRECATION_WARNINGS",
                 "USE_NSS_CERTS=1",
-                "USE_X11=1",
                 "NO_TCMALLOC",
                 "DISABLE_NACL",
                 "CHROMIUM_BUILD",
                 "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
                 "NDEBUG",
                 "NVALGRIND",
                 "DYNAMIC_ANNOTATIONS_ENABLED=0"
@@ -13858,23 +9801,13 @@
                 "-funwind-tables",
                 "-fPIC",
                 "-pipe",
-                "-fcolor-diagnostics",
-                "--target=aarch64-linux-gnu",
                 "-pthread",
                 "-Wall",
                 "-Werror",
-                "-Wextra",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
                 "-Wno-missing-field-initializers",
                 "-Wno-unused-parameter",
-                "-Wno-c++11-narrowing",
-                "-Wno-covered-switch-default",
-                "-Wno-unneeded-internal-declaration",
-                "-Wno-inconsistent-missing-override",
-                "-Wno-undefined-var-template",
-                "-Wno-nonportable-include-path",
-                "-Wno-address-of-packed-member",
-                "-Wno-unused-lambda-capture",
-                "-Wno-user-defined-warnings",
                 "-O2",
                 "-fno-ident",
                 "-fdata-sections",
@@ -13882,44 +9815,19 @@
                 "-fno-omit-frame-pointer",
                 "-g0",
                 "-fvisibility=hidden",
-                "-Xclang",
-                "-load",
-                "-Xclang",
-                "../../../../../../media/webrtc/trunk/webrtc/third_party/llvm-build/Release+Asserts/lib/libFindBadConstructs.so",
-                "-Xclang",
-                "-add-plugin",
-                "-Xclang",
-                "find-bad-constructs",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-auto-raw-pointer",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-ipc",
-                "-Wheader-hygiene",
-                "-Wstring-conversion",
-                "-Wtautological-overlap-compare",
                 "-Wextra",
                 "-Wno-unused-parameter",
                 "-Wno-missing-field-initializers",
-                "-Wno-strict-overflow",
-                "-Wc++11-narrowing",
-                "-Wimplicit-fallthrough",
-                "-Wthread-safety",
-                "-Winconsistent-missing-override",
-                "-Wundef",
-                "-Wunused-lambda-capture"
+                "-Wno-strict-overflow"
             ],
             "defines": [
                 "V8_DEPRECATION_WARNINGS",
                 "USE_NSS_CERTS=1",
-                "USE_X11=1",
                 "NO_TCMALLOC",
                 "DISABLE_NACL",
                 "CHROMIUM_BUILD",
                 "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
                 "NDEBUG",
                 "NVALGRIND",
                 "DYNAMIC_ANNOTATIONS_ENABLED=0",
@@ -13955,58 +9863,29 @@
                 "-funwind-tables",
                 "-fPIC",
                 "-pipe",
-                "-fcolor-diagnostics",
-                "--target=aarch64-linux-gnu",
                 "-pthread",
                 "-Wall",
                 "-Werror",
-                "-Wextra",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
                 "-Wno-missing-field-initializers",
                 "-Wno-unused-parameter",
-                "-Wno-c++11-narrowing",
-                "-Wno-covered-switch-default",
-                "-Wno-unneeded-internal-declaration",
-                "-Wno-inconsistent-missing-override",
-                "-Wno-undefined-var-template",
-                "-Wno-nonportable-include-path",
-                "-Wno-address-of-packed-member",
-                "-Wno-unused-lambda-capture",
-                "-Wno-user-defined-warnings",
                 "-O2",
                 "-fno-ident",
                 "-fdata-sections",
                 "-ffunction-sections",
                 "-fno-omit-frame-pointer",
                 "-g0",
-                "-fvisibility=hidden",
-                "-Xclang",
-                "-load",
-                "-Xclang",
-                "../../../../../../media/webrtc/trunk/webrtc/third_party/llvm-build/Release+Asserts/lib/libFindBadConstructs.so",
-                "-Xclang",
-                "-add-plugin",
-                "-Xclang",
-                "find-bad-constructs",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-auto-raw-pointer",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-ipc",
-                "-Wheader-hygiene",
-                "-Wstring-conversion",
-                "-Wtautological-overlap-compare"
+                "-fvisibility=hidden"
             ],
             "defines": [
                 "V8_DEPRECATION_WARNINGS",
                 "USE_NSS_CERTS=1",
-                "USE_X11=1",
                 "NO_TCMALLOC",
                 "DISABLE_NACL",
                 "CHROMIUM_BUILD",
                 "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
                 "NDEBUG",
                 "NVALGRIND",
                 "DYNAMIC_ANNOTATIONS_ENABLED=0"
@@ -14034,23 +9913,13 @@
                 "-funwind-tables",
                 "-fPIC",
                 "-pipe",
-                "-fcolor-diagnostics",
-                "--target=aarch64-linux-gnu",
                 "-pthread",
                 "-Wall",
                 "-Werror",
-                "-Wextra",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
                 "-Wno-missing-field-initializers",
                 "-Wno-unused-parameter",
-                "-Wno-c++11-narrowing",
-                "-Wno-covered-switch-default",
-                "-Wno-unneeded-internal-declaration",
-                "-Wno-inconsistent-missing-override",
-                "-Wno-undefined-var-template",
-                "-Wno-nonportable-include-path",
-                "-Wno-address-of-packed-member",
-                "-Wno-unused-lambda-capture",
-                "-Wno-user-defined-warnings",
                 "-O2",
                 "-fno-ident",
                 "-fdata-sections",
@@ -14058,44 +9927,19 @@
                 "-fno-omit-frame-pointer",
                 "-g0",
                 "-fvisibility=hidden",
-                "-Xclang",
-                "-load",
-                "-Xclang",
-                "../../../../../../media/webrtc/trunk/webrtc/third_party/llvm-build/Release+Asserts/lib/libFindBadConstructs.so",
-                "-Xclang",
-                "-add-plugin",
-                "-Xclang",
-                "find-bad-constructs",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-auto-raw-pointer",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-ipc",
-                "-Wheader-hygiene",
-                "-Wstring-conversion",
-                "-Wtautological-overlap-compare",
                 "-Wextra",
                 "-Wno-unused-parameter",
                 "-Wno-missing-field-initializers",
-                "-Wno-strict-overflow",
-                "-Wc++11-narrowing",
-                "-Wimplicit-fallthrough",
-                "-Wthread-safety",
-                "-Winconsistent-missing-override",
-                "-Wundef",
-                "-Wunused-lambda-capture"
+                "-Wno-strict-overflow"
             ],
             "defines": [
                 "V8_DEPRECATION_WARNINGS",
                 "USE_NSS_CERTS=1",
-                "USE_X11=1",
                 "NO_TCMALLOC",
                 "DISABLE_NACL",
                 "CHROMIUM_BUILD",
                 "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
                 "NDEBUG",
                 "NVALGRIND",
                 "DYNAMIC_ANNOTATIONS_ENABLED=0",
@@ -14129,23 +9973,13 @@
                 "-funwind-tables",
                 "-fPIC",
                 "-pipe",
-                "-fcolor-diagnostics",
-                "--target=aarch64-linux-gnu",
                 "-pthread",
                 "-Wall",
                 "-Werror",
-                "-Wextra",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
                 "-Wno-missing-field-initializers",
                 "-Wno-unused-parameter",
-                "-Wno-c++11-narrowing",
-                "-Wno-covered-switch-default",
-                "-Wno-unneeded-internal-declaration",
-                "-Wno-inconsistent-missing-override",
-                "-Wno-undefined-var-template",
-                "-Wno-nonportable-include-path",
-                "-Wno-address-of-packed-member",
-                "-Wno-unused-lambda-capture",
-                "-Wno-user-defined-warnings",
                 "-O2",
                 "-fno-ident",
                 "-fdata-sections",
@@ -14153,44 +9987,19 @@
                 "-fno-omit-frame-pointer",
                 "-g0",
                 "-fvisibility=hidden",
-                "-Xclang",
-                "-load",
-                "-Xclang",
-                "../../../../../../media/webrtc/trunk/webrtc/third_party/llvm-build/Release+Asserts/lib/libFindBadConstructs.so",
-                "-Xclang",
-                "-add-plugin",
-                "-Xclang",
-                "find-bad-constructs",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-auto-raw-pointer",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-ipc",
-                "-Wheader-hygiene",
-                "-Wstring-conversion",
-                "-Wtautological-overlap-compare",
                 "-Wextra",
                 "-Wno-unused-parameter",
                 "-Wno-missing-field-initializers",
-                "-Wno-strict-overflow",
-                "-Wc++11-narrowing",
-                "-Wimplicit-fallthrough",
-                "-Wthread-safety",
-                "-Winconsistent-missing-override",
-                "-Wundef",
-                "-Wunused-lambda-capture"
+                "-Wno-strict-overflow"
             ],
             "defines": [
                 "V8_DEPRECATION_WARNINGS",
                 "USE_NSS_CERTS=1",
-                "USE_X11=1",
                 "NO_TCMALLOC",
                 "DISABLE_NACL",
                 "CHROMIUM_BUILD",
                 "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
                 "NDEBUG",
                 "NVALGRIND",
                 "DYNAMIC_ANNOTATIONS_ENABLED=0",
@@ -14226,23 +10035,13 @@
                 "-funwind-tables",
                 "-fPIC",
                 "-pipe",
-                "-fcolor-diagnostics",
-                "--target=aarch64-linux-gnu",
                 "-pthread",
                 "-Wall",
                 "-Werror",
-                "-Wextra",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
                 "-Wno-missing-field-initializers",
                 "-Wno-unused-parameter",
-                "-Wno-c++11-narrowing",
-                "-Wno-covered-switch-default",
-                "-Wno-unneeded-internal-declaration",
-                "-Wno-inconsistent-missing-override",
-                "-Wno-undefined-var-template",
-                "-Wno-nonportable-include-path",
-                "-Wno-address-of-packed-member",
-                "-Wno-unused-lambda-capture",
-                "-Wno-user-defined-warnings",
                 "-O2",
                 "-fno-ident",
                 "-fdata-sections",
@@ -14250,44 +10049,19 @@
                 "-fno-omit-frame-pointer",
                 "-g0",
                 "-fvisibility=hidden",
-                "-Xclang",
-                "-load",
-                "-Xclang",
-                "../../../../../../media/webrtc/trunk/webrtc/third_party/llvm-build/Release+Asserts/lib/libFindBadConstructs.so",
-                "-Xclang",
-                "-add-plugin",
-                "-Xclang",
-                "find-bad-constructs",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-auto-raw-pointer",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-ipc",
-                "-Wheader-hygiene",
-                "-Wstring-conversion",
-                "-Wtautological-overlap-compare",
                 "-Wextra",
                 "-Wno-unused-parameter",
                 "-Wno-missing-field-initializers",
-                "-Wno-strict-overflow",
-                "-Wc++11-narrowing",
-                "-Wimplicit-fallthrough",
-                "-Wthread-safety",
-                "-Winconsistent-missing-override",
-                "-Wundef",
-                "-Wunused-lambda-capture"
+                "-Wno-strict-overflow"
             ],
             "defines": [
                 "V8_DEPRECATION_WARNINGS",
                 "USE_NSS_CERTS=1",
-                "USE_X11=1",
                 "NO_TCMALLOC",
                 "DISABLE_NACL",
                 "CHROMIUM_BUILD",
                 "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
                 "NDEBUG",
                 "NVALGRIND",
                 "DYNAMIC_ANNOTATIONS_ENABLED=0",
@@ -14437,23 +10211,13 @@
                 "-funwind-tables",
                 "-fPIC",
                 "-pipe",
-                "-fcolor-diagnostics",
-                "--target=aarch64-linux-gnu",
                 "-pthread",
                 "-Wall",
                 "-Werror",
-                "-Wextra",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
                 "-Wno-missing-field-initializers",
                 "-Wno-unused-parameter",
-                "-Wno-c++11-narrowing",
-                "-Wno-covered-switch-default",
-                "-Wno-unneeded-internal-declaration",
-                "-Wno-inconsistent-missing-override",
-                "-Wno-undefined-var-template",
-                "-Wno-nonportable-include-path",
-                "-Wno-address-of-packed-member",
-                "-Wno-unused-lambda-capture",
-                "-Wno-user-defined-warnings",
                 "-O2",
                 "-fno-ident",
                 "-fdata-sections",
@@ -14461,44 +10225,19 @@
                 "-fno-omit-frame-pointer",
                 "-g0",
                 "-fvisibility=hidden",
-                "-Xclang",
-                "-load",
-                "-Xclang",
-                "../../../../../../media/webrtc/trunk/webrtc/third_party/llvm-build/Release+Asserts/lib/libFindBadConstructs.so",
-                "-Xclang",
-                "-add-plugin",
-                "-Xclang",
-                "find-bad-constructs",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-auto-raw-pointer",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-ipc",
-                "-Wheader-hygiene",
-                "-Wstring-conversion",
-                "-Wtautological-overlap-compare",
                 "-Wextra",
                 "-Wno-unused-parameter",
                 "-Wno-missing-field-initializers",
-                "-Wno-strict-overflow",
-                "-Wc++11-narrowing",
-                "-Wimplicit-fallthrough",
-                "-Wthread-safety",
-                "-Winconsistent-missing-override",
-                "-Wundef",
-                "-Wunused-lambda-capture"
+                "-Wno-strict-overflow"
             ],
             "defines": [
                 "V8_DEPRECATION_WARNINGS",
                 "USE_NSS_CERTS=1",
-                "USE_X11=1",
                 "NO_TCMALLOC",
                 "DISABLE_NACL",
                 "CHROMIUM_BUILD",
                 "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
                 "NDEBUG",
                 "NVALGRIND",
                 "DYNAMIC_ANNOTATIONS_ENABLED=0",
@@ -14541,23 +10280,13 @@
                 "-funwind-tables",
                 "-fPIC",
                 "-pipe",
-                "-fcolor-diagnostics",
-                "--target=aarch64-linux-gnu",
                 "-pthread",
                 "-Wall",
                 "-Werror",
-                "-Wextra",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
                 "-Wno-missing-field-initializers",
                 "-Wno-unused-parameter",
-                "-Wno-c++11-narrowing",
-                "-Wno-covered-switch-default",
-                "-Wno-unneeded-internal-declaration",
-                "-Wno-inconsistent-missing-override",
-                "-Wno-undefined-var-template",
-                "-Wno-nonportable-include-path",
-                "-Wno-address-of-packed-member",
-                "-Wno-unused-lambda-capture",
-                "-Wno-user-defined-warnings",
                 "-O2",
                 "-fno-ident",
                 "-fdata-sections",
@@ -14565,44 +10294,19 @@
                 "-fno-omit-frame-pointer",
                 "-g0",
                 "-fvisibility=hidden",
-                "-Xclang",
-                "-load",
-                "-Xclang",
-                "../../../../../../media/webrtc/trunk/webrtc/third_party/llvm-build/Release+Asserts/lib/libFindBadConstructs.so",
-                "-Xclang",
-                "-add-plugin",
-                "-Xclang",
-                "find-bad-constructs",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-auto-raw-pointer",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-ipc",
-                "-Wheader-hygiene",
-                "-Wstring-conversion",
-                "-Wtautological-overlap-compare",
                 "-Wextra",
                 "-Wno-unused-parameter",
                 "-Wno-missing-field-initializers",
-                "-Wno-strict-overflow",
-                "-Wc++11-narrowing",
-                "-Wimplicit-fallthrough",
-                "-Wthread-safety",
-                "-Winconsistent-missing-override",
-                "-Wundef",
-                "-Wunused-lambda-capture"
+                "-Wno-strict-overflow"
             ],
             "defines": [
                 "V8_DEPRECATION_WARNINGS",
                 "USE_NSS_CERTS=1",
-                "USE_X11=1",
                 "NO_TCMALLOC",
                 "DISABLE_NACL",
                 "CHROMIUM_BUILD",
                 "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
                 "NDEBUG",
                 "NVALGRIND",
                 "DYNAMIC_ANNOTATIONS_ENABLED=0",
@@ -14640,23 +10344,13 @@
                 "-funwind-tables",
                 "-fPIC",
                 "-pipe",
-                "-fcolor-diagnostics",
-                "--target=aarch64-linux-gnu",
                 "-pthread",
                 "-Wall",
                 "-Werror",
-                "-Wextra",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
                 "-Wno-missing-field-initializers",
                 "-Wno-unused-parameter",
-                "-Wno-c++11-narrowing",
-                "-Wno-covered-switch-default",
-                "-Wno-unneeded-internal-declaration",
-                "-Wno-inconsistent-missing-override",
-                "-Wno-undefined-var-template",
-                "-Wno-nonportable-include-path",
-                "-Wno-address-of-packed-member",
-                "-Wno-unused-lambda-capture",
-                "-Wno-user-defined-warnings",
                 "-O2",
                 "-fno-ident",
                 "-fdata-sections",
@@ -14664,44 +10358,19 @@
                 "-fno-omit-frame-pointer",
                 "-g0",
                 "-fvisibility=hidden",
-                "-Xclang",
-                "-load",
-                "-Xclang",
-                "../../../../../../media/webrtc/trunk/webrtc/third_party/llvm-build/Release+Asserts/lib/libFindBadConstructs.so",
-                "-Xclang",
-                "-add-plugin",
-                "-Xclang",
-                "find-bad-constructs",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-auto-raw-pointer",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-ipc",
-                "-Wheader-hygiene",
-                "-Wstring-conversion",
-                "-Wtautological-overlap-compare",
                 "-Wextra",
                 "-Wno-unused-parameter",
                 "-Wno-missing-field-initializers",
-                "-Wno-strict-overflow",
-                "-Wc++11-narrowing",
-                "-Wimplicit-fallthrough",
-                "-Wthread-safety",
-                "-Winconsistent-missing-override",
-                "-Wundef",
-                "-Wunused-lambda-capture"
+                "-Wno-strict-overflow"
             ],
             "defines": [
                 "V8_DEPRECATION_WARNINGS",
                 "USE_NSS_CERTS=1",
-                "USE_X11=1",
                 "NO_TCMALLOC",
                 "DISABLE_NACL",
                 "CHROMIUM_BUILD",
                 "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
                 "NDEBUG",
                 "NVALGRIND",
                 "DYNAMIC_ANNOTATIONS_ENABLED=0",
@@ -14739,23 +10408,13 @@
                 "-funwind-tables",
                 "-fPIC",
                 "-pipe",
-                "-fcolor-diagnostics",
-                "--target=aarch64-linux-gnu",
                 "-pthread",
                 "-Wall",
                 "-Werror",
-                "-Wextra",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
                 "-Wno-missing-field-initializers",
                 "-Wno-unused-parameter",
-                "-Wno-c++11-narrowing",
-                "-Wno-covered-switch-default",
-                "-Wno-unneeded-internal-declaration",
-                "-Wno-inconsistent-missing-override",
-                "-Wno-undefined-var-template",
-                "-Wno-nonportable-include-path",
-                "-Wno-address-of-packed-member",
-                "-Wno-unused-lambda-capture",
-                "-Wno-user-defined-warnings",
                 "-O2",
                 "-fno-ident",
                 "-fdata-sections",
@@ -14763,44 +10422,19 @@
                 "-fno-omit-frame-pointer",
                 "-g0",
                 "-fvisibility=hidden",
-                "-Xclang",
-                "-load",
-                "-Xclang",
-                "../../../../../../media/webrtc/trunk/webrtc/third_party/llvm-build/Release+Asserts/lib/libFindBadConstructs.so",
-                "-Xclang",
-                "-add-plugin",
-                "-Xclang",
-                "find-bad-constructs",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-auto-raw-pointer",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-ipc",
-                "-Wheader-hygiene",
-                "-Wstring-conversion",
-                "-Wtautological-overlap-compare",
                 "-Wextra",
                 "-Wno-unused-parameter",
                 "-Wno-missing-field-initializers",
-                "-Wno-strict-overflow",
-                "-Wc++11-narrowing",
-                "-Wimplicit-fallthrough",
-                "-Wthread-safety",
-                "-Winconsistent-missing-override",
-                "-Wundef",
-                "-Wunused-lambda-capture"
+                "-Wno-strict-overflow"
             ],
             "defines": [
                 "V8_DEPRECATION_WARNINGS",
                 "USE_NSS_CERTS=1",
-                "USE_X11=1",
                 "NO_TCMALLOC",
                 "DISABLE_NACL",
                 "CHROMIUM_BUILD",
                 "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
                 "NDEBUG",
                 "NVALGRIND",
                 "DYNAMIC_ANNOTATIONS_ENABLED=0",
@@ -14843,23 +10477,13 @@
                 "-funwind-tables",
                 "-fPIC",
                 "-pipe",
-                "-fcolor-diagnostics",
-                "--target=aarch64-linux-gnu",
                 "-pthread",
                 "-Wall",
                 "-Werror",
-                "-Wextra",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
                 "-Wno-missing-field-initializers",
                 "-Wno-unused-parameter",
-                "-Wno-c++11-narrowing",
-                "-Wno-covered-switch-default",
-                "-Wno-unneeded-internal-declaration",
-                "-Wno-inconsistent-missing-override",
-                "-Wno-undefined-var-template",
-                "-Wno-nonportable-include-path",
-                "-Wno-address-of-packed-member",
-                "-Wno-unused-lambda-capture",
-                "-Wno-user-defined-warnings",
                 "-O2",
                 "-fno-ident",
                 "-fdata-sections",
@@ -14867,44 +10491,19 @@
                 "-fno-omit-frame-pointer",
                 "-g0",
                 "-fvisibility=hidden",
-                "-Xclang",
-                "-load",
-                "-Xclang",
-                "../../../../../../media/webrtc/trunk/webrtc/third_party/llvm-build/Release+Asserts/lib/libFindBadConstructs.so",
-                "-Xclang",
-                "-add-plugin",
-                "-Xclang",
-                "find-bad-constructs",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-auto-raw-pointer",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-ipc",
-                "-Wheader-hygiene",
-                "-Wstring-conversion",
-                "-Wtautological-overlap-compare",
                 "-Wextra",
                 "-Wno-unused-parameter",
                 "-Wno-missing-field-initializers",
-                "-Wno-strict-overflow",
-                "-Wc++11-narrowing",
-                "-Wimplicit-fallthrough",
-                "-Wthread-safety",
-                "-Winconsistent-missing-override",
-                "-Wundef",
-                "-Wunused-lambda-capture"
+                "-Wno-strict-overflow"
             ],
             "defines": [
                 "V8_DEPRECATION_WARNINGS",
                 "USE_NSS_CERTS=1",
-                "USE_X11=1",
                 "NO_TCMALLOC",
                 "DISABLE_NACL",
                 "CHROMIUM_BUILD",
                 "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
                 "NDEBUG",
                 "NVALGRIND",
                 "DYNAMIC_ANNOTATIONS_ENABLED=0",
@@ -14945,23 +10544,13 @@
                 "-funwind-tables",
                 "-fPIC",
                 "-pipe",
-                "-fcolor-diagnostics",
-                "--target=aarch64-linux-gnu",
                 "-pthread",
                 "-Wall",
                 "-Werror",
-                "-Wextra",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
                 "-Wno-missing-field-initializers",
                 "-Wno-unused-parameter",
-                "-Wno-c++11-narrowing",
-                "-Wno-covered-switch-default",
-                "-Wno-unneeded-internal-declaration",
-                "-Wno-inconsistent-missing-override",
-                "-Wno-undefined-var-template",
-                "-Wno-nonportable-include-path",
-                "-Wno-address-of-packed-member",
-                "-Wno-unused-lambda-capture",
-                "-Wno-user-defined-warnings",
                 "-O2",
                 "-fno-ident",
                 "-fdata-sections",
@@ -14969,44 +10558,19 @@
                 "-fno-omit-frame-pointer",
                 "-g0",
                 "-fvisibility=hidden",
-                "-Xclang",
-                "-load",
-                "-Xclang",
-                "../../../../../../media/webrtc/trunk/webrtc/third_party/llvm-build/Release+Asserts/lib/libFindBadConstructs.so",
-                "-Xclang",
-                "-add-plugin",
-                "-Xclang",
-                "find-bad-constructs",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-auto-raw-pointer",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-ipc",
-                "-Wheader-hygiene",
-                "-Wstring-conversion",
-                "-Wtautological-overlap-compare",
                 "-Wextra",
                 "-Wno-unused-parameter",
                 "-Wno-missing-field-initializers",
-                "-Wno-strict-overflow",
-                "-Wc++11-narrowing",
-                "-Wimplicit-fallthrough",
-                "-Wthread-safety",
-                "-Winconsistent-missing-override",
-                "-Wundef",
-                "-Wunused-lambda-capture"
+                "-Wno-strict-overflow"
             ],
             "defines": [
                 "V8_DEPRECATION_WARNINGS",
                 "USE_NSS_CERTS=1",
-                "USE_X11=1",
                 "NO_TCMALLOC",
                 "DISABLE_NACL",
                 "CHROMIUM_BUILD",
                 "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
                 "NDEBUG",
                 "NVALGRIND",
                 "DYNAMIC_ANNOTATIONS_ENABLED=0",
@@ -15046,23 +10610,13 @@
                 "-funwind-tables",
                 "-fPIC",
                 "-pipe",
-                "-fcolor-diagnostics",
-                "--target=aarch64-linux-gnu",
                 "-pthread",
                 "-Wall",
                 "-Werror",
-                "-Wextra",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
                 "-Wno-missing-field-initializers",
                 "-Wno-unused-parameter",
-                "-Wno-c++11-narrowing",
-                "-Wno-covered-switch-default",
-                "-Wno-unneeded-internal-declaration",
-                "-Wno-inconsistent-missing-override",
-                "-Wno-undefined-var-template",
-                "-Wno-nonportable-include-path",
-                "-Wno-address-of-packed-member",
-                "-Wno-unused-lambda-capture",
-                "-Wno-user-defined-warnings",
                 "-O2",
                 "-fno-ident",
                 "-fdata-sections",
@@ -15070,44 +10624,19 @@
                 "-fno-omit-frame-pointer",
                 "-g0",
                 "-fvisibility=hidden",
-                "-Xclang",
-                "-load",
-                "-Xclang",
-                "../../../../../../media/webrtc/trunk/webrtc/third_party/llvm-build/Release+Asserts/lib/libFindBadConstructs.so",
-                "-Xclang",
-                "-add-plugin",
-                "-Xclang",
-                "find-bad-constructs",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-auto-raw-pointer",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-ipc",
-                "-Wheader-hygiene",
-                "-Wstring-conversion",
-                "-Wtautological-overlap-compare",
                 "-Wextra",
                 "-Wno-unused-parameter",
                 "-Wno-missing-field-initializers",
-                "-Wno-strict-overflow",
-                "-Wc++11-narrowing",
-                "-Wimplicit-fallthrough",
-                "-Wthread-safety",
-                "-Winconsistent-missing-override",
-                "-Wundef",
-                "-Wunused-lambda-capture"
+                "-Wno-strict-overflow"
             ],
             "defines": [
                 "V8_DEPRECATION_WARNINGS",
                 "USE_NSS_CERTS=1",
-                "USE_X11=1",
                 "NO_TCMALLOC",
                 "DISABLE_NACL",
                 "CHROMIUM_BUILD",
                 "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
                 "NDEBUG",
                 "NVALGRIND",
                 "DYNAMIC_ANNOTATIONS_ENABLED=0",
@@ -15145,23 +10674,13 @@
                 "-funwind-tables",
                 "-fPIC",
                 "-pipe",
-                "-fcolor-diagnostics",
-                "--target=aarch64-linux-gnu",
                 "-pthread",
                 "-Wall",
                 "-Werror",
-                "-Wextra",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
                 "-Wno-missing-field-initializers",
                 "-Wno-unused-parameter",
-                "-Wno-c++11-narrowing",
-                "-Wno-covered-switch-default",
-                "-Wno-unneeded-internal-declaration",
-                "-Wno-inconsistent-missing-override",
-                "-Wno-undefined-var-template",
-                "-Wno-nonportable-include-path",
-                "-Wno-address-of-packed-member",
-                "-Wno-unused-lambda-capture",
-                "-Wno-user-defined-warnings",
                 "-O2",
                 "-fno-ident",
                 "-fdata-sections",
@@ -15169,44 +10688,19 @@
                 "-fno-omit-frame-pointer",
                 "-g0",
                 "-fvisibility=hidden",
-                "-Xclang",
-                "-load",
-                "-Xclang",
-                "../../../../../../media/webrtc/trunk/webrtc/third_party/llvm-build/Release+Asserts/lib/libFindBadConstructs.so",
-                "-Xclang",
-                "-add-plugin",
-                "-Xclang",
-                "find-bad-constructs",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-auto-raw-pointer",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-ipc",
-                "-Wheader-hygiene",
-                "-Wstring-conversion",
-                "-Wtautological-overlap-compare",
                 "-Wextra",
                 "-Wno-unused-parameter",
                 "-Wno-missing-field-initializers",
-                "-Wno-strict-overflow",
-                "-Wc++11-narrowing",
-                "-Wimplicit-fallthrough",
-                "-Wthread-safety",
-                "-Winconsistent-missing-override",
-                "-Wundef",
-                "-Wunused-lambda-capture"
+                "-Wno-strict-overflow"
             ],
             "defines": [
                 "V8_DEPRECATION_WARNINGS",
                 "USE_NSS_CERTS=1",
-                "USE_X11=1",
                 "NO_TCMALLOC",
                 "DISABLE_NACL",
                 "CHROMIUM_BUILD",
                 "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
                 "NDEBUG",
                 "NVALGRIND",
                 "DYNAMIC_ANNOTATIONS_ENABLED=0",
@@ -15244,23 +10738,13 @@
                 "-funwind-tables",
                 "-fPIC",
                 "-pipe",
-                "-fcolor-diagnostics",
-                "--target=aarch64-linux-gnu",
                 "-pthread",
                 "-Wall",
                 "-Werror",
-                "-Wextra",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
                 "-Wno-missing-field-initializers",
                 "-Wno-unused-parameter",
-                "-Wno-c++11-narrowing",
-                "-Wno-covered-switch-default",
-                "-Wno-unneeded-internal-declaration",
-                "-Wno-inconsistent-missing-override",
-                "-Wno-undefined-var-template",
-                "-Wno-nonportable-include-path",
-                "-Wno-address-of-packed-member",
-                "-Wno-unused-lambda-capture",
-                "-Wno-user-defined-warnings",
                 "-O2",
                 "-fno-ident",
                 "-fdata-sections",
@@ -15268,44 +10752,19 @@
                 "-fno-omit-frame-pointer",
                 "-g0",
                 "-fvisibility=hidden",
-                "-Xclang",
-                "-load",
-                "-Xclang",
-                "../../../../../../media/webrtc/trunk/webrtc/third_party/llvm-build/Release+Asserts/lib/libFindBadConstructs.so",
-                "-Xclang",
-                "-add-plugin",
-                "-Xclang",
-                "find-bad-constructs",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-auto-raw-pointer",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-ipc",
-                "-Wheader-hygiene",
-                "-Wstring-conversion",
-                "-Wtautological-overlap-compare",
                 "-Wextra",
                 "-Wno-unused-parameter",
                 "-Wno-missing-field-initializers",
-                "-Wno-strict-overflow",
-                "-Wc++11-narrowing",
-                "-Wimplicit-fallthrough",
-                "-Wthread-safety",
-                "-Winconsistent-missing-override",
-                "-Wundef",
-                "-Wunused-lambda-capture"
+                "-Wno-strict-overflow"
             ],
             "defines": [
                 "V8_DEPRECATION_WARNINGS",
                 "USE_NSS_CERTS=1",
-                "USE_X11=1",
                 "NO_TCMALLOC",
                 "DISABLE_NACL",
                 "CHROMIUM_BUILD",
                 "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
                 "NDEBUG",
                 "NVALGRIND",
                 "DYNAMIC_ANNOTATIONS_ENABLED=0",
@@ -15341,23 +10800,13 @@
                 "-funwind-tables",
                 "-fPIC",
                 "-pipe",
-                "-fcolor-diagnostics",
-                "--target=aarch64-linux-gnu",
                 "-pthread",
                 "-Wall",
                 "-Werror",
-                "-Wextra",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
                 "-Wno-missing-field-initializers",
                 "-Wno-unused-parameter",
-                "-Wno-c++11-narrowing",
-                "-Wno-covered-switch-default",
-                "-Wno-unneeded-internal-declaration",
-                "-Wno-inconsistent-missing-override",
-                "-Wno-undefined-var-template",
-                "-Wno-nonportable-include-path",
-                "-Wno-address-of-packed-member",
-                "-Wno-unused-lambda-capture",
-                "-Wno-user-defined-warnings",
                 "-O2",
                 "-fno-ident",
                 "-fdata-sections",
@@ -15365,44 +10814,19 @@
                 "-fno-omit-frame-pointer",
                 "-g0",
                 "-fvisibility=hidden",
-                "-Xclang",
-                "-load",
-                "-Xclang",
-                "../../../../../../media/webrtc/trunk/webrtc/third_party/llvm-build/Release+Asserts/lib/libFindBadConstructs.so",
-                "-Xclang",
-                "-add-plugin",
-                "-Xclang",
-                "find-bad-constructs",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-auto-raw-pointer",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-ipc",
-                "-Wheader-hygiene",
-                "-Wstring-conversion",
-                "-Wtautological-overlap-compare",
                 "-Wextra",
                 "-Wno-unused-parameter",
                 "-Wno-missing-field-initializers",
-                "-Wno-strict-overflow",
-                "-Wc++11-narrowing",
-                "-Wimplicit-fallthrough",
-                "-Wthread-safety",
-                "-Winconsistent-missing-override",
-                "-Wundef",
-                "-Wunused-lambda-capture"
+                "-Wno-strict-overflow"
             ],
             "defines": [
                 "V8_DEPRECATION_WARNINGS",
                 "USE_NSS_CERTS=1",
-                "USE_X11=1",
                 "NO_TCMALLOC",
                 "DISABLE_NACL",
                 "CHROMIUM_BUILD",
                 "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
                 "NDEBUG",
                 "NVALGRIND",
                 "DYNAMIC_ANNOTATIONS_ENABLED=0",
@@ -15441,23 +10865,13 @@
                 "-funwind-tables",
                 "-fPIC",
                 "-pipe",
-                "-fcolor-diagnostics",
-                "--target=aarch64-linux-gnu",
                 "-pthread",
                 "-Wall",
                 "-Werror",
-                "-Wextra",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
                 "-Wno-missing-field-initializers",
                 "-Wno-unused-parameter",
-                "-Wno-c++11-narrowing",
-                "-Wno-covered-switch-default",
-                "-Wno-unneeded-internal-declaration",
-                "-Wno-inconsistent-missing-override",
-                "-Wno-undefined-var-template",
-                "-Wno-nonportable-include-path",
-                "-Wno-address-of-packed-member",
-                "-Wno-unused-lambda-capture",
-                "-Wno-user-defined-warnings",
                 "-O2",
                 "-fno-ident",
                 "-fdata-sections",
@@ -15465,44 +10879,19 @@
                 "-fno-omit-frame-pointer",
                 "-g0",
                 "-fvisibility=hidden",
-                "-Xclang",
-                "-load",
-                "-Xclang",
-                "../../../../../../media/webrtc/trunk/webrtc/third_party/llvm-build/Release+Asserts/lib/libFindBadConstructs.so",
-                "-Xclang",
-                "-add-plugin",
-                "-Xclang",
-                "find-bad-constructs",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-auto-raw-pointer",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-ipc",
-                "-Wheader-hygiene",
-                "-Wstring-conversion",
-                "-Wtautological-overlap-compare",
                 "-Wextra",
                 "-Wno-unused-parameter",
                 "-Wno-missing-field-initializers",
-                "-Wno-strict-overflow",
-                "-Wc++11-narrowing",
-                "-Wimplicit-fallthrough",
-                "-Wthread-safety",
-                "-Winconsistent-missing-override",
-                "-Wundef",
-                "-Wunused-lambda-capture"
+                "-Wno-strict-overflow"
             ],
             "defines": [
                 "V8_DEPRECATION_WARNINGS",
                 "USE_NSS_CERTS=1",
-                "USE_X11=1",
                 "NO_TCMALLOC",
                 "DISABLE_NACL",
                 "CHROMIUM_BUILD",
                 "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
                 "NDEBUG",
                 "NVALGRIND",
                 "DYNAMIC_ANNOTATIONS_ENABLED=0",
@@ -15541,23 +10930,13 @@
                 "-funwind-tables",
                 "-fPIC",
                 "-pipe",
-                "-fcolor-diagnostics",
-                "--target=aarch64-linux-gnu",
                 "-pthread",
                 "-Wall",
                 "-Werror",
-                "-Wextra",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
                 "-Wno-missing-field-initializers",
                 "-Wno-unused-parameter",
-                "-Wno-c++11-narrowing",
-                "-Wno-covered-switch-default",
-                "-Wno-unneeded-internal-declaration",
-                "-Wno-inconsistent-missing-override",
-                "-Wno-undefined-var-template",
-                "-Wno-nonportable-include-path",
-                "-Wno-address-of-packed-member",
-                "-Wno-unused-lambda-capture",
-                "-Wno-user-defined-warnings",
                 "-O2",
                 "-fno-ident",
                 "-fdata-sections",
@@ -15565,44 +10944,19 @@
                 "-fno-omit-frame-pointer",
                 "-g0",
                 "-fvisibility=hidden",
-                "-Xclang",
-                "-load",
-                "-Xclang",
-                "../../../../../../media/webrtc/trunk/webrtc/third_party/llvm-build/Release+Asserts/lib/libFindBadConstructs.so",
-                "-Xclang",
-                "-add-plugin",
-                "-Xclang",
-                "find-bad-constructs",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-auto-raw-pointer",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-ipc",
-                "-Wheader-hygiene",
-                "-Wstring-conversion",
-                "-Wtautological-overlap-compare",
                 "-Wextra",
                 "-Wno-unused-parameter",
                 "-Wno-missing-field-initializers",
-                "-Wno-strict-overflow",
-                "-Wc++11-narrowing",
-                "-Wimplicit-fallthrough",
-                "-Wthread-safety",
-                "-Winconsistent-missing-override",
-                "-Wundef",
-                "-Wunused-lambda-capture"
+                "-Wno-strict-overflow"
             ],
             "defines": [
                 "V8_DEPRECATION_WARNINGS",
                 "USE_NSS_CERTS=1",
-                "USE_X11=1",
                 "NO_TCMALLOC",
                 "DISABLE_NACL",
                 "CHROMIUM_BUILD",
                 "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
                 "NDEBUG",
                 "NVALGRIND",
                 "DYNAMIC_ANNOTATIONS_ENABLED=0",
@@ -15642,23 +10996,13 @@
                 "-funwind-tables",
                 "-fPIC",
                 "-pipe",
-                "-fcolor-diagnostics",
-                "--target=aarch64-linux-gnu",
                 "-pthread",
                 "-Wall",
                 "-Werror",
-                "-Wextra",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
                 "-Wno-missing-field-initializers",
                 "-Wno-unused-parameter",
-                "-Wno-c++11-narrowing",
-                "-Wno-covered-switch-default",
-                "-Wno-unneeded-internal-declaration",
-                "-Wno-inconsistent-missing-override",
-                "-Wno-undefined-var-template",
-                "-Wno-nonportable-include-path",
-                "-Wno-address-of-packed-member",
-                "-Wno-unused-lambda-capture",
-                "-Wno-user-defined-warnings",
                 "-O2",
                 "-fno-ident",
                 "-fdata-sections",
@@ -15666,45 +11010,20 @@
                 "-fno-omit-frame-pointer",
                 "-g0",
                 "-fvisibility=hidden",
-                "-Xclang",
-                "-load",
-                "-Xclang",
-                "../../../../../../media/webrtc/trunk/webrtc/third_party/llvm-build/Release+Asserts/lib/libFindBadConstructs.so",
-                "-Xclang",
-                "-add-plugin",
-                "-Xclang",
-                "find-bad-constructs",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-auto-raw-pointer",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-ipc",
-                "-Wheader-hygiene",
-                "-Wstring-conversion",
-                "-Wtautological-overlap-compare",
                 "-Wextra",
                 "-Wno-unused-parameter",
                 "-Wno-missing-field-initializers",
-                "-Wno-strict-overflow",
-                "-Wc++11-narrowing",
-                "-Wimplicit-fallthrough",
-                "-Wthread-safety",
-                "-Winconsistent-missing-override",
-                "-Wundef",
-                "-Wunused-lambda-capture"
+                "-Wno-strict-overflow"
             ],
             "defines": [
                 "WEBRTC_THREAD_RR",
                 "V8_DEPRECATION_WARNINGS",
                 "USE_NSS_CERTS=1",
-                "USE_X11=1",
                 "NO_TCMALLOC",
                 "DISABLE_NACL",
                 "CHROMIUM_BUILD",
                 "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
                 "NDEBUG",
                 "NVALGRIND",
                 "DYNAMIC_ANNOTATIONS_ENABLED=0",
@@ -15778,23 +11097,13 @@
                 "-funwind-tables",
                 "-fPIC",
                 "-pipe",
-                "-fcolor-diagnostics",
-                "--target=aarch64-linux-gnu",
                 "-pthread",
                 "-Wall",
                 "-Werror",
-                "-Wextra",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
                 "-Wno-missing-field-initializers",
                 "-Wno-unused-parameter",
-                "-Wno-c++11-narrowing",
-                "-Wno-covered-switch-default",
-                "-Wno-unneeded-internal-declaration",
-                "-Wno-inconsistent-missing-override",
-                "-Wno-undefined-var-template",
-                "-Wno-nonportable-include-path",
-                "-Wno-address-of-packed-member",
-                "-Wno-unused-lambda-capture",
-                "-Wno-user-defined-warnings",
                 "-O2",
                 "-fno-ident",
                 "-fdata-sections",
@@ -15802,28 +11111,19 @@
                 "-fno-omit-frame-pointer",
                 "-g0",
                 "-fvisibility=hidden",
-                "-Wheader-hygiene",
-                "-Wstring-conversion",
-                "-Wtautological-overlap-compare",
                 "-Wextra",
                 "-Wno-unused-parameter",
                 "-Wno-missing-field-initializers",
-                "-Wno-strict-overflow",
-                "-Wc++11-narrowing",
-                "-Wimplicit-fallthrough",
-                "-Wthread-safety",
-                "-Winconsistent-missing-override",
-                "-Wundef",
-                "-Wunused-lambda-capture"
+                "-Wno-strict-overflow"
             ],
             "defines": [
                 "V8_DEPRECATION_WARNINGS",
                 "USE_NSS_CERTS=1",
-                "USE_X11=1",
                 "NO_TCMALLOC",
                 "DISABLE_NACL",
                 "CHROMIUM_BUILD",
                 "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
                 "NDEBUG",
                 "NVALGRIND",
                 "DYNAMIC_ANNOTATIONS_ENABLED=0",
@@ -15932,23 +11232,13 @@
                 "-funwind-tables",
                 "-fPIC",
                 "-pipe",
-                "-fcolor-diagnostics",
-                "--target=aarch64-linux-gnu",
                 "-pthread",
                 "-Wall",
                 "-Werror",
-                "-Wextra",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
                 "-Wno-missing-field-initializers",
                 "-Wno-unused-parameter",
-                "-Wno-c++11-narrowing",
-                "-Wno-covered-switch-default",
-                "-Wno-unneeded-internal-declaration",
-                "-Wno-inconsistent-missing-override",
-                "-Wno-undefined-var-template",
-                "-Wno-nonportable-include-path",
-                "-Wno-address-of-packed-member",
-                "-Wno-unused-lambda-capture",
-                "-Wno-user-defined-warnings",
                 "-O2",
                 "-fno-ident",
                 "-fdata-sections",
@@ -15956,44 +11246,19 @@
                 "-fno-omit-frame-pointer",
                 "-g0",
                 "-fvisibility=hidden",
-                "-Xclang",
-                "-load",
-                "-Xclang",
-                "../../../../../../media/webrtc/trunk/webrtc/third_party/llvm-build/Release+Asserts/lib/libFindBadConstructs.so",
-                "-Xclang",
-                "-add-plugin",
-                "-Xclang",
-                "find-bad-constructs",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-auto-raw-pointer",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-ipc",
-                "-Wheader-hygiene",
-                "-Wstring-conversion",
-                "-Wtautological-overlap-compare",
                 "-Wextra",
                 "-Wno-unused-parameter",
                 "-Wno-missing-field-initializers",
-                "-Wno-strict-overflow",
-                "-Wc++11-narrowing",
-                "-Wimplicit-fallthrough",
-                "-Wthread-safety",
-                "-Winconsistent-missing-override",
-                "-Wundef",
-                "-Wunused-lambda-capture"
+                "-Wno-strict-overflow"
             ],
             "defines": [
                 "V8_DEPRECATION_WARNINGS",
                 "USE_NSS_CERTS=1",
-                "USE_X11=1",
                 "NO_TCMALLOC",
                 "DISABLE_NACL",
                 "CHROMIUM_BUILD",
                 "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
                 "NDEBUG",
                 "NVALGRIND",
                 "DYNAMIC_ANNOTATIONS_ENABLED=0",
@@ -16040,23 +11305,13 @@
                 "-funwind-tables",
                 "-fPIC",
                 "-pipe",
-                "-fcolor-diagnostics",
-                "--target=aarch64-linux-gnu",
                 "-pthread",
                 "-Wall",
                 "-Werror",
-                "-Wextra",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
                 "-Wno-missing-field-initializers",
                 "-Wno-unused-parameter",
-                "-Wno-c++11-narrowing",
-                "-Wno-covered-switch-default",
-                "-Wno-unneeded-internal-declaration",
-                "-Wno-inconsistent-missing-override",
-                "-Wno-undefined-var-template",
-                "-Wno-nonportable-include-path",
-                "-Wno-address-of-packed-member",
-                "-Wno-unused-lambda-capture",
-                "-Wno-user-defined-warnings",
                 "-O2",
                 "-fno-ident",
                 "-fdata-sections",
@@ -16064,28 +11319,19 @@
                 "-fno-omit-frame-pointer",
                 "-g0",
                 "-fvisibility=hidden",
-                "-Wheader-hygiene",
-                "-Wstring-conversion",
-                "-Wtautological-overlap-compare",
                 "-Wextra",
                 "-Wno-unused-parameter",
                 "-Wno-missing-field-initializers",
-                "-Wno-strict-overflow",
-                "-Wc++11-narrowing",
-                "-Wimplicit-fallthrough",
-                "-Wthread-safety",
-                "-Winconsistent-missing-override",
-                "-Wundef",
-                "-Wunused-lambda-capture"
+                "-Wno-strict-overflow"
             ],
             "defines": [
                 "V8_DEPRECATION_WARNINGS",
                 "USE_NSS_CERTS=1",
-                "USE_X11=1",
                 "NO_TCMALLOC",
                 "DISABLE_NACL",
                 "CHROMIUM_BUILD",
                 "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
                 "NDEBUG",
                 "NVALGRIND",
                 "DYNAMIC_ANNOTATIONS_ENABLED=0",
diff --git a/media/webrtc/gn-configs/arm_False_arm_linux.json b/media/webrtc/gn-configs/arm_False_arm_linux.json
index be0180969b1a..9885557f56cf 100644
--- a/media/webrtc/gn-configs/arm_False_arm_linux.json
+++ b/media/webrtc/gn-configs/arm_False_arm_linux.json
@@ -30,8 +30,6 @@
                 "-funwind-tables",
                 "-fPIC",
                 "-pipe",
-                "-fcolor-diagnostics",
-                "--target=arm-linux-gnueabihf",
                 "-march=armv7-a",
                 "-mfloat-abi=hard",
                 "-mtune=generic-armv7-a",
@@ -40,18 +38,11 @@
                 "-mthumb",
                 "-Wall",
                 "-Werror",
-                "-Wextra",
+                "-Wno-psabi",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
                 "-Wno-missing-field-initializers",
                 "-Wno-unused-parameter",
-                "-Wno-c++11-narrowing",
-                "-Wno-covered-switch-default",
-                "-Wno-unneeded-internal-declaration",
-                "-Wno-inconsistent-missing-override",
-                "-Wno-undefined-var-template",
-                "-Wno-nonportable-include-path",
-                "-Wno-address-of-packed-member",
-                "-Wno-unused-lambda-capture",
-                "-Wno-user-defined-warnings",
                 "-O2",
                 "-fno-ident",
                 "-fdata-sections",
@@ -59,42 +50,17 @@
                 "-fomit-frame-pointer",
                 "-g0",
                 "-fvisibility=hidden",
-                "-Xclang",
-                "-load",
-                "-Xclang",
-                "../../../../../../media/webrtc/trunk/webrtc/third_party/llvm-build/Release+Asserts/lib/libFindBadConstructs.so",
-                "-Xclang",
-                "-add-plugin",
-                "-Xclang",
-                "find-bad-constructs",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-auto-raw-pointer",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-ipc",
-                "-Wheader-hygiene",
-                "-Wstring-conversion",
-                "-Wtautological-overlap-compare",
                 "-Wextra",
                 "-Wno-unused-parameter",
                 "-Wno-missing-field-initializers",
-                "-Wno-strict-overflow",
-                "-Wc++11-narrowing",
-                "-Wimplicit-fallthrough",
-                "-Wthread-safety",
-                "-Winconsistent-missing-override",
-                "-Wundef",
-                "-Wunused-lambda-capture"
+                "-Wno-strict-overflow"
             ],
             "defines": [
                 "V8_DEPRECATION_WARNINGS",
                 "USE_NSS_CERTS=1",
-                "USE_X11=1",
                 "CHROMIUM_BUILD",
                 "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
                 "NDEBUG",
                 "NVALGRIND",
                 "DYNAMIC_ANNOTATIONS_ENABLED=0",
@@ -145,17 +111,7 @@
             ],
             "libs": [
                 "rt",
-                "m",
-                "X11",
-                "X11-xcb",
-                "xcb",
-                "Xcomposite",
-                "Xcursor",
-                "Xdamage",
-                "Xext",
-                "Xfixes",
-                "Xi",
-                "Xrender"
+                "m"
             ],
             "sources": [],
             "type": "static_library"
@@ -172,8 +128,6 @@
                 "-funwind-tables",
                 "-fPIC",
                 "-pipe",
-                "-fcolor-diagnostics",
-                "--target=arm-linux-gnueabihf",
                 "-march=armv7-a",
                 "-mfloat-abi=hard",
                 "-mtune=generic-armv7-a",
@@ -182,18 +136,11 @@
                 "-mthumb",
                 "-Wall",
                 "-Werror",
-                "-Wextra",
+                "-Wno-psabi",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
                 "-Wno-missing-field-initializers",
                 "-Wno-unused-parameter",
-                "-Wno-c++11-narrowing",
-                "-Wno-covered-switch-default",
-                "-Wno-unneeded-internal-declaration",
-                "-Wno-inconsistent-missing-override",
-                "-Wno-undefined-var-template",
-                "-Wno-nonportable-include-path",
-                "-Wno-address-of-packed-member",
-                "-Wno-unused-lambda-capture",
-                "-Wno-user-defined-warnings",
                 "-O2",
                 "-fno-ident",
                 "-fdata-sections",
@@ -201,26 +148,17 @@
                 "-fomit-frame-pointer",
                 "-g0",
                 "-fvisibility=hidden",
-                "-Wheader-hygiene",
-                "-Wstring-conversion",
-                "-Wtautological-overlap-compare",
                 "-Wextra",
                 "-Wno-unused-parameter",
                 "-Wno-missing-field-initializers",
-                "-Wno-strict-overflow",
-                "-Wc++11-narrowing",
-                "-Wimplicit-fallthrough",
-                "-Wthread-safety",
-                "-Winconsistent-missing-override",
-                "-Wundef",
-                "-Wunused-lambda-capture"
+                "-Wno-strict-overflow"
             ],
             "defines": [
                 "V8_DEPRECATION_WARNINGS",
                 "USE_NSS_CERTS=1",
-                "USE_X11=1",
                 "CHROMIUM_BUILD",
                 "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
                 "NDEBUG",
                 "NVALGRIND",
                 "DYNAMIC_ANNOTATIONS_ENABLED=0",
@@ -259,8 +197,6 @@
                 "-funwind-tables",
                 "-fPIC",
                 "-pipe",
-                "-fcolor-diagnostics",
-                "--target=arm-linux-gnueabihf",
                 "-march=armv7-a",
                 "-mfloat-abi=hard",
                 "-mtune=generic-armv7-a",
@@ -269,18 +205,11 @@
                 "-mthumb",
                 "-Wall",
                 "-Werror",
-                "-Wextra",
+                "-Wno-psabi",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
                 "-Wno-missing-field-initializers",
                 "-Wno-unused-parameter",
-                "-Wno-c++11-narrowing",
-                "-Wno-covered-switch-default",
-                "-Wno-unneeded-internal-declaration",
-                "-Wno-inconsistent-missing-override",
-                "-Wno-undefined-var-template",
-                "-Wno-nonportable-include-path",
-                "-Wno-address-of-packed-member",
-                "-Wno-unused-lambda-capture",
-                "-Wno-user-defined-warnings",
                 "-O2",
                 "-fno-ident",
                 "-fdata-sections",
@@ -288,42 +217,17 @@
                 "-fomit-frame-pointer",
                 "-g0",
                 "-fvisibility=hidden",
-                "-Xclang",
-                "-load",
-                "-Xclang",
-                "../../../../../../media/webrtc/trunk/webrtc/third_party/llvm-build/Release+Asserts/lib/libFindBadConstructs.so",
-                "-Xclang",
-                "-add-plugin",
-                "-Xclang",
-                "find-bad-constructs",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-auto-raw-pointer",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-ipc",
-                "-Wheader-hygiene",
-                "-Wstring-conversion",
-                "-Wtautological-overlap-compare",
                 "-Wextra",
                 "-Wno-unused-parameter",
                 "-Wno-missing-field-initializers",
-                "-Wno-strict-overflow",
-                "-Wc++11-narrowing",
-                "-Wimplicit-fallthrough",
-                "-Wthread-safety",
-                "-Winconsistent-missing-override",
-                "-Wundef",
-                "-Wunused-lambda-capture"
+                "-Wno-strict-overflow"
             ],
             "defines": [
                 "V8_DEPRECATION_WARNINGS",
                 "USE_NSS_CERTS=1",
-                "USE_X11=1",
                 "CHROMIUM_BUILD",
                 "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
                 "NDEBUG",
                 "NVALGRIND",
                 "DYNAMIC_ANNOTATIONS_ENABLED=0",
@@ -368,8 +272,6 @@
                 "-funwind-tables",
                 "-fPIC",
                 "-pipe",
-                "-fcolor-diagnostics",
-                "--target=arm-linux-gnueabihf",
                 "-march=armv7-a",
                 "-mfloat-abi=hard",
                 "-mtune=generic-armv7-a",
@@ -378,18 +280,11 @@
                 "-mthumb",
                 "-Wall",
                 "-Werror",
-                "-Wextra",
+                "-Wno-psabi",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
                 "-Wno-missing-field-initializers",
                 "-Wno-unused-parameter",
-                "-Wno-c++11-narrowing",
-                "-Wno-covered-switch-default",
-                "-Wno-unneeded-internal-declaration",
-                "-Wno-inconsistent-missing-override",
-                "-Wno-undefined-var-template",
-                "-Wno-nonportable-include-path",
-                "-Wno-address-of-packed-member",
-                "-Wno-unused-lambda-capture",
-                "-Wno-user-defined-warnings",
                 "-O2",
                 "-fno-ident",
                 "-fdata-sections",
@@ -397,42 +292,17 @@
                 "-fomit-frame-pointer",
                 "-g0",
                 "-fvisibility=hidden",
-                "-Xclang",
-                "-load",
-                "-Xclang",
-                "../../../../../../media/webrtc/trunk/webrtc/third_party/llvm-build/Release+Asserts/lib/libFindBadConstructs.so",
-                "-Xclang",
-                "-add-plugin",
-                "-Xclang",
-                "find-bad-constructs",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-auto-raw-pointer",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-ipc",
-                "-Wheader-hygiene",
-                "-Wstring-conversion",
-                "-Wtautological-overlap-compare",
                 "-Wextra",
                 "-Wno-unused-parameter",
                 "-Wno-missing-field-initializers",
-                "-Wno-strict-overflow",
-                "-Wc++11-narrowing",
-                "-Wimplicit-fallthrough",
-                "-Wthread-safety",
-                "-Winconsistent-missing-override",
-                "-Wundef",
-                "-Wunused-lambda-capture"
+                "-Wno-strict-overflow"
             ],
             "defines": [
                 "V8_DEPRECATION_WARNINGS",
                 "USE_NSS_CERTS=1",
-                "USE_X11=1",
                 "CHROMIUM_BUILD",
                 "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
                 "NDEBUG",
                 "NVALGRIND",
                 "DYNAMIC_ANNOTATIONS_ENABLED=0",
@@ -477,8 +347,6 @@
                 "-funwind-tables",
                 "-fPIC",
                 "-pipe",
-                "-fcolor-diagnostics",
-                "--target=arm-linux-gnueabihf",
                 "-march=armv7-a",
                 "-mfloat-abi=hard",
                 "-mtune=generic-armv7-a",
@@ -487,18 +355,11 @@
                 "-mthumb",
                 "-Wall",
                 "-Werror",
-                "-Wextra",
+                "-Wno-psabi",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
                 "-Wno-missing-field-initializers",
                 "-Wno-unused-parameter",
-                "-Wno-c++11-narrowing",
-                "-Wno-covered-switch-default",
-                "-Wno-unneeded-internal-declaration",
-                "-Wno-inconsistent-missing-override",
-                "-Wno-undefined-var-template",
-                "-Wno-nonportable-include-path",
-                "-Wno-address-of-packed-member",
-                "-Wno-unused-lambda-capture",
-                "-Wno-user-defined-warnings",
                 "-O2",
                 "-fno-ident",
                 "-fdata-sections",
@@ -506,42 +367,17 @@
                 "-fomit-frame-pointer",
                 "-g0",
                 "-fvisibility=hidden",
-                "-Xclang",
-                "-load",
-                "-Xclang",
-                "../../../../../../media/webrtc/trunk/webrtc/third_party/llvm-build/Release+Asserts/lib/libFindBadConstructs.so",
-                "-Xclang",
-                "-add-plugin",
-                "-Xclang",
-                "find-bad-constructs",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-auto-raw-pointer",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-ipc",
-                "-Wheader-hygiene",
-                "-Wstring-conversion",
-                "-Wtautological-overlap-compare",
                 "-Wextra",
                 "-Wno-unused-parameter",
                 "-Wno-missing-field-initializers",
-                "-Wno-strict-overflow",
-                "-Wc++11-narrowing",
-                "-Wimplicit-fallthrough",
-                "-Wthread-safety",
-                "-Winconsistent-missing-override",
-                "-Wundef",
-                "-Wunused-lambda-capture"
+                "-Wno-strict-overflow"
             ],
             "defines": [
                 "V8_DEPRECATION_WARNINGS",
                 "USE_NSS_CERTS=1",
-                "USE_X11=1",
                 "CHROMIUM_BUILD",
                 "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
                 "NDEBUG",
                 "NVALGRIND",
                 "DYNAMIC_ANNOTATIONS_ENABLED=0",
@@ -586,8 +422,6 @@
                 "-funwind-tables",
                 "-fPIC",
                 "-pipe",
-                "-fcolor-diagnostics",
-                "--target=arm-linux-gnueabihf",
                 "-march=armv7-a",
                 "-mfloat-abi=hard",
                 "-mtune=generic-armv7-a",
@@ -596,18 +430,11 @@
                 "-mthumb",
                 "-Wall",
                 "-Werror",
-                "-Wextra",
+                "-Wno-psabi",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
                 "-Wno-missing-field-initializers",
                 "-Wno-unused-parameter",
-                "-Wno-c++11-narrowing",
-                "-Wno-covered-switch-default",
-                "-Wno-unneeded-internal-declaration",
-                "-Wno-inconsistent-missing-override",
-                "-Wno-undefined-var-template",
-                "-Wno-nonportable-include-path",
-                "-Wno-address-of-packed-member",
-                "-Wno-unused-lambda-capture",
-                "-Wno-user-defined-warnings",
                 "-O2",
                 "-fno-ident",
                 "-fdata-sections",
@@ -615,42 +442,17 @@
                 "-fomit-frame-pointer",
                 "-g0",
                 "-fvisibility=hidden",
-                "-Xclang",
-                "-load",
-                "-Xclang",
-                "../../../../../../media/webrtc/trunk/webrtc/third_party/llvm-build/Release+Asserts/lib/libFindBadConstructs.so",
-                "-Xclang",
-                "-add-plugin",
-                "-Xclang",
-                "find-bad-constructs",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-auto-raw-pointer",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-ipc",
-                "-Wheader-hygiene",
-                "-Wstring-conversion",
-                "-Wtautological-overlap-compare",
                 "-Wextra",
                 "-Wno-unused-parameter",
                 "-Wno-missing-field-initializers",
-                "-Wno-strict-overflow",
-                "-Wc++11-narrowing",
-                "-Wimplicit-fallthrough",
-                "-Wthread-safety",
-                "-Winconsistent-missing-override",
-                "-Wundef",
-                "-Wunused-lambda-capture"
+                "-Wno-strict-overflow"
             ],
             "defines": [
                 "V8_DEPRECATION_WARNINGS",
                 "USE_NSS_CERTS=1",
-                "USE_X11=1",
                 "CHROMIUM_BUILD",
                 "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
                 "NDEBUG",
                 "NVALGRIND",
                 "DYNAMIC_ANNOTATIONS_ENABLED=0",
@@ -695,8 +497,6 @@
                 "-funwind-tables",
                 "-fPIC",
                 "-pipe",
-                "-fcolor-diagnostics",
-                "--target=arm-linux-gnueabihf",
                 "-march=armv7-a",
                 "-mfloat-abi=hard",
                 "-mtune=generic-armv7-a",
@@ -705,18 +505,11 @@
                 "-mthumb",
                 "-Wall",
                 "-Werror",
-                "-Wextra",
+                "-Wno-psabi",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
                 "-Wno-missing-field-initializers",
                 "-Wno-unused-parameter",
-                "-Wno-c++11-narrowing",
-                "-Wno-covered-switch-default",
-                "-Wno-unneeded-internal-declaration",
-                "-Wno-inconsistent-missing-override",
-                "-Wno-undefined-var-template",
-                "-Wno-nonportable-include-path",
-                "-Wno-address-of-packed-member",
-                "-Wno-unused-lambda-capture",
-                "-Wno-user-defined-warnings",
                 "-O2",
                 "-fno-ident",
                 "-fdata-sections",
@@ -724,42 +517,17 @@
                 "-fomit-frame-pointer",
                 "-g0",
                 "-fvisibility=hidden",
-                "-Xclang",
-                "-load",
-                "-Xclang",
-                "../../../../../../media/webrtc/trunk/webrtc/third_party/llvm-build/Release+Asserts/lib/libFindBadConstructs.so",
-                "-Xclang",
-                "-add-plugin",
-                "-Xclang",
-                "find-bad-constructs",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-auto-raw-pointer",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-ipc",
-                "-Wheader-hygiene",
-                "-Wstring-conversion",
-                "-Wtautological-overlap-compare",
                 "-Wextra",
                 "-Wno-unused-parameter",
                 "-Wno-missing-field-initializers",
-                "-Wno-strict-overflow",
-                "-Wc++11-narrowing",
-                "-Wimplicit-fallthrough",
-                "-Wthread-safety",
-                "-Winconsistent-missing-override",
-                "-Wundef",
-                "-Wunused-lambda-capture"
+                "-Wno-strict-overflow"
             ],
             "defines": [
                 "V8_DEPRECATION_WARNINGS",
                 "USE_NSS_CERTS=1",
-                "USE_X11=1",
                 "CHROMIUM_BUILD",
                 "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
                 "NDEBUG",
                 "NVALGRIND",
                 "DYNAMIC_ANNOTATIONS_ENABLED=0",
@@ -804,8 +572,6 @@
                 "-funwind-tables",
                 "-fPIC",
                 "-pipe",
-                "-fcolor-diagnostics",
-                "--target=arm-linux-gnueabihf",
                 "-march=armv7-a",
                 "-mfloat-abi=hard",
                 "-mtune=generic-armv7-a",
@@ -814,18 +580,11 @@
                 "-mthumb",
                 "-Wall",
                 "-Werror",
-                "-Wextra",
+                "-Wno-psabi",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
                 "-Wno-missing-field-initializers",
                 "-Wno-unused-parameter",
-                "-Wno-c++11-narrowing",
-                "-Wno-covered-switch-default",
-                "-Wno-unneeded-internal-declaration",
-                "-Wno-inconsistent-missing-override",
-                "-Wno-undefined-var-template",
-                "-Wno-nonportable-include-path",
-                "-Wno-address-of-packed-member",
-                "-Wno-unused-lambda-capture",
-                "-Wno-user-defined-warnings",
                 "-O2",
                 "-fno-ident",
                 "-fdata-sections",
@@ -833,42 +592,17 @@
                 "-fomit-frame-pointer",
                 "-g0",
                 "-fvisibility=hidden",
-                "-Xclang",
-                "-load",
-                "-Xclang",
-                "../../../../../../media/webrtc/trunk/webrtc/third_party/llvm-build/Release+Asserts/lib/libFindBadConstructs.so",
-                "-Xclang",
-                "-add-plugin",
-                "-Xclang",
-                "find-bad-constructs",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-auto-raw-pointer",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-ipc",
-                "-Wheader-hygiene",
-                "-Wstring-conversion",
-                "-Wtautological-overlap-compare",
                 "-Wextra",
                 "-Wno-unused-parameter",
                 "-Wno-missing-field-initializers",
-                "-Wno-strict-overflow",
-                "-Wc++11-narrowing",
-                "-Wimplicit-fallthrough",
-                "-Wthread-safety",
-                "-Winconsistent-missing-override",
-                "-Wundef",
-                "-Wunused-lambda-capture"
+                "-Wno-strict-overflow"
             ],
             "defines": [
                 "V8_DEPRECATION_WARNINGS",
                 "USE_NSS_CERTS=1",
-                "USE_X11=1",
                 "CHROMIUM_BUILD",
                 "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
                 "NDEBUG",
                 "NVALGRIND",
                 "DYNAMIC_ANNOTATIONS_ENABLED=0",
@@ -914,8 +648,6 @@
                 "-funwind-tables",
                 "-fPIC",
                 "-pipe",
-                "-fcolor-diagnostics",
-                "--target=arm-linux-gnueabihf",
                 "-march=armv7-a",
                 "-mfloat-abi=hard",
                 "-mtune=generic-armv7-a",
@@ -924,18 +656,11 @@
                 "-mthumb",
                 "-Wall",
                 "-Werror",
-                "-Wextra",
+                "-Wno-psabi",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
                 "-Wno-missing-field-initializers",
                 "-Wno-unused-parameter",
-                "-Wno-c++11-narrowing",
-                "-Wno-covered-switch-default",
-                "-Wno-unneeded-internal-declaration",
-                "-Wno-inconsistent-missing-override",
-                "-Wno-undefined-var-template",
-                "-Wno-nonportable-include-path",
-                "-Wno-address-of-packed-member",
-                "-Wno-unused-lambda-capture",
-                "-Wno-user-defined-warnings",
                 "-O2",
                 "-fno-ident",
                 "-fdata-sections",
@@ -943,42 +668,17 @@
                 "-fomit-frame-pointer",
                 "-g0",
                 "-fvisibility=hidden",
-                "-Xclang",
-                "-load",
-                "-Xclang",
-                "../../../../../../media/webrtc/trunk/webrtc/third_party/llvm-build/Release+Asserts/lib/libFindBadConstructs.so",
-                "-Xclang",
-                "-add-plugin",
-                "-Xclang",
-                "find-bad-constructs",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-auto-raw-pointer",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-ipc",
-                "-Wheader-hygiene",
-                "-Wstring-conversion",
-                "-Wtautological-overlap-compare",
                 "-Wextra",
                 "-Wno-unused-parameter",
                 "-Wno-missing-field-initializers",
-                "-Wno-strict-overflow",
-                "-Wc++11-narrowing",
-                "-Wimplicit-fallthrough",
-                "-Wthread-safety",
-                "-Winconsistent-missing-override",
-                "-Wundef",
-                "-Wunused-lambda-capture"
+                "-Wno-strict-overflow"
             ],
             "defines": [
                 "V8_DEPRECATION_WARNINGS",
                 "USE_NSS_CERTS=1",
-                "USE_X11=1",
                 "CHROMIUM_BUILD",
                 "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
                 "NDEBUG",
                 "NVALGRIND",
                 "DYNAMIC_ANNOTATIONS_ENABLED=0",
@@ -1015,8 +715,6 @@
                 "-funwind-tables",
                 "-fPIC",
                 "-pipe",
-                "-fcolor-diagnostics",
-                "--target=arm-linux-gnueabihf",
                 "-march=armv7-a",
                 "-mfloat-abi=hard",
                 "-mtune=generic-armv7-a",
@@ -1025,18 +723,11 @@
                 "-mthumb",
                 "-Wall",
                 "-Werror",
-                "-Wextra",
+                "-Wno-psabi",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
                 "-Wno-missing-field-initializers",
                 "-Wno-unused-parameter",
-                "-Wno-c++11-narrowing",
-                "-Wno-covered-switch-default",
-                "-Wno-unneeded-internal-declaration",
-                "-Wno-inconsistent-missing-override",
-                "-Wno-undefined-var-template",
-                "-Wno-nonportable-include-path",
-                "-Wno-address-of-packed-member",
-                "-Wno-unused-lambda-capture",
-                "-Wno-user-defined-warnings",
                 "-O2",
                 "-fno-ident",
                 "-fdata-sections",
@@ -1044,42 +735,17 @@
                 "-fomit-frame-pointer",
                 "-g0",
                 "-fvisibility=hidden",
-                "-Xclang",
-                "-load",
-                "-Xclang",
-                "../../../../../../media/webrtc/trunk/webrtc/third_party/llvm-build/Release+Asserts/lib/libFindBadConstructs.so",
-                "-Xclang",
-                "-add-plugin",
-                "-Xclang",
-                "find-bad-constructs",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-auto-raw-pointer",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-ipc",
-                "-Wheader-hygiene",
-                "-Wstring-conversion",
-                "-Wtautological-overlap-compare",
                 "-Wextra",
                 "-Wno-unused-parameter",
                 "-Wno-missing-field-initializers",
-                "-Wno-strict-overflow",
-                "-Wc++11-narrowing",
-                "-Wimplicit-fallthrough",
-                "-Wthread-safety",
-                "-Winconsistent-missing-override",
-                "-Wundef",
-                "-Wunused-lambda-capture"
+                "-Wno-strict-overflow"
             ],
             "defines": [
                 "V8_DEPRECATION_WARNINGS",
                 "USE_NSS_CERTS=1",
-                "USE_X11=1",
                 "CHROMIUM_BUILD",
                 "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
                 "NDEBUG",
                 "NVALGRIND",
                 "DYNAMIC_ANNOTATIONS_ENABLED=0",
@@ -1126,8 +792,6 @@
                 "-funwind-tables",
                 "-fPIC",
                 "-pipe",
-                "-fcolor-diagnostics",
-                "--target=arm-linux-gnueabihf",
                 "-march=armv7-a",
                 "-mfloat-abi=hard",
                 "-mtune=generic-armv7-a",
@@ -1136,18 +800,11 @@
                 "-mthumb",
                 "-Wall",
                 "-Werror",
-                "-Wextra",
+                "-Wno-psabi",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
                 "-Wno-missing-field-initializers",
                 "-Wno-unused-parameter",
-                "-Wno-c++11-narrowing",
-                "-Wno-covered-switch-default",
-                "-Wno-unneeded-internal-declaration",
-                "-Wno-inconsistent-missing-override",
-                "-Wno-undefined-var-template",
-                "-Wno-nonportable-include-path",
-                "-Wno-address-of-packed-member",
-                "-Wno-unused-lambda-capture",
-                "-Wno-user-defined-warnings",
                 "-O2",
                 "-fno-ident",
                 "-fdata-sections",
@@ -1155,42 +812,17 @@
                 "-fomit-frame-pointer",
                 "-g0",
                 "-fvisibility=hidden",
-                "-Xclang",
-                "-load",
-                "-Xclang",
-                "../../../../../../media/webrtc/trunk/webrtc/third_party/llvm-build/Release+Asserts/lib/libFindBadConstructs.so",
-                "-Xclang",
-                "-add-plugin",
-                "-Xclang",
-                "find-bad-constructs",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-auto-raw-pointer",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-ipc",
-                "-Wheader-hygiene",
-                "-Wstring-conversion",
-                "-Wtautological-overlap-compare",
                 "-Wextra",
                 "-Wno-unused-parameter",
                 "-Wno-missing-field-initializers",
-                "-Wno-strict-overflow",
-                "-Wc++11-narrowing",
-                "-Wimplicit-fallthrough",
-                "-Wthread-safety",
-                "-Winconsistent-missing-override",
-                "-Wundef",
-                "-Wunused-lambda-capture"
+                "-Wno-strict-overflow"
             ],
             "defines": [
                 "V8_DEPRECATION_WARNINGS",
                 "USE_NSS_CERTS=1",
-                "USE_X11=1",
                 "CHROMIUM_BUILD",
                 "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
                 "NDEBUG",
                 "NVALGRIND",
                 "DYNAMIC_ANNOTATIONS_ENABLED=0",
@@ -1238,8 +870,6 @@
                 "-funwind-tables",
                 "-fPIC",
                 "-pipe",
-                "-fcolor-diagnostics",
-                "--target=arm-linux-gnueabihf",
                 "-march=armv7-a",
                 "-mfloat-abi=hard",
                 "-mtune=generic-armv7-a",
@@ -1248,18 +878,11 @@
                 "-mthumb",
                 "-Wall",
                 "-Werror",
-                "-Wextra",
+                "-Wno-psabi",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
                 "-Wno-missing-field-initializers",
                 "-Wno-unused-parameter",
-                "-Wno-c++11-narrowing",
-                "-Wno-covered-switch-default",
-                "-Wno-unneeded-internal-declaration",
-                "-Wno-inconsistent-missing-override",
-                "-Wno-undefined-var-template",
-                "-Wno-nonportable-include-path",
-                "-Wno-address-of-packed-member",
-                "-Wno-unused-lambda-capture",
-                "-Wno-user-defined-warnings",
                 "-O2",
                 "-fno-ident",
                 "-fdata-sections",
@@ -1267,42 +890,17 @@
                 "-fomit-frame-pointer",
                 "-g0",
                 "-fvisibility=hidden",
-                "-Xclang",
-                "-load",
-                "-Xclang",
-                "../../../../../../media/webrtc/trunk/webrtc/third_party/llvm-build/Release+Asserts/lib/libFindBadConstructs.so",
-                "-Xclang",
-                "-add-plugin",
-                "-Xclang",
-                "find-bad-constructs",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-auto-raw-pointer",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-ipc",
-                "-Wheader-hygiene",
-                "-Wstring-conversion",
-                "-Wtautological-overlap-compare",
                 "-Wextra",
                 "-Wno-unused-parameter",
                 "-Wno-missing-field-initializers",
-                "-Wno-strict-overflow",
-                "-Wc++11-narrowing",
-                "-Wimplicit-fallthrough",
-                "-Wthread-safety",
-                "-Winconsistent-missing-override",
-                "-Wundef",
-                "-Wunused-lambda-capture"
+                "-Wno-strict-overflow"
             ],
             "defines": [
                 "V8_DEPRECATION_WARNINGS",
                 "USE_NSS_CERTS=1",
-                "USE_X11=1",
                 "CHROMIUM_BUILD",
                 "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
                 "NDEBUG",
                 "NVALGRIND",
                 "DYNAMIC_ANNOTATIONS_ENABLED=0",
@@ -1339,8 +937,6 @@
                 "-funwind-tables",
                 "-fPIC",
                 "-pipe",
-                "-fcolor-diagnostics",
-                "--target=arm-linux-gnueabihf",
                 "-march=armv7-a",
                 "-mfloat-abi=hard",
                 "-mtune=generic-armv7-a",
@@ -1349,18 +945,11 @@
                 "-mthumb",
                 "-Wall",
                 "-Werror",
-                "-Wextra",
+                "-Wno-psabi",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
                 "-Wno-missing-field-initializers",
                 "-Wno-unused-parameter",
-                "-Wno-c++11-narrowing",
-                "-Wno-covered-switch-default",
-                "-Wno-unneeded-internal-declaration",
-                "-Wno-inconsistent-missing-override",
-                "-Wno-undefined-var-template",
-                "-Wno-nonportable-include-path",
-                "-Wno-address-of-packed-member",
-                "-Wno-unused-lambda-capture",
-                "-Wno-user-defined-warnings",
                 "-O2",
                 "-fno-ident",
                 "-fdata-sections",
@@ -1368,42 +957,17 @@
                 "-fomit-frame-pointer",
                 "-g0",
                 "-fvisibility=hidden",
-                "-Xclang",
-                "-load",
-                "-Xclang",
-                "../../../../../../media/webrtc/trunk/webrtc/third_party/llvm-build/Release+Asserts/lib/libFindBadConstructs.so",
-                "-Xclang",
-                "-add-plugin",
-                "-Xclang",
-                "find-bad-constructs",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-auto-raw-pointer",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-ipc",
-                "-Wheader-hygiene",
-                "-Wstring-conversion",
-                "-Wtautological-overlap-compare",
                 "-Wextra",
                 "-Wno-unused-parameter",
                 "-Wno-missing-field-initializers",
-                "-Wno-strict-overflow",
-                "-Wc++11-narrowing",
-                "-Wimplicit-fallthrough",
-                "-Wthread-safety",
-                "-Winconsistent-missing-override",
-                "-Wundef",
-                "-Wunused-lambda-capture"
+                "-Wno-strict-overflow"
             ],
             "defines": [
                 "V8_DEPRECATION_WARNINGS",
                 "USE_NSS_CERTS=1",
-                "USE_X11=1",
                 "CHROMIUM_BUILD",
                 "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
                 "NDEBUG",
                 "NVALGRIND",
                 "DYNAMIC_ANNOTATIONS_ENABLED=0",
@@ -1444,8 +1008,6 @@
                 "-funwind-tables",
                 "-fPIC",
                 "-pipe",
-                "-fcolor-diagnostics",
-                "--target=arm-linux-gnueabihf",
                 "-march=armv7-a",
                 "-mfloat-abi=hard",
                 "-mtune=generic-armv7-a",
@@ -1454,18 +1016,11 @@
                 "-mthumb",
                 "-Wall",
                 "-Werror",
-                "-Wextra",
+                "-Wno-psabi",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
                 "-Wno-missing-field-initializers",
                 "-Wno-unused-parameter",
-                "-Wno-c++11-narrowing",
-                "-Wno-covered-switch-default",
-                "-Wno-unneeded-internal-declaration",
-                "-Wno-inconsistent-missing-override",
-                "-Wno-undefined-var-template",
-                "-Wno-nonportable-include-path",
-                "-Wno-address-of-packed-member",
-                "-Wno-unused-lambda-capture",
-                "-Wno-user-defined-warnings",
                 "-O2",
                 "-fno-ident",
                 "-fdata-sections",
@@ -1473,42 +1028,17 @@
                 "-fomit-frame-pointer",
                 "-g0",
                 "-fvisibility=hidden",
-                "-Xclang",
-                "-load",
-                "-Xclang",
-                "../../../../../../media/webrtc/trunk/webrtc/third_party/llvm-build/Release+Asserts/lib/libFindBadConstructs.so",
-                "-Xclang",
-                "-add-plugin",
-                "-Xclang",
-                "find-bad-constructs",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-auto-raw-pointer",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-ipc",
-                "-Wheader-hygiene",
-                "-Wstring-conversion",
-                "-Wtautological-overlap-compare",
                 "-Wextra",
                 "-Wno-unused-parameter",
                 "-Wno-missing-field-initializers",
-                "-Wno-strict-overflow",
-                "-Wc++11-narrowing",
-                "-Wimplicit-fallthrough",
-                "-Wthread-safety",
-                "-Winconsistent-missing-override",
-                "-Wundef",
-                "-Wunused-lambda-capture"
+                "-Wno-strict-overflow"
             ],
             "defines": [
                 "V8_DEPRECATION_WARNINGS",
                 "USE_NSS_CERTS=1",
-                "USE_X11=1",
                 "CHROMIUM_BUILD",
                 "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
                 "NDEBUG",
                 "NVALGRIND",
                 "DYNAMIC_ANNOTATIONS_ENABLED=0",
@@ -1555,8 +1085,6 @@
                 "-funwind-tables",
                 "-fPIC",
                 "-pipe",
-                "-fcolor-diagnostics",
-                "--target=arm-linux-gnueabihf",
                 "-march=armv7-a",
                 "-mfloat-abi=hard",
                 "-mtune=generic-armv7-a",
@@ -1565,18 +1093,11 @@
                 "-mthumb",
                 "-Wall",
                 "-Werror",
-                "-Wextra",
+                "-Wno-psabi",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
                 "-Wno-missing-field-initializers",
                 "-Wno-unused-parameter",
-                "-Wno-c++11-narrowing",
-                "-Wno-covered-switch-default",
-                "-Wno-unneeded-internal-declaration",
-                "-Wno-inconsistent-missing-override",
-                "-Wno-undefined-var-template",
-                "-Wno-nonportable-include-path",
-                "-Wno-address-of-packed-member",
-                "-Wno-unused-lambda-capture",
-                "-Wno-user-defined-warnings",
                 "-O2",
                 "-fno-ident",
                 "-fdata-sections",
@@ -1584,42 +1105,17 @@
                 "-fomit-frame-pointer",
                 "-g0",
                 "-fvisibility=hidden",
-                "-Xclang",
-                "-load",
-                "-Xclang",
-                "../../../../../../media/webrtc/trunk/webrtc/third_party/llvm-build/Release+Asserts/lib/libFindBadConstructs.so",
-                "-Xclang",
-                "-add-plugin",
-                "-Xclang",
-                "find-bad-constructs",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-auto-raw-pointer",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-ipc",
-                "-Wheader-hygiene",
-                "-Wstring-conversion",
-                "-Wtautological-overlap-compare",
                 "-Wextra",
                 "-Wno-unused-parameter",
                 "-Wno-missing-field-initializers",
-                "-Wno-strict-overflow",
-                "-Wc++11-narrowing",
-                "-Wimplicit-fallthrough",
-                "-Wthread-safety",
-                "-Winconsistent-missing-override",
-                "-Wundef",
-                "-Wunused-lambda-capture"
+                "-Wno-strict-overflow"
             ],
             "defines": [
                 "V8_DEPRECATION_WARNINGS",
                 "USE_NSS_CERTS=1",
-                "USE_X11=1",
                 "CHROMIUM_BUILD",
                 "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
                 "NDEBUG",
                 "NVALGRIND",
                 "DYNAMIC_ANNOTATIONS_ENABLED=0",
@@ -1660,8 +1156,6 @@
                 "-funwind-tables",
                 "-fPIC",
                 "-pipe",
-                "-fcolor-diagnostics",
-                "--target=arm-linux-gnueabihf",
                 "-march=armv7-a",
                 "-mfloat-abi=hard",
                 "-mtune=generic-armv7-a",
@@ -1670,18 +1164,11 @@
                 "-mthumb",
                 "-Wall",
                 "-Werror",
-                "-Wextra",
+                "-Wno-psabi",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
                 "-Wno-missing-field-initializers",
                 "-Wno-unused-parameter",
-                "-Wno-c++11-narrowing",
-                "-Wno-covered-switch-default",
-                "-Wno-unneeded-internal-declaration",
-                "-Wno-inconsistent-missing-override",
-                "-Wno-undefined-var-template",
-                "-Wno-nonportable-include-path",
-                "-Wno-address-of-packed-member",
-                "-Wno-unused-lambda-capture",
-                "-Wno-user-defined-warnings",
                 "-O2",
                 "-fno-ident",
                 "-fdata-sections",
@@ -1689,42 +1176,17 @@
                 "-fomit-frame-pointer",
                 "-g0",
                 "-fvisibility=hidden",
-                "-Xclang",
-                "-load",
-                "-Xclang",
-                "../../../../../../media/webrtc/trunk/webrtc/third_party/llvm-build/Release+Asserts/lib/libFindBadConstructs.so",
-                "-Xclang",
-                "-add-plugin",
-                "-Xclang",
-                "find-bad-constructs",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-auto-raw-pointer",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-ipc",
-                "-Wheader-hygiene",
-                "-Wstring-conversion",
-                "-Wtautological-overlap-compare",
                 "-Wextra",
                 "-Wno-unused-parameter",
                 "-Wno-missing-field-initializers",
-                "-Wno-strict-overflow",
-                "-Wc++11-narrowing",
-                "-Wimplicit-fallthrough",
-                "-Wthread-safety",
-                "-Winconsistent-missing-override",
-                "-Wundef",
-                "-Wunused-lambda-capture"
+                "-Wno-strict-overflow"
             ],
             "defines": [
                 "V8_DEPRECATION_WARNINGS",
                 "USE_NSS_CERTS=1",
-                "USE_X11=1",
                 "CHROMIUM_BUILD",
                 "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
                 "NDEBUG",
                 "NVALGRIND",
                 "DYNAMIC_ANNOTATIONS_ENABLED=0",
@@ -1771,8 +1233,6 @@
                 "-funwind-tables",
                 "-fPIC",
                 "-pipe",
-                "-fcolor-diagnostics",
-                "--target=arm-linux-gnueabihf",
                 "-march=armv7-a",
                 "-mfloat-abi=hard",
                 "-mtune=generic-armv7-a",
@@ -1781,18 +1241,11 @@
                 "-mthumb",
                 "-Wall",
                 "-Werror",
-                "-Wextra",
+                "-Wno-psabi",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
                 "-Wno-missing-field-initializers",
                 "-Wno-unused-parameter",
-                "-Wno-c++11-narrowing",
-                "-Wno-covered-switch-default",
-                "-Wno-unneeded-internal-declaration",
-                "-Wno-inconsistent-missing-override",
-                "-Wno-undefined-var-template",
-                "-Wno-nonportable-include-path",
-                "-Wno-address-of-packed-member",
-                "-Wno-unused-lambda-capture",
-                "-Wno-user-defined-warnings",
                 "-O2",
                 "-fno-ident",
                 "-fdata-sections",
@@ -1800,42 +1253,17 @@
                 "-fomit-frame-pointer",
                 "-g0",
                 "-fvisibility=hidden",
-                "-Xclang",
-                "-load",
-                "-Xclang",
-                "../../../../../../media/webrtc/trunk/webrtc/third_party/llvm-build/Release+Asserts/lib/libFindBadConstructs.so",
-                "-Xclang",
-                "-add-plugin",
-                "-Xclang",
-                "find-bad-constructs",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-auto-raw-pointer",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-ipc",
-                "-Wheader-hygiene",
-                "-Wstring-conversion",
-                "-Wtautological-overlap-compare",
                 "-Wextra",
                 "-Wno-unused-parameter",
                 "-Wno-missing-field-initializers",
-                "-Wno-strict-overflow",
-                "-Wc++11-narrowing",
-                "-Wimplicit-fallthrough",
-                "-Wthread-safety",
-                "-Winconsistent-missing-override",
-                "-Wundef",
-                "-Wunused-lambda-capture"
+                "-Wno-strict-overflow"
             ],
             "defines": [
                 "V8_DEPRECATION_WARNINGS",
                 "USE_NSS_CERTS=1",
-                "USE_X11=1",
                 "CHROMIUM_BUILD",
                 "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
                 "NDEBUG",
                 "NVALGRIND",
                 "DYNAMIC_ANNOTATIONS_ENABLED=0",
@@ -1882,8 +1310,6 @@
                 "-funwind-tables",
                 "-fPIC",
                 "-pipe",
-                "-fcolor-diagnostics",
-                "--target=arm-linux-gnueabihf",
                 "-march=armv7-a",
                 "-mfloat-abi=hard",
                 "-mtune=generic-armv7-a",
@@ -1892,18 +1318,11 @@
                 "-mthumb",
                 "-Wall",
                 "-Werror",
-                "-Wextra",
+                "-Wno-psabi",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
                 "-Wno-missing-field-initializers",
                 "-Wno-unused-parameter",
-                "-Wno-c++11-narrowing",
-                "-Wno-covered-switch-default",
-                "-Wno-unneeded-internal-declaration",
-                "-Wno-inconsistent-missing-override",
-                "-Wno-undefined-var-template",
-                "-Wno-nonportable-include-path",
-                "-Wno-address-of-packed-member",
-                "-Wno-unused-lambda-capture",
-                "-Wno-user-defined-warnings",
                 "-O2",
                 "-fno-ident",
                 "-fdata-sections",
@@ -1911,42 +1330,17 @@
                 "-fomit-frame-pointer",
                 "-g0",
                 "-fvisibility=hidden",
-                "-Xclang",
-                "-load",
-                "-Xclang",
-                "../../../../../../media/webrtc/trunk/webrtc/third_party/llvm-build/Release+Asserts/lib/libFindBadConstructs.so",
-                "-Xclang",
-                "-add-plugin",
-                "-Xclang",
-                "find-bad-constructs",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-auto-raw-pointer",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-ipc",
-                "-Wheader-hygiene",
-                "-Wstring-conversion",
-                "-Wtautological-overlap-compare",
                 "-Wextra",
                 "-Wno-unused-parameter",
                 "-Wno-missing-field-initializers",
-                "-Wno-strict-overflow",
-                "-Wc++11-narrowing",
-                "-Wimplicit-fallthrough",
-                "-Wthread-safety",
-                "-Winconsistent-missing-override",
-                "-Wundef",
-                "-Wunused-lambda-capture"
+                "-Wno-strict-overflow"
             ],
             "defines": [
                 "V8_DEPRECATION_WARNINGS",
                 "USE_NSS_CERTS=1",
-                "USE_X11=1",
                 "CHROMIUM_BUILD",
                 "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
                 "NDEBUG",
                 "NVALGRIND",
                 "DYNAMIC_ANNOTATIONS_ENABLED=0",
@@ -1993,8 +1387,6 @@
                 "-funwind-tables",
                 "-fPIC",
                 "-pipe",
-                "-fcolor-diagnostics",
-                "--target=arm-linux-gnueabihf",
                 "-march=armv7-a",
                 "-mfloat-abi=hard",
                 "-mtune=generic-armv7-a",
@@ -2003,18 +1395,11 @@
                 "-mthumb",
                 "-Wall",
                 "-Werror",
-                "-Wextra",
+                "-Wno-psabi",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
                 "-Wno-missing-field-initializers",
                 "-Wno-unused-parameter",
-                "-Wno-c++11-narrowing",
-                "-Wno-covered-switch-default",
-                "-Wno-unneeded-internal-declaration",
-                "-Wno-inconsistent-missing-override",
-                "-Wno-undefined-var-template",
-                "-Wno-nonportable-include-path",
-                "-Wno-address-of-packed-member",
-                "-Wno-unused-lambda-capture",
-                "-Wno-user-defined-warnings",
                 "-O2",
                 "-fno-ident",
                 "-fdata-sections",
@@ -2022,43 +1407,18 @@
                 "-fomit-frame-pointer",
                 "-g0",
                 "-fvisibility=hidden",
-                "-Xclang",
-                "-load",
-                "-Xclang",
-                "../../../../../../media/webrtc/trunk/webrtc/third_party/llvm-build/Release+Asserts/lib/libFindBadConstructs.so",
-                "-Xclang",
-                "-add-plugin",
-                "-Xclang",
-                "find-bad-constructs",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-auto-raw-pointer",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-ipc",
-                "-Wheader-hygiene",
-                "-Wstring-conversion",
-                "-Wtautological-overlap-compare",
                 "-Wextra",
                 "-Wno-unused-parameter",
                 "-Wno-missing-field-initializers",
-                "-Wno-strict-overflow",
-                "-Wc++11-narrowing",
-                "-Wimplicit-fallthrough",
-                "-Wthread-safety",
-                "-Winconsistent-missing-override",
-                "-Wundef",
-                "-Wunused-lambda-capture"
+                "-Wno-strict-overflow"
             ],
             "defines": [
                 "WEBRTC_OPUS_VARIABLE_COMPLEXITY=0",
                 "V8_DEPRECATION_WARNINGS",
                 "USE_NSS_CERTS=1",
-                "USE_X11=1",
                 "CHROMIUM_BUILD",
                 "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
                 "NDEBUG",
                 "NVALGRIND",
                 "DYNAMIC_ANNOTATIONS_ENABLED=0",
@@ -2100,8 +1460,6 @@
                 "-funwind-tables",
                 "-fPIC",
                 "-pipe",
-                "-fcolor-diagnostics",
-                "--target=arm-linux-gnueabihf",
                 "-march=armv7-a",
                 "-mfloat-abi=hard",
                 "-mtune=generic-armv7-a",
@@ -2110,18 +1468,11 @@
                 "-mthumb",
                 "-Wall",
                 "-Werror",
-                "-Wextra",
+                "-Wno-psabi",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
                 "-Wno-missing-field-initializers",
                 "-Wno-unused-parameter",
-                "-Wno-c++11-narrowing",
-                "-Wno-covered-switch-default",
-                "-Wno-unneeded-internal-declaration",
-                "-Wno-inconsistent-missing-override",
-                "-Wno-undefined-var-template",
-                "-Wno-nonportable-include-path",
-                "-Wno-address-of-packed-member",
-                "-Wno-unused-lambda-capture",
-                "-Wno-user-defined-warnings",
                 "-O2",
                 "-fno-ident",
                 "-fdata-sections",
@@ -2129,42 +1480,17 @@
                 "-fomit-frame-pointer",
                 "-g0",
                 "-fvisibility=hidden",
-                "-Xclang",
-                "-load",
-                "-Xclang",
-                "../../../../../../media/webrtc/trunk/webrtc/third_party/llvm-build/Release+Asserts/lib/libFindBadConstructs.so",
-                "-Xclang",
-                "-add-plugin",
-                "-Xclang",
-                "find-bad-constructs",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-auto-raw-pointer",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-ipc",
-                "-Wheader-hygiene",
-                "-Wstring-conversion",
-                "-Wtautological-overlap-compare",
                 "-Wextra",
                 "-Wno-unused-parameter",
                 "-Wno-missing-field-initializers",
-                "-Wno-strict-overflow",
-                "-Wc++11-narrowing",
-                "-Wimplicit-fallthrough",
-                "-Wthread-safety",
-                "-Winconsistent-missing-override",
-                "-Wundef",
-                "-Wunused-lambda-capture"
+                "-Wno-strict-overflow"
             ],
             "defines": [
                 "V8_DEPRECATION_WARNINGS",
                 "USE_NSS_CERTS=1",
-                "USE_X11=1",
                 "CHROMIUM_BUILD",
                 "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
                 "NDEBUG",
                 "NVALGRIND",
                 "DYNAMIC_ANNOTATIONS_ENABLED=0",
@@ -2215,8 +1541,6 @@
                 "-funwind-tables",
                 "-fPIC",
                 "-pipe",
-                "-fcolor-diagnostics",
-                "--target=arm-linux-gnueabihf",
                 "-march=armv7-a",
                 "-mfloat-abi=hard",
                 "-mtune=generic-armv7-a",
@@ -2225,18 +1549,11 @@
                 "-mthumb",
                 "-Wall",
                 "-Werror",
-                "-Wextra",
+                "-Wno-psabi",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
                 "-Wno-missing-field-initializers",
                 "-Wno-unused-parameter",
-                "-Wno-c++11-narrowing",
-                "-Wno-covered-switch-default",
-                "-Wno-unneeded-internal-declaration",
-                "-Wno-inconsistent-missing-override",
-                "-Wno-undefined-var-template",
-                "-Wno-nonportable-include-path",
-                "-Wno-address-of-packed-member",
-                "-Wno-unused-lambda-capture",
-                "-Wno-user-defined-warnings",
                 "-O2",
                 "-fno-ident",
                 "-fdata-sections",
@@ -2244,44 +1561,19 @@
                 "-fomit-frame-pointer",
                 "-g0",
                 "-fvisibility=hidden",
-                "-Xclang",
-                "-load",
-                "-Xclang",
-                "../../../../../../media/webrtc/trunk/webrtc/third_party/llvm-build/Release+Asserts/lib/libFindBadConstructs.so",
-                "-Xclang",
-                "-add-plugin",
-                "-Xclang",
-                "find-bad-constructs",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-auto-raw-pointer",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-ipc",
-                "-Wheader-hygiene",
-                "-Wstring-conversion",
-                "-Wtautological-overlap-compare",
                 "-Wextra",
                 "-Wno-unused-parameter",
                 "-Wno-missing-field-initializers",
-                "-Wno-strict-overflow",
-                "-Wc++11-narrowing",
-                "-Wimplicit-fallthrough",
-                "-Wthread-safety",
-                "-Winconsistent-missing-override",
-                "-Wundef",
-                "-Wunused-lambda-capture"
+                "-Wno-strict-overflow"
             ],
             "defines": [
                 "WEBRTC_USE_BUILTIN_ILBC=1",
                 "WEBRTC_USE_BUILTIN_OPUS=1",
                 "V8_DEPRECATION_WARNINGS",
                 "USE_NSS_CERTS=1",
-                "USE_X11=1",
                 "CHROMIUM_BUILD",
                 "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
                 "NDEBUG",
                 "NVALGRIND",
                 "DYNAMIC_ANNOTATIONS_ENABLED=0",
@@ -2332,8 +1624,6 @@
                 "-funwind-tables",
                 "-fPIC",
                 "-pipe",
-                "-fcolor-diagnostics",
-                "--target=arm-linux-gnueabihf",
                 "-march=armv7-a",
                 "-mfloat-abi=hard",
                 "-mtune=generic-armv7-a",
@@ -2342,18 +1632,11 @@
                 "-mthumb",
                 "-Wall",
                 "-Werror",
-                "-Wextra",
+                "-Wno-psabi",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
                 "-Wno-missing-field-initializers",
                 "-Wno-unused-parameter",
-                "-Wno-c++11-narrowing",
-                "-Wno-covered-switch-default",
-                "-Wno-unneeded-internal-declaration",
-                "-Wno-inconsistent-missing-override",
-                "-Wno-undefined-var-template",
-                "-Wno-nonportable-include-path",
-                "-Wno-address-of-packed-member",
-                "-Wno-unused-lambda-capture",
-                "-Wno-user-defined-warnings",
                 "-O2",
                 "-fno-ident",
                 "-fdata-sections",
@@ -2361,44 +1644,19 @@
                 "-fomit-frame-pointer",
                 "-g0",
                 "-fvisibility=hidden",
-                "-Xclang",
-                "-load",
-                "-Xclang",
-                "../../../../../../media/webrtc/trunk/webrtc/third_party/llvm-build/Release+Asserts/lib/libFindBadConstructs.so",
-                "-Xclang",
-                "-add-plugin",
-                "-Xclang",
-                "find-bad-constructs",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-auto-raw-pointer",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-ipc",
-                "-Wheader-hygiene",
-                "-Wstring-conversion",
-                "-Wtautological-overlap-compare",
                 "-Wextra",
                 "-Wno-unused-parameter",
                 "-Wno-missing-field-initializers",
-                "-Wno-strict-overflow",
-                "-Wc++11-narrowing",
-                "-Wimplicit-fallthrough",
-                "-Wthread-safety",
-                "-Winconsistent-missing-override",
-                "-Wundef",
-                "-Wunused-lambda-capture"
+                "-Wno-strict-overflow"
             ],
             "defines": [
                 "WEBRTC_USE_BUILTIN_ILBC=1",
                 "WEBRTC_USE_BUILTIN_OPUS=1",
                 "V8_DEPRECATION_WARNINGS",
                 "USE_NSS_CERTS=1",
-                "USE_X11=1",
                 "CHROMIUM_BUILD",
                 "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
                 "NDEBUG",
                 "NVALGRIND",
                 "DYNAMIC_ANNOTATIONS_ENABLED=0",
@@ -2449,8 +1707,6 @@
                 "-funwind-tables",
                 "-fPIC",
                 "-pipe",
-                "-fcolor-diagnostics",
-                "--target=arm-linux-gnueabihf",
                 "-march=armv7-a",
                 "-mfloat-abi=hard",
                 "-mtune=generic-armv7-a",
@@ -2459,18 +1715,11 @@
                 "-mthumb",
                 "-Wall",
                 "-Werror",
-                "-Wextra",
+                "-Wno-psabi",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
                 "-Wno-missing-field-initializers",
                 "-Wno-unused-parameter",
-                "-Wno-c++11-narrowing",
-                "-Wno-covered-switch-default",
-                "-Wno-unneeded-internal-declaration",
-                "-Wno-inconsistent-missing-override",
-                "-Wno-undefined-var-template",
-                "-Wno-nonportable-include-path",
-                "-Wno-address-of-packed-member",
-                "-Wno-unused-lambda-capture",
-                "-Wno-user-defined-warnings",
                 "-O2",
                 "-fno-ident",
                 "-fdata-sections",
@@ -2478,42 +1727,17 @@
                 "-fomit-frame-pointer",
                 "-g0",
                 "-fvisibility=hidden",
-                "-Xclang",
-                "-load",
-                "-Xclang",
-                "../../../../../../media/webrtc/trunk/webrtc/third_party/llvm-build/Release+Asserts/lib/libFindBadConstructs.so",
-                "-Xclang",
-                "-add-plugin",
-                "-Xclang",
-                "find-bad-constructs",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-auto-raw-pointer",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-ipc",
-                "-Wheader-hygiene",
-                "-Wstring-conversion",
-                "-Wtautological-overlap-compare",
                 "-Wextra",
                 "-Wno-unused-parameter",
                 "-Wno-missing-field-initializers",
-                "-Wno-strict-overflow",
-                "-Wc++11-narrowing",
-                "-Wimplicit-fallthrough",
-                "-Wthread-safety",
-                "-Winconsistent-missing-override",
-                "-Wundef",
-                "-Wunused-lambda-capture"
+                "-Wno-strict-overflow"
             ],
             "defines": [
                 "V8_DEPRECATION_WARNINGS",
                 "USE_NSS_CERTS=1",
-                "USE_X11=1",
                 "CHROMIUM_BUILD",
                 "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
                 "NDEBUG",
                 "NVALGRIND",
                 "DYNAMIC_ANNOTATIONS_ENABLED=0",
@@ -2565,8 +1789,6 @@
                 "-funwind-tables",
                 "-fPIC",
                 "-pipe",
-                "-fcolor-diagnostics",
-                "--target=arm-linux-gnueabihf",
                 "-march=armv7-a",
                 "-mfloat-abi=hard",
                 "-mtune=generic-armv7-a",
@@ -2575,18 +1797,11 @@
                 "-mthumb",
                 "-Wall",
                 "-Werror",
-                "-Wextra",
+                "-Wno-psabi",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
                 "-Wno-missing-field-initializers",
                 "-Wno-unused-parameter",
-                "-Wno-c++11-narrowing",
-                "-Wno-covered-switch-default",
-                "-Wno-unneeded-internal-declaration",
-                "-Wno-inconsistent-missing-override",
-                "-Wno-undefined-var-template",
-                "-Wno-nonportable-include-path",
-                "-Wno-address-of-packed-member",
-                "-Wno-unused-lambda-capture",
-                "-Wno-user-defined-warnings",
                 "-O2",
                 "-fno-ident",
                 "-fdata-sections",
@@ -2594,42 +1809,17 @@
                 "-fomit-frame-pointer",
                 "-g0",
                 "-fvisibility=hidden",
-                "-Xclang",
-                "-load",
-                "-Xclang",
-                "../../../../../../media/webrtc/trunk/webrtc/third_party/llvm-build/Release+Asserts/lib/libFindBadConstructs.so",
-                "-Xclang",
-                "-add-plugin",
-                "-Xclang",
-                "find-bad-constructs",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-auto-raw-pointer",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-ipc",
-                "-Wheader-hygiene",
-                "-Wstring-conversion",
-                "-Wtautological-overlap-compare",
                 "-Wextra",
                 "-Wno-unused-parameter",
                 "-Wno-missing-field-initializers",
-                "-Wno-strict-overflow",
-                "-Wc++11-narrowing",
-                "-Wimplicit-fallthrough",
-                "-Wthread-safety",
-                "-Winconsistent-missing-override",
-                "-Wundef",
-                "-Wunused-lambda-capture"
+                "-Wno-strict-overflow"
             ],
             "defines": [
                 "V8_DEPRECATION_WARNINGS",
                 "USE_NSS_CERTS=1",
-                "USE_X11=1",
                 "CHROMIUM_BUILD",
                 "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
                 "NDEBUG",
                 "NVALGRIND",
                 "DYNAMIC_ANNOTATIONS_ENABLED=0",
@@ -2668,8 +1858,6 @@
                 "-funwind-tables",
                 "-fPIC",
                 "-pipe",
-                "-fcolor-diagnostics",
-                "--target=arm-linux-gnueabihf",
                 "-march=armv7-a",
                 "-mfloat-abi=hard",
                 "-mtune=generic-armv7-a",
@@ -2678,18 +1866,11 @@
                 "-mthumb",
                 "-Wall",
                 "-Werror",
-                "-Wextra",
+                "-Wno-psabi",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
                 "-Wno-missing-field-initializers",
                 "-Wno-unused-parameter",
-                "-Wno-c++11-narrowing",
-                "-Wno-covered-switch-default",
-                "-Wno-unneeded-internal-declaration",
-                "-Wno-inconsistent-missing-override",
-                "-Wno-undefined-var-template",
-                "-Wno-nonportable-include-path",
-                "-Wno-address-of-packed-member",
-                "-Wno-unused-lambda-capture",
-                "-Wno-user-defined-warnings",
                 "-O2",
                 "-fno-ident",
                 "-fdata-sections",
@@ -2697,42 +1878,17 @@
                 "-fomit-frame-pointer",
                 "-g0",
                 "-fvisibility=hidden",
-                "-Xclang",
-                "-load",
-                "-Xclang",
-                "../../../../../../media/webrtc/trunk/webrtc/third_party/llvm-build/Release+Asserts/lib/libFindBadConstructs.so",
-                "-Xclang",
-                "-add-plugin",
-                "-Xclang",
-                "find-bad-constructs",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-auto-raw-pointer",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-ipc",
-                "-Wheader-hygiene",
-                "-Wstring-conversion",
-                "-Wtautological-overlap-compare",
                 "-Wextra",
                 "-Wno-unused-parameter",
                 "-Wno-missing-field-initializers",
-                "-Wno-strict-overflow",
-                "-Wc++11-narrowing",
-                "-Wimplicit-fallthrough",
-                "-Wthread-safety",
-                "-Winconsistent-missing-override",
-                "-Wundef",
-                "-Wunused-lambda-capture"
+                "-Wno-strict-overflow"
             ],
             "defines": [
                 "V8_DEPRECATION_WARNINGS",
                 "USE_NSS_CERTS=1",
-                "USE_X11=1",
                 "CHROMIUM_BUILD",
                 "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
                 "NDEBUG",
                 "NVALGRIND",
                 "DYNAMIC_ANNOTATIONS_ENABLED=0",
@@ -2774,8 +1930,6 @@
                 "-funwind-tables",
                 "-fPIC",
                 "-pipe",
-                "-fcolor-diagnostics",
-                "--target=arm-linux-gnueabihf",
                 "-march=armv7-a",
                 "-mfloat-abi=hard",
                 "-mtune=generic-armv7-a",
@@ -2784,18 +1938,11 @@
                 "-mthumb",
                 "-Wall",
                 "-Werror",
-                "-Wextra",
+                "-Wno-psabi",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
                 "-Wno-missing-field-initializers",
                 "-Wno-unused-parameter",
-                "-Wno-c++11-narrowing",
-                "-Wno-covered-switch-default",
-                "-Wno-unneeded-internal-declaration",
-                "-Wno-inconsistent-missing-override",
-                "-Wno-undefined-var-template",
-                "-Wno-nonportable-include-path",
-                "-Wno-address-of-packed-member",
-                "-Wno-unused-lambda-capture",
-                "-Wno-user-defined-warnings",
                 "-O2",
                 "-fno-ident",
                 "-fdata-sections",
@@ -2803,42 +1950,17 @@
                 "-fomit-frame-pointer",
                 "-g0",
                 "-fvisibility=hidden",
-                "-Xclang",
-                "-load",
-                "-Xclang",
-                "../../../../../../media/webrtc/trunk/webrtc/third_party/llvm-build/Release+Asserts/lib/libFindBadConstructs.so",
-                "-Xclang",
-                "-add-plugin",
-                "-Xclang",
-                "find-bad-constructs",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-auto-raw-pointer",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-ipc",
-                "-Wheader-hygiene",
-                "-Wstring-conversion",
-                "-Wtautological-overlap-compare",
                 "-Wextra",
                 "-Wno-unused-parameter",
                 "-Wno-missing-field-initializers",
-                "-Wno-strict-overflow",
-                "-Wc++11-narrowing",
-                "-Wimplicit-fallthrough",
-                "-Wthread-safety",
-                "-Winconsistent-missing-override",
-                "-Wundef",
-                "-Wunused-lambda-capture"
+                "-Wno-strict-overflow"
             ],
             "defines": [
                 "V8_DEPRECATION_WARNINGS",
                 "USE_NSS_CERTS=1",
-                "USE_X11=1",
                 "CHROMIUM_BUILD",
                 "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
                 "NDEBUG",
                 "NVALGRIND",
                 "DYNAMIC_ANNOTATIONS_ENABLED=0",
@@ -2876,8 +1998,6 @@
                 "-funwind-tables",
                 "-fPIC",
                 "-pipe",
-                "-fcolor-diagnostics",
-                "--target=arm-linux-gnueabihf",
                 "-march=armv7-a",
                 "-mfloat-abi=hard",
                 "-mtune=generic-armv7-a",
@@ -2886,18 +2006,11 @@
                 "-mthumb",
                 "-Wall",
                 "-Werror",
-                "-Wextra",
+                "-Wno-psabi",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
                 "-Wno-missing-field-initializers",
                 "-Wno-unused-parameter",
-                "-Wno-c++11-narrowing",
-                "-Wno-covered-switch-default",
-                "-Wno-unneeded-internal-declaration",
-                "-Wno-inconsistent-missing-override",
-                "-Wno-undefined-var-template",
-                "-Wno-nonportable-include-path",
-                "-Wno-address-of-packed-member",
-                "-Wno-unused-lambda-capture",
-                "-Wno-user-defined-warnings",
                 "-O2",
                 "-fno-ident",
                 "-fdata-sections",
@@ -2905,42 +2018,17 @@
                 "-fomit-frame-pointer",
                 "-g0",
                 "-fvisibility=hidden",
-                "-Xclang",
-                "-load",
-                "-Xclang",
-                "../../../../../../media/webrtc/trunk/webrtc/third_party/llvm-build/Release+Asserts/lib/libFindBadConstructs.so",
-                "-Xclang",
-                "-add-plugin",
-                "-Xclang",
-                "find-bad-constructs",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-auto-raw-pointer",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-ipc",
-                "-Wheader-hygiene",
-                "-Wstring-conversion",
-                "-Wtautological-overlap-compare",
                 "-Wextra",
                 "-Wno-unused-parameter",
                 "-Wno-missing-field-initializers",
-                "-Wno-strict-overflow",
-                "-Wc++11-narrowing",
-                "-Wimplicit-fallthrough",
-                "-Wthread-safety",
-                "-Winconsistent-missing-override",
-                "-Wundef",
-                "-Wunused-lambda-capture"
+                "-Wno-strict-overflow"
             ],
             "defines": [
                 "V8_DEPRECATION_WARNINGS",
                 "USE_NSS_CERTS=1",
-                "USE_X11=1",
                 "CHROMIUM_BUILD",
                 "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
                 "NDEBUG",
                 "NVALGRIND",
                 "DYNAMIC_ANNOTATIONS_ENABLED=0",
@@ -2985,8 +2073,6 @@
                 "-funwind-tables",
                 "-fPIC",
                 "-pipe",
-                "-fcolor-diagnostics",
-                "--target=arm-linux-gnueabihf",
                 "-march=armv7-a",
                 "-mfloat-abi=hard",
                 "-mtune=generic-armv7-a",
@@ -2995,18 +2081,11 @@
                 "-mthumb",
                 "-Wall",
                 "-Werror",
-                "-Wextra",
+                "-Wno-psabi",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
                 "-Wno-missing-field-initializers",
                 "-Wno-unused-parameter",
-                "-Wno-c++11-narrowing",
-                "-Wno-covered-switch-default",
-                "-Wno-unneeded-internal-declaration",
-                "-Wno-inconsistent-missing-override",
-                "-Wno-undefined-var-template",
-                "-Wno-nonportable-include-path",
-                "-Wno-address-of-packed-member",
-                "-Wno-unused-lambda-capture",
-                "-Wno-user-defined-warnings",
                 "-O2",
                 "-fno-ident",
                 "-fdata-sections",
@@ -3014,42 +2093,17 @@
                 "-fomit-frame-pointer",
                 "-g0",
                 "-fvisibility=hidden",
-                "-Xclang",
-                "-load",
-                "-Xclang",
-                "../../../../../../media/webrtc/trunk/webrtc/third_party/llvm-build/Release+Asserts/lib/libFindBadConstructs.so",
-                "-Xclang",
-                "-add-plugin",
-                "-Xclang",
-                "find-bad-constructs",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-auto-raw-pointer",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-ipc",
-                "-Wheader-hygiene",
-                "-Wstring-conversion",
-                "-Wtautological-overlap-compare",
                 "-Wextra",
                 "-Wno-unused-parameter",
                 "-Wno-missing-field-initializers",
-                "-Wno-strict-overflow",
-                "-Wc++11-narrowing",
-                "-Wimplicit-fallthrough",
-                "-Wthread-safety",
-                "-Winconsistent-missing-override",
-                "-Wundef",
-                "-Wunused-lambda-capture"
+                "-Wno-strict-overflow"
             ],
             "defines": [
                 "V8_DEPRECATION_WARNINGS",
                 "USE_NSS_CERTS=1",
-                "USE_X11=1",
                 "CHROMIUM_BUILD",
                 "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
                 "NDEBUG",
                 "NVALGRIND",
                 "DYNAMIC_ANNOTATIONS_ENABLED=0",
@@ -3090,8 +2144,6 @@
                 "-funwind-tables",
                 "-fPIC",
                 "-pipe",
-                "-fcolor-diagnostics",
-                "--target=arm-linux-gnueabihf",
                 "-march=armv7-a",
                 "-mfloat-abi=hard",
                 "-mtune=generic-armv7-a",
@@ -3100,18 +2152,11 @@
                 "-mthumb",
                 "-Wall",
                 "-Werror",
-                "-Wextra",
+                "-Wno-psabi",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
                 "-Wno-missing-field-initializers",
                 "-Wno-unused-parameter",
-                "-Wno-c++11-narrowing",
-                "-Wno-covered-switch-default",
-                "-Wno-unneeded-internal-declaration",
-                "-Wno-inconsistent-missing-override",
-                "-Wno-undefined-var-template",
-                "-Wno-nonportable-include-path",
-                "-Wno-address-of-packed-member",
-                "-Wno-unused-lambda-capture",
-                "-Wno-user-defined-warnings",
                 "-O2",
                 "-fno-ident",
                 "-fdata-sections",
@@ -3119,42 +2164,17 @@
                 "-fomit-frame-pointer",
                 "-g0",
                 "-fvisibility=hidden",
-                "-Xclang",
-                "-load",
-                "-Xclang",
-                "../../../../../../media/webrtc/trunk/webrtc/third_party/llvm-build/Release+Asserts/lib/libFindBadConstructs.so",
-                "-Xclang",
-                "-add-plugin",
-                "-Xclang",
-                "find-bad-constructs",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-auto-raw-pointer",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-ipc",
-                "-Wheader-hygiene",
-                "-Wstring-conversion",
-                "-Wtautological-overlap-compare",
                 "-Wextra",
                 "-Wno-unused-parameter",
                 "-Wno-missing-field-initializers",
-                "-Wno-strict-overflow",
-                "-Wc++11-narrowing",
-                "-Wimplicit-fallthrough",
-                "-Wthread-safety",
-                "-Winconsistent-missing-override",
-                "-Wundef",
-                "-Wunused-lambda-capture"
+                "-Wno-strict-overflow"
             ],
             "defines": [
                 "V8_DEPRECATION_WARNINGS",
                 "USE_NSS_CERTS=1",
-                "USE_X11=1",
                 "CHROMIUM_BUILD",
                 "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
                 "NDEBUG",
                 "NVALGRIND",
                 "DYNAMIC_ANNOTATIONS_ENABLED=0",
@@ -3193,8 +2213,6 @@
                 "-funwind-tables",
                 "-fPIC",
                 "-pipe",
-                "-fcolor-diagnostics",
-                "--target=arm-linux-gnueabihf",
                 "-march=armv7-a",
                 "-mfloat-abi=hard",
                 "-mtune=generic-armv7-a",
@@ -3203,18 +2221,11 @@
                 "-mthumb",
                 "-Wall",
                 "-Werror",
-                "-Wextra",
+                "-Wno-psabi",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
                 "-Wno-missing-field-initializers",
                 "-Wno-unused-parameter",
-                "-Wno-c++11-narrowing",
-                "-Wno-covered-switch-default",
-                "-Wno-unneeded-internal-declaration",
-                "-Wno-inconsistent-missing-override",
-                "-Wno-undefined-var-template",
-                "-Wno-nonportable-include-path",
-                "-Wno-address-of-packed-member",
-                "-Wno-unused-lambda-capture",
-                "-Wno-user-defined-warnings",
                 "-O2",
                 "-fno-ident",
                 "-fdata-sections",
@@ -3222,42 +2233,17 @@
                 "-fomit-frame-pointer",
                 "-g0",
                 "-fvisibility=hidden",
-                "-Xclang",
-                "-load",
-                "-Xclang",
-                "../../../../../../media/webrtc/trunk/webrtc/third_party/llvm-build/Release+Asserts/lib/libFindBadConstructs.so",
-                "-Xclang",
-                "-add-plugin",
-                "-Xclang",
-                "find-bad-constructs",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-auto-raw-pointer",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-ipc",
-                "-Wheader-hygiene",
-                "-Wstring-conversion",
-                "-Wtautological-overlap-compare",
                 "-Wextra",
                 "-Wno-unused-parameter",
                 "-Wno-missing-field-initializers",
-                "-Wno-strict-overflow",
-                "-Wc++11-narrowing",
-                "-Wimplicit-fallthrough",
-                "-Wthread-safety",
-                "-Winconsistent-missing-override",
-                "-Wundef",
-                "-Wunused-lambda-capture"
+                "-Wno-strict-overflow"
             ],
             "defines": [
                 "V8_DEPRECATION_WARNINGS",
                 "USE_NSS_CERTS=1",
-                "USE_X11=1",
                 "CHROMIUM_BUILD",
                 "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
                 "NDEBUG",
                 "NVALGRIND",
                 "DYNAMIC_ANNOTATIONS_ENABLED=0",
@@ -3294,8 +2280,6 @@
                 "-funwind-tables",
                 "-fPIC",
                 "-pipe",
-                "-fcolor-diagnostics",
-                "--target=arm-linux-gnueabihf",
                 "-march=armv7-a",
                 "-mfloat-abi=hard",
                 "-mtune=generic-armv7-a",
@@ -3304,18 +2288,11 @@
                 "-mthumb",
                 "-Wall",
                 "-Werror",
-                "-Wextra",
+                "-Wno-psabi",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
                 "-Wno-missing-field-initializers",
                 "-Wno-unused-parameter",
-                "-Wno-c++11-narrowing",
-                "-Wno-covered-switch-default",
-                "-Wno-unneeded-internal-declaration",
-                "-Wno-inconsistent-missing-override",
-                "-Wno-undefined-var-template",
-                "-Wno-nonportable-include-path",
-                "-Wno-address-of-packed-member",
-                "-Wno-unused-lambda-capture",
-                "-Wno-user-defined-warnings",
                 "-O2",
                 "-fno-ident",
                 "-fdata-sections",
@@ -3323,42 +2300,17 @@
                 "-fomit-frame-pointer",
                 "-g0",
                 "-fvisibility=hidden",
-                "-Xclang",
-                "-load",
-                "-Xclang",
-                "../../../../../../media/webrtc/trunk/webrtc/third_party/llvm-build/Release+Asserts/lib/libFindBadConstructs.so",
-                "-Xclang",
-                "-add-plugin",
-                "-Xclang",
-                "find-bad-constructs",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-auto-raw-pointer",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-ipc",
-                "-Wheader-hygiene",
-                "-Wstring-conversion",
-                "-Wtautological-overlap-compare",
                 "-Wextra",
                 "-Wno-unused-parameter",
                 "-Wno-missing-field-initializers",
-                "-Wno-strict-overflow",
-                "-Wc++11-narrowing",
-                "-Wimplicit-fallthrough",
-                "-Wthread-safety",
-                "-Winconsistent-missing-override",
-                "-Wundef",
-                "-Wunused-lambda-capture"
+                "-Wno-strict-overflow"
             ],
             "defines": [
                 "V8_DEPRECATION_WARNINGS",
                 "USE_NSS_CERTS=1",
-                "USE_X11=1",
                 "CHROMIUM_BUILD",
                 "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
                 "NDEBUG",
                 "NVALGRIND",
                 "DYNAMIC_ANNOTATIONS_ENABLED=0",
@@ -3406,8 +2358,6 @@
                 "-funwind-tables",
                 "-fPIC",
                 "-pipe",
-                "-fcolor-diagnostics",
-                "--target=arm-linux-gnueabihf",
                 "-march=armv7-a",
                 "-mfloat-abi=hard",
                 "-mtune=generic-armv7-a",
@@ -3416,18 +2366,11 @@
                 "-mthumb",
                 "-Wall",
                 "-Werror",
-                "-Wextra",
+                "-Wno-psabi",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
                 "-Wno-missing-field-initializers",
                 "-Wno-unused-parameter",
-                "-Wno-c++11-narrowing",
-                "-Wno-covered-switch-default",
-                "-Wno-unneeded-internal-declaration",
-                "-Wno-inconsistent-missing-override",
-                "-Wno-undefined-var-template",
-                "-Wno-nonportable-include-path",
-                "-Wno-address-of-packed-member",
-                "-Wno-unused-lambda-capture",
-                "-Wno-user-defined-warnings",
                 "-O2",
                 "-fno-ident",
                 "-fdata-sections",
@@ -3435,42 +2378,17 @@
                 "-fomit-frame-pointer",
                 "-g0",
                 "-fvisibility=hidden",
-                "-Xclang",
-                "-load",
-                "-Xclang",
-                "../../../../../../media/webrtc/trunk/webrtc/third_party/llvm-build/Release+Asserts/lib/libFindBadConstructs.so",
-                "-Xclang",
-                "-add-plugin",
-                "-Xclang",
-                "find-bad-constructs",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-auto-raw-pointer",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-ipc",
-                "-Wheader-hygiene",
-                "-Wstring-conversion",
-                "-Wtautological-overlap-compare",
                 "-Wextra",
                 "-Wno-unused-parameter",
                 "-Wno-missing-field-initializers",
-                "-Wno-strict-overflow",
-                "-Wc++11-narrowing",
-                "-Wimplicit-fallthrough",
-                "-Wthread-safety",
-                "-Winconsistent-missing-override",
-                "-Wundef",
-                "-Wunused-lambda-capture"
+                "-Wno-strict-overflow"
             ],
             "defines": [
                 "V8_DEPRECATION_WARNINGS",
                 "USE_NSS_CERTS=1",
-                "USE_X11=1",
                 "CHROMIUM_BUILD",
                 "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
                 "NDEBUG",
                 "NVALGRIND",
                 "DYNAMIC_ANNOTATIONS_ENABLED=0",
@@ -3515,8 +2433,6 @@
                 "-funwind-tables",
                 "-fPIC",
                 "-pipe",
-                "-fcolor-diagnostics",
-                "--target=arm-linux-gnueabihf",
                 "-march=armv7-a",
                 "-mfloat-abi=hard",
                 "-mtune=generic-armv7-a",
@@ -3525,18 +2441,11 @@
                 "-mthumb",
                 "-Wall",
                 "-Werror",
-                "-Wextra",
+                "-Wno-psabi",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
                 "-Wno-missing-field-initializers",
                 "-Wno-unused-parameter",
-                "-Wno-c++11-narrowing",
-                "-Wno-covered-switch-default",
-                "-Wno-unneeded-internal-declaration",
-                "-Wno-inconsistent-missing-override",
-                "-Wno-undefined-var-template",
-                "-Wno-nonportable-include-path",
-                "-Wno-address-of-packed-member",
-                "-Wno-unused-lambda-capture",
-                "-Wno-user-defined-warnings",
                 "-O2",
                 "-fno-ident",
                 "-fdata-sections",
@@ -3544,42 +2453,17 @@
                 "-fomit-frame-pointer",
                 "-g0",
                 "-fvisibility=hidden",
-                "-Xclang",
-                "-load",
-                "-Xclang",
-                "../../../../../../media/webrtc/trunk/webrtc/third_party/llvm-build/Release+Asserts/lib/libFindBadConstructs.so",
-                "-Xclang",
-                "-add-plugin",
-                "-Xclang",
-                "find-bad-constructs",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-auto-raw-pointer",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-ipc",
-                "-Wheader-hygiene",
-                "-Wstring-conversion",
-                "-Wtautological-overlap-compare",
                 "-Wextra",
                 "-Wno-unused-parameter",
                 "-Wno-missing-field-initializers",
-                "-Wno-strict-overflow",
-                "-Wc++11-narrowing",
-                "-Wimplicit-fallthrough",
-                "-Wthread-safety",
-                "-Winconsistent-missing-override",
-                "-Wundef",
-                "-Wunused-lambda-capture"
+                "-Wno-strict-overflow"
             ],
             "defines": [
                 "V8_DEPRECATION_WARNINGS",
                 "USE_NSS_CERTS=1",
-                "USE_X11=1",
                 "CHROMIUM_BUILD",
                 "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
                 "NDEBUG",
                 "NVALGRIND",
                 "DYNAMIC_ANNOTATIONS_ENABLED=0",
@@ -3624,8 +2508,6 @@
                 "-funwind-tables",
                 "-fPIC",
                 "-pipe",
-                "-fcolor-diagnostics",
-                "--target=arm-linux-gnueabihf",
                 "-march=armv7-a",
                 "-mfloat-abi=hard",
                 "-mtune=generic-armv7-a",
@@ -3634,18 +2516,11 @@
                 "-mthumb",
                 "-Wall",
                 "-Werror",
-                "-Wextra",
+                "-Wno-psabi",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
                 "-Wno-missing-field-initializers",
                 "-Wno-unused-parameter",
-                "-Wno-c++11-narrowing",
-                "-Wno-covered-switch-default",
-                "-Wno-unneeded-internal-declaration",
-                "-Wno-inconsistent-missing-override",
-                "-Wno-undefined-var-template",
-                "-Wno-nonportable-include-path",
-                "-Wno-address-of-packed-member",
-                "-Wno-unused-lambda-capture",
-                "-Wno-user-defined-warnings",
                 "-O2",
                 "-fno-ident",
                 "-fdata-sections",
@@ -3653,26 +2528,17 @@
                 "-fomit-frame-pointer",
                 "-g0",
                 "-fvisibility=hidden",
-                "-Wheader-hygiene",
-                "-Wstring-conversion",
-                "-Wtautological-overlap-compare",
                 "-Wextra",
                 "-Wno-unused-parameter",
                 "-Wno-missing-field-initializers",
-                "-Wno-strict-overflow",
-                "-Wc++11-narrowing",
-                "-Wimplicit-fallthrough",
-                "-Wthread-safety",
-                "-Winconsistent-missing-override",
-                "-Wundef",
-                "-Wunused-lambda-capture"
+                "-Wno-strict-overflow"
             ],
             "defines": [
                 "V8_DEPRECATION_WARNINGS",
                 "USE_NSS_CERTS=1",
-                "USE_X11=1",
                 "CHROMIUM_BUILD",
                 "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
                 "NDEBUG",
                 "NVALGRIND",
                 "DYNAMIC_ANNOTATIONS_ENABLED=0",
@@ -3758,8 +2624,6 @@
                 "-funwind-tables",
                 "-fPIC",
                 "-pipe",
-                "-fcolor-diagnostics",
-                "--target=arm-linux-gnueabihf",
                 "-march=armv7-a",
                 "-mfloat-abi=hard",
                 "-mtune=generic-armv7-a",
@@ -3768,18 +2632,11 @@
                 "-mthumb",
                 "-Wall",
                 "-Werror",
-                "-Wextra",
+                "-Wno-psabi",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
                 "-Wno-missing-field-initializers",
                 "-Wno-unused-parameter",
-                "-Wno-c++11-narrowing",
-                "-Wno-covered-switch-default",
-                "-Wno-unneeded-internal-declaration",
-                "-Wno-inconsistent-missing-override",
-                "-Wno-undefined-var-template",
-                "-Wno-nonportable-include-path",
-                "-Wno-address-of-packed-member",
-                "-Wno-unused-lambda-capture",
-                "-Wno-user-defined-warnings",
                 "-O2",
                 "-fno-ident",
                 "-fdata-sections",
@@ -3787,26 +2644,17 @@
                 "-fomit-frame-pointer",
                 "-g0",
                 "-fvisibility=hidden",
-                "-Wheader-hygiene",
-                "-Wstring-conversion",
-                "-Wtautological-overlap-compare",
                 "-Wextra",
                 "-Wno-unused-parameter",
                 "-Wno-missing-field-initializers",
-                "-Wno-strict-overflow",
-                "-Wc++11-narrowing",
-                "-Wimplicit-fallthrough",
-                "-Wthread-safety",
-                "-Winconsistent-missing-override",
-                "-Wundef",
-                "-Wunused-lambda-capture"
+                "-Wno-strict-overflow"
             ],
             "defines": [
                 "V8_DEPRECATION_WARNINGS",
                 "USE_NSS_CERTS=1",
-                "USE_X11=1",
                 "CHROMIUM_BUILD",
                 "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
                 "NDEBUG",
                 "NVALGRIND",
                 "DYNAMIC_ANNOTATIONS_ENABLED=0",
@@ -3851,8 +2699,6 @@
                 "-funwind-tables",
                 "-fPIC",
                 "-pipe",
-                "-fcolor-diagnostics",
-                "--target=arm-linux-gnueabihf",
                 "-march=armv7-a",
                 "-mfloat-abi=hard",
                 "-mtune=generic-armv7-a",
@@ -3861,18 +2707,11 @@
                 "-mthumb",
                 "-Wall",
                 "-Werror",
-                "-Wextra",
+                "-Wno-psabi",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
                 "-Wno-missing-field-initializers",
                 "-Wno-unused-parameter",
-                "-Wno-c++11-narrowing",
-                "-Wno-covered-switch-default",
-                "-Wno-unneeded-internal-declaration",
-                "-Wno-inconsistent-missing-override",
-                "-Wno-undefined-var-template",
-                "-Wno-nonportable-include-path",
-                "-Wno-address-of-packed-member",
-                "-Wno-unused-lambda-capture",
-                "-Wno-user-defined-warnings",
                 "-O2",
                 "-fno-ident",
                 "-fdata-sections",
@@ -3880,26 +2719,17 @@
                 "-fomit-frame-pointer",
                 "-g0",
                 "-fvisibility=hidden",
-                "-Wheader-hygiene",
-                "-Wstring-conversion",
-                "-Wtautological-overlap-compare",
                 "-Wextra",
                 "-Wno-unused-parameter",
                 "-Wno-missing-field-initializers",
-                "-Wno-strict-overflow",
-                "-Wc++11-narrowing",
-                "-Wimplicit-fallthrough",
-                "-Wthread-safety",
-                "-Winconsistent-missing-override",
-                "-Wundef",
-                "-Wunused-lambda-capture"
+                "-Wno-strict-overflow"
             ],
             "defines": [
                 "V8_DEPRECATION_WARNINGS",
                 "USE_NSS_CERTS=1",
-                "USE_X11=1",
                 "CHROMIUM_BUILD",
                 "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
                 "NDEBUG",
                 "NVALGRIND",
                 "DYNAMIC_ANNOTATIONS_ENABLED=0",
@@ -3967,8 +2797,6 @@
                 "-funwind-tables",
                 "-fPIC",
                 "-pipe",
-                "-fcolor-diagnostics",
-                "--target=arm-linux-gnueabihf",
                 "-march=armv7-a",
                 "-mfloat-abi=hard",
                 "-mtune=generic-armv7-a",
@@ -3977,18 +2805,11 @@
                 "-mthumb",
                 "-Wall",
                 "-Werror",
-                "-Wextra",
+                "-Wno-psabi",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
                 "-Wno-missing-field-initializers",
                 "-Wno-unused-parameter",
-                "-Wno-c++11-narrowing",
-                "-Wno-covered-switch-default",
-                "-Wno-unneeded-internal-declaration",
-                "-Wno-inconsistent-missing-override",
-                "-Wno-undefined-var-template",
-                "-Wno-nonportable-include-path",
-                "-Wno-address-of-packed-member",
-                "-Wno-unused-lambda-capture",
-                "-Wno-user-defined-warnings",
                 "-O2",
                 "-fno-ident",
                 "-fdata-sections",
@@ -3996,42 +2817,17 @@
                 "-fomit-frame-pointer",
                 "-g0",
                 "-fvisibility=hidden",
-                "-Xclang",
-                "-load",
-                "-Xclang",
-                "../../../../../../media/webrtc/trunk/webrtc/third_party/llvm-build/Release+Asserts/lib/libFindBadConstructs.so",
-                "-Xclang",
-                "-add-plugin",
-                "-Xclang",
-                "find-bad-constructs",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-auto-raw-pointer",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-ipc",
-                "-Wheader-hygiene",
-                "-Wstring-conversion",
-                "-Wtautological-overlap-compare",
                 "-Wextra",
                 "-Wno-unused-parameter",
                 "-Wno-missing-field-initializers",
-                "-Wno-strict-overflow",
-                "-Wc++11-narrowing",
-                "-Wimplicit-fallthrough",
-                "-Wthread-safety",
-                "-Winconsistent-missing-override",
-                "-Wundef",
-                "-Wunused-lambda-capture"
+                "-Wno-strict-overflow"
             ],
             "defines": [
                 "V8_DEPRECATION_WARNINGS",
                 "USE_NSS_CERTS=1",
-                "USE_X11=1",
                 "CHROMIUM_BUILD",
                 "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
                 "NDEBUG",
                 "NVALGRIND",
                 "DYNAMIC_ANNOTATIONS_ENABLED=0",
@@ -4089,8 +2885,6 @@
                 "-funwind-tables",
                 "-fPIC",
                 "-pipe",
-                "-fcolor-diagnostics",
-                "--target=arm-linux-gnueabihf",
                 "-march=armv7-a",
                 "-mfloat-abi=hard",
                 "-mtune=generic-armv7-a",
@@ -4099,18 +2893,11 @@
                 "-mthumb",
                 "-Wall",
                 "-Werror",
-                "-Wextra",
+                "-Wno-psabi",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
                 "-Wno-missing-field-initializers",
                 "-Wno-unused-parameter",
-                "-Wno-c++11-narrowing",
-                "-Wno-covered-switch-default",
-                "-Wno-unneeded-internal-declaration",
-                "-Wno-inconsistent-missing-override",
-                "-Wno-undefined-var-template",
-                "-Wno-nonportable-include-path",
-                "-Wno-address-of-packed-member",
-                "-Wno-unused-lambda-capture",
-                "-Wno-user-defined-warnings",
                 "-O2",
                 "-fno-ident",
                 "-fdata-sections",
@@ -4118,42 +2905,17 @@
                 "-fomit-frame-pointer",
                 "-g0",
                 "-fvisibility=hidden",
-                "-Xclang",
-                "-load",
-                "-Xclang",
-                "../../../../../../media/webrtc/trunk/webrtc/third_party/llvm-build/Release+Asserts/lib/libFindBadConstructs.so",
-                "-Xclang",
-                "-add-plugin",
-                "-Xclang",
-                "find-bad-constructs",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-auto-raw-pointer",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-ipc",
-                "-Wheader-hygiene",
-                "-Wstring-conversion",
-                "-Wtautological-overlap-compare",
                 "-Wextra",
                 "-Wno-unused-parameter",
                 "-Wno-missing-field-initializers",
-                "-Wno-strict-overflow",
-                "-Wc++11-narrowing",
-                "-Wimplicit-fallthrough",
-                "-Wthread-safety",
-                "-Winconsistent-missing-override",
-                "-Wundef",
-                "-Wunused-lambda-capture"
+                "-Wno-strict-overflow"
             ],
             "defines": [
                 "V8_DEPRECATION_WARNINGS",
                 "USE_NSS_CERTS=1",
-                "USE_X11=1",
                 "CHROMIUM_BUILD",
                 "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
                 "NDEBUG",
                 "NVALGRIND",
                 "DYNAMIC_ANNOTATIONS_ENABLED=0",
@@ -4198,8 +2960,6 @@
                 "-funwind-tables",
                 "-fPIC",
                 "-pipe",
-                "-fcolor-diagnostics",
-                "--target=arm-linux-gnueabihf",
                 "-march=armv7-a",
                 "-mfloat-abi=hard",
                 "-mtune=generic-armv7-a",
@@ -4208,18 +2968,11 @@
                 "-mthumb",
                 "-Wall",
                 "-Werror",
-                "-Wextra",
+                "-Wno-psabi",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
                 "-Wno-missing-field-initializers",
                 "-Wno-unused-parameter",
-                "-Wno-c++11-narrowing",
-                "-Wno-covered-switch-default",
-                "-Wno-unneeded-internal-declaration",
-                "-Wno-inconsistent-missing-override",
-                "-Wno-undefined-var-template",
-                "-Wno-nonportable-include-path",
-                "-Wno-address-of-packed-member",
-                "-Wno-unused-lambda-capture",
-                "-Wno-user-defined-warnings",
                 "-O2",
                 "-fno-ident",
                 "-fdata-sections",
@@ -4227,42 +2980,17 @@
                 "-fomit-frame-pointer",
                 "-g0",
                 "-fvisibility=hidden",
-                "-Xclang",
-                "-load",
-                "-Xclang",
-                "../../../../../../media/webrtc/trunk/webrtc/third_party/llvm-build/Release+Asserts/lib/libFindBadConstructs.so",
-                "-Xclang",
-                "-add-plugin",
-                "-Xclang",
-                "find-bad-constructs",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-auto-raw-pointer",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-ipc",
-                "-Wheader-hygiene",
-                "-Wstring-conversion",
-                "-Wtautological-overlap-compare",
                 "-Wextra",
                 "-Wno-unused-parameter",
                 "-Wno-missing-field-initializers",
-                "-Wno-strict-overflow",
-                "-Wc++11-narrowing",
-                "-Wimplicit-fallthrough",
-                "-Wthread-safety",
-                "-Winconsistent-missing-override",
-                "-Wundef",
-                "-Wunused-lambda-capture"
+                "-Wno-strict-overflow"
             ],
             "defines": [
                 "V8_DEPRECATION_WARNINGS",
                 "USE_NSS_CERTS=1",
-                "USE_X11=1",
                 "CHROMIUM_BUILD",
                 "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
                 "NDEBUG",
                 "NVALGRIND",
                 "DYNAMIC_ANNOTATIONS_ENABLED=0",
@@ -4318,8 +3046,6 @@
                 "-funwind-tables",
                 "-fPIC",
                 "-pipe",
-                "-fcolor-diagnostics",
-                "--target=arm-linux-gnueabihf",
                 "-march=armv7-a",
                 "-mfloat-abi=hard",
                 "-mtune=generic-armv7-a",
@@ -4328,18 +3054,11 @@
                 "-mthumb",
                 "-Wall",
                 "-Werror",
-                "-Wextra",
+                "-Wno-psabi",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
                 "-Wno-missing-field-initializers",
                 "-Wno-unused-parameter",
-                "-Wno-c++11-narrowing",
-                "-Wno-covered-switch-default",
-                "-Wno-unneeded-internal-declaration",
-                "-Wno-inconsistent-missing-override",
-                "-Wno-undefined-var-template",
-                "-Wno-nonportable-include-path",
-                "-Wno-address-of-packed-member",
-                "-Wno-unused-lambda-capture",
-                "-Wno-user-defined-warnings",
                 "-O2",
                 "-fno-ident",
                 "-fdata-sections",
@@ -4347,42 +3066,17 @@
                 "-fomit-frame-pointer",
                 "-g0",
                 "-fvisibility=hidden",
-                "-Xclang",
-                "-load",
-                "-Xclang",
-                "../../../../../../media/webrtc/trunk/webrtc/third_party/llvm-build/Release+Asserts/lib/libFindBadConstructs.so",
-                "-Xclang",
-                "-add-plugin",
-                "-Xclang",
-                "find-bad-constructs",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-auto-raw-pointer",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-ipc",
-                "-Wheader-hygiene",
-                "-Wstring-conversion",
-                "-Wtautological-overlap-compare",
                 "-Wextra",
                 "-Wno-unused-parameter",
                 "-Wno-missing-field-initializers",
-                "-Wno-strict-overflow",
-                "-Wc++11-narrowing",
-                "-Wimplicit-fallthrough",
-                "-Wthread-safety",
-                "-Winconsistent-missing-override",
-                "-Wundef",
-                "-Wunused-lambda-capture"
+                "-Wno-strict-overflow"
             ],
             "defines": [
                 "V8_DEPRECATION_WARNINGS",
                 "USE_NSS_CERTS=1",
-                "USE_X11=1",
                 "CHROMIUM_BUILD",
                 "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
                 "NDEBUG",
                 "NVALGRIND",
                 "DYNAMIC_ANNOTATIONS_ENABLED=0",
@@ -4428,8 +3122,6 @@
                 "-funwind-tables",
                 "-fPIC",
                 "-pipe",
-                "-fcolor-diagnostics",
-                "--target=arm-linux-gnueabihf",
                 "-march=armv7-a",
                 "-mfloat-abi=hard",
                 "-mtune=generic-armv7-a",
@@ -4438,18 +3130,11 @@
                 "-mthumb",
                 "-Wall",
                 "-Werror",
-                "-Wextra",
+                "-Wno-psabi",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
                 "-Wno-missing-field-initializers",
                 "-Wno-unused-parameter",
-                "-Wno-c++11-narrowing",
-                "-Wno-covered-switch-default",
-                "-Wno-unneeded-internal-declaration",
-                "-Wno-inconsistent-missing-override",
-                "-Wno-undefined-var-template",
-                "-Wno-nonportable-include-path",
-                "-Wno-address-of-packed-member",
-                "-Wno-unused-lambda-capture",
-                "-Wno-user-defined-warnings",
                 "-O2",
                 "-fno-ident",
                 "-fdata-sections",
@@ -4457,42 +3142,17 @@
                 "-fomit-frame-pointer",
                 "-g0",
                 "-fvisibility=hidden",
-                "-Xclang",
-                "-load",
-                "-Xclang",
-                "../../../../../../media/webrtc/trunk/webrtc/third_party/llvm-build/Release+Asserts/lib/libFindBadConstructs.so",
-                "-Xclang",
-                "-add-plugin",
-                "-Xclang",
-                "find-bad-constructs",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-auto-raw-pointer",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-ipc",
-                "-Wheader-hygiene",
-                "-Wstring-conversion",
-                "-Wtautological-overlap-compare",
                 "-Wextra",
                 "-Wno-unused-parameter",
                 "-Wno-missing-field-initializers",
-                "-Wno-strict-overflow",
-                "-Wc++11-narrowing",
-                "-Wimplicit-fallthrough",
-                "-Wthread-safety",
-                "-Winconsistent-missing-override",
-                "-Wundef",
-                "-Wunused-lambda-capture"
+                "-Wno-strict-overflow"
             ],
             "defines": [
                 "V8_DEPRECATION_WARNINGS",
                 "USE_NSS_CERTS=1",
-                "USE_X11=1",
                 "CHROMIUM_BUILD",
                 "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
                 "NDEBUG",
                 "NVALGRIND",
                 "DYNAMIC_ANNOTATIONS_ENABLED=0",
@@ -4545,8 +3205,6 @@
                 "-funwind-tables",
                 "-fPIC",
                 "-pipe",
-                "-fcolor-diagnostics",
-                "--target=arm-linux-gnueabihf",
                 "-march=armv7-a",
                 "-mfloat-abi=hard",
                 "-mtune=generic-armv7-a",
@@ -4555,18 +3213,11 @@
                 "-mthumb",
                 "-Wall",
                 "-Werror",
-                "-Wextra",
+                "-Wno-psabi",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
                 "-Wno-missing-field-initializers",
                 "-Wno-unused-parameter",
-                "-Wno-c++11-narrowing",
-                "-Wno-covered-switch-default",
-                "-Wno-unneeded-internal-declaration",
-                "-Wno-inconsistent-missing-override",
-                "-Wno-undefined-var-template",
-                "-Wno-nonportable-include-path",
-                "-Wno-address-of-packed-member",
-                "-Wno-unused-lambda-capture",
-                "-Wno-user-defined-warnings",
                 "-O2",
                 "-fno-ident",
                 "-fdata-sections",
@@ -4574,26 +3225,17 @@
                 "-fomit-frame-pointer",
                 "-g0",
                 "-fvisibility=hidden",
-                "-Wheader-hygiene",
-                "-Wstring-conversion",
-                "-Wtautological-overlap-compare",
                 "-Wextra",
                 "-Wno-unused-parameter",
                 "-Wno-missing-field-initializers",
-                "-Wno-strict-overflow",
-                "-Wc++11-narrowing",
-                "-Wimplicit-fallthrough",
-                "-Wthread-safety",
-                "-Winconsistent-missing-override",
-                "-Wundef",
-                "-Wunused-lambda-capture"
+                "-Wno-strict-overflow"
             ],
             "defines": [
                 "V8_DEPRECATION_WARNINGS",
                 "USE_NSS_CERTS=1",
-                "USE_X11=1",
                 "CHROMIUM_BUILD",
                 "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
                 "NDEBUG",
                 "NVALGRIND",
                 "DYNAMIC_ANNOTATIONS_ENABLED=0",
@@ -4678,8 +3320,6 @@
                 "-funwind-tables",
                 "-fPIC",
                 "-pipe",
-                "-fcolor-diagnostics",
-                "--target=arm-linux-gnueabihf",
                 "-march=armv7-a",
                 "-mfloat-abi=hard",
                 "-mtune=generic-armv7-a",
@@ -4688,18 +3328,11 @@
                 "-mthumb",
                 "-Wall",
                 "-Werror",
-                "-Wextra",
+                "-Wno-psabi",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
                 "-Wno-missing-field-initializers",
                 "-Wno-unused-parameter",
-                "-Wno-c++11-narrowing",
-                "-Wno-covered-switch-default",
-                "-Wno-unneeded-internal-declaration",
-                "-Wno-inconsistent-missing-override",
-                "-Wno-undefined-var-template",
-                "-Wno-nonportable-include-path",
-                "-Wno-address-of-packed-member",
-                "-Wno-unused-lambda-capture",
-                "-Wno-user-defined-warnings",
                 "-O2",
                 "-fno-ident",
                 "-fdata-sections",
@@ -4707,42 +3340,17 @@
                 "-fomit-frame-pointer",
                 "-g0",
                 "-fvisibility=hidden",
-                "-Xclang",
-                "-load",
-                "-Xclang",
-                "../../../../../../media/webrtc/trunk/webrtc/third_party/llvm-build/Release+Asserts/lib/libFindBadConstructs.so",
-                "-Xclang",
-                "-add-plugin",
-                "-Xclang",
-                "find-bad-constructs",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-auto-raw-pointer",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-ipc",
-                "-Wheader-hygiene",
-                "-Wstring-conversion",
-                "-Wtautological-overlap-compare",
                 "-Wextra",
                 "-Wno-unused-parameter",
                 "-Wno-missing-field-initializers",
-                "-Wno-strict-overflow",
-                "-Wc++11-narrowing",
-                "-Wimplicit-fallthrough",
-                "-Wthread-safety",
-                "-Winconsistent-missing-override",
-                "-Wundef",
-                "-Wunused-lambda-capture"
+                "-Wno-strict-overflow"
             ],
             "defines": [
                 "V8_DEPRECATION_WARNINGS",
                 "USE_NSS_CERTS=1",
-                "USE_X11=1",
                 "CHROMIUM_BUILD",
                 "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
                 "NDEBUG",
                 "NVALGRIND",
                 "DYNAMIC_ANNOTATIONS_ENABLED=0",
@@ -4840,8 +3448,6 @@
                 "-funwind-tables",
                 "-fPIC",
                 "-pipe",
-                "-fcolor-diagnostics",
-                "--target=arm-linux-gnueabihf",
                 "-march=armv7-a",
                 "-mfloat-abi=hard",
                 "-mtune=generic-armv7-a",
@@ -4850,18 +3456,11 @@
                 "-mthumb",
                 "-Wall",
                 "-Werror",
-                "-Wextra",
+                "-Wno-psabi",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
                 "-Wno-missing-field-initializers",
                 "-Wno-unused-parameter",
-                "-Wno-c++11-narrowing",
-                "-Wno-covered-switch-default",
-                "-Wno-unneeded-internal-declaration",
-                "-Wno-inconsistent-missing-override",
-                "-Wno-undefined-var-template",
-                "-Wno-nonportable-include-path",
-                "-Wno-address-of-packed-member",
-                "-Wno-unused-lambda-capture",
-                "-Wno-user-defined-warnings",
                 "-O2",
                 "-fno-ident",
                 "-fdata-sections",
@@ -4869,42 +3468,17 @@
                 "-fomit-frame-pointer",
                 "-g0",
                 "-fvisibility=hidden",
-                "-Xclang",
-                "-load",
-                "-Xclang",
-                "../../../../../../media/webrtc/trunk/webrtc/third_party/llvm-build/Release+Asserts/lib/libFindBadConstructs.so",
-                "-Xclang",
-                "-add-plugin",
-                "-Xclang",
-                "find-bad-constructs",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-auto-raw-pointer",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-ipc",
-                "-Wheader-hygiene",
-                "-Wstring-conversion",
-                "-Wtautological-overlap-compare",
                 "-Wextra",
                 "-Wno-unused-parameter",
                 "-Wno-missing-field-initializers",
-                "-Wno-strict-overflow",
-                "-Wc++11-narrowing",
-                "-Wimplicit-fallthrough",
-                "-Wthread-safety",
-                "-Winconsistent-missing-override",
-                "-Wundef",
-                "-Wunused-lambda-capture"
+                "-Wno-strict-overflow"
             ],
             "defines": [
                 "V8_DEPRECATION_WARNINGS",
                 "USE_NSS_CERTS=1",
-                "USE_X11=1",
                 "CHROMIUM_BUILD",
                 "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
                 "NDEBUG",
                 "NVALGRIND",
                 "DYNAMIC_ANNOTATIONS_ENABLED=0",
@@ -4943,8 +3517,6 @@
                 "-funwind-tables",
                 "-fPIC",
                 "-pipe",
-                "-fcolor-diagnostics",
-                "--target=arm-linux-gnueabihf",
                 "-march=armv7-a",
                 "-mfloat-abi=hard",
                 "-mtune=generic-armv7-a",
@@ -4953,18 +3525,11 @@
                 "-mthumb",
                 "-Wall",
                 "-Werror",
-                "-Wextra",
+                "-Wno-psabi",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
                 "-Wno-missing-field-initializers",
                 "-Wno-unused-parameter",
-                "-Wno-c++11-narrowing",
-                "-Wno-covered-switch-default",
-                "-Wno-unneeded-internal-declaration",
-                "-Wno-inconsistent-missing-override",
-                "-Wno-undefined-var-template",
-                "-Wno-nonportable-include-path",
-                "-Wno-address-of-packed-member",
-                "-Wno-unused-lambda-capture",
-                "-Wno-user-defined-warnings",
                 "-O2",
                 "-fno-ident",
                 "-fdata-sections",
@@ -4972,42 +3537,17 @@
                 "-fomit-frame-pointer",
                 "-g0",
                 "-fvisibility=hidden",
-                "-Xclang",
-                "-load",
-                "-Xclang",
-                "../../../../../../media/webrtc/trunk/webrtc/third_party/llvm-build/Release+Asserts/lib/libFindBadConstructs.so",
-                "-Xclang",
-                "-add-plugin",
-                "-Xclang",
-                "find-bad-constructs",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-auto-raw-pointer",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-ipc",
-                "-Wheader-hygiene",
-                "-Wstring-conversion",
-                "-Wtautological-overlap-compare",
                 "-Wextra",
                 "-Wno-unused-parameter",
                 "-Wno-missing-field-initializers",
-                "-Wno-strict-overflow",
-                "-Wc++11-narrowing",
-                "-Wimplicit-fallthrough",
-                "-Wthread-safety",
-                "-Winconsistent-missing-override",
-                "-Wundef",
-                "-Wunused-lambda-capture"
+                "-Wno-strict-overflow"
             ],
             "defines": [
                 "V8_DEPRECATION_WARNINGS",
                 "USE_NSS_CERTS=1",
-                "USE_X11=1",
                 "CHROMIUM_BUILD",
                 "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
                 "NDEBUG",
                 "NVALGRIND",
                 "DYNAMIC_ANNOTATIONS_ENABLED=0",
@@ -5055,8 +3595,6 @@
                 "-funwind-tables",
                 "-fPIC",
                 "-pipe",
-                "-fcolor-diagnostics",
-                "--target=arm-linux-gnueabihf",
                 "-march=armv7-a",
                 "-mfloat-abi=hard",
                 "-mtune=generic-armv7-a",
@@ -5064,18 +3602,11 @@
                 "-mthumb",
                 "-Wall",
                 "-Werror",
-                "-Wextra",
+                "-Wno-psabi",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
                 "-Wno-missing-field-initializers",
                 "-Wno-unused-parameter",
-                "-Wno-c++11-narrowing",
-                "-Wno-covered-switch-default",
-                "-Wno-unneeded-internal-declaration",
-                "-Wno-inconsistent-missing-override",
-                "-Wno-undefined-var-template",
-                "-Wno-nonportable-include-path",
-                "-Wno-address-of-packed-member",
-                "-Wno-unused-lambda-capture",
-                "-Wno-user-defined-warnings",
                 "-O2",
                 "-fno-ident",
                 "-fdata-sections",
@@ -5083,26 +3614,17 @@
                 "-fomit-frame-pointer",
                 "-g0",
                 "-fvisibility=hidden",
-                "-Wheader-hygiene",
-                "-Wstring-conversion",
-                "-Wtautological-overlap-compare",
                 "-Wextra",
                 "-Wno-unused-parameter",
                 "-Wno-missing-field-initializers",
-                "-Wno-strict-overflow",
-                "-Wc++11-narrowing",
-                "-Wimplicit-fallthrough",
-                "-Wthread-safety",
-                "-Winconsistent-missing-override",
-                "-Wundef",
-                "-Wunused-lambda-capture"
+                "-Wno-strict-overflow"
             ],
             "defines": [
                 "V8_DEPRECATION_WARNINGS",
                 "USE_NSS_CERTS=1",
-                "USE_X11=1",
                 "CHROMIUM_BUILD",
                 "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
                 "NDEBUG",
                 "NVALGRIND",
                 "DYNAMIC_ANNOTATIONS_ENABLED=0",
@@ -5150,8 +3672,6 @@
                 "-funwind-tables",
                 "-fPIC",
                 "-pipe",
-                "-fcolor-diagnostics",
-                "--target=arm-linux-gnueabihf",
                 "-march=armv7-a",
                 "-mfloat-abi=hard",
                 "-mtune=generic-armv7-a",
@@ -5159,18 +3679,11 @@
                 "-mthumb",
                 "-Wall",
                 "-Werror",
-                "-Wextra",
+                "-Wno-psabi",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
                 "-Wno-missing-field-initializers",
                 "-Wno-unused-parameter",
-                "-Wno-c++11-narrowing",
-                "-Wno-covered-switch-default",
-                "-Wno-unneeded-internal-declaration",
-                "-Wno-inconsistent-missing-override",
-                "-Wno-undefined-var-template",
-                "-Wno-nonportable-include-path",
-                "-Wno-address-of-packed-member",
-                "-Wno-unused-lambda-capture",
-                "-Wno-user-defined-warnings",
                 "-O2",
                 "-fno-ident",
                 "-fdata-sections",
@@ -5178,26 +3691,17 @@
                 "-fomit-frame-pointer",
                 "-g0",
                 "-fvisibility=hidden",
-                "-Wheader-hygiene",
-                "-Wstring-conversion",
-                "-Wtautological-overlap-compare",
                 "-Wextra",
                 "-Wno-unused-parameter",
                 "-Wno-missing-field-initializers",
-                "-Wno-strict-overflow",
-                "-Wc++11-narrowing",
-                "-Wimplicit-fallthrough",
-                "-Wthread-safety",
-                "-Winconsistent-missing-override",
-                "-Wundef",
-                "-Wunused-lambda-capture"
+                "-Wno-strict-overflow"
             ],
             "defines": [
                 "V8_DEPRECATION_WARNINGS",
                 "USE_NSS_CERTS=1",
-                "USE_X11=1",
                 "CHROMIUM_BUILD",
                 "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
                 "NDEBUG",
                 "NVALGRIND",
                 "DYNAMIC_ANNOTATIONS_ENABLED=0",
@@ -5244,8 +3748,6 @@
                 "-funwind-tables",
                 "-fPIC",
                 "-pipe",
-                "-fcolor-diagnostics",
-                "--target=arm-linux-gnueabihf",
                 "-march=armv7-a",
                 "-mfloat-abi=hard",
                 "-mtune=generic-armv7-a",
@@ -5254,18 +3756,11 @@
                 "-mthumb",
                 "-Wall",
                 "-Werror",
-                "-Wextra",
+                "-Wno-psabi",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
                 "-Wno-missing-field-initializers",
                 "-Wno-unused-parameter",
-                "-Wno-c++11-narrowing",
-                "-Wno-covered-switch-default",
-                "-Wno-unneeded-internal-declaration",
-                "-Wno-inconsistent-missing-override",
-                "-Wno-undefined-var-template",
-                "-Wno-nonportable-include-path",
-                "-Wno-address-of-packed-member",
-                "-Wno-unused-lambda-capture",
-                "-Wno-user-defined-warnings",
                 "-O2",
                 "-fno-ident",
                 "-fdata-sections",
@@ -5273,42 +3768,17 @@
                 "-fomit-frame-pointer",
                 "-g0",
                 "-fvisibility=hidden",
-                "-Xclang",
-                "-load",
-                "-Xclang",
-                "../../../../../../media/webrtc/trunk/webrtc/third_party/llvm-build/Release+Asserts/lib/libFindBadConstructs.so",
-                "-Xclang",
-                "-add-plugin",
-                "-Xclang",
-                "find-bad-constructs",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-auto-raw-pointer",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-ipc",
-                "-Wheader-hygiene",
-                "-Wstring-conversion",
-                "-Wtautological-overlap-compare",
                 "-Wextra",
                 "-Wno-unused-parameter",
                 "-Wno-missing-field-initializers",
-                "-Wno-strict-overflow",
-                "-Wc++11-narrowing",
-                "-Wimplicit-fallthrough",
-                "-Wthread-safety",
-                "-Winconsistent-missing-override",
-                "-Wundef",
-                "-Wunused-lambda-capture"
+                "-Wno-strict-overflow"
             ],
             "defines": [
                 "V8_DEPRECATION_WARNINGS",
                 "USE_NSS_CERTS=1",
-                "USE_X11=1",
                 "CHROMIUM_BUILD",
                 "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
                 "NDEBUG",
                 "NVALGRIND",
                 "DYNAMIC_ANNOTATIONS_ENABLED=0",
@@ -5345,8 +3815,6 @@
                 "-funwind-tables",
                 "-fPIC",
                 "-pipe",
-                "-fcolor-diagnostics",
-                "--target=arm-linux-gnueabihf",
                 "-march=armv7-a",
                 "-mfloat-abi=hard",
                 "-mtune=generic-armv7-a",
@@ -5355,18 +3823,11 @@
                 "-mthumb",
                 "-Wall",
                 "-Werror",
-                "-Wextra",
+                "-Wno-psabi",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
                 "-Wno-missing-field-initializers",
                 "-Wno-unused-parameter",
-                "-Wno-c++11-narrowing",
-                "-Wno-covered-switch-default",
-                "-Wno-unneeded-internal-declaration",
-                "-Wno-inconsistent-missing-override",
-                "-Wno-undefined-var-template",
-                "-Wno-nonportable-include-path",
-                "-Wno-address-of-packed-member",
-                "-Wno-unused-lambda-capture",
-                "-Wno-user-defined-warnings",
                 "-O2",
                 "-fno-ident",
                 "-fdata-sections",
@@ -5374,42 +3835,17 @@
                 "-fomit-frame-pointer",
                 "-g0",
                 "-fvisibility=hidden",
-                "-Xclang",
-                "-load",
-                "-Xclang",
-                "../../../../../../media/webrtc/trunk/webrtc/third_party/llvm-build/Release+Asserts/lib/libFindBadConstructs.so",
-                "-Xclang",
-                "-add-plugin",
-                "-Xclang",
-                "find-bad-constructs",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-auto-raw-pointer",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-ipc",
-                "-Wheader-hygiene",
-                "-Wstring-conversion",
-                "-Wtautological-overlap-compare",
                 "-Wextra",
                 "-Wno-unused-parameter",
                 "-Wno-missing-field-initializers",
-                "-Wno-strict-overflow",
-                "-Wc++11-narrowing",
-                "-Wimplicit-fallthrough",
-                "-Wthread-safety",
-                "-Winconsistent-missing-override",
-                "-Wundef",
-                "-Wunused-lambda-capture"
+                "-Wno-strict-overflow"
             ],
             "defines": [
                 "V8_DEPRECATION_WARNINGS",
                 "USE_NSS_CERTS=1",
-                "USE_X11=1",
                 "CHROMIUM_BUILD",
                 "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
                 "NDEBUG",
                 "NVALGRIND",
                 "DYNAMIC_ANNOTATIONS_ENABLED=0",
@@ -5456,8 +3892,6 @@
                 "-funwind-tables",
                 "-fPIC",
                 "-pipe",
-                "-fcolor-diagnostics",
-                "--target=arm-linux-gnueabihf",
                 "-march=armv7-a",
                 "-mfloat-abi=hard",
                 "-mtune=generic-armv7-a",
@@ -5466,18 +3900,11 @@
                 "-mthumb",
                 "-Wall",
                 "-Werror",
-                "-Wextra",
+                "-Wno-psabi",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
                 "-Wno-missing-field-initializers",
                 "-Wno-unused-parameter",
-                "-Wno-c++11-narrowing",
-                "-Wno-covered-switch-default",
-                "-Wno-unneeded-internal-declaration",
-                "-Wno-inconsistent-missing-override",
-                "-Wno-undefined-var-template",
-                "-Wno-nonportable-include-path",
-                "-Wno-address-of-packed-member",
-                "-Wno-unused-lambda-capture",
-                "-Wno-user-defined-warnings",
                 "-O2",
                 "-fno-ident",
                 "-fdata-sections",
@@ -5485,42 +3912,17 @@
                 "-fomit-frame-pointer",
                 "-g0",
                 "-fvisibility=hidden",
-                "-Xclang",
-                "-load",
-                "-Xclang",
-                "../../../../../../media/webrtc/trunk/webrtc/third_party/llvm-build/Release+Asserts/lib/libFindBadConstructs.so",
-                "-Xclang",
-                "-add-plugin",
-                "-Xclang",
-                "find-bad-constructs",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-auto-raw-pointer",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-ipc",
-                "-Wheader-hygiene",
-                "-Wstring-conversion",
-                "-Wtautological-overlap-compare",
                 "-Wextra",
                 "-Wno-unused-parameter",
                 "-Wno-missing-field-initializers",
-                "-Wno-strict-overflow",
-                "-Wc++11-narrowing",
-                "-Wimplicit-fallthrough",
-                "-Wthread-safety",
-                "-Winconsistent-missing-override",
-                "-Wundef",
-                "-Wunused-lambda-capture"
+                "-Wno-strict-overflow"
             ],
             "defines": [
                 "V8_DEPRECATION_WARNINGS",
                 "USE_NSS_CERTS=1",
-                "USE_X11=1",
                 "CHROMIUM_BUILD",
                 "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
                 "NDEBUG",
                 "NVALGRIND",
                 "DYNAMIC_ANNOTATIONS_ENABLED=0",
@@ -5564,8 +3966,6 @@
                 "-funwind-tables",
                 "-fPIC",
                 "-pipe",
-                "-fcolor-diagnostics",
-                "--target=arm-linux-gnueabihf",
                 "-march=armv7-a",
                 "-mfloat-abi=hard",
                 "-mtune=generic-armv7-a",
@@ -5574,18 +3974,11 @@
                 "-mthumb",
                 "-Wall",
                 "-Werror",
-                "-Wextra",
+                "-Wno-psabi",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
                 "-Wno-missing-field-initializers",
                 "-Wno-unused-parameter",
-                "-Wno-c++11-narrowing",
-                "-Wno-covered-switch-default",
-                "-Wno-unneeded-internal-declaration",
-                "-Wno-inconsistent-missing-override",
-                "-Wno-undefined-var-template",
-                "-Wno-nonportable-include-path",
-                "-Wno-address-of-packed-member",
-                "-Wno-unused-lambda-capture",
-                "-Wno-user-defined-warnings",
                 "-O2",
                 "-fno-ident",
                 "-fdata-sections",
@@ -5593,26 +3986,17 @@
                 "-fomit-frame-pointer",
                 "-g0",
                 "-fvisibility=hidden",
-                "-Wheader-hygiene",
-                "-Wstring-conversion",
-                "-Wtautological-overlap-compare",
                 "-Wextra",
                 "-Wno-unused-parameter",
                 "-Wno-missing-field-initializers",
-                "-Wno-strict-overflow",
-                "-Wc++11-narrowing",
-                "-Wimplicit-fallthrough",
-                "-Wthread-safety",
-                "-Winconsistent-missing-override",
-                "-Wundef",
-                "-Wunused-lambda-capture"
+                "-Wno-strict-overflow"
             ],
             "defines": [
                 "V8_DEPRECATION_WARNINGS",
                 "USE_NSS_CERTS=1",
-                "USE_X11=1",
                 "CHROMIUM_BUILD",
                 "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
                 "NDEBUG",
                 "NVALGRIND",
                 "DYNAMIC_ANNOTATIONS_ENABLED=0",
@@ -5691,8 +4075,6 @@
                 "-funwind-tables",
                 "-fPIC",
                 "-pipe",
-                "-fcolor-diagnostics",
-                "--target=arm-linux-gnueabihf",
                 "-march=armv7-a",
                 "-mfloat-abi=hard",
                 "-mtune=generic-armv7-a",
@@ -5701,18 +4083,11 @@
                 "-mthumb",
                 "-Wall",
                 "-Werror",
-                "-Wextra",
+                "-Wno-psabi",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
                 "-Wno-missing-field-initializers",
                 "-Wno-unused-parameter",
-                "-Wno-c++11-narrowing",
-                "-Wno-covered-switch-default",
-                "-Wno-unneeded-internal-declaration",
-                "-Wno-inconsistent-missing-override",
-                "-Wno-undefined-var-template",
-                "-Wno-nonportable-include-path",
-                "-Wno-address-of-packed-member",
-                "-Wno-unused-lambda-capture",
-                "-Wno-user-defined-warnings",
                 "-O2",
                 "-fno-ident",
                 "-fdata-sections",
@@ -5720,26 +4095,17 @@
                 "-fomit-frame-pointer",
                 "-g0",
                 "-fvisibility=hidden",
-                "-Wheader-hygiene",
-                "-Wstring-conversion",
-                "-Wtautological-overlap-compare",
                 "-Wextra",
                 "-Wno-unused-parameter",
                 "-Wno-missing-field-initializers",
-                "-Wno-strict-overflow",
-                "-Wc++11-narrowing",
-                "-Wimplicit-fallthrough",
-                "-Wthread-safety",
-                "-Winconsistent-missing-override",
-                "-Wundef",
-                "-Wunused-lambda-capture"
+                "-Wno-strict-overflow"
             ],
             "defines": [
                 "V8_DEPRECATION_WARNINGS",
                 "USE_NSS_CERTS=1",
-                "USE_X11=1",
                 "CHROMIUM_BUILD",
                 "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
                 "NDEBUG",
                 "NVALGRIND",
                 "DYNAMIC_ANNOTATIONS_ENABLED=0",
@@ -5827,8 +4193,6 @@
                 "-funwind-tables",
                 "-fPIC",
                 "-pipe",
-                "-fcolor-diagnostics",
-                "--target=arm-linux-gnueabihf",
                 "-march=armv7-a",
                 "-mfloat-abi=hard",
                 "-mtune=generic-armv7-a",
@@ -5837,18 +4201,11 @@
                 "-mthumb",
                 "-Wall",
                 "-Werror",
-                "-Wextra",
+                "-Wno-psabi",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
                 "-Wno-missing-field-initializers",
                 "-Wno-unused-parameter",
-                "-Wno-c++11-narrowing",
-                "-Wno-covered-switch-default",
-                "-Wno-unneeded-internal-declaration",
-                "-Wno-inconsistent-missing-override",
-                "-Wno-undefined-var-template",
-                "-Wno-nonportable-include-path",
-                "-Wno-address-of-packed-member",
-                "-Wno-unused-lambda-capture",
-                "-Wno-user-defined-warnings",
                 "-O2",
                 "-fno-ident",
                 "-fdata-sections",
@@ -5856,26 +4213,17 @@
                 "-fomit-frame-pointer",
                 "-g0",
                 "-fvisibility=hidden",
-                "-Wheader-hygiene",
-                "-Wstring-conversion",
-                "-Wtautological-overlap-compare",
                 "-Wextra",
                 "-Wno-unused-parameter",
                 "-Wno-missing-field-initializers",
-                "-Wno-strict-overflow",
-                "-Wc++11-narrowing",
-                "-Wimplicit-fallthrough",
-                "-Wthread-safety",
-                "-Winconsistent-missing-override",
-                "-Wundef",
-                "-Wunused-lambda-capture"
+                "-Wno-strict-overflow"
             ],
             "defines": [
                 "V8_DEPRECATION_WARNINGS",
                 "USE_NSS_CERTS=1",
-                "USE_X11=1",
                 "CHROMIUM_BUILD",
                 "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
                 "NDEBUG",
                 "NVALGRIND",
                 "DYNAMIC_ANNOTATIONS_ENABLED=0",
@@ -5930,8 +4278,6 @@
                 "-funwind-tables",
                 "-fPIC",
                 "-pipe",
-                "-fcolor-diagnostics",
-                "--target=arm-linux-gnueabihf",
                 "-march=armv7-a",
                 "-mfloat-abi=hard",
                 "-mtune=generic-armv7-a",
@@ -5940,18 +4286,11 @@
                 "-mthumb",
                 "-Wall",
                 "-Werror",
-                "-Wextra",
+                "-Wno-psabi",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
                 "-Wno-missing-field-initializers",
                 "-Wno-unused-parameter",
-                "-Wno-c++11-narrowing",
-                "-Wno-covered-switch-default",
-                "-Wno-unneeded-internal-declaration",
-                "-Wno-inconsistent-missing-override",
-                "-Wno-undefined-var-template",
-                "-Wno-nonportable-include-path",
-                "-Wno-address-of-packed-member",
-                "-Wno-unused-lambda-capture",
-                "-Wno-user-defined-warnings",
                 "-O2",
                 "-fno-ident",
                 "-fdata-sections",
@@ -5959,19 +4298,10 @@
                 "-fomit-frame-pointer",
                 "-g0",
                 "-fvisibility=hidden",
-                "-Wheader-hygiene",
-                "-Wstring-conversion",
-                "-Wtautological-overlap-compare",
                 "-Wextra",
                 "-Wno-unused-parameter",
                 "-Wno-missing-field-initializers",
                 "-Wno-strict-overflow",
-                "-Wc++11-narrowing",
-                "-Wimplicit-fallthrough",
-                "-Wthread-safety",
-                "-Winconsistent-missing-override",
-                "-Wundef",
-                "-Wunused-lambda-capture",
                 "-Wno-deprecated-declarations"
             ],
             "defines": [
@@ -5979,9 +4309,9 @@
                 "WEBRTC_OPUS_SUPPORT_120MS_PTIME=1",
                 "V8_DEPRECATION_WARNINGS",
                 "USE_NSS_CERTS=1",
-                "USE_X11=1",
                 "CHROMIUM_BUILD",
                 "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
                 "NDEBUG",
                 "NVALGRIND",
                 "DYNAMIC_ANNOTATIONS_ENABLED=0",
@@ -6096,8 +4426,6 @@
                 "-funwind-tables",
                 "-fPIC",
                 "-pipe",
-                "-fcolor-diagnostics",
-                "--target=arm-linux-gnueabihf",
                 "-march=armv7-a",
                 "-mfloat-abi=hard",
                 "-mtune=generic-armv7-a",
@@ -6106,18 +4434,11 @@
                 "-mthumb",
                 "-Wall",
                 "-Werror",
-                "-Wextra",
+                "-Wno-psabi",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
                 "-Wno-missing-field-initializers",
                 "-Wno-unused-parameter",
-                "-Wno-c++11-narrowing",
-                "-Wno-covered-switch-default",
-                "-Wno-unneeded-internal-declaration",
-                "-Wno-inconsistent-missing-override",
-                "-Wno-undefined-var-template",
-                "-Wno-nonportable-include-path",
-                "-Wno-address-of-packed-member",
-                "-Wno-unused-lambda-capture",
-                "-Wno-user-defined-warnings",
                 "-O2",
                 "-fno-ident",
                 "-fdata-sections",
@@ -6125,26 +4446,17 @@
                 "-fomit-frame-pointer",
                 "-g0",
                 "-fvisibility=hidden",
-                "-Wheader-hygiene",
-                "-Wstring-conversion",
-                "-Wtautological-overlap-compare",
                 "-Wextra",
                 "-Wno-unused-parameter",
                 "-Wno-missing-field-initializers",
-                "-Wno-strict-overflow",
-                "-Wc++11-narrowing",
-                "-Wimplicit-fallthrough",
-                "-Wthread-safety",
-                "-Winconsistent-missing-override",
-                "-Wundef",
-                "-Wunused-lambda-capture"
+                "-Wno-strict-overflow"
             ],
             "defines": [
                 "V8_DEPRECATION_WARNINGS",
                 "USE_NSS_CERTS=1",
-                "USE_X11=1",
                 "CHROMIUM_BUILD",
                 "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
                 "NDEBUG",
                 "NVALGRIND",
                 "DYNAMIC_ANNOTATIONS_ENABLED=0",
@@ -6187,8 +4499,6 @@
                 "-funwind-tables",
                 "-fPIC",
                 "-pipe",
-                "-fcolor-diagnostics",
-                "--target=arm-linux-gnueabihf",
                 "-march=armv7-a",
                 "-mfloat-abi=hard",
                 "-mtune=generic-armv7-a",
@@ -6197,18 +4507,11 @@
                 "-mthumb",
                 "-Wall",
                 "-Werror",
-                "-Wextra",
+                "-Wno-psabi",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
                 "-Wno-missing-field-initializers",
                 "-Wno-unused-parameter",
-                "-Wno-c++11-narrowing",
-                "-Wno-covered-switch-default",
-                "-Wno-unneeded-internal-declaration",
-                "-Wno-inconsistent-missing-override",
-                "-Wno-undefined-var-template",
-                "-Wno-nonportable-include-path",
-                "-Wno-address-of-packed-member",
-                "-Wno-unused-lambda-capture",
-                "-Wno-user-defined-warnings",
                 "-O2",
                 "-fno-ident",
                 "-fdata-sections",
@@ -6216,42 +4519,17 @@
                 "-fomit-frame-pointer",
                 "-g0",
                 "-fvisibility=hidden",
-                "-Xclang",
-                "-load",
-                "-Xclang",
-                "../../../../../../media/webrtc/trunk/webrtc/third_party/llvm-build/Release+Asserts/lib/libFindBadConstructs.so",
-                "-Xclang",
-                "-add-plugin",
-                "-Xclang",
-                "find-bad-constructs",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-auto-raw-pointer",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-ipc",
-                "-Wheader-hygiene",
-                "-Wstring-conversion",
-                "-Wtautological-overlap-compare",
                 "-Wextra",
                 "-Wno-unused-parameter",
                 "-Wno-missing-field-initializers",
-                "-Wno-strict-overflow",
-                "-Wc++11-narrowing",
-                "-Wimplicit-fallthrough",
-                "-Wthread-safety",
-                "-Winconsistent-missing-override",
-                "-Wundef",
-                "-Wunused-lambda-capture"
+                "-Wno-strict-overflow"
             ],
             "defines": [
                 "V8_DEPRECATION_WARNINGS",
                 "USE_NSS_CERTS=1",
-                "USE_X11=1",
                 "CHROMIUM_BUILD",
                 "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
                 "NDEBUG",
                 "NVALGRIND",
                 "DYNAMIC_ANNOTATIONS_ENABLED=0",
@@ -6293,8 +4571,6 @@
                 "-funwind-tables",
                 "-fPIC",
                 "-pipe",
-                "-fcolor-diagnostics",
-                "--target=arm-linux-gnueabihf",
                 "-march=armv7-a",
                 "-mfloat-abi=hard",
                 "-mtune=generic-armv7-a",
@@ -6303,18 +4579,11 @@
                 "-mthumb",
                 "-Wall",
                 "-Werror",
-                "-Wextra",
+                "-Wno-psabi",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
                 "-Wno-missing-field-initializers",
                 "-Wno-unused-parameter",
-                "-Wno-c++11-narrowing",
-                "-Wno-covered-switch-default",
-                "-Wno-unneeded-internal-declaration",
-                "-Wno-inconsistent-missing-override",
-                "-Wno-undefined-var-template",
-                "-Wno-nonportable-include-path",
-                "-Wno-address-of-packed-member",
-                "-Wno-unused-lambda-capture",
-                "-Wno-user-defined-warnings",
                 "-O2",
                 "-fno-ident",
                 "-fdata-sections",
@@ -6322,26 +4591,17 @@
                 "-fomit-frame-pointer",
                 "-g0",
                 "-fvisibility=hidden",
-                "-Wheader-hygiene",
-                "-Wstring-conversion",
-                "-Wtautological-overlap-compare",
                 "-Wextra",
                 "-Wno-unused-parameter",
                 "-Wno-missing-field-initializers",
-                "-Wno-strict-overflow",
-                "-Wc++11-narrowing",
-                "-Wimplicit-fallthrough",
-                "-Wthread-safety",
-                "-Winconsistent-missing-override",
-                "-Wundef",
-                "-Wunused-lambda-capture"
+                "-Wno-strict-overflow"
             ],
             "defines": [
                 "V8_DEPRECATION_WARNINGS",
                 "USE_NSS_CERTS=1",
-                "USE_X11=1",
                 "CHROMIUM_BUILD",
                 "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
                 "NDEBUG",
                 "NVALGRIND",
                 "DYNAMIC_ANNOTATIONS_ENABLED=0",
@@ -6420,8 +4680,6 @@
                 "-funwind-tables",
                 "-fPIC",
                 "-pipe",
-                "-fcolor-diagnostics",
-                "--target=arm-linux-gnueabihf",
                 "-march=armv7-a",
                 "-mfloat-abi=hard",
                 "-mtune=generic-armv7-a",
@@ -6430,18 +4688,11 @@
                 "-mthumb",
                 "-Wall",
                 "-Werror",
-                "-Wextra",
+                "-Wno-psabi",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
                 "-Wno-missing-field-initializers",
                 "-Wno-unused-parameter",
-                "-Wno-c++11-narrowing",
-                "-Wno-covered-switch-default",
-                "-Wno-unneeded-internal-declaration",
-                "-Wno-inconsistent-missing-override",
-                "-Wno-undefined-var-template",
-                "-Wno-nonportable-include-path",
-                "-Wno-address-of-packed-member",
-                "-Wno-unused-lambda-capture",
-                "-Wno-user-defined-warnings",
                 "-O2",
                 "-fno-ident",
                 "-fdata-sections",
@@ -6449,35 +4700,10 @@
                 "-fomit-frame-pointer",
                 "-g0",
                 "-fvisibility=hidden",
-                "-Xclang",
-                "-load",
-                "-Xclang",
-                "../../../../../../media/webrtc/trunk/webrtc/third_party/llvm-build/Release+Asserts/lib/libFindBadConstructs.so",
-                "-Xclang",
-                "-add-plugin",
-                "-Xclang",
-                "find-bad-constructs",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-auto-raw-pointer",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-ipc",
-                "-Wheader-hygiene",
-                "-Wstring-conversion",
-                "-Wtautological-overlap-compare",
                 "-Wextra",
                 "-Wno-unused-parameter",
                 "-Wno-missing-field-initializers",
-                "-Wno-strict-overflow",
-                "-Wc++11-narrowing",
-                "-Wimplicit-fallthrough",
-                "-Wthread-safety",
-                "-Winconsistent-missing-override",
-                "-Wundef",
-                "-Wunused-lambda-capture"
+                "-Wno-strict-overflow"
             ],
             "defines": [
                 "WEBRTC_CODEC_ILBC",
@@ -6486,9 +4712,9 @@
                 "WEBRTC_CODEC_ISACFX",
                 "V8_DEPRECATION_WARNINGS",
                 "USE_NSS_CERTS=1",
-                "USE_X11=1",
                 "CHROMIUM_BUILD",
                 "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
                 "NDEBUG",
                 "NVALGRIND",
                 "DYNAMIC_ANNOTATIONS_ENABLED=0",
@@ -6568,8 +4794,6 @@
                 "-funwind-tables",
                 "-fPIC",
                 "-pipe",
-                "-fcolor-diagnostics",
-                "--target=arm-linux-gnueabihf",
                 "-march=armv7-a",
                 "-mfloat-abi=hard",
                 "-mtune=generic-armv7-a",
@@ -6578,18 +4802,11 @@
                 "-mthumb",
                 "-Wall",
                 "-Werror",
-                "-Wextra",
+                "-Wno-psabi",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
                 "-Wno-missing-field-initializers",
                 "-Wno-unused-parameter",
-                "-Wno-c++11-narrowing",
-                "-Wno-covered-switch-default",
-                "-Wno-unneeded-internal-declaration",
-                "-Wno-inconsistent-missing-override",
-                "-Wno-undefined-var-template",
-                "-Wno-nonportable-include-path",
-                "-Wno-address-of-packed-member",
-                "-Wno-unused-lambda-capture",
-                "-Wno-user-defined-warnings",
                 "-O2",
                 "-fno-ident",
                 "-fdata-sections",
@@ -6597,42 +4814,17 @@
                 "-fomit-frame-pointer",
                 "-g0",
                 "-fvisibility=hidden",
-                "-Xclang",
-                "-load",
-                "-Xclang",
-                "../../../../../../media/webrtc/trunk/webrtc/third_party/llvm-build/Release+Asserts/lib/libFindBadConstructs.so",
-                "-Xclang",
-                "-add-plugin",
-                "-Xclang",
-                "find-bad-constructs",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-auto-raw-pointer",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-ipc",
-                "-Wheader-hygiene",
-                "-Wstring-conversion",
-                "-Wtautological-overlap-compare",
                 "-Wextra",
                 "-Wno-unused-parameter",
                 "-Wno-missing-field-initializers",
-                "-Wno-strict-overflow",
-                "-Wc++11-narrowing",
-                "-Wimplicit-fallthrough",
-                "-Wthread-safety",
-                "-Winconsistent-missing-override",
-                "-Wundef",
-                "-Wunused-lambda-capture"
+                "-Wno-strict-overflow"
             ],
             "defines": [
                 "V8_DEPRECATION_WARNINGS",
                 "USE_NSS_CERTS=1",
-                "USE_X11=1",
                 "CHROMIUM_BUILD",
                 "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
                 "NDEBUG",
                 "NVALGRIND",
                 "DYNAMIC_ANNOTATIONS_ENABLED=0",
@@ -6674,8 +4866,6 @@
                 "-funwind-tables",
                 "-fPIC",
                 "-pipe",
-                "-fcolor-diagnostics",
-                "--target=arm-linux-gnueabihf",
                 "-march=armv7-a",
                 "-mfloat-abi=hard",
                 "-mtune=generic-armv7-a",
@@ -6684,18 +4874,11 @@
                 "-mthumb",
                 "-Wall",
                 "-Werror",
-                "-Wextra",
+                "-Wno-psabi",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
                 "-Wno-missing-field-initializers",
                 "-Wno-unused-parameter",
-                "-Wno-c++11-narrowing",
-                "-Wno-covered-switch-default",
-                "-Wno-unneeded-internal-declaration",
-                "-Wno-inconsistent-missing-override",
-                "-Wno-undefined-var-template",
-                "-Wno-nonportable-include-path",
-                "-Wno-address-of-packed-member",
-                "-Wno-unused-lambda-capture",
-                "-Wno-user-defined-warnings",
                 "-O2",
                 "-fno-ident",
                 "-fdata-sections",
@@ -6703,42 +4886,17 @@
                 "-fomit-frame-pointer",
                 "-g0",
                 "-fvisibility=hidden",
-                "-Xclang",
-                "-load",
-                "-Xclang",
-                "../../../../../../media/webrtc/trunk/webrtc/third_party/llvm-build/Release+Asserts/lib/libFindBadConstructs.so",
-                "-Xclang",
-                "-add-plugin",
-                "-Xclang",
-                "find-bad-constructs",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-auto-raw-pointer",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-ipc",
-                "-Wheader-hygiene",
-                "-Wstring-conversion",
-                "-Wtautological-overlap-compare",
                 "-Wextra",
                 "-Wno-unused-parameter",
                 "-Wno-missing-field-initializers",
-                "-Wno-strict-overflow",
-                "-Wc++11-narrowing",
-                "-Wimplicit-fallthrough",
-                "-Wthread-safety",
-                "-Winconsistent-missing-override",
-                "-Wundef",
-                "-Wunused-lambda-capture"
+                "-Wno-strict-overflow"
             ],
             "defines": [
                 "V8_DEPRECATION_WARNINGS",
                 "USE_NSS_CERTS=1",
-                "USE_X11=1",
                 "CHROMIUM_BUILD",
                 "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
                 "NDEBUG",
                 "NVALGRIND",
                 "DYNAMIC_ANNOTATIONS_ENABLED=0",
@@ -6782,8 +4940,6 @@
                 "-funwind-tables",
                 "-fPIC",
                 "-pipe",
-                "-fcolor-diagnostics",
-                "--target=arm-linux-gnueabihf",
                 "-march=armv7-a",
                 "-mfloat-abi=hard",
                 "-mtune=generic-armv7-a",
@@ -6792,18 +4948,11 @@
                 "-mthumb",
                 "-Wall",
                 "-Werror",
-                "-Wextra",
+                "-Wno-psabi",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
                 "-Wno-missing-field-initializers",
                 "-Wno-unused-parameter",
-                "-Wno-c++11-narrowing",
-                "-Wno-covered-switch-default",
-                "-Wno-unneeded-internal-declaration",
-                "-Wno-inconsistent-missing-override",
-                "-Wno-undefined-var-template",
-                "-Wno-nonportable-include-path",
-                "-Wno-address-of-packed-member",
-                "-Wno-unused-lambda-capture",
-                "-Wno-user-defined-warnings",
                 "-O2",
                 "-fno-ident",
                 "-fdata-sections",
@@ -6811,26 +4960,17 @@
                 "-fomit-frame-pointer",
                 "-g0",
                 "-fvisibility=hidden",
-                "-Wheader-hygiene",
-                "-Wstring-conversion",
-                "-Wtautological-overlap-compare",
                 "-Wextra",
                 "-Wno-unused-parameter",
                 "-Wno-missing-field-initializers",
-                "-Wno-strict-overflow",
-                "-Wc++11-narrowing",
-                "-Wimplicit-fallthrough",
-                "-Wthread-safety",
-                "-Winconsistent-missing-override",
-                "-Wundef",
-                "-Wunused-lambda-capture"
+                "-Wno-strict-overflow"
             ],
             "defines": [
                 "V8_DEPRECATION_WARNINGS",
                 "USE_NSS_CERTS=1",
-                "USE_X11=1",
                 "CHROMIUM_BUILD",
                 "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
                 "NDEBUG",
                 "NVALGRIND",
                 "DYNAMIC_ANNOTATIONS_ENABLED=0",
@@ -6905,8 +5045,6 @@
                 "-funwind-tables",
                 "-fPIC",
                 "-pipe",
-                "-fcolor-diagnostics",
-                "--target=arm-linux-gnueabihf",
                 "-march=armv7-a",
                 "-mfloat-abi=hard",
                 "-mtune=generic-armv7-a",
@@ -6915,18 +5053,11 @@
                 "-mthumb",
                 "-Wall",
                 "-Werror",
-                "-Wextra",
+                "-Wno-psabi",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
                 "-Wno-missing-field-initializers",
                 "-Wno-unused-parameter",
-                "-Wno-c++11-narrowing",
-                "-Wno-covered-switch-default",
-                "-Wno-unneeded-internal-declaration",
-                "-Wno-inconsistent-missing-override",
-                "-Wno-undefined-var-template",
-                "-Wno-nonportable-include-path",
-                "-Wno-address-of-packed-member",
-                "-Wno-unused-lambda-capture",
-                "-Wno-user-defined-warnings",
                 "-O2",
                 "-fno-ident",
                 "-fdata-sections",
@@ -6934,42 +5065,17 @@
                 "-fomit-frame-pointer",
                 "-g0",
                 "-fvisibility=hidden",
-                "-Xclang",
-                "-load",
-                "-Xclang",
-                "../../../../../../media/webrtc/trunk/webrtc/third_party/llvm-build/Release+Asserts/lib/libFindBadConstructs.so",
-                "-Xclang",
-                "-add-plugin",
-                "-Xclang",
-                "find-bad-constructs",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-auto-raw-pointer",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-ipc",
-                "-Wheader-hygiene",
-                "-Wstring-conversion",
-                "-Wtautological-overlap-compare",
                 "-Wextra",
                 "-Wno-unused-parameter",
                 "-Wno-missing-field-initializers",
-                "-Wno-strict-overflow",
-                "-Wc++11-narrowing",
-                "-Wimplicit-fallthrough",
-                "-Wthread-safety",
-                "-Winconsistent-missing-override",
-                "-Wundef",
-                "-Wunused-lambda-capture"
+                "-Wno-strict-overflow"
             ],
             "defines": [
                 "V8_DEPRECATION_WARNINGS",
                 "USE_NSS_CERTS=1",
-                "USE_X11=1",
                 "CHROMIUM_BUILD",
                 "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
                 "NDEBUG",
                 "NVALGRIND",
                 "DYNAMIC_ANNOTATIONS_ENABLED=0",
@@ -7009,8 +5115,6 @@
                 "-funwind-tables",
                 "-fPIC",
                 "-pipe",
-                "-fcolor-diagnostics",
-                "--target=arm-linux-gnueabihf",
                 "-march=armv7-a",
                 "-mfloat-abi=hard",
                 "-mtune=generic-armv7-a",
@@ -7019,18 +5123,11 @@
                 "-mthumb",
                 "-Wall",
                 "-Werror",
-                "-Wextra",
+                "-Wno-psabi",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
                 "-Wno-missing-field-initializers",
                 "-Wno-unused-parameter",
-                "-Wno-c++11-narrowing",
-                "-Wno-covered-switch-default",
-                "-Wno-unneeded-internal-declaration",
-                "-Wno-inconsistent-missing-override",
-                "-Wno-undefined-var-template",
-                "-Wno-nonportable-include-path",
-                "-Wno-address-of-packed-member",
-                "-Wno-unused-lambda-capture",
-                "-Wno-user-defined-warnings",
                 "-O2",
                 "-fno-ident",
                 "-fdata-sections",
@@ -7038,42 +5135,17 @@
                 "-fomit-frame-pointer",
                 "-g0",
                 "-fvisibility=hidden",
-                "-Xclang",
-                "-load",
-                "-Xclang",
-                "../../../../../../media/webrtc/trunk/webrtc/third_party/llvm-build/Release+Asserts/lib/libFindBadConstructs.so",
-                "-Xclang",
-                "-add-plugin",
-                "-Xclang",
-                "find-bad-constructs",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-auto-raw-pointer",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-ipc",
-                "-Wheader-hygiene",
-                "-Wstring-conversion",
-                "-Wtautological-overlap-compare",
                 "-Wextra",
                 "-Wno-unused-parameter",
                 "-Wno-missing-field-initializers",
-                "-Wno-strict-overflow",
-                "-Wc++11-narrowing",
-                "-Wimplicit-fallthrough",
-                "-Wthread-safety",
-                "-Winconsistent-missing-override",
-                "-Wundef",
-                "-Wunused-lambda-capture"
+                "-Wno-strict-overflow"
             ],
             "defines": [
                 "V8_DEPRECATION_WARNINGS",
                 "USE_NSS_CERTS=1",
-                "USE_X11=1",
                 "CHROMIUM_BUILD",
                 "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
                 "NDEBUG",
                 "NVALGRIND",
                 "DYNAMIC_ANNOTATIONS_ENABLED=0",
@@ -7125,8 +5197,6 @@
                 "-funwind-tables",
                 "-fPIC",
                 "-pipe",
-                "-fcolor-diagnostics",
-                "--target=arm-linux-gnueabihf",
                 "-march=armv7-a",
                 "-mfloat-abi=hard",
                 "-mtune=generic-armv7-a",
@@ -7135,18 +5205,11 @@
                 "-mthumb",
                 "-Wall",
                 "-Werror",
-                "-Wextra",
+                "-Wno-psabi",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
                 "-Wno-missing-field-initializers",
                 "-Wno-unused-parameter",
-                "-Wno-c++11-narrowing",
-                "-Wno-covered-switch-default",
-                "-Wno-unneeded-internal-declaration",
-                "-Wno-inconsistent-missing-override",
-                "-Wno-undefined-var-template",
-                "-Wno-nonportable-include-path",
-                "-Wno-address-of-packed-member",
-                "-Wno-unused-lambda-capture",
-                "-Wno-user-defined-warnings",
                 "-O2",
                 "-fno-ident",
                 "-fdata-sections",
@@ -7154,42 +5217,17 @@
                 "-fomit-frame-pointer",
                 "-g0",
                 "-fvisibility=hidden",
-                "-Xclang",
-                "-load",
-                "-Xclang",
-                "../../../../../../media/webrtc/trunk/webrtc/third_party/llvm-build/Release+Asserts/lib/libFindBadConstructs.so",
-                "-Xclang",
-                "-add-plugin",
-                "-Xclang",
-                "find-bad-constructs",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-auto-raw-pointer",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-ipc",
-                "-Wheader-hygiene",
-                "-Wstring-conversion",
-                "-Wtautological-overlap-compare",
                 "-Wextra",
                 "-Wno-unused-parameter",
                 "-Wno-missing-field-initializers",
-                "-Wno-strict-overflow",
-                "-Wc++11-narrowing",
-                "-Wimplicit-fallthrough",
-                "-Wthread-safety",
-                "-Winconsistent-missing-override",
-                "-Wundef",
-                "-Wunused-lambda-capture"
+                "-Wno-strict-overflow"
             ],
             "defines": [
                 "V8_DEPRECATION_WARNINGS",
                 "USE_NSS_CERTS=1",
-                "USE_X11=1",
                 "CHROMIUM_BUILD",
                 "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
                 "NDEBUG",
                 "NVALGRIND",
                 "DYNAMIC_ANNOTATIONS_ENABLED=0",
@@ -7236,8 +5274,6 @@
                 "-funwind-tables",
                 "-fPIC",
                 "-pipe",
-                "-fcolor-diagnostics",
-                "--target=arm-linux-gnueabihf",
                 "-march=armv7-a",
                 "-mfloat-abi=hard",
                 "-mtune=generic-armv7-a",
@@ -7246,18 +5282,11 @@
                 "-mthumb",
                 "-Wall",
                 "-Werror",
-                "-Wextra",
+                "-Wno-psabi",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
                 "-Wno-missing-field-initializers",
                 "-Wno-unused-parameter",
-                "-Wno-c++11-narrowing",
-                "-Wno-covered-switch-default",
-                "-Wno-unneeded-internal-declaration",
-                "-Wno-inconsistent-missing-override",
-                "-Wno-undefined-var-template",
-                "-Wno-nonportable-include-path",
-                "-Wno-address-of-packed-member",
-                "-Wno-unused-lambda-capture",
-                "-Wno-user-defined-warnings",
                 "-O2",
                 "-fno-ident",
                 "-fdata-sections",
@@ -7265,42 +5294,17 @@
                 "-fomit-frame-pointer",
                 "-g0",
                 "-fvisibility=hidden",
-                "-Xclang",
-                "-load",
-                "-Xclang",
-                "../../../../../../media/webrtc/trunk/webrtc/third_party/llvm-build/Release+Asserts/lib/libFindBadConstructs.so",
-                "-Xclang",
-                "-add-plugin",
-                "-Xclang",
-                "find-bad-constructs",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-auto-raw-pointer",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-ipc",
-                "-Wheader-hygiene",
-                "-Wstring-conversion",
-                "-Wtautological-overlap-compare",
                 "-Wextra",
                 "-Wno-unused-parameter",
                 "-Wno-missing-field-initializers",
-                "-Wno-strict-overflow",
-                "-Wc++11-narrowing",
-                "-Wimplicit-fallthrough",
-                "-Wthread-safety",
-                "-Winconsistent-missing-override",
-                "-Wundef",
-                "-Wunused-lambda-capture"
+                "-Wno-strict-overflow"
             ],
             "defines": [
                 "V8_DEPRECATION_WARNINGS",
                 "USE_NSS_CERTS=1",
-                "USE_X11=1",
                 "CHROMIUM_BUILD",
                 "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
                 "NDEBUG",
                 "NVALGRIND",
                 "DYNAMIC_ANNOTATIONS_ENABLED=0",
@@ -7342,8 +5346,6 @@
                 "-funwind-tables",
                 "-fPIC",
                 "-pipe",
-                "-fcolor-diagnostics",
-                "--target=arm-linux-gnueabihf",
                 "-march=armv7-a",
                 "-mfloat-abi=hard",
                 "-mtune=generic-armv7-a",
@@ -7352,18 +5354,11 @@
                 "-mthumb",
                 "-Wall",
                 "-Werror",
-                "-Wextra",
+                "-Wno-psabi",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
                 "-Wno-missing-field-initializers",
                 "-Wno-unused-parameter",
-                "-Wno-c++11-narrowing",
-                "-Wno-covered-switch-default",
-                "-Wno-unneeded-internal-declaration",
-                "-Wno-inconsistent-missing-override",
-                "-Wno-undefined-var-template",
-                "-Wno-nonportable-include-path",
-                "-Wno-address-of-packed-member",
-                "-Wno-unused-lambda-capture",
-                "-Wno-user-defined-warnings",
                 "-O2",
                 "-fno-ident",
                 "-fdata-sections",
@@ -7371,42 +5366,17 @@
                 "-fomit-frame-pointer",
                 "-g0",
                 "-fvisibility=hidden",
-                "-Xclang",
-                "-load",
-                "-Xclang",
-                "../../../../../../media/webrtc/trunk/webrtc/third_party/llvm-build/Release+Asserts/lib/libFindBadConstructs.so",
-                "-Xclang",
-                "-add-plugin",
-                "-Xclang",
-                "find-bad-constructs",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-auto-raw-pointer",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-ipc",
-                "-Wheader-hygiene",
-                "-Wstring-conversion",
-                "-Wtautological-overlap-compare",
                 "-Wextra",
                 "-Wno-unused-parameter",
                 "-Wno-missing-field-initializers",
-                "-Wno-strict-overflow",
-                "-Wc++11-narrowing",
-                "-Wimplicit-fallthrough",
-                "-Wthread-safety",
-                "-Winconsistent-missing-override",
-                "-Wundef",
-                "-Wunused-lambda-capture"
+                "-Wno-strict-overflow"
             ],
             "defines": [
                 "V8_DEPRECATION_WARNINGS",
                 "USE_NSS_CERTS=1",
-                "USE_X11=1",
                 "CHROMIUM_BUILD",
                 "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
                 "NDEBUG",
                 "NVALGRIND",
                 "DYNAMIC_ANNOTATIONS_ENABLED=0",
@@ -7454,8 +5424,6 @@
                 "-funwind-tables",
                 "-fPIC",
                 "-pipe",
-                "-fcolor-diagnostics",
-                "--target=arm-linux-gnueabihf",
                 "-march=armv7-a",
                 "-mfloat-abi=hard",
                 "-mtune=generic-armv7-a",
@@ -7464,18 +5432,11 @@
                 "-mthumb",
                 "-Wall",
                 "-Werror",
-                "-Wextra",
+                "-Wno-psabi",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
                 "-Wno-missing-field-initializers",
                 "-Wno-unused-parameter",
-                "-Wno-c++11-narrowing",
-                "-Wno-covered-switch-default",
-                "-Wno-unneeded-internal-declaration",
-                "-Wno-inconsistent-missing-override",
-                "-Wno-undefined-var-template",
-                "-Wno-nonportable-include-path",
-                "-Wno-address-of-packed-member",
-                "-Wno-unused-lambda-capture",
-                "-Wno-user-defined-warnings",
                 "-O2",
                 "-fno-ident",
                 "-fdata-sections",
@@ -7483,42 +5444,17 @@
                 "-fomit-frame-pointer",
                 "-g0",
                 "-fvisibility=hidden",
-                "-Xclang",
-                "-load",
-                "-Xclang",
-                "../../../../../../media/webrtc/trunk/webrtc/third_party/llvm-build/Release+Asserts/lib/libFindBadConstructs.so",
-                "-Xclang",
-                "-add-plugin",
-                "-Xclang",
-                "find-bad-constructs",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-auto-raw-pointer",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-ipc",
-                "-Wheader-hygiene",
-                "-Wstring-conversion",
-                "-Wtautological-overlap-compare",
                 "-Wextra",
                 "-Wno-unused-parameter",
                 "-Wno-missing-field-initializers",
-                "-Wno-strict-overflow",
-                "-Wc++11-narrowing",
-                "-Wimplicit-fallthrough",
-                "-Wthread-safety",
-                "-Winconsistent-missing-override",
-                "-Wundef",
-                "-Wunused-lambda-capture"
+                "-Wno-strict-overflow"
             ],
             "defines": [
                 "V8_DEPRECATION_WARNINGS",
                 "USE_NSS_CERTS=1",
-                "USE_X11=1",
                 "CHROMIUM_BUILD",
                 "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
                 "NDEBUG",
                 "NVALGRIND",
                 "DYNAMIC_ANNOTATIONS_ENABLED=0",
@@ -7561,8 +5497,6 @@
                 "-funwind-tables",
                 "-fPIC",
                 "-pipe",
-                "-fcolor-diagnostics",
-                "--target=arm-linux-gnueabihf",
                 "-march=armv7-a",
                 "-mfloat-abi=hard",
                 "-mtune=generic-armv7-a",
@@ -7571,18 +5505,11 @@
                 "-mthumb",
                 "-Wall",
                 "-Werror",
-                "-Wextra",
+                "-Wno-psabi",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
                 "-Wno-missing-field-initializers",
                 "-Wno-unused-parameter",
-                "-Wno-c++11-narrowing",
-                "-Wno-covered-switch-default",
-                "-Wno-unneeded-internal-declaration",
-                "-Wno-inconsistent-missing-override",
-                "-Wno-undefined-var-template",
-                "-Wno-nonportable-include-path",
-                "-Wno-address-of-packed-member",
-                "-Wno-unused-lambda-capture",
-                "-Wno-user-defined-warnings",
                 "-O2",
                 "-fno-ident",
                 "-fdata-sections",
@@ -7590,42 +5517,17 @@
                 "-fomit-frame-pointer",
                 "-g0",
                 "-fvisibility=hidden",
-                "-Xclang",
-                "-load",
-                "-Xclang",
-                "../../../../../../media/webrtc/trunk/webrtc/third_party/llvm-build/Release+Asserts/lib/libFindBadConstructs.so",
-                "-Xclang",
-                "-add-plugin",
-                "-Xclang",
-                "find-bad-constructs",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-auto-raw-pointer",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-ipc",
-                "-Wheader-hygiene",
-                "-Wstring-conversion",
-                "-Wtautological-overlap-compare",
                 "-Wextra",
                 "-Wno-unused-parameter",
                 "-Wno-missing-field-initializers",
-                "-Wno-strict-overflow",
-                "-Wc++11-narrowing",
-                "-Wimplicit-fallthrough",
-                "-Wthread-safety",
-                "-Winconsistent-missing-override",
-                "-Wundef",
-                "-Wunused-lambda-capture"
+                "-Wno-strict-overflow"
             ],
             "defines": [
                 "V8_DEPRECATION_WARNINGS",
                 "USE_NSS_CERTS=1",
-                "USE_X11=1",
                 "CHROMIUM_BUILD",
                 "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
                 "NDEBUG",
                 "NVALGRIND",
                 "DYNAMIC_ANNOTATIONS_ENABLED=0",
@@ -7679,8 +5581,6 @@
                 "-funwind-tables",
                 "-fPIC",
                 "-pipe",
-                "-fcolor-diagnostics",
-                "--target=arm-linux-gnueabihf",
                 "-march=armv7-a",
                 "-mfloat-abi=hard",
                 "-mtune=generic-armv7-a",
@@ -7689,18 +5589,11 @@
                 "-mthumb",
                 "-Wall",
                 "-Werror",
-                "-Wextra",
+                "-Wno-psabi",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
                 "-Wno-missing-field-initializers",
                 "-Wno-unused-parameter",
-                "-Wno-c++11-narrowing",
-                "-Wno-covered-switch-default",
-                "-Wno-unneeded-internal-declaration",
-                "-Wno-inconsistent-missing-override",
-                "-Wno-undefined-var-template",
-                "-Wno-nonportable-include-path",
-                "-Wno-address-of-packed-member",
-                "-Wno-unused-lambda-capture",
-                "-Wno-user-defined-warnings",
                 "-O2",
                 "-fno-ident",
                 "-fdata-sections",
@@ -7708,42 +5601,17 @@
                 "-fomit-frame-pointer",
                 "-g0",
                 "-fvisibility=hidden",
-                "-Xclang",
-                "-load",
-                "-Xclang",
-                "../../../../../../media/webrtc/trunk/webrtc/third_party/llvm-build/Release+Asserts/lib/libFindBadConstructs.so",
-                "-Xclang",
-                "-add-plugin",
-                "-Xclang",
-                "find-bad-constructs",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-auto-raw-pointer",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-ipc",
-                "-Wheader-hygiene",
-                "-Wstring-conversion",
-                "-Wtautological-overlap-compare",
                 "-Wextra",
                 "-Wno-unused-parameter",
                 "-Wno-missing-field-initializers",
-                "-Wno-strict-overflow",
-                "-Wc++11-narrowing",
-                "-Wimplicit-fallthrough",
-                "-Wthread-safety",
-                "-Winconsistent-missing-override",
-                "-Wundef",
-                "-Wunused-lambda-capture"
+                "-Wno-strict-overflow"
             ],
             "defines": [
                 "V8_DEPRECATION_WARNINGS",
                 "USE_NSS_CERTS=1",
-                "USE_X11=1",
                 "CHROMIUM_BUILD",
                 "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
                 "NDEBUG",
                 "NVALGRIND",
                 "DYNAMIC_ANNOTATIONS_ENABLED=0",
@@ -7929,8 +5797,6 @@
                 "-funwind-tables",
                 "-fPIC",
                 "-pipe",
-                "-fcolor-diagnostics",
-                "--target=arm-linux-gnueabihf",
                 "-march=armv7-a",
                 "-mfloat-abi=hard",
                 "-mtune=generic-armv7-a",
@@ -7939,18 +5805,11 @@
                 "-mthumb",
                 "-Wall",
                 "-Werror",
-                "-Wextra",
+                "-Wno-psabi",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
                 "-Wno-missing-field-initializers",
                 "-Wno-unused-parameter",
-                "-Wno-c++11-narrowing",
-                "-Wno-covered-switch-default",
-                "-Wno-unneeded-internal-declaration",
-                "-Wno-inconsistent-missing-override",
-                "-Wno-undefined-var-template",
-                "-Wno-nonportable-include-path",
-                "-Wno-address-of-packed-member",
-                "-Wno-unused-lambda-capture",
-                "-Wno-user-defined-warnings",
                 "-O2",
                 "-fno-ident",
                 "-fdata-sections",
@@ -7958,42 +5817,17 @@
                 "-fomit-frame-pointer",
                 "-g0",
                 "-fvisibility=hidden",
-                "-Xclang",
-                "-load",
-                "-Xclang",
-                "../../../../../../media/webrtc/trunk/webrtc/third_party/llvm-build/Release+Asserts/lib/libFindBadConstructs.so",
-                "-Xclang",
-                "-add-plugin",
-                "-Xclang",
-                "find-bad-constructs",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-auto-raw-pointer",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-ipc",
-                "-Wheader-hygiene",
-                "-Wstring-conversion",
-                "-Wtautological-overlap-compare",
                 "-Wextra",
                 "-Wno-unused-parameter",
                 "-Wno-missing-field-initializers",
-                "-Wno-strict-overflow",
-                "-Wc++11-narrowing",
-                "-Wimplicit-fallthrough",
-                "-Wthread-safety",
-                "-Winconsistent-missing-override",
-                "-Wundef",
-                "-Wunused-lambda-capture"
+                "-Wno-strict-overflow"
             ],
             "defines": [
                 "V8_DEPRECATION_WARNINGS",
                 "USE_NSS_CERTS=1",
-                "USE_X11=1",
                 "CHROMIUM_BUILD",
                 "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
                 "NDEBUG",
                 "NVALGRIND",
                 "DYNAMIC_ANNOTATIONS_ENABLED=0",
@@ -8041,8 +5875,6 @@
                 "-funwind-tables",
                 "-fPIC",
                 "-pipe",
-                "-fcolor-diagnostics",
-                "--target=arm-linux-gnueabihf",
                 "-march=armv7-a",
                 "-mfloat-abi=hard",
                 "-mtune=generic-armv7-a",
@@ -8051,18 +5883,11 @@
                 "-mthumb",
                 "-Wall",
                 "-Werror",
-                "-Wextra",
+                "-Wno-psabi",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
                 "-Wno-missing-field-initializers",
                 "-Wno-unused-parameter",
-                "-Wno-c++11-narrowing",
-                "-Wno-covered-switch-default",
-                "-Wno-unneeded-internal-declaration",
-                "-Wno-inconsistent-missing-override",
-                "-Wno-undefined-var-template",
-                "-Wno-nonportable-include-path",
-                "-Wno-address-of-packed-member",
-                "-Wno-unused-lambda-capture",
-                "-Wno-user-defined-warnings",
                 "-O2",
                 "-fno-ident",
                 "-fdata-sections",
@@ -8070,42 +5895,17 @@
                 "-fomit-frame-pointer",
                 "-g0",
                 "-fvisibility=hidden",
-                "-Xclang",
-                "-load",
-                "-Xclang",
-                "../../../../../../media/webrtc/trunk/webrtc/third_party/llvm-build/Release+Asserts/lib/libFindBadConstructs.so",
-                "-Xclang",
-                "-add-plugin",
-                "-Xclang",
-                "find-bad-constructs",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-auto-raw-pointer",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-ipc",
-                "-Wheader-hygiene",
-                "-Wstring-conversion",
-                "-Wtautological-overlap-compare",
                 "-Wextra",
                 "-Wno-unused-parameter",
                 "-Wno-missing-field-initializers",
-                "-Wno-strict-overflow",
-                "-Wc++11-narrowing",
-                "-Wimplicit-fallthrough",
-                "-Wthread-safety",
-                "-Winconsistent-missing-override",
-                "-Wundef",
-                "-Wunused-lambda-capture"
+                "-Wno-strict-overflow"
             ],
             "defines": [
                 "V8_DEPRECATION_WARNINGS",
                 "USE_NSS_CERTS=1",
-                "USE_X11=1",
                 "CHROMIUM_BUILD",
                 "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
                 "NDEBUG",
                 "NVALGRIND",
                 "DYNAMIC_ANNOTATIONS_ENABLED=0",
@@ -8204,8 +6004,6 @@
                 "-funwind-tables",
                 "-fPIC",
                 "-pipe",
-                "-fcolor-diagnostics",
-                "--target=arm-linux-gnueabihf",
                 "-march=armv7-a",
                 "-mfloat-abi=hard",
                 "-mtune=generic-armv7-a",
@@ -8214,18 +6012,11 @@
                 "-mthumb",
                 "-Wall",
                 "-Werror",
-                "-Wextra",
+                "-Wno-psabi",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
                 "-Wno-missing-field-initializers",
                 "-Wno-unused-parameter",
-                "-Wno-c++11-narrowing",
-                "-Wno-covered-switch-default",
-                "-Wno-unneeded-internal-declaration",
-                "-Wno-inconsistent-missing-override",
-                "-Wno-undefined-var-template",
-                "-Wno-nonportable-include-path",
-                "-Wno-address-of-packed-member",
-                "-Wno-unused-lambda-capture",
-                "-Wno-user-defined-warnings",
                 "-O2",
                 "-fno-ident",
                 "-fdata-sections",
@@ -8233,42 +6024,17 @@
                 "-fomit-frame-pointer",
                 "-g0",
                 "-fvisibility=hidden",
-                "-Xclang",
-                "-load",
-                "-Xclang",
-                "../../../../../../media/webrtc/trunk/webrtc/third_party/llvm-build/Release+Asserts/lib/libFindBadConstructs.so",
-                "-Xclang",
-                "-add-plugin",
-                "-Xclang",
-                "find-bad-constructs",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-auto-raw-pointer",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-ipc",
-                "-Wheader-hygiene",
-                "-Wstring-conversion",
-                "-Wtautological-overlap-compare",
                 "-Wextra",
                 "-Wno-unused-parameter",
                 "-Wno-missing-field-initializers",
-                "-Wno-strict-overflow",
-                "-Wc++11-narrowing",
-                "-Wimplicit-fallthrough",
-                "-Wthread-safety",
-                "-Winconsistent-missing-override",
-                "-Wundef",
-                "-Wunused-lambda-capture"
+                "-Wno-strict-overflow"
             ],
             "defines": [
                 "V8_DEPRECATION_WARNINGS",
                 "USE_NSS_CERTS=1",
-                "USE_X11=1",
                 "CHROMIUM_BUILD",
                 "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
                 "NDEBUG",
                 "NVALGRIND",
                 "DYNAMIC_ANNOTATIONS_ENABLED=0",
@@ -8312,8 +6078,6 @@
                 "-funwind-tables",
                 "-fPIC",
                 "-pipe",
-                "-fcolor-diagnostics",
-                "--target=arm-linux-gnueabihf",
                 "-march=armv7-a",
                 "-mfloat-abi=hard",
                 "-mtune=generic-armv7-a",
@@ -8322,18 +6086,11 @@
                 "-mthumb",
                 "-Wall",
                 "-Werror",
-                "-Wextra",
+                "-Wno-psabi",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
                 "-Wno-missing-field-initializers",
                 "-Wno-unused-parameter",
-                "-Wno-c++11-narrowing",
-                "-Wno-covered-switch-default",
-                "-Wno-unneeded-internal-declaration",
-                "-Wno-inconsistent-missing-override",
-                "-Wno-undefined-var-template",
-                "-Wno-nonportable-include-path",
-                "-Wno-address-of-packed-member",
-                "-Wno-unused-lambda-capture",
-                "-Wno-user-defined-warnings",
                 "-O2",
                 "-fno-ident",
                 "-fdata-sections",
@@ -8341,42 +6098,17 @@
                 "-fomit-frame-pointer",
                 "-g0",
                 "-fvisibility=hidden",
-                "-Xclang",
-                "-load",
-                "-Xclang",
-                "../../../../../../media/webrtc/trunk/webrtc/third_party/llvm-build/Release+Asserts/lib/libFindBadConstructs.so",
-                "-Xclang",
-                "-add-plugin",
-                "-Xclang",
-                "find-bad-constructs",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-auto-raw-pointer",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-ipc",
-                "-Wheader-hygiene",
-                "-Wstring-conversion",
-                "-Wtautological-overlap-compare",
                 "-Wextra",
                 "-Wno-unused-parameter",
                 "-Wno-missing-field-initializers",
-                "-Wno-strict-overflow",
-                "-Wc++11-narrowing",
-                "-Wimplicit-fallthrough",
-                "-Wthread-safety",
-                "-Winconsistent-missing-override",
-                "-Wundef",
-                "-Wunused-lambda-capture"
+                "-Wno-strict-overflow"
             ],
             "defines": [
                 "V8_DEPRECATION_WARNINGS",
                 "USE_NSS_CERTS=1",
-                "USE_X11=1",
                 "CHROMIUM_BUILD",
                 "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
                 "NDEBUG",
                 "NVALGRIND",
                 "DYNAMIC_ANNOTATIONS_ENABLED=0",
@@ -8427,8 +6159,6 @@
                 "-funwind-tables",
                 "-fPIC",
                 "-pipe",
-                "-fcolor-diagnostics",
-                "--target=arm-linux-gnueabihf",
                 "-march=armv7-a",
                 "-mfloat-abi=hard",
                 "-mtune=generic-armv7-a",
@@ -8437,18 +6167,11 @@
                 "-mthumb",
                 "-Wall",
                 "-Werror",
-                "-Wextra",
+                "-Wno-psabi",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
                 "-Wno-missing-field-initializers",
                 "-Wno-unused-parameter",
-                "-Wno-c++11-narrowing",
-                "-Wno-covered-switch-default",
-                "-Wno-unneeded-internal-declaration",
-                "-Wno-inconsistent-missing-override",
-                "-Wno-undefined-var-template",
-                "-Wno-nonportable-include-path",
-                "-Wno-address-of-packed-member",
-                "-Wno-unused-lambda-capture",
-                "-Wno-user-defined-warnings",
                 "-O2",
                 "-fno-ident",
                 "-fdata-sections",
@@ -8456,42 +6179,17 @@
                 "-fomit-frame-pointer",
                 "-g0",
                 "-fvisibility=hidden",
-                "-Xclang",
-                "-load",
-                "-Xclang",
-                "../../../../../../media/webrtc/trunk/webrtc/third_party/llvm-build/Release+Asserts/lib/libFindBadConstructs.so",
-                "-Xclang",
-                "-add-plugin",
-                "-Xclang",
-                "find-bad-constructs",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-auto-raw-pointer",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-ipc",
-                "-Wheader-hygiene",
-                "-Wstring-conversion",
-                "-Wtautological-overlap-compare",
                 "-Wextra",
                 "-Wno-unused-parameter",
                 "-Wno-missing-field-initializers",
-                "-Wno-strict-overflow",
-                "-Wc++11-narrowing",
-                "-Wimplicit-fallthrough",
-                "-Wthread-safety",
-                "-Winconsistent-missing-override",
-                "-Wundef",
-                "-Wunused-lambda-capture"
+                "-Wno-strict-overflow"
             ],
             "defines": [
                 "V8_DEPRECATION_WARNINGS",
                 "USE_NSS_CERTS=1",
-                "USE_X11=1",
                 "CHROMIUM_BUILD",
                 "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
                 "NDEBUG",
                 "NVALGRIND",
                 "DYNAMIC_ANNOTATIONS_ENABLED=0",
@@ -8584,8 +6282,6 @@
                 "-funwind-tables",
                 "-fPIC",
                 "-pipe",
-                "-fcolor-diagnostics",
-                "--target=arm-linux-gnueabihf",
                 "-march=armv7-a",
                 "-mfloat-abi=hard",
                 "-mtune=generic-armv7-a",
@@ -8594,18 +6290,11 @@
                 "-mthumb",
                 "-Wall",
                 "-Werror",
-                "-Wextra",
+                "-Wno-psabi",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
                 "-Wno-missing-field-initializers",
                 "-Wno-unused-parameter",
-                "-Wno-c++11-narrowing",
-                "-Wno-covered-switch-default",
-                "-Wno-unneeded-internal-declaration",
-                "-Wno-inconsistent-missing-override",
-                "-Wno-undefined-var-template",
-                "-Wno-nonportable-include-path",
-                "-Wno-address-of-packed-member",
-                "-Wno-unused-lambda-capture",
-                "-Wno-user-defined-warnings",
                 "-O2",
                 "-fno-ident",
                 "-fdata-sections",
@@ -8613,42 +6302,17 @@
                 "-fomit-frame-pointer",
                 "-g0",
                 "-fvisibility=hidden",
-                "-Xclang",
-                "-load",
-                "-Xclang",
-                "../../../../../../media/webrtc/trunk/webrtc/third_party/llvm-build/Release+Asserts/lib/libFindBadConstructs.so",
-                "-Xclang",
-                "-add-plugin",
-                "-Xclang",
-                "find-bad-constructs",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-auto-raw-pointer",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-ipc",
-                "-Wheader-hygiene",
-                "-Wstring-conversion",
-                "-Wtautological-overlap-compare",
                 "-Wextra",
                 "-Wno-unused-parameter",
                 "-Wno-missing-field-initializers",
-                "-Wno-strict-overflow",
-                "-Wc++11-narrowing",
-                "-Wimplicit-fallthrough",
-                "-Wthread-safety",
-                "-Winconsistent-missing-override",
-                "-Wundef",
-                "-Wunused-lambda-capture"
+                "-Wno-strict-overflow"
             ],
             "defines": [
                 "V8_DEPRECATION_WARNINGS",
                 "USE_NSS_CERTS=1",
-                "USE_X11=1",
                 "CHROMIUM_BUILD",
                 "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
                 "NDEBUG",
                 "NVALGRIND",
                 "DYNAMIC_ANNOTATIONS_ENABLED=0",
@@ -8686,8 +6350,6 @@
                 "-funwind-tables",
                 "-fPIC",
                 "-pipe",
-                "-fcolor-diagnostics",
-                "--target=arm-linux-gnueabihf",
                 "-march=armv7-a",
                 "-mfloat-abi=hard",
                 "-mtune=generic-armv7-a",
@@ -8696,18 +6358,11 @@
                 "-mthumb",
                 "-Wall",
                 "-Werror",
-                "-Wextra",
+                "-Wno-psabi",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
                 "-Wno-missing-field-initializers",
                 "-Wno-unused-parameter",
-                "-Wno-c++11-narrowing",
-                "-Wno-covered-switch-default",
-                "-Wno-unneeded-internal-declaration",
-                "-Wno-inconsistent-missing-override",
-                "-Wno-undefined-var-template",
-                "-Wno-nonportable-include-path",
-                "-Wno-address-of-packed-member",
-                "-Wno-unused-lambda-capture",
-                "-Wno-user-defined-warnings",
                 "-O2",
                 "-fno-ident",
                 "-fdata-sections",
@@ -8715,42 +6370,17 @@
                 "-fomit-frame-pointer",
                 "-g0",
                 "-fvisibility=hidden",
-                "-Xclang",
-                "-load",
-                "-Xclang",
-                "../../../../../../media/webrtc/trunk/webrtc/third_party/llvm-build/Release+Asserts/lib/libFindBadConstructs.so",
-                "-Xclang",
-                "-add-plugin",
-                "-Xclang",
-                "find-bad-constructs",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-auto-raw-pointer",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-ipc",
-                "-Wheader-hygiene",
-                "-Wstring-conversion",
-                "-Wtautological-overlap-compare",
                 "-Wextra",
                 "-Wno-unused-parameter",
                 "-Wno-missing-field-initializers",
-                "-Wno-strict-overflow",
-                "-Wc++11-narrowing",
-                "-Wimplicit-fallthrough",
-                "-Wthread-safety",
-                "-Winconsistent-missing-override",
-                "-Wundef",
-                "-Wunused-lambda-capture"
+                "-Wno-strict-overflow"
             ],
             "defines": [
                 "V8_DEPRECATION_WARNINGS",
                 "USE_NSS_CERTS=1",
-                "USE_X11=1",
                 "CHROMIUM_BUILD",
                 "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
                 "NDEBUG",
                 "NVALGRIND",
                 "DYNAMIC_ANNOTATIONS_ENABLED=0",
@@ -8792,8 +6422,6 @@
                 "-funwind-tables",
                 "-fPIC",
                 "-pipe",
-                "-fcolor-diagnostics",
-                "--target=arm-linux-gnueabihf",
                 "-march=armv7-a",
                 "-mfloat-abi=hard",
                 "-mtune=generic-armv7-a",
@@ -8801,18 +6429,11 @@
                 "-mthumb",
                 "-Wall",
                 "-Werror",
-                "-Wextra",
+                "-Wno-psabi",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
                 "-Wno-missing-field-initializers",
                 "-Wno-unused-parameter",
-                "-Wno-c++11-narrowing",
-                "-Wno-covered-switch-default",
-                "-Wno-unneeded-internal-declaration",
-                "-Wno-inconsistent-missing-override",
-                "-Wno-undefined-var-template",
-                "-Wno-nonportable-include-path",
-                "-Wno-address-of-packed-member",
-                "-Wno-unused-lambda-capture",
-                "-Wno-user-defined-warnings",
                 "-O2",
                 "-fno-ident",
                 "-fdata-sections",
@@ -8820,42 +6441,17 @@
                 "-fomit-frame-pointer",
                 "-g0",
                 "-fvisibility=hidden",
-                "-Xclang",
-                "-load",
-                "-Xclang",
-                "../../../../../../media/webrtc/trunk/webrtc/third_party/llvm-build/Release+Asserts/lib/libFindBadConstructs.so",
-                "-Xclang",
-                "-add-plugin",
-                "-Xclang",
-                "find-bad-constructs",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-auto-raw-pointer",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-ipc",
-                "-Wheader-hygiene",
-                "-Wstring-conversion",
-                "-Wtautological-overlap-compare",
                 "-Wextra",
                 "-Wno-unused-parameter",
                 "-Wno-missing-field-initializers",
-                "-Wno-strict-overflow",
-                "-Wc++11-narrowing",
-                "-Wimplicit-fallthrough",
-                "-Wthread-safety",
-                "-Winconsistent-missing-override",
-                "-Wundef",
-                "-Wunused-lambda-capture"
+                "-Wno-strict-overflow"
             ],
             "defines": [
                 "V8_DEPRECATION_WARNINGS",
                 "USE_NSS_CERTS=1",
-                "USE_X11=1",
                 "CHROMIUM_BUILD",
                 "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
                 "NDEBUG",
                 "NVALGRIND",
                 "DYNAMIC_ANNOTATIONS_ENABLED=0",
@@ -8906,8 +6502,6 @@
                 "-funwind-tables",
                 "-fPIC",
                 "-pipe",
-                "-fcolor-diagnostics",
-                "--target=arm-linux-gnueabihf",
                 "-march=armv7-a",
                 "-mfloat-abi=hard",
                 "-mtune=generic-armv7-a",
@@ -8916,18 +6510,11 @@
                 "-mthumb",
                 "-Wall",
                 "-Werror",
-                "-Wextra",
+                "-Wno-psabi",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
                 "-Wno-missing-field-initializers",
                 "-Wno-unused-parameter",
-                "-Wno-c++11-narrowing",
-                "-Wno-covered-switch-default",
-                "-Wno-unneeded-internal-declaration",
-                "-Wno-inconsistent-missing-override",
-                "-Wno-undefined-var-template",
-                "-Wno-nonportable-include-path",
-                "-Wno-address-of-packed-member",
-                "-Wno-unused-lambda-capture",
-                "-Wno-user-defined-warnings",
                 "-O2",
                 "-fno-ident",
                 "-fdata-sections",
@@ -8935,42 +6522,17 @@
                 "-fomit-frame-pointer",
                 "-g0",
                 "-fvisibility=hidden",
-                "-Xclang",
-                "-load",
-                "-Xclang",
-                "../../../../../../media/webrtc/trunk/webrtc/third_party/llvm-build/Release+Asserts/lib/libFindBadConstructs.so",
-                "-Xclang",
-                "-add-plugin",
-                "-Xclang",
-                "find-bad-constructs",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-auto-raw-pointer",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-ipc",
-                "-Wheader-hygiene",
-                "-Wstring-conversion",
-                "-Wtautological-overlap-compare",
                 "-Wextra",
                 "-Wno-unused-parameter",
                 "-Wno-missing-field-initializers",
-                "-Wno-strict-overflow",
-                "-Wc++11-narrowing",
-                "-Wimplicit-fallthrough",
-                "-Wthread-safety",
-                "-Winconsistent-missing-override",
-                "-Wundef",
-                "-Wunused-lambda-capture"
+                "-Wno-strict-overflow"
             ],
             "defines": [
                 "V8_DEPRECATION_WARNINGS",
                 "USE_NSS_CERTS=1",
-                "USE_X11=1",
                 "CHROMIUM_BUILD",
                 "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
                 "NDEBUG",
                 "NVALGRIND",
                 "DYNAMIC_ANNOTATIONS_ENABLED=0",
@@ -9012,8 +6574,6 @@
                 "-funwind-tables",
                 "-fPIC",
                 "-pipe",
-                "-fcolor-diagnostics",
-                "--target=arm-linux-gnueabihf",
                 "-march=armv7-a",
                 "-mfloat-abi=hard",
                 "-mtune=generic-armv7-a",
@@ -9022,18 +6582,11 @@
                 "-mthumb",
                 "-Wall",
                 "-Werror",
-                "-Wextra",
+                "-Wno-psabi",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
                 "-Wno-missing-field-initializers",
                 "-Wno-unused-parameter",
-                "-Wno-c++11-narrowing",
-                "-Wno-covered-switch-default",
-                "-Wno-unneeded-internal-declaration",
-                "-Wno-inconsistent-missing-override",
-                "-Wno-undefined-var-template",
-                "-Wno-nonportable-include-path",
-                "-Wno-address-of-packed-member",
-                "-Wno-unused-lambda-capture",
-                "-Wno-user-defined-warnings",
                 "-O2",
                 "-fno-ident",
                 "-fdata-sections",
@@ -9041,42 +6594,17 @@
                 "-fomit-frame-pointer",
                 "-g0",
                 "-fvisibility=hidden",
-                "-Xclang",
-                "-load",
-                "-Xclang",
-                "../../../../../../media/webrtc/trunk/webrtc/third_party/llvm-build/Release+Asserts/lib/libFindBadConstructs.so",
-                "-Xclang",
-                "-add-plugin",
-                "-Xclang",
-                "find-bad-constructs",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-auto-raw-pointer",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-ipc",
-                "-Wheader-hygiene",
-                "-Wstring-conversion",
-                "-Wtautological-overlap-compare",
                 "-Wextra",
                 "-Wno-unused-parameter",
                 "-Wno-missing-field-initializers",
-                "-Wno-strict-overflow",
-                "-Wc++11-narrowing",
-                "-Wimplicit-fallthrough",
-                "-Wthread-safety",
-                "-Winconsistent-missing-override",
-                "-Wundef",
-                "-Wunused-lambda-capture"
+                "-Wno-strict-overflow"
             ],
             "defines": [
                 "V8_DEPRECATION_WARNINGS",
                 "USE_NSS_CERTS=1",
-                "USE_X11=1",
                 "CHROMIUM_BUILD",
                 "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
                 "NDEBUG",
                 "NVALGRIND",
                 "DYNAMIC_ANNOTATIONS_ENABLED=0",
@@ -9199,8 +6727,6 @@
                 "-funwind-tables",
                 "-fPIC",
                 "-pipe",
-                "-fcolor-diagnostics",
-                "--target=arm-linux-gnueabihf",
                 "-march=armv7-a",
                 "-mfloat-abi=hard",
                 "-mtune=generic-armv7-a",
@@ -9209,18 +6735,11 @@
                 "-mthumb",
                 "-Wall",
                 "-Werror",
-                "-Wextra",
+                "-Wno-psabi",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
                 "-Wno-missing-field-initializers",
                 "-Wno-unused-parameter",
-                "-Wno-c++11-narrowing",
-                "-Wno-covered-switch-default",
-                "-Wno-unneeded-internal-declaration",
-                "-Wno-inconsistent-missing-override",
-                "-Wno-undefined-var-template",
-                "-Wno-nonportable-include-path",
-                "-Wno-address-of-packed-member",
-                "-Wno-unused-lambda-capture",
-                "-Wno-user-defined-warnings",
                 "-O2",
                 "-fno-ident",
                 "-fdata-sections",
@@ -9228,42 +6747,17 @@
                 "-fomit-frame-pointer",
                 "-g0",
                 "-fvisibility=hidden",
-                "-Xclang",
-                "-load",
-                "-Xclang",
-                "../../../../../../media/webrtc/trunk/webrtc/third_party/llvm-build/Release+Asserts/lib/libFindBadConstructs.so",
-                "-Xclang",
-                "-add-plugin",
-                "-Xclang",
-                "find-bad-constructs",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-auto-raw-pointer",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-ipc",
-                "-Wheader-hygiene",
-                "-Wstring-conversion",
-                "-Wtautological-overlap-compare",
                 "-Wextra",
                 "-Wno-unused-parameter",
                 "-Wno-missing-field-initializers",
-                "-Wno-strict-overflow",
-                "-Wc++11-narrowing",
-                "-Wimplicit-fallthrough",
-                "-Wthread-safety",
-                "-Winconsistent-missing-override",
-                "-Wundef",
-                "-Wunused-lambda-capture"
+                "-Wno-strict-overflow"
             ],
             "defines": [
                 "V8_DEPRECATION_WARNINGS",
                 "USE_NSS_CERTS=1",
-                "USE_X11=1",
                 "CHROMIUM_BUILD",
                 "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
                 "NDEBUG",
                 "NVALGRIND",
                 "DYNAMIC_ANNOTATIONS_ENABLED=0",
@@ -9305,8 +6799,6 @@
                 "-funwind-tables",
                 "-fPIC",
                 "-pipe",
-                "-fcolor-diagnostics",
-                "--target=arm-linux-gnueabihf",
                 "-march=armv7-a",
                 "-mfloat-abi=hard",
                 "-mtune=generic-armv7-a",
@@ -9315,18 +6807,11 @@
                 "-mthumb",
                 "-Wall",
                 "-Werror",
-                "-Wextra",
+                "-Wno-psabi",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
                 "-Wno-missing-field-initializers",
                 "-Wno-unused-parameter",
-                "-Wno-c++11-narrowing",
-                "-Wno-covered-switch-default",
-                "-Wno-unneeded-internal-declaration",
-                "-Wno-inconsistent-missing-override",
-                "-Wno-undefined-var-template",
-                "-Wno-nonportable-include-path",
-                "-Wno-address-of-packed-member",
-                "-Wno-unused-lambda-capture",
-                "-Wno-user-defined-warnings",
                 "-O2",
                 "-fno-ident",
                 "-fdata-sections",
@@ -9334,42 +6819,17 @@
                 "-fomit-frame-pointer",
                 "-g0",
                 "-fvisibility=hidden",
-                "-Xclang",
-                "-load",
-                "-Xclang",
-                "../../../../../../media/webrtc/trunk/webrtc/third_party/llvm-build/Release+Asserts/lib/libFindBadConstructs.so",
-                "-Xclang",
-                "-add-plugin",
-                "-Xclang",
-                "find-bad-constructs",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-auto-raw-pointer",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-ipc",
-                "-Wheader-hygiene",
-                "-Wstring-conversion",
-                "-Wtautological-overlap-compare",
                 "-Wextra",
                 "-Wno-unused-parameter",
                 "-Wno-missing-field-initializers",
-                "-Wno-strict-overflow",
-                "-Wc++11-narrowing",
-                "-Wimplicit-fallthrough",
-                "-Wthread-safety",
-                "-Winconsistent-missing-override",
-                "-Wundef",
-                "-Wunused-lambda-capture"
+                "-Wno-strict-overflow"
             ],
             "defines": [
                 "V8_DEPRECATION_WARNINGS",
                 "USE_NSS_CERTS=1",
-                "USE_X11=1",
                 "CHROMIUM_BUILD",
                 "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
                 "NDEBUG",
                 "NVALGRIND",
                 "DYNAMIC_ANNOTATIONS_ENABLED=0",
@@ -9420,8 +6880,6 @@
                 "-funwind-tables",
                 "-fPIC",
                 "-pipe",
-                "-fcolor-diagnostics",
-                "--target=arm-linux-gnueabihf",
                 "-march=armv7-a",
                 "-mfloat-abi=hard",
                 "-mtune=generic-armv7-a",
@@ -9430,18 +6888,11 @@
                 "-mthumb",
                 "-Wall",
                 "-Werror",
-                "-Wextra",
+                "-Wno-psabi",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
                 "-Wno-missing-field-initializers",
                 "-Wno-unused-parameter",
-                "-Wno-c++11-narrowing",
-                "-Wno-covered-switch-default",
-                "-Wno-unneeded-internal-declaration",
-                "-Wno-inconsistent-missing-override",
-                "-Wno-undefined-var-template",
-                "-Wno-nonportable-include-path",
-                "-Wno-address-of-packed-member",
-                "-Wno-unused-lambda-capture",
-                "-Wno-user-defined-warnings",
                 "-O2",
                 "-fno-ident",
                 "-fdata-sections",
@@ -9449,42 +6900,17 @@
                 "-fomit-frame-pointer",
                 "-g0",
                 "-fvisibility=hidden",
-                "-Xclang",
-                "-load",
-                "-Xclang",
-                "../../../../../../media/webrtc/trunk/webrtc/third_party/llvm-build/Release+Asserts/lib/libFindBadConstructs.so",
-                "-Xclang",
-                "-add-plugin",
-                "-Xclang",
-                "find-bad-constructs",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-auto-raw-pointer",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-ipc",
-                "-Wheader-hygiene",
-                "-Wstring-conversion",
-                "-Wtautological-overlap-compare",
                 "-Wextra",
                 "-Wno-unused-parameter",
                 "-Wno-missing-field-initializers",
-                "-Wno-strict-overflow",
-                "-Wc++11-narrowing",
-                "-Wimplicit-fallthrough",
-                "-Wthread-safety",
-                "-Winconsistent-missing-override",
-                "-Wundef",
-                "-Wunused-lambda-capture"
+                "-Wno-strict-overflow"
             ],
             "defines": [
                 "V8_DEPRECATION_WARNINGS",
                 "USE_NSS_CERTS=1",
-                "USE_X11=1",
                 "CHROMIUM_BUILD",
                 "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
                 "NDEBUG",
                 "NVALGRIND",
                 "DYNAMIC_ANNOTATIONS_ENABLED=0",
@@ -9525,8 +6951,6 @@
                 "-funwind-tables",
                 "-fPIC",
                 "-pipe",
-                "-fcolor-diagnostics",
-                "--target=arm-linux-gnueabihf",
                 "-march=armv7-a",
                 "-mfloat-abi=hard",
                 "-mtune=generic-armv7-a",
@@ -9535,18 +6959,11 @@
                 "-mthumb",
                 "-Wall",
                 "-Werror",
-                "-Wextra",
+                "-Wno-psabi",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
                 "-Wno-missing-field-initializers",
                 "-Wno-unused-parameter",
-                "-Wno-c++11-narrowing",
-                "-Wno-covered-switch-default",
-                "-Wno-unneeded-internal-declaration",
-                "-Wno-inconsistent-missing-override",
-                "-Wno-undefined-var-template",
-                "-Wno-nonportable-include-path",
-                "-Wno-address-of-packed-member",
-                "-Wno-unused-lambda-capture",
-                "-Wno-user-defined-warnings",
                 "-O2",
                 "-fno-ident",
                 "-fdata-sections",
@@ -9554,35 +6971,10 @@
                 "-fomit-frame-pointer",
                 "-g0",
                 "-fvisibility=hidden",
-                "-Xclang",
-                "-load",
-                "-Xclang",
-                "../../../../../../media/webrtc/trunk/webrtc/third_party/llvm-build/Release+Asserts/lib/libFindBadConstructs.so",
-                "-Xclang",
-                "-add-plugin",
-                "-Xclang",
-                "find-bad-constructs",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-auto-raw-pointer",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-ipc",
-                "-Wheader-hygiene",
-                "-Wstring-conversion",
-                "-Wtautological-overlap-compare",
                 "-Wextra",
                 "-Wno-unused-parameter",
                 "-Wno-missing-field-initializers",
-                "-Wno-strict-overflow",
-                "-Wc++11-narrowing",
-                "-Wimplicit-fallthrough",
-                "-Wthread-safety",
-                "-Winconsistent-missing-override",
-                "-Wundef",
-                "-Wunused-lambda-capture"
+                "-Wno-strict-overflow"
             ],
             "defines": [
                 "WEBRTC_CODEC_ILBC",
@@ -9591,9 +6983,9 @@
                 "WEBRTC_CODEC_ISACFX",
                 "V8_DEPRECATION_WARNINGS",
                 "USE_NSS_CERTS=1",
-                "USE_X11=1",
                 "CHROMIUM_BUILD",
                 "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
                 "NDEBUG",
                 "NVALGRIND",
                 "DYNAMIC_ANNOTATIONS_ENABLED=0",
@@ -9661,8 +7053,6 @@
                 "-funwind-tables",
                 "-fPIC",
                 "-pipe",
-                "-fcolor-diagnostics",
-                "--target=arm-linux-gnueabihf",
                 "-march=armv7-a",
                 "-mfloat-abi=hard",
                 "-mtune=generic-armv7-a",
@@ -9671,18 +7061,11 @@
                 "-mthumb",
                 "-Wall",
                 "-Werror",
-                "-Wextra",
+                "-Wno-psabi",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
                 "-Wno-missing-field-initializers",
                 "-Wno-unused-parameter",
-                "-Wno-c++11-narrowing",
-                "-Wno-covered-switch-default",
-                "-Wno-unneeded-internal-declaration",
-                "-Wno-inconsistent-missing-override",
-                "-Wno-undefined-var-template",
-                "-Wno-nonportable-include-path",
-                "-Wno-address-of-packed-member",
-                "-Wno-unused-lambda-capture",
-                "-Wno-user-defined-warnings",
                 "-O2",
                 "-fno-ident",
                 "-fdata-sections",
@@ -9690,35 +7073,10 @@
                 "-fomit-frame-pointer",
                 "-g0",
                 "-fvisibility=hidden",
-                "-Xclang",
-                "-load",
-                "-Xclang",
-                "../../../../../../media/webrtc/trunk/webrtc/third_party/llvm-build/Release+Asserts/lib/libFindBadConstructs.so",
-                "-Xclang",
-                "-add-plugin",
-                "-Xclang",
-                "find-bad-constructs",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-auto-raw-pointer",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-ipc",
-                "-Wheader-hygiene",
-                "-Wstring-conversion",
-                "-Wtautological-overlap-compare",
                 "-Wextra",
                 "-Wno-unused-parameter",
                 "-Wno-missing-field-initializers",
-                "-Wno-strict-overflow",
-                "-Wc++11-narrowing",
-                "-Wimplicit-fallthrough",
-                "-Wthread-safety",
-                "-Winconsistent-missing-override",
-                "-Wundef",
-                "-Wunused-lambda-capture"
+                "-Wno-strict-overflow"
             ],
             "defines": [
                 "WEBRTC_CODEC_ILBC",
@@ -9727,9 +7085,9 @@
                 "WEBRTC_CODEC_ISACFX",
                 "V8_DEPRECATION_WARNINGS",
                 "USE_NSS_CERTS=1",
-                "USE_X11=1",
                 "CHROMIUM_BUILD",
                 "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
                 "NDEBUG",
                 "NVALGRIND",
                 "DYNAMIC_ANNOTATIONS_ENABLED=0",
@@ -9787,8 +7145,6 @@
                 "-funwind-tables",
                 "-fPIC",
                 "-pipe",
-                "-fcolor-diagnostics",
-                "--target=arm-linux-gnueabihf",
                 "-march=armv7-a",
                 "-mfloat-abi=hard",
                 "-mtune=generic-armv7-a",
@@ -9797,18 +7153,11 @@
                 "-mthumb",
                 "-Wall",
                 "-Werror",
-                "-Wextra",
+                "-Wno-psabi",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
                 "-Wno-missing-field-initializers",
                 "-Wno-unused-parameter",
-                "-Wno-c++11-narrowing",
-                "-Wno-covered-switch-default",
-                "-Wno-unneeded-internal-declaration",
-                "-Wno-inconsistent-missing-override",
-                "-Wno-undefined-var-template",
-                "-Wno-nonportable-include-path",
-                "-Wno-address-of-packed-member",
-                "-Wno-unused-lambda-capture",
-                "-Wno-user-defined-warnings",
                 "-O2",
                 "-fno-ident",
                 "-fdata-sections",
@@ -9816,35 +7165,10 @@
                 "-fomit-frame-pointer",
                 "-g0",
                 "-fvisibility=hidden",
-                "-Xclang",
-                "-load",
-                "-Xclang",
-                "../../../../../../media/webrtc/trunk/webrtc/third_party/llvm-build/Release+Asserts/lib/libFindBadConstructs.so",
-                "-Xclang",
-                "-add-plugin",
-                "-Xclang",
-                "find-bad-constructs",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-auto-raw-pointer",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-ipc",
-                "-Wheader-hygiene",
-                "-Wstring-conversion",
-                "-Wtautological-overlap-compare",
                 "-Wextra",
                 "-Wno-unused-parameter",
                 "-Wno-missing-field-initializers",
-                "-Wno-strict-overflow",
-                "-Wc++11-narrowing",
-                "-Wimplicit-fallthrough",
-                "-Wthread-safety",
-                "-Winconsistent-missing-override",
-                "-Wundef",
-                "-Wunused-lambda-capture"
+                "-Wno-strict-overflow"
             ],
             "defines": [
                 "WEBRTC_CODEC_ILBC",
@@ -9853,9 +7177,9 @@
                 "WEBRTC_CODEC_ISACFX",
                 "V8_DEPRECATION_WARNINGS",
                 "USE_NSS_CERTS=1",
-                "USE_X11=1",
                 "CHROMIUM_BUILD",
                 "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
                 "NDEBUG",
                 "NVALGRIND",
                 "DYNAMIC_ANNOTATIONS_ENABLED=0",
@@ -9898,8 +7222,6 @@
                 "-funwind-tables",
                 "-fPIC",
                 "-pipe",
-                "-fcolor-diagnostics",
-                "--target=arm-linux-gnueabihf",
                 "-march=armv7-a",
                 "-mfloat-abi=hard",
                 "-mtune=generic-armv7-a",
@@ -9908,18 +7230,11 @@
                 "-mthumb",
                 "-Wall",
                 "-Werror",
-                "-Wextra",
+                "-Wno-psabi",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
                 "-Wno-missing-field-initializers",
                 "-Wno-unused-parameter",
-                "-Wno-c++11-narrowing",
-                "-Wno-covered-switch-default",
-                "-Wno-unneeded-internal-declaration",
-                "-Wno-inconsistent-missing-override",
-                "-Wno-undefined-var-template",
-                "-Wno-nonportable-include-path",
-                "-Wno-address-of-packed-member",
-                "-Wno-unused-lambda-capture",
-                "-Wno-user-defined-warnings",
                 "-O2",
                 "-fno-ident",
                 "-fdata-sections",
@@ -9927,42 +7242,17 @@
                 "-fomit-frame-pointer",
                 "-g0",
                 "-fvisibility=hidden",
-                "-Xclang",
-                "-load",
-                "-Xclang",
-                "../../../../../../media/webrtc/trunk/webrtc/third_party/llvm-build/Release+Asserts/lib/libFindBadConstructs.so",
-                "-Xclang",
-                "-add-plugin",
-                "-Xclang",
-                "find-bad-constructs",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-auto-raw-pointer",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-ipc",
-                "-Wheader-hygiene",
-                "-Wstring-conversion",
-                "-Wtautological-overlap-compare",
                 "-Wextra",
                 "-Wno-unused-parameter",
                 "-Wno-missing-field-initializers",
-                "-Wno-strict-overflow",
-                "-Wc++11-narrowing",
-                "-Wimplicit-fallthrough",
-                "-Wthread-safety",
-                "-Winconsistent-missing-override",
-                "-Wundef",
-                "-Wunused-lambda-capture"
+                "-Wno-strict-overflow"
             ],
             "defines": [
                 "V8_DEPRECATION_WARNINGS",
                 "USE_NSS_CERTS=1",
-                "USE_X11=1",
                 "CHROMIUM_BUILD",
                 "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
                 "NDEBUG",
                 "NVALGRIND",
                 "DYNAMIC_ANNOTATIONS_ENABLED=0",
@@ -10004,8 +7294,6 @@
                 "-funwind-tables",
                 "-fPIC",
                 "-pipe",
-                "-fcolor-diagnostics",
-                "--target=arm-linux-gnueabihf",
                 "-march=armv7-a",
                 "-mfloat-abi=hard",
                 "-mtune=generic-armv7-a",
@@ -10014,18 +7302,11 @@
                 "-mthumb",
                 "-Wall",
                 "-Werror",
-                "-Wextra",
+                "-Wno-psabi",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
                 "-Wno-missing-field-initializers",
                 "-Wno-unused-parameter",
-                "-Wno-c++11-narrowing",
-                "-Wno-covered-switch-default",
-                "-Wno-unneeded-internal-declaration",
-                "-Wno-inconsistent-missing-override",
-                "-Wno-undefined-var-template",
-                "-Wno-nonportable-include-path",
-                "-Wno-address-of-packed-member",
-                "-Wno-unused-lambda-capture",
-                "-Wno-user-defined-warnings",
                 "-O2",
                 "-fno-ident",
                 "-fdata-sections",
@@ -10033,27 +7314,18 @@
                 "-fomit-frame-pointer",
                 "-g0",
                 "-fvisibility=hidden",
-                "-Wheader-hygiene",
-                "-Wstring-conversion",
-                "-Wtautological-overlap-compare",
                 "-Wextra",
                 "-Wno-unused-parameter",
                 "-Wno-missing-field-initializers",
-                "-Wno-strict-overflow",
-                "-Wc++11-narrowing",
-                "-Wimplicit-fallthrough",
-                "-Wthread-safety",
-                "-Winconsistent-missing-override",
-                "-Wundef",
-                "-Wunused-lambda-capture"
+                "-Wno-strict-overflow"
             ],
             "defines": [
                 "WEBRTC_DUMMY_AUDIO_BUILD",
                 "V8_DEPRECATION_WARNINGS",
                 "USE_NSS_CERTS=1",
-                "USE_X11=1",
                 "CHROMIUM_BUILD",
                 "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
                 "NDEBUG",
                 "NVALGRIND",
                 "DYNAMIC_ANNOTATIONS_ENABLED=0",
@@ -10122,8 +7394,6 @@
                 "-funwind-tables",
                 "-fPIC",
                 "-pipe",
-                "-fcolor-diagnostics",
-                "--target=arm-linux-gnueabihf",
                 "-march=armv7-a",
                 "-mfloat-abi=hard",
                 "-mtune=generic-armv7-a",
@@ -10132,18 +7402,11 @@
                 "-mthumb",
                 "-Wall",
                 "-Werror",
-                "-Wextra",
+                "-Wno-psabi",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
                 "-Wno-missing-field-initializers",
                 "-Wno-unused-parameter",
-                "-Wno-c++11-narrowing",
-                "-Wno-covered-switch-default",
-                "-Wno-unneeded-internal-declaration",
-                "-Wno-inconsistent-missing-override",
-                "-Wno-undefined-var-template",
-                "-Wno-nonportable-include-path",
-                "-Wno-address-of-packed-member",
-                "-Wno-unused-lambda-capture",
-                "-Wno-user-defined-warnings",
                 "-O2",
                 "-fno-ident",
                 "-fdata-sections",
@@ -10151,42 +7414,17 @@
                 "-fomit-frame-pointer",
                 "-g0",
                 "-fvisibility=hidden",
-                "-Xclang",
-                "-load",
-                "-Xclang",
-                "../../../../../../media/webrtc/trunk/webrtc/third_party/llvm-build/Release+Asserts/lib/libFindBadConstructs.so",
-                "-Xclang",
-                "-add-plugin",
-                "-Xclang",
-                "find-bad-constructs",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-auto-raw-pointer",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-ipc",
-                "-Wheader-hygiene",
-                "-Wstring-conversion",
-                "-Wtautological-overlap-compare",
                 "-Wextra",
                 "-Wno-unused-parameter",
                 "-Wno-missing-field-initializers",
-                "-Wno-strict-overflow",
-                "-Wc++11-narrowing",
-                "-Wimplicit-fallthrough",
-                "-Wthread-safety",
-                "-Winconsistent-missing-override",
-                "-Wundef",
-                "-Wunused-lambda-capture"
+                "-Wno-strict-overflow"
             ],
             "defines": [
                 "V8_DEPRECATION_WARNINGS",
                 "USE_NSS_CERTS=1",
-                "USE_X11=1",
                 "CHROMIUM_BUILD",
                 "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
                 "NDEBUG",
                 "NVALGRIND",
                 "DYNAMIC_ANNOTATIONS_ENABLED=0",
@@ -10230,8 +7468,6 @@
                 "-funwind-tables",
                 "-fPIC",
                 "-pipe",
-                "-fcolor-diagnostics",
-                "--target=arm-linux-gnueabihf",
                 "-march=armv7-a",
                 "-mfloat-abi=hard",
                 "-mtune=generic-armv7-a",
@@ -10240,18 +7476,11 @@
                 "-mthumb",
                 "-Wall",
                 "-Werror",
-                "-Wextra",
+                "-Wno-psabi",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
                 "-Wno-missing-field-initializers",
                 "-Wno-unused-parameter",
-                "-Wno-c++11-narrowing",
-                "-Wno-covered-switch-default",
-                "-Wno-unneeded-internal-declaration",
-                "-Wno-inconsistent-missing-override",
-                "-Wno-undefined-var-template",
-                "-Wno-nonportable-include-path",
-                "-Wno-address-of-packed-member",
-                "-Wno-unused-lambda-capture",
-                "-Wno-user-defined-warnings",
                 "-O2",
                 "-fno-ident",
                 "-fdata-sections",
@@ -10259,42 +7488,17 @@
                 "-fomit-frame-pointer",
                 "-g0",
                 "-fvisibility=hidden",
-                "-Xclang",
-                "-load",
-                "-Xclang",
-                "../../../../../../media/webrtc/trunk/webrtc/third_party/llvm-build/Release+Asserts/lib/libFindBadConstructs.so",
-                "-Xclang",
-                "-add-plugin",
-                "-Xclang",
-                "find-bad-constructs",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-auto-raw-pointer",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-ipc",
-                "-Wheader-hygiene",
-                "-Wstring-conversion",
-                "-Wtautological-overlap-compare",
                 "-Wextra",
                 "-Wno-unused-parameter",
                 "-Wno-missing-field-initializers",
-                "-Wno-strict-overflow",
-                "-Wc++11-narrowing",
-                "-Wimplicit-fallthrough",
-                "-Wthread-safety",
-                "-Winconsistent-missing-override",
-                "-Wundef",
-                "-Wunused-lambda-capture"
+                "-Wno-strict-overflow"
             ],
             "defines": [
                 "V8_DEPRECATION_WARNINGS",
                 "USE_NSS_CERTS=1",
-                "USE_X11=1",
                 "CHROMIUM_BUILD",
                 "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
                 "NDEBUG",
                 "NVALGRIND",
                 "DYNAMIC_ANNOTATIONS_ENABLED=0",
@@ -10350,8 +7554,6 @@
                 "-funwind-tables",
                 "-fPIC",
                 "-pipe",
-                "-fcolor-diagnostics",
-                "--target=arm-linux-gnueabihf",
                 "-march=armv7-a",
                 "-mfloat-abi=hard",
                 "-mtune=generic-armv7-a",
@@ -10360,18 +7562,11 @@
                 "-mthumb",
                 "-Wall",
                 "-Werror",
-                "-Wextra",
+                "-Wno-psabi",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
                 "-Wno-missing-field-initializers",
                 "-Wno-unused-parameter",
-                "-Wno-c++11-narrowing",
-                "-Wno-covered-switch-default",
-                "-Wno-unneeded-internal-declaration",
-                "-Wno-inconsistent-missing-override",
-                "-Wno-undefined-var-template",
-                "-Wno-nonportable-include-path",
-                "-Wno-address-of-packed-member",
-                "-Wno-unused-lambda-capture",
-                "-Wno-user-defined-warnings",
                 "-O2",
                 "-fno-ident",
                 "-fdata-sections",
@@ -10379,42 +7574,17 @@
                 "-fomit-frame-pointer",
                 "-g0",
                 "-fvisibility=hidden",
-                "-Xclang",
-                "-load",
-                "-Xclang",
-                "../../../../../../media/webrtc/trunk/webrtc/third_party/llvm-build/Release+Asserts/lib/libFindBadConstructs.so",
-                "-Xclang",
-                "-add-plugin",
-                "-Xclang",
-                "find-bad-constructs",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-auto-raw-pointer",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-ipc",
-                "-Wheader-hygiene",
-                "-Wstring-conversion",
-                "-Wtautological-overlap-compare",
                 "-Wextra",
                 "-Wno-unused-parameter",
                 "-Wno-missing-field-initializers",
-                "-Wno-strict-overflow",
-                "-Wc++11-narrowing",
-                "-Wimplicit-fallthrough",
-                "-Wthread-safety",
-                "-Winconsistent-missing-override",
-                "-Wundef",
-                "-Wunused-lambda-capture"
+                "-Wno-strict-overflow"
             ],
             "defines": [
                 "V8_DEPRECATION_WARNINGS",
                 "USE_NSS_CERTS=1",
-                "USE_X11=1",
                 "CHROMIUM_BUILD",
                 "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
                 "NDEBUG",
                 "NVALGRIND",
                 "DYNAMIC_ANNOTATIONS_ENABLED=0",
@@ -10454,8 +7624,6 @@
                 "-funwind-tables",
                 "-fPIC",
                 "-pipe",
-                "-fcolor-diagnostics",
-                "--target=arm-linux-gnueabihf",
                 "-march=armv7-a",
                 "-mfloat-abi=hard",
                 "-mtune=generic-armv7-a",
@@ -10464,18 +7632,11 @@
                 "-mthumb",
                 "-Wall",
                 "-Werror",
-                "-Wextra",
+                "-Wno-psabi",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
                 "-Wno-missing-field-initializers",
                 "-Wno-unused-parameter",
-                "-Wno-c++11-narrowing",
-                "-Wno-covered-switch-default",
-                "-Wno-unneeded-internal-declaration",
-                "-Wno-inconsistent-missing-override",
-                "-Wno-undefined-var-template",
-                "-Wno-nonportable-include-path",
-                "-Wno-address-of-packed-member",
-                "-Wno-unused-lambda-capture",
-                "-Wno-user-defined-warnings",
                 "-O2",
                 "-fno-ident",
                 "-fdata-sections",
@@ -10483,42 +7644,17 @@
                 "-fomit-frame-pointer",
                 "-g0",
                 "-fvisibility=hidden",
-                "-Xclang",
-                "-load",
-                "-Xclang",
-                "../../../../../../media/webrtc/trunk/webrtc/third_party/llvm-build/Release+Asserts/lib/libFindBadConstructs.so",
-                "-Xclang",
-                "-add-plugin",
-                "-Xclang",
-                "find-bad-constructs",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-auto-raw-pointer",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-ipc",
-                "-Wheader-hygiene",
-                "-Wstring-conversion",
-                "-Wtautological-overlap-compare",
                 "-Wextra",
                 "-Wno-unused-parameter",
                 "-Wno-missing-field-initializers",
-                "-Wno-strict-overflow",
-                "-Wc++11-narrowing",
-                "-Wimplicit-fallthrough",
-                "-Wthread-safety",
-                "-Winconsistent-missing-override",
-                "-Wundef",
-                "-Wunused-lambda-capture"
+                "-Wno-strict-overflow"
             ],
             "defines": [
                 "V8_DEPRECATION_WARNINGS",
                 "USE_NSS_CERTS=1",
-                "USE_X11=1",
                 "CHROMIUM_BUILD",
                 "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
                 "NDEBUG",
                 "NVALGRIND",
                 "DYNAMIC_ANNOTATIONS_ENABLED=0",
@@ -10558,8 +7694,6 @@
                 "-funwind-tables",
                 "-fPIC",
                 "-pipe",
-                "-fcolor-diagnostics",
-                "--target=arm-linux-gnueabihf",
                 "-march=armv7-a",
                 "-mfloat-abi=hard",
                 "-mtune=generic-armv7-a",
@@ -10568,18 +7702,11 @@
                 "-mthumb",
                 "-Wall",
                 "-Werror",
-                "-Wextra",
+                "-Wno-psabi",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
                 "-Wno-missing-field-initializers",
                 "-Wno-unused-parameter",
-                "-Wno-c++11-narrowing",
-                "-Wno-covered-switch-default",
-                "-Wno-unneeded-internal-declaration",
-                "-Wno-inconsistent-missing-override",
-                "-Wno-undefined-var-template",
-                "-Wno-nonportable-include-path",
-                "-Wno-address-of-packed-member",
-                "-Wno-unused-lambda-capture",
-                "-Wno-user-defined-warnings",
                 "-O2",
                 "-fno-ident",
                 "-fdata-sections",
@@ -10587,42 +7714,17 @@
                 "-fomit-frame-pointer",
                 "-g0",
                 "-fvisibility=hidden",
-                "-Xclang",
-                "-load",
-                "-Xclang",
-                "../../../../../../media/webrtc/trunk/webrtc/third_party/llvm-build/Release+Asserts/lib/libFindBadConstructs.so",
-                "-Xclang",
-                "-add-plugin",
-                "-Xclang",
-                "find-bad-constructs",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-auto-raw-pointer",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-ipc",
-                "-Wheader-hygiene",
-                "-Wstring-conversion",
-                "-Wtautological-overlap-compare",
                 "-Wextra",
                 "-Wno-unused-parameter",
                 "-Wno-missing-field-initializers",
-                "-Wno-strict-overflow",
-                "-Wc++11-narrowing",
-                "-Wimplicit-fallthrough",
-                "-Wthread-safety",
-                "-Winconsistent-missing-override",
-                "-Wundef",
-                "-Wunused-lambda-capture"
+                "-Wno-strict-overflow"
             ],
             "defines": [
                 "V8_DEPRECATION_WARNINGS",
                 "USE_NSS_CERTS=1",
-                "USE_X11=1",
                 "CHROMIUM_BUILD",
                 "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
                 "NDEBUG",
                 "NVALGRIND",
                 "DYNAMIC_ANNOTATIONS_ENABLED=0",
@@ -10663,8 +7765,6 @@
                 "-funwind-tables",
                 "-fPIC",
                 "-pipe",
-                "-fcolor-diagnostics",
-                "--target=arm-linux-gnueabihf",
                 "-march=armv7-a",
                 "-mfloat-abi=hard",
                 "-mtune=generic-armv7-a",
@@ -10673,18 +7773,11 @@
                 "-mthumb",
                 "-Wall",
                 "-Werror",
-                "-Wextra",
+                "-Wno-psabi",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
                 "-Wno-missing-field-initializers",
                 "-Wno-unused-parameter",
-                "-Wno-c++11-narrowing",
-                "-Wno-covered-switch-default",
-                "-Wno-unneeded-internal-declaration",
-                "-Wno-inconsistent-missing-override",
-                "-Wno-undefined-var-template",
-                "-Wno-nonportable-include-path",
-                "-Wno-address-of-packed-member",
-                "-Wno-unused-lambda-capture",
-                "-Wno-user-defined-warnings",
                 "-O2",
                 "-fno-ident",
                 "-fdata-sections",
@@ -10692,35 +7785,10 @@
                 "-fomit-frame-pointer",
                 "-g0",
                 "-fvisibility=hidden",
-                "-Xclang",
-                "-load",
-                "-Xclang",
-                "../../../../../../media/webrtc/trunk/webrtc/third_party/llvm-build/Release+Asserts/lib/libFindBadConstructs.so",
-                "-Xclang",
-                "-add-plugin",
-                "-Xclang",
-                "find-bad-constructs",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-auto-raw-pointer",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-ipc",
-                "-Wheader-hygiene",
-                "-Wstring-conversion",
-                "-Wtautological-overlap-compare",
                 "-Wextra",
                 "-Wno-unused-parameter",
                 "-Wno-missing-field-initializers",
-                "-Wno-strict-overflow",
-                "-Wc++11-narrowing",
-                "-Wimplicit-fallthrough",
-                "-Wthread-safety",
-                "-Winconsistent-missing-override",
-                "-Wundef",
-                "-Wunused-lambda-capture"
+                "-Wno-strict-overflow"
             ],
             "defines": [
                 "WEBRTC_APM_DEBUG_DUMP=1",
@@ -10728,9 +7796,9 @@
                 "WEBRTC_NS_FIXED",
                 "V8_DEPRECATION_WARNINGS",
                 "USE_NSS_CERTS=1",
-                "USE_X11=1",
                 "CHROMIUM_BUILD",
                 "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
                 "NDEBUG",
                 "NVALGRIND",
                 "DYNAMIC_ANNOTATIONS_ENABLED=0",
@@ -11002,8 +8070,6 @@
                 "-funwind-tables",
                 "-fPIC",
                 "-pipe",
-                "-fcolor-diagnostics",
-                "--target=arm-linux-gnueabihf",
                 "-march=armv7-a",
                 "-mfloat-abi=hard",
                 "-mtune=generic-armv7-a",
@@ -11012,18 +8078,11 @@
                 "-mthumb",
                 "-Wall",
                 "-Werror",
-                "-Wextra",
+                "-Wno-psabi",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
                 "-Wno-missing-field-initializers",
                 "-Wno-unused-parameter",
-                "-Wno-c++11-narrowing",
-                "-Wno-covered-switch-default",
-                "-Wno-unneeded-internal-declaration",
-                "-Wno-inconsistent-missing-override",
-                "-Wno-undefined-var-template",
-                "-Wno-nonportable-include-path",
-                "-Wno-address-of-packed-member",
-                "-Wno-unused-lambda-capture",
-                "-Wno-user-defined-warnings",
                 "-O2",
                 "-fno-ident",
                 "-fdata-sections",
@@ -11031,42 +8090,17 @@
                 "-fomit-frame-pointer",
                 "-g0",
                 "-fvisibility=hidden",
-                "-Xclang",
-                "-load",
-                "-Xclang",
-                "../../../../../../media/webrtc/trunk/webrtc/third_party/llvm-build/Release+Asserts/lib/libFindBadConstructs.so",
-                "-Xclang",
-                "-add-plugin",
-                "-Xclang",
-                "find-bad-constructs",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-auto-raw-pointer",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-ipc",
-                "-Wheader-hygiene",
-                "-Wstring-conversion",
-                "-Wtautological-overlap-compare",
                 "-Wextra",
                 "-Wno-unused-parameter",
                 "-Wno-missing-field-initializers",
-                "-Wno-strict-overflow",
-                "-Wc++11-narrowing",
-                "-Wimplicit-fallthrough",
-                "-Wthread-safety",
-                "-Winconsistent-missing-override",
-                "-Wundef",
-                "-Wunused-lambda-capture"
+                "-Wno-strict-overflow"
             ],
             "defines": [
                 "V8_DEPRECATION_WARNINGS",
                 "USE_NSS_CERTS=1",
-                "USE_X11=1",
                 "CHROMIUM_BUILD",
                 "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
                 "NDEBUG",
                 "NVALGRIND",
                 "DYNAMIC_ANNOTATIONS_ENABLED=0",
@@ -11125,8 +8159,6 @@
                 "-funwind-tables",
                 "-fPIC",
                 "-pipe",
-                "-fcolor-diagnostics",
-                "--target=arm-linux-gnueabihf",
                 "-march=armv7-a",
                 "-mfloat-abi=hard",
                 "-mtune=generic-armv7-a",
@@ -11134,18 +8166,11 @@
                 "-mthumb",
                 "-Wall",
                 "-Werror",
-                "-Wextra",
+                "-Wno-psabi",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
                 "-Wno-missing-field-initializers",
                 "-Wno-unused-parameter",
-                "-Wno-c++11-narrowing",
-                "-Wno-covered-switch-default",
-                "-Wno-unneeded-internal-declaration",
-                "-Wno-inconsistent-missing-override",
-                "-Wno-undefined-var-template",
-                "-Wno-nonportable-include-path",
-                "-Wno-address-of-packed-member",
-                "-Wno-unused-lambda-capture",
-                "-Wno-user-defined-warnings",
                 "-O2",
                 "-fno-ident",
                 "-fdata-sections",
@@ -11153,43 +8178,18 @@
                 "-fomit-frame-pointer",
                 "-g0",
                 "-fvisibility=hidden",
-                "-Xclang",
-                "-load",
-                "-Xclang",
-                "../../../../../../media/webrtc/trunk/webrtc/third_party/llvm-build/Release+Asserts/lib/libFindBadConstructs.so",
-                "-Xclang",
-                "-add-plugin",
-                "-Xclang",
-                "find-bad-constructs",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-auto-raw-pointer",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-ipc",
-                "-Wheader-hygiene",
-                "-Wstring-conversion",
-                "-Wtautological-overlap-compare",
                 "-Wextra",
                 "-Wno-unused-parameter",
                 "-Wno-missing-field-initializers",
-                "-Wno-strict-overflow",
-                "-Wc++11-narrowing",
-                "-Wimplicit-fallthrough",
-                "-Wthread-safety",
-                "-Winconsistent-missing-override",
-                "-Wundef",
-                "-Wunused-lambda-capture"
+                "-Wno-strict-overflow"
             ],
             "defines": [
                 "WEBRTC_APM_DEBUG_DUMP=1",
                 "V8_DEPRECATION_WARNINGS",
                 "USE_NSS_CERTS=1",
-                "USE_X11=1",
                 "CHROMIUM_BUILD",
                 "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
                 "NDEBUG",
                 "NVALGRIND",
                 "DYNAMIC_ANNOTATIONS_ENABLED=0",
@@ -11238,8 +8238,6 @@
                 "-funwind-tables",
                 "-fPIC",
                 "-pipe",
-                "-fcolor-diagnostics",
-                "--target=arm-linux-gnueabihf",
                 "-march=armv7-a",
                 "-mfloat-abi=hard",
                 "-mtune=generic-armv7-a",
@@ -11247,18 +8245,11 @@
                 "-mthumb",
                 "-Wall",
                 "-Werror",
-                "-Wextra",
+                "-Wno-psabi",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
                 "-Wno-missing-field-initializers",
                 "-Wno-unused-parameter",
-                "-Wno-c++11-narrowing",
-                "-Wno-covered-switch-default",
-                "-Wno-unneeded-internal-declaration",
-                "-Wno-inconsistent-missing-override",
-                "-Wno-undefined-var-template",
-                "-Wno-nonportable-include-path",
-                "-Wno-address-of-packed-member",
-                "-Wno-unused-lambda-capture",
-                "-Wno-user-defined-warnings",
                 "-O2",
                 "-fno-ident",
                 "-fdata-sections",
@@ -11266,42 +8257,17 @@
                 "-fomit-frame-pointer",
                 "-g0",
                 "-fvisibility=hidden",
-                "-Xclang",
-                "-load",
-                "-Xclang",
-                "../../../../../../media/webrtc/trunk/webrtc/third_party/llvm-build/Release+Asserts/lib/libFindBadConstructs.so",
-                "-Xclang",
-                "-add-plugin",
-                "-Xclang",
-                "find-bad-constructs",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-auto-raw-pointer",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-ipc",
-                "-Wheader-hygiene",
-                "-Wstring-conversion",
-                "-Wtautological-overlap-compare",
                 "-Wextra",
                 "-Wno-unused-parameter",
                 "-Wno-missing-field-initializers",
-                "-Wno-strict-overflow",
-                "-Wc++11-narrowing",
-                "-Wimplicit-fallthrough",
-                "-Wthread-safety",
-                "-Winconsistent-missing-override",
-                "-Wundef",
-                "-Wunused-lambda-capture"
+                "-Wno-strict-overflow"
             ],
             "defines": [
                 "V8_DEPRECATION_WARNINGS",
                 "USE_NSS_CERTS=1",
-                "USE_X11=1",
                 "CHROMIUM_BUILD",
                 "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
                 "NDEBUG",
                 "NVALGRIND",
                 "DYNAMIC_ANNOTATIONS_ENABLED=0",
@@ -11340,8 +8306,6 @@
                 "-funwind-tables",
                 "-fPIC",
                 "-pipe",
-                "-fcolor-diagnostics",
-                "--target=arm-linux-gnueabihf",
                 "-march=armv7-a",
                 "-mfloat-abi=hard",
                 "-mtune=generic-armv7-a",
@@ -11350,18 +8314,11 @@
                 "-mthumb",
                 "-Wall",
                 "-Werror",
-                "-Wextra",
+                "-Wno-psabi",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
                 "-Wno-missing-field-initializers",
                 "-Wno-unused-parameter",
-                "-Wno-c++11-narrowing",
-                "-Wno-covered-switch-default",
-                "-Wno-unneeded-internal-declaration",
-                "-Wno-inconsistent-missing-override",
-                "-Wno-undefined-var-template",
-                "-Wno-nonportable-include-path",
-                "-Wno-address-of-packed-member",
-                "-Wno-unused-lambda-capture",
-                "-Wno-user-defined-warnings",
                 "-O2",
                 "-fno-ident",
                 "-fdata-sections",
@@ -11369,42 +8326,17 @@
                 "-fomit-frame-pointer",
                 "-g0",
                 "-fvisibility=hidden",
-                "-Xclang",
-                "-load",
-                "-Xclang",
-                "../../../../../../media/webrtc/trunk/webrtc/third_party/llvm-build/Release+Asserts/lib/libFindBadConstructs.so",
-                "-Xclang",
-                "-add-plugin",
-                "-Xclang",
-                "find-bad-constructs",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-auto-raw-pointer",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-ipc",
-                "-Wheader-hygiene",
-                "-Wstring-conversion",
-                "-Wtautological-overlap-compare",
                 "-Wextra",
                 "-Wno-unused-parameter",
                 "-Wno-missing-field-initializers",
-                "-Wno-strict-overflow",
-                "-Wc++11-narrowing",
-                "-Wimplicit-fallthrough",
-                "-Wthread-safety",
-                "-Winconsistent-missing-override",
-                "-Wundef",
-                "-Wunused-lambda-capture"
+                "-Wno-strict-overflow"
             ],
             "defines": [
                 "V8_DEPRECATION_WARNINGS",
                 "USE_NSS_CERTS=1",
-                "USE_X11=1",
                 "CHROMIUM_BUILD",
                 "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
                 "NDEBUG",
                 "NVALGRIND",
                 "DYNAMIC_ANNOTATIONS_ENABLED=0",
@@ -11444,8 +8376,6 @@
                 "-funwind-tables",
                 "-fPIC",
                 "-pipe",
-                "-fcolor-diagnostics",
-                "--target=arm-linux-gnueabihf",
                 "-march=armv7-a",
                 "-mfloat-abi=hard",
                 "-mtune=generic-armv7-a",
@@ -11454,18 +8384,11 @@
                 "-mthumb",
                 "-Wall",
                 "-Werror",
-                "-Wextra",
+                "-Wno-psabi",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
                 "-Wno-missing-field-initializers",
                 "-Wno-unused-parameter",
-                "-Wno-c++11-narrowing",
-                "-Wno-covered-switch-default",
-                "-Wno-unneeded-internal-declaration",
-                "-Wno-inconsistent-missing-override",
-                "-Wno-undefined-var-template",
-                "-Wno-nonportable-include-path",
-                "-Wno-address-of-packed-member",
-                "-Wno-unused-lambda-capture",
-                "-Wno-user-defined-warnings",
                 "-O2",
                 "-fno-ident",
                 "-fdata-sections",
@@ -11473,27 +8396,18 @@
                 "-fomit-frame-pointer",
                 "-g0",
                 "-fvisibility=hidden",
-                "-Wheader-hygiene",
-                "-Wstring-conversion",
-                "-Wtautological-overlap-compare",
                 "-Wextra",
                 "-Wno-unused-parameter",
                 "-Wno-missing-field-initializers",
-                "-Wno-strict-overflow",
-                "-Wc++11-narrowing",
-                "-Wimplicit-fallthrough",
-                "-Wthread-safety",
-                "-Winconsistent-missing-override",
-                "-Wundef",
-                "-Wunused-lambda-capture"
+                "-Wno-strict-overflow"
             ],
             "defines": [
                 "BWE_TEST_LOGGING_COMPILE_TIME_ENABLE=0",
                 "V8_DEPRECATION_WARNINGS",
                 "USE_NSS_CERTS=1",
-                "USE_X11=1",
                 "CHROMIUM_BUILD",
                 "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
                 "NDEBUG",
                 "NVALGRIND",
                 "DYNAMIC_ANNOTATIONS_ENABLED=0",
@@ -11540,8 +8454,6 @@
                 "-funwind-tables",
                 "-fPIC",
                 "-pipe",
-                "-fcolor-diagnostics",
-                "--target=arm-linux-gnueabihf",
                 "-march=armv7-a",
                 "-mfloat-abi=hard",
                 "-mtune=generic-armv7-a",
@@ -11550,18 +8462,11 @@
                 "-mthumb",
                 "-Wall",
                 "-Werror",
-                "-Wextra",
+                "-Wno-psabi",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
                 "-Wno-missing-field-initializers",
                 "-Wno-unused-parameter",
-                "-Wno-c++11-narrowing",
-                "-Wno-covered-switch-default",
-                "-Wno-unneeded-internal-declaration",
-                "-Wno-inconsistent-missing-override",
-                "-Wno-undefined-var-template",
-                "-Wno-nonportable-include-path",
-                "-Wno-address-of-packed-member",
-                "-Wno-unused-lambda-capture",
-                "-Wno-user-defined-warnings",
                 "-O2",
                 "-fno-ident",
                 "-fdata-sections",
@@ -11569,27 +8474,18 @@
                 "-fomit-frame-pointer",
                 "-g0",
                 "-fvisibility=hidden",
-                "-Wheader-hygiene",
-                "-Wstring-conversion",
-                "-Wtautological-overlap-compare",
                 "-Wextra",
                 "-Wno-unused-parameter",
                 "-Wno-missing-field-initializers",
-                "-Wno-strict-overflow",
-                "-Wc++11-narrowing",
-                "-Wimplicit-fallthrough",
-                "-Wthread-safety",
-                "-Winconsistent-missing-override",
-                "-Wundef",
-                "-Wunused-lambda-capture"
+                "-Wno-strict-overflow"
             ],
             "defines": [
                 "BWE_TEST_LOGGING_COMPILE_TIME_ENABLE=0",
                 "V8_DEPRECATION_WARNINGS",
                 "USE_NSS_CERTS=1",
-                "USE_X11=1",
                 "CHROMIUM_BUILD",
                 "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
                 "NDEBUG",
                 "NVALGRIND",
                 "DYNAMIC_ANNOTATIONS_ENABLED=0",
@@ -11649,418 +8545,6 @@
             ],
             "type": "static_library"
         },
-        "//modules/desktop_capture:desktop_capture": {
-            "cflags": [
-                "-fno-strict-aliasing",
-                "--param=ssp-buffer-size=4",
-                "-fstack-protector",
-                "-Wno-builtin-macro-redefined",
-                "-D__DATE__=",
-                "-D__TIME__=",
-                "-D__TIMESTAMP__=",
-                "-funwind-tables",
-                "-fPIC",
-                "-pipe",
-                "-fcolor-diagnostics",
-                "--target=arm-linux-gnueabihf",
-                "-march=armv7-a",
-                "-mfloat-abi=hard",
-                "-mtune=generic-armv7-a",
-                "-pthread",
-                "-mfpu=neon",
-                "-mthumb",
-                "-Wall",
-                "-Werror",
-                "-Wextra",
-                "-Wno-missing-field-initializers",
-                "-Wno-unused-parameter",
-                "-Wno-c++11-narrowing",
-                "-Wno-covered-switch-default",
-                "-Wno-unneeded-internal-declaration",
-                "-Wno-inconsistent-missing-override",
-                "-Wno-undefined-var-template",
-                "-Wno-nonportable-include-path",
-                "-Wno-address-of-packed-member",
-                "-Wno-unused-lambda-capture",
-                "-Wno-user-defined-warnings",
-                "-O2",
-                "-fno-ident",
-                "-fdata-sections",
-                "-ffunction-sections",
-                "-fomit-frame-pointer",
-                "-g0",
-                "-fvisibility=hidden",
-                "-Xclang",
-                "-load",
-                "-Xclang",
-                "../../../../../../media/webrtc/trunk/webrtc/third_party/llvm-build/Release+Asserts/lib/libFindBadConstructs.so",
-                "-Xclang",
-                "-add-plugin",
-                "-Xclang",
-                "find-bad-constructs",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-auto-raw-pointer",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-ipc",
-                "-Wheader-hygiene",
-                "-Wstring-conversion",
-                "-Wtautological-overlap-compare",
-                "-Wextra",
-                "-Wno-unused-parameter",
-                "-Wno-missing-field-initializers",
-                "-Wno-strict-overflow",
-                "-Wc++11-narrowing",
-                "-Wimplicit-fallthrough",
-                "-Wthread-safety",
-                "-Winconsistent-missing-override",
-                "-Wundef",
-                "-Wunused-lambda-capture"
-            ],
-            "defines": [
-                "V8_DEPRECATION_WARNINGS",
-                "USE_NSS_CERTS=1",
-                "USE_X11=1",
-                "CHROMIUM_BUILD",
-                "_FILE_OFFSET_BITS=64",
-                "NDEBUG",
-                "NVALGRIND",
-                "DYNAMIC_ANNOTATIONS_ENABLED=0",
-                "WEBRTC_ENABLE_PROTOBUF=0",
-                "WEBRTC_RESTRICT_LOGGING",
-                "WEBRTC_ARCH_ARM",
-                "WEBRTC_ARCH_ARM_V7",
-                "WEBRTC_HAS_NEON",
-                "WEBRTC_MOZILLA_BUILD",
-                "WEBRTC_NON_STATIC_TRACE_EVENT_HANDLERS=0",
-                "WEBRTC_POSIX",
-                "WEBRTC_LINUX"
-            ],
-            "deps": [
-                "//modules/desktop_capture:desktop_capture_generic"
-            ],
-            "include_dirs": [
-                "//",
-                "/home/jenkins/workspace/Firefox-default/label/armv7/firefox/obj-armv7l-unknown-linux-gnueabihf/media/webrtc/trunk/webrtc/gn-output/gen/"
-            ],
-            "libs": [
-                "X11",
-                "X11-xcb",
-                "xcb",
-                "Xcomposite",
-                "Xcursor",
-                "Xdamage",
-                "Xext",
-                "Xfixes",
-                "Xi",
-                "Xrender",
-                "rt"
-            ],
-            "sources": [],
-            "type": "source_set"
-        },
-        "//modules/desktop_capture:desktop_capture_generic": {
-            "cflags": [
-                "-fno-strict-aliasing",
-                "--param=ssp-buffer-size=4",
-                "-fstack-protector",
-                "-Wno-builtin-macro-redefined",
-                "-D__DATE__=",
-                "-D__TIME__=",
-                "-D__TIMESTAMP__=",
-                "-funwind-tables",
-                "-fPIC",
-                "-pipe",
-                "-fcolor-diagnostics",
-                "--target=arm-linux-gnueabihf",
-                "-march=armv7-a",
-                "-mfloat-abi=hard",
-                "-mtune=generic-armv7-a",
-                "-pthread",
-                "-mfpu=neon",
-                "-mthumb",
-                "-Wall",
-                "-Werror",
-                "-Wextra",
-                "-Wno-missing-field-initializers",
-                "-Wno-unused-parameter",
-                "-Wno-c++11-narrowing",
-                "-Wno-covered-switch-default",
-                "-Wno-unneeded-internal-declaration",
-                "-Wno-inconsistent-missing-override",
-                "-Wno-undefined-var-template",
-                "-Wno-nonportable-include-path",
-                "-Wno-address-of-packed-member",
-                "-Wno-unused-lambda-capture",
-                "-Wno-user-defined-warnings",
-                "-O2",
-                "-fno-ident",
-                "-fdata-sections",
-                "-ffunction-sections",
-                "-fomit-frame-pointer",
-                "-g0",
-                "-fvisibility=hidden",
-                "-Xclang",
-                "-load",
-                "-Xclang",
-                "../../../../../../media/webrtc/trunk/webrtc/third_party/llvm-build/Release+Asserts/lib/libFindBadConstructs.so",
-                "-Xclang",
-                "-add-plugin",
-                "-Xclang",
-                "find-bad-constructs",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-auto-raw-pointer",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-ipc",
-                "-Wheader-hygiene",
-                "-Wstring-conversion",
-                "-Wtautological-overlap-compare",
-                "-Wextra",
-                "-Wno-unused-parameter",
-                "-Wno-missing-field-initializers",
-                "-Wno-strict-overflow",
-                "-Wc++11-narrowing",
-                "-Wimplicit-fallthrough",
-                "-Wthread-safety",
-                "-Winconsistent-missing-override",
-                "-Wundef",
-                "-Wunused-lambda-capture"
-            ],
-            "defines": [
-                "MULTI_MONITOR_SCREENSHARE",
-                "V8_DEPRECATION_WARNINGS",
-                "USE_NSS_CERTS=1",
-                "USE_X11=1",
-                "CHROMIUM_BUILD",
-                "_FILE_OFFSET_BITS=64",
-                "NDEBUG",
-                "NVALGRIND",
-                "DYNAMIC_ANNOTATIONS_ENABLED=0",
-                "WEBRTC_ENABLE_PROTOBUF=0",
-                "WEBRTC_RESTRICT_LOGGING",
-                "WEBRTC_ARCH_ARM",
-                "WEBRTC_ARCH_ARM_V7",
-                "WEBRTC_HAS_NEON",
-                "WEBRTC_MOZILLA_BUILD",
-                "WEBRTC_NON_STATIC_TRACE_EVENT_HANDLERS=0",
-                "WEBRTC_POSIX",
-                "WEBRTC_LINUX"
-            ],
-            "deps": [
-                "//:webrtc_common",
-                "//api:refcountedbase",
-                "//modules/desktop_capture:primitives",
-                "//rtc_base:rtc_base",
-                "//rtc_base:rtc_base_approved",
-                "//system_wrappers:system_wrappers"
-            ],
-            "include_dirs": [
-                "/media/libyuv/libyuv/include/",
-                "//",
-                "/home/jenkins/workspace/Firefox-default/label/armv7/firefox/obj-armv7l-unknown-linux-gnueabihf/media/webrtc/trunk/webrtc/gn-output/gen/"
-            ],
-            "libs": [
-                "X11",
-                "X11-xcb",
-                "xcb",
-                "Xcomposite",
-                "Xcursor",
-                "Xdamage",
-                "Xext",
-                "Xfixes",
-                "Xi",
-                "Xrender",
-                "rt"
-            ],
-            "sources": [
-                "//modules/desktop_capture/blank_detector_desktop_capturer_wrapper.cc",
-                "//modules/desktop_capture/blank_detector_desktop_capturer_wrapper.h",
-                "//modules/desktop_capture/capture_result_desktop_capturer_wrapper.cc",
-                "//modules/desktop_capture/capture_result_desktop_capturer_wrapper.h",
-                "//modules/desktop_capture/cropped_desktop_frame.cc",
-                "//modules/desktop_capture/cropped_desktop_frame.h",
-                "//modules/desktop_capture/cropping_window_capturer.cc",
-                "//modules/desktop_capture/cropping_window_capturer.h",
-                "//modules/desktop_capture/desktop_and_cursor_composer.cc",
-                "//modules/desktop_capture/desktop_and_cursor_composer.h",
-                "//modules/desktop_capture/desktop_capture_options.cc",
-                "//modules/desktop_capture/desktop_capture_options.h",
-                "//modules/desktop_capture/desktop_capturer.cc",
-                "//modules/desktop_capture/desktop_capturer.h",
-                "//modules/desktop_capture/desktop_capturer_differ_wrapper.cc",
-                "//modules/desktop_capture/desktop_capturer_differ_wrapper.h",
-                "//modules/desktop_capture/desktop_capturer_wrapper.cc",
-                "//modules/desktop_capture/desktop_capturer_wrapper.h",
-                "//modules/desktop_capture/desktop_frame_generator.cc",
-                "//modules/desktop_capture/desktop_frame_generator.h",
-                "//modules/desktop_capture/desktop_frame_rotation.cc",
-                "//modules/desktop_capture/desktop_frame_rotation.h",
-                "//modules/desktop_capture/differ_block.cc",
-                "//modules/desktop_capture/differ_block.h",
-                "//modules/desktop_capture/fallback_desktop_capturer_wrapper.cc",
-                "//modules/desktop_capture/fallback_desktop_capturer_wrapper.h",
-                "//modules/desktop_capture/mouse_cursor.cc",
-                "//modules/desktop_capture/mouse_cursor.h",
-                "//modules/desktop_capture/mouse_cursor_monitor.h",
-                "//modules/desktop_capture/resolution_tracker.cc",
-                "//modules/desktop_capture/resolution_tracker.h",
-                "//modules/desktop_capture/rgba_color.cc",
-                "//modules/desktop_capture/rgba_color.h",
-                "//modules/desktop_capture/screen_capture_frame_queue.h",
-                "//modules/desktop_capture/screen_capturer_helper.cc",
-                "//modules/desktop_capture/screen_capturer_helper.h",
-                "//modules/desktop_capture/window_finder.cc",
-                "//modules/desktop_capture/window_finder.h",
-                "//modules/desktop_capture/desktop_device_info.cc",
-                "//modules/desktop_capture/desktop_device_info.h",
-                "//modules/desktop_capture/mouse_cursor_monitor_linux.cc",
-                "//modules/desktop_capture/screen_capturer_linux.cc",
-                "//modules/desktop_capture/window_capturer_linux.cc",
-                "//modules/desktop_capture/linux/mouse_cursor_monitor_x11.cc",
-                "//modules/desktop_capture/linux/mouse_cursor_monitor_x11.h",
-                "//modules/desktop_capture/linux/screen_capturer_x11.cc",
-                "//modules/desktop_capture/linux/screen_capturer_x11.h",
-                "//modules/desktop_capture/linux/shared_x_display.cc",
-                "//modules/desktop_capture/linux/shared_x_display.h",
-                "//modules/desktop_capture/linux/window_capturer_x11.cc",
-                "//modules/desktop_capture/linux/window_capturer_x11.h",
-                "//modules/desktop_capture/linux/window_finder_x11.cc",
-                "//modules/desktop_capture/linux/window_finder_x11.h",
-                "//modules/desktop_capture/linux/window_list_utils.cc",
-                "//modules/desktop_capture/linux/window_list_utils.h",
-                "//modules/desktop_capture/linux/x_atom_cache.cc",
-                "//modules/desktop_capture/linux/x_atom_cache.h",
-                "//modules/desktop_capture/linux/x_error_trap.cc",
-                "//modules/desktop_capture/linux/x_error_trap.h",
-                "//modules/desktop_capture/linux/x_server_pixel_buffer.cc",
-                "//modules/desktop_capture/linux/x_server_pixel_buffer.h",
-                "//modules/desktop_capture/linux/desktop_device_info_x11.cc",
-                "//modules/desktop_capture/linux/desktop_device_info_x11.h",
-                "//modules/desktop_capture/linux/shared_x_util.cc",
-                "//modules/desktop_capture/linux/shared_x_util.h"
-            ],
-            "type": "static_library"
-        },
-        "//modules/desktop_capture:primitives": {
-            "cflags": [
-                "-fno-strict-aliasing",
-                "--param=ssp-buffer-size=4",
-                "-fstack-protector",
-                "-Wno-builtin-macro-redefined",
-                "-D__DATE__=",
-                "-D__TIME__=",
-                "-D__TIMESTAMP__=",
-                "-funwind-tables",
-                "-fPIC",
-                "-pipe",
-                "-fcolor-diagnostics",
-                "--target=arm-linux-gnueabihf",
-                "-march=armv7-a",
-                "-mfloat-abi=hard",
-                "-mtune=generic-armv7-a",
-                "-pthread",
-                "-mfpu=neon",
-                "-mthumb",
-                "-Wall",
-                "-Werror",
-                "-Wextra",
-                "-Wno-missing-field-initializers",
-                "-Wno-unused-parameter",
-                "-Wno-c++11-narrowing",
-                "-Wno-covered-switch-default",
-                "-Wno-unneeded-internal-declaration",
-                "-Wno-inconsistent-missing-override",
-                "-Wno-undefined-var-template",
-                "-Wno-nonportable-include-path",
-                "-Wno-address-of-packed-member",
-                "-Wno-unused-lambda-capture",
-                "-Wno-user-defined-warnings",
-                "-O2",
-                "-fno-ident",
-                "-fdata-sections",
-                "-ffunction-sections",
-                "-fomit-frame-pointer",
-                "-g0",
-                "-fvisibility=hidden",
-                "-Xclang",
-                "-load",
-                "-Xclang",
-                "../../../../../../media/webrtc/trunk/webrtc/third_party/llvm-build/Release+Asserts/lib/libFindBadConstructs.so",
-                "-Xclang",
-                "-add-plugin",
-                "-Xclang",
-                "find-bad-constructs",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-auto-raw-pointer",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-ipc",
-                "-Wheader-hygiene",
-                "-Wstring-conversion",
-                "-Wtautological-overlap-compare",
-                "-Wextra",
-                "-Wno-unused-parameter",
-                "-Wno-missing-field-initializers",
-                "-Wno-strict-overflow",
-                "-Wc++11-narrowing",
-                "-Wimplicit-fallthrough",
-                "-Wthread-safety",
-                "-Winconsistent-missing-override",
-                "-Wundef",
-                "-Wunused-lambda-capture"
-            ],
-            "defines": [
-                "V8_DEPRECATION_WARNINGS",
-                "USE_NSS_CERTS=1",
-                "USE_X11=1",
-                "CHROMIUM_BUILD",
-                "_FILE_OFFSET_BITS=64",
-                "NDEBUG",
-                "NVALGRIND",
-                "DYNAMIC_ANNOTATIONS_ENABLED=0",
-                "WEBRTC_ENABLE_PROTOBUF=0",
-                "WEBRTC_RESTRICT_LOGGING",
-                "WEBRTC_ARCH_ARM",
-                "WEBRTC_ARCH_ARM_V7",
-                "WEBRTC_HAS_NEON",
-                "WEBRTC_MOZILLA_BUILD",
-                "WEBRTC_NON_STATIC_TRACE_EVENT_HANDLERS=0",
-                "WEBRTC_POSIX",
-                "WEBRTC_LINUX"
-            ],
-            "deps": [
-                "//:webrtc_common"
-            ],
-            "include_dirs": [
-                "//",
-                "/home/jenkins/workspace/Firefox-default/label/armv7/firefox/obj-armv7l-unknown-linux-gnueabihf/media/webrtc/trunk/webrtc/gn-output/gen/"
-            ],
-            "libs": [],
-            "sources": [
-                "//modules/desktop_capture/desktop_capture_types.h",
-                "//modules/desktop_capture/desktop_frame.cc",
-                "//modules/desktop_capture/desktop_frame.h",
-                "//modules/desktop_capture/desktop_geometry.cc",
-                "//modules/desktop_capture/desktop_geometry.h",
-                "//modules/desktop_capture/desktop_region.cc",
-                "//modules/desktop_capture/desktop_region.h",
-                "//modules/desktop_capture/shared_desktop_frame.cc",
-                "//modules/desktop_capture/shared_desktop_frame.h",
-                "//modules/desktop_capture/shared_memory.cc",
-                "//modules/desktop_capture/shared_memory.h"
-            ],
-            "type": "static_library"
-        },
         "//modules/media_file:media_file": {
             "cflags": [
                 "-fno-strict-aliasing",
@@ -12073,8 +8557,6 @@
                 "-funwind-tables",
                 "-fPIC",
                 "-pipe",
-                "-fcolor-diagnostics",
-                "--target=arm-linux-gnueabihf",
                 "-march=armv7-a",
                 "-mfloat-abi=hard",
                 "-mtune=generic-armv7-a",
@@ -12083,18 +8565,11 @@
                 "-mthumb",
                 "-Wall",
                 "-Werror",
-                "-Wextra",
+                "-Wno-psabi",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
                 "-Wno-missing-field-initializers",
                 "-Wno-unused-parameter",
-                "-Wno-c++11-narrowing",
-                "-Wno-covered-switch-default",
-                "-Wno-unneeded-internal-declaration",
-                "-Wno-inconsistent-missing-override",
-                "-Wno-undefined-var-template",
-                "-Wno-nonportable-include-path",
-                "-Wno-address-of-packed-member",
-                "-Wno-unused-lambda-capture",
-                "-Wno-user-defined-warnings",
                 "-O2",
                 "-fno-ident",
                 "-fdata-sections",
@@ -12102,26 +8577,17 @@
                 "-fomit-frame-pointer",
                 "-g0",
                 "-fvisibility=hidden",
-                "-Wheader-hygiene",
-                "-Wstring-conversion",
-                "-Wtautological-overlap-compare",
                 "-Wextra",
                 "-Wno-unused-parameter",
                 "-Wno-missing-field-initializers",
-                "-Wno-strict-overflow",
-                "-Wc++11-narrowing",
-                "-Wimplicit-fallthrough",
-                "-Wthread-safety",
-                "-Winconsistent-missing-override",
-                "-Wundef",
-                "-Wunused-lambda-capture"
+                "-Wno-strict-overflow"
             ],
             "defines": [
                 "V8_DEPRECATION_WARNINGS",
                 "USE_NSS_CERTS=1",
-                "USE_X11=1",
                 "CHROMIUM_BUILD",
                 "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
                 "NDEBUG",
                 "NVALGRIND",
                 "DYNAMIC_ANNOTATIONS_ENABLED=0",
@@ -12174,8 +8640,6 @@
                 "-funwind-tables",
                 "-fPIC",
                 "-pipe",
-                "-fcolor-diagnostics",
-                "--target=arm-linux-gnueabihf",
                 "-march=armv7-a",
                 "-mfloat-abi=hard",
                 "-mtune=generic-armv7-a",
@@ -12184,18 +8648,11 @@
                 "-mthumb",
                 "-Wall",
                 "-Werror",
-                "-Wextra",
+                "-Wno-psabi",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
                 "-Wno-missing-field-initializers",
                 "-Wno-unused-parameter",
-                "-Wno-c++11-narrowing",
-                "-Wno-covered-switch-default",
-                "-Wno-unneeded-internal-declaration",
-                "-Wno-inconsistent-missing-override",
-                "-Wno-undefined-var-template",
-                "-Wno-nonportable-include-path",
-                "-Wno-address-of-packed-member",
-                "-Wno-unused-lambda-capture",
-                "-Wno-user-defined-warnings",
                 "-O2",
                 "-fno-ident",
                 "-fdata-sections",
@@ -12203,26 +8660,17 @@
                 "-fomit-frame-pointer",
                 "-g0",
                 "-fvisibility=hidden",
-                "-Wheader-hygiene",
-                "-Wstring-conversion",
-                "-Wtautological-overlap-compare",
                 "-Wextra",
                 "-Wno-unused-parameter",
                 "-Wno-missing-field-initializers",
-                "-Wno-strict-overflow",
-                "-Wc++11-narrowing",
-                "-Wimplicit-fallthrough",
-                "-Wthread-safety",
-                "-Winconsistent-missing-override",
-                "-Wundef",
-                "-Wunused-lambda-capture"
+                "-Wno-strict-overflow"
             ],
             "defines": [
                 "V8_DEPRECATION_WARNINGS",
                 "USE_NSS_CERTS=1",
-                "USE_X11=1",
                 "CHROMIUM_BUILD",
                 "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
                 "NDEBUG",
                 "NVALGRIND",
                 "DYNAMIC_ANNOTATIONS_ENABLED=0",
@@ -12285,8 +8733,6 @@
                 "-funwind-tables",
                 "-fPIC",
                 "-pipe",
-                "-fcolor-diagnostics",
-                "--target=arm-linux-gnueabihf",
                 "-march=armv7-a",
                 "-mfloat-abi=hard",
                 "-mtune=generic-armv7-a",
@@ -12295,18 +8741,11 @@
                 "-mthumb",
                 "-Wall",
                 "-Werror",
-                "-Wextra",
+                "-Wno-psabi",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
                 "-Wno-missing-field-initializers",
                 "-Wno-unused-parameter",
-                "-Wno-c++11-narrowing",
-                "-Wno-covered-switch-default",
-                "-Wno-unneeded-internal-declaration",
-                "-Wno-inconsistent-missing-override",
-                "-Wno-undefined-var-template",
-                "-Wno-nonportable-include-path",
-                "-Wno-address-of-packed-member",
-                "-Wno-unused-lambda-capture",
-                "-Wno-user-defined-warnings",
                 "-O2",
                 "-fno-ident",
                 "-fdata-sections",
@@ -12314,27 +8753,18 @@
                 "-fomit-frame-pointer",
                 "-g0",
                 "-fvisibility=hidden",
-                "-Wheader-hygiene",
-                "-Wstring-conversion",
-                "-Wtautological-overlap-compare",
                 "-Wextra",
                 "-Wno-unused-parameter",
                 "-Wno-missing-field-initializers",
-                "-Wno-strict-overflow",
-                "-Wc++11-narrowing",
-                "-Wimplicit-fallthrough",
-                "-Wthread-safety",
-                "-Winconsistent-missing-override",
-                "-Wundef",
-                "-Wunused-lambda-capture"
+                "-Wno-strict-overflow"
             ],
             "defines": [
                 "BWE_TEST_LOGGING_COMPILE_TIME_ENABLE=0",
                 "V8_DEPRECATION_WARNINGS",
                 "USE_NSS_CERTS=1",
-                "USE_X11=1",
                 "CHROMIUM_BUILD",
                 "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
                 "NDEBUG",
                 "NVALGRIND",
                 "DYNAMIC_ANNOTATIONS_ENABLED=0",
@@ -12399,8 +8829,6 @@
                 "-funwind-tables",
                 "-fPIC",
                 "-pipe",
-                "-fcolor-diagnostics",
-                "--target=arm-linux-gnueabihf",
                 "-march=armv7-a",
                 "-mfloat-abi=hard",
                 "-mtune=generic-armv7-a",
@@ -12409,18 +8837,11 @@
                 "-mthumb",
                 "-Wall",
                 "-Werror",
-                "-Wextra",
+                "-Wno-psabi",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
                 "-Wno-missing-field-initializers",
                 "-Wno-unused-parameter",
-                "-Wno-c++11-narrowing",
-                "-Wno-covered-switch-default",
-                "-Wno-unneeded-internal-declaration",
-                "-Wno-inconsistent-missing-override",
-                "-Wno-undefined-var-template",
-                "-Wno-nonportable-include-path",
-                "-Wno-address-of-packed-member",
-                "-Wno-unused-lambda-capture",
-                "-Wno-user-defined-warnings",
                 "-O2",
                 "-fno-ident",
                 "-fdata-sections",
@@ -12428,27 +8849,18 @@
                 "-fomit-frame-pointer",
                 "-g0",
                 "-fvisibility=hidden",
-                "-Wheader-hygiene",
-                "-Wstring-conversion",
-                "-Wtautological-overlap-compare",
                 "-Wextra",
                 "-Wno-unused-parameter",
                 "-Wno-missing-field-initializers",
-                "-Wno-strict-overflow",
-                "-Wc++11-narrowing",
-                "-Wimplicit-fallthrough",
-                "-Wthread-safety",
-                "-Winconsistent-missing-override",
-                "-Wundef",
-                "-Wunused-lambda-capture"
+                "-Wno-strict-overflow"
             ],
             "defines": [
                 "BWE_TEST_LOGGING_COMPILE_TIME_ENABLE=0",
                 "V8_DEPRECATION_WARNINGS",
                 "USE_NSS_CERTS=1",
-                "USE_X11=1",
                 "CHROMIUM_BUILD",
                 "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
                 "NDEBUG",
                 "NVALGRIND",
                 "DYNAMIC_ANNOTATIONS_ENABLED=0",
@@ -12583,8 +8995,6 @@
                 "-funwind-tables",
                 "-fPIC",
                 "-pipe",
-                "-fcolor-diagnostics",
-                "--target=arm-linux-gnueabihf",
                 "-march=armv7-a",
                 "-mfloat-abi=hard",
                 "-mtune=generic-armv7-a",
@@ -12593,18 +9003,11 @@
                 "-mthumb",
                 "-Wall",
                 "-Werror",
-                "-Wextra",
+                "-Wno-psabi",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
                 "-Wno-missing-field-initializers",
                 "-Wno-unused-parameter",
-                "-Wno-c++11-narrowing",
-                "-Wno-covered-switch-default",
-                "-Wno-unneeded-internal-declaration",
-                "-Wno-inconsistent-missing-override",
-                "-Wno-undefined-var-template",
-                "-Wno-nonportable-include-path",
-                "-Wno-address-of-packed-member",
-                "-Wno-unused-lambda-capture",
-                "-Wno-user-defined-warnings",
                 "-O2",
                 "-fno-ident",
                 "-fdata-sections",
@@ -12612,42 +9015,17 @@
                 "-fomit-frame-pointer",
                 "-g0",
                 "-fvisibility=hidden",
-                "-Xclang",
-                "-load",
-                "-Xclang",
-                "../../../../../../media/webrtc/trunk/webrtc/third_party/llvm-build/Release+Asserts/lib/libFindBadConstructs.so",
-                "-Xclang",
-                "-add-plugin",
-                "-Xclang",
-                "find-bad-constructs",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-auto-raw-pointer",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-ipc",
-                "-Wheader-hygiene",
-                "-Wstring-conversion",
-                "-Wtautological-overlap-compare",
                 "-Wextra",
                 "-Wno-unused-parameter",
                 "-Wno-missing-field-initializers",
-                "-Wno-strict-overflow",
-                "-Wc++11-narrowing",
-                "-Wimplicit-fallthrough",
-                "-Wthread-safety",
-                "-Winconsistent-missing-override",
-                "-Wundef",
-                "-Wunused-lambda-capture"
+                "-Wno-strict-overflow"
             ],
             "defines": [
                 "V8_DEPRECATION_WARNINGS",
                 "USE_NSS_CERTS=1",
-                "USE_X11=1",
                 "CHROMIUM_BUILD",
                 "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
                 "NDEBUG",
                 "NVALGRIND",
                 "DYNAMIC_ANNOTATIONS_ENABLED=0",
@@ -12727,8 +9105,6 @@
                 "-funwind-tables",
                 "-fPIC",
                 "-pipe",
-                "-fcolor-diagnostics",
-                "--target=arm-linux-gnueabihf",
                 "-march=armv7-a",
                 "-mfloat-abi=hard",
                 "-mtune=generic-armv7-a",
@@ -12737,18 +9113,11 @@
                 "-mthumb",
                 "-Wall",
                 "-Werror",
-                "-Wextra",
+                "-Wno-psabi",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
                 "-Wno-missing-field-initializers",
                 "-Wno-unused-parameter",
-                "-Wno-c++11-narrowing",
-                "-Wno-covered-switch-default",
-                "-Wno-unneeded-internal-declaration",
-                "-Wno-inconsistent-missing-override",
-                "-Wno-undefined-var-template",
-                "-Wno-nonportable-include-path",
-                "-Wno-address-of-packed-member",
-                "-Wno-unused-lambda-capture",
-                "-Wno-user-defined-warnings",
                 "-O2",
                 "-fno-ident",
                 "-fdata-sections",
@@ -12756,26 +9125,17 @@
                 "-fomit-frame-pointer",
                 "-g0",
                 "-fvisibility=hidden",
-                "-Wheader-hygiene",
-                "-Wstring-conversion",
-                "-Wtautological-overlap-compare",
                 "-Wextra",
                 "-Wno-unused-parameter",
                 "-Wno-missing-field-initializers",
-                "-Wno-strict-overflow",
-                "-Wc++11-narrowing",
-                "-Wimplicit-fallthrough",
-                "-Wthread-safety",
-                "-Winconsistent-missing-override",
-                "-Wundef",
-                "-Wunused-lambda-capture"
+                "-Wno-strict-overflow"
             ],
             "defines": [
                 "V8_DEPRECATION_WARNINGS",
                 "USE_NSS_CERTS=1",
-                "USE_X11=1",
                 "CHROMIUM_BUILD",
                 "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
                 "NDEBUG",
                 "NVALGRIND",
                 "DYNAMIC_ANNOTATIONS_ENABLED=0",
@@ -12829,8 +9189,6 @@
                 "-funwind-tables",
                 "-fPIC",
                 "-pipe",
-                "-fcolor-diagnostics",
-                "--target=arm-linux-gnueabihf",
                 "-march=armv7-a",
                 "-mfloat-abi=hard",
                 "-mtune=generic-armv7-a",
@@ -12839,18 +9197,11 @@
                 "-mthumb",
                 "-Wall",
                 "-Werror",
-                "-Wextra",
+                "-Wno-psabi",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
                 "-Wno-missing-field-initializers",
                 "-Wno-unused-parameter",
-                "-Wno-c++11-narrowing",
-                "-Wno-covered-switch-default",
-                "-Wno-unneeded-internal-declaration",
-                "-Wno-inconsistent-missing-override",
-                "-Wno-undefined-var-template",
-                "-Wno-nonportable-include-path",
-                "-Wno-address-of-packed-member",
-                "-Wno-unused-lambda-capture",
-                "-Wno-user-defined-warnings",
                 "-O2",
                 "-fno-ident",
                 "-fdata-sections",
@@ -12858,26 +9209,17 @@
                 "-fomit-frame-pointer",
                 "-g0",
                 "-fvisibility=hidden",
-                "-Wheader-hygiene",
-                "-Wstring-conversion",
-                "-Wtautological-overlap-compare",
                 "-Wextra",
                 "-Wno-unused-parameter",
                 "-Wno-missing-field-initializers",
-                "-Wno-strict-overflow",
-                "-Wc++11-narrowing",
-                "-Wimplicit-fallthrough",
-                "-Wthread-safety",
-                "-Winconsistent-missing-override",
-                "-Wundef",
-                "-Wunused-lambda-capture"
+                "-Wno-strict-overflow"
             ],
             "defines": [
                 "V8_DEPRECATION_WARNINGS",
                 "USE_NSS_CERTS=1",
-                "USE_X11=1",
                 "CHROMIUM_BUILD",
                 "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
                 "NDEBUG",
                 "NVALGRIND",
                 "DYNAMIC_ANNOTATIONS_ENABLED=0",
@@ -12925,8 +9267,6 @@
                 "-funwind-tables",
                 "-fPIC",
                 "-pipe",
-                "-fcolor-diagnostics",
-                "--target=arm-linux-gnueabihf",
                 "-march=armv7-a",
                 "-mfloat-abi=hard",
                 "-mtune=generic-armv7-a",
@@ -12935,18 +9275,11 @@
                 "-mthumb",
                 "-Wall",
                 "-Werror",
-                "-Wextra",
+                "-Wno-psabi",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
                 "-Wno-missing-field-initializers",
                 "-Wno-unused-parameter",
-                "-Wno-c++11-narrowing",
-                "-Wno-covered-switch-default",
-                "-Wno-unneeded-internal-declaration",
-                "-Wno-inconsistent-missing-override",
-                "-Wno-undefined-var-template",
-                "-Wno-nonportable-include-path",
-                "-Wno-address-of-packed-member",
-                "-Wno-unused-lambda-capture",
-                "-Wno-user-defined-warnings",
                 "-O2",
                 "-fno-ident",
                 "-fdata-sections",
@@ -12954,26 +9287,17 @@
                 "-fomit-frame-pointer",
                 "-g0",
                 "-fvisibility=hidden",
-                "-Wheader-hygiene",
-                "-Wstring-conversion",
-                "-Wtautological-overlap-compare",
                 "-Wextra",
                 "-Wno-unused-parameter",
                 "-Wno-missing-field-initializers",
-                "-Wno-strict-overflow",
-                "-Wc++11-narrowing",
-                "-Wimplicit-fallthrough",
-                "-Wthread-safety",
-                "-Winconsistent-missing-override",
-                "-Wundef",
-                "-Wunused-lambda-capture"
+                "-Wno-strict-overflow"
             ],
             "defines": [
                 "V8_DEPRECATION_WARNINGS",
                 "USE_NSS_CERTS=1",
-                "USE_X11=1",
                 "CHROMIUM_BUILD",
                 "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
                 "NDEBUG",
                 "NVALGRIND",
                 "DYNAMIC_ANNOTATIONS_ENABLED=0",
@@ -13029,8 +9353,6 @@
                 "-funwind-tables",
                 "-fPIC",
                 "-pipe",
-                "-fcolor-diagnostics",
-                "--target=arm-linux-gnueabihf",
                 "-march=armv7-a",
                 "-mfloat-abi=hard",
                 "-mtune=generic-armv7-a",
@@ -13039,18 +9361,11 @@
                 "-mthumb",
                 "-Wall",
                 "-Werror",
-                "-Wextra",
+                "-Wno-psabi",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
                 "-Wno-missing-field-initializers",
                 "-Wno-unused-parameter",
-                "-Wno-c++11-narrowing",
-                "-Wno-covered-switch-default",
-                "-Wno-unneeded-internal-declaration",
-                "-Wno-inconsistent-missing-override",
-                "-Wno-undefined-var-template",
-                "-Wno-nonportable-include-path",
-                "-Wno-address-of-packed-member",
-                "-Wno-unused-lambda-capture",
-                "-Wno-user-defined-warnings",
                 "-O2",
                 "-fno-ident",
                 "-fdata-sections",
@@ -13058,42 +9373,17 @@
                 "-fomit-frame-pointer",
                 "-g0",
                 "-fvisibility=hidden",
-                "-Xclang",
-                "-load",
-                "-Xclang",
-                "../../../../../../media/webrtc/trunk/webrtc/third_party/llvm-build/Release+Asserts/lib/libFindBadConstructs.so",
-                "-Xclang",
-                "-add-plugin",
-                "-Xclang",
-                "find-bad-constructs",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-auto-raw-pointer",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-ipc",
-                "-Wheader-hygiene",
-                "-Wstring-conversion",
-                "-Wtautological-overlap-compare",
                 "-Wextra",
                 "-Wno-unused-parameter",
                 "-Wno-missing-field-initializers",
-                "-Wno-strict-overflow",
-                "-Wc++11-narrowing",
-                "-Wimplicit-fallthrough",
-                "-Wthread-safety",
-                "-Winconsistent-missing-override",
-                "-Wundef",
-                "-Wunused-lambda-capture"
+                "-Wno-strict-overflow"
             ],
             "defines": [
                 "V8_DEPRECATION_WARNINGS",
                 "USE_NSS_CERTS=1",
-                "USE_X11=1",
                 "CHROMIUM_BUILD",
                 "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
                 "NDEBUG",
                 "NVALGRIND",
                 "DYNAMIC_ANNOTATIONS_ENABLED=0",
@@ -13133,8 +9423,6 @@
                 "-funwind-tables",
                 "-fPIC",
                 "-pipe",
-                "-fcolor-diagnostics",
-                "--target=arm-linux-gnueabihf",
                 "-march=armv7-a",
                 "-mfloat-abi=hard",
                 "-mtune=generic-armv7-a",
@@ -13143,18 +9431,11 @@
                 "-mthumb",
                 "-Wall",
                 "-Werror",
-                "-Wextra",
+                "-Wno-psabi",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
                 "-Wno-missing-field-initializers",
                 "-Wno-unused-parameter",
-                "-Wno-c++11-narrowing",
-                "-Wno-covered-switch-default",
-                "-Wno-unneeded-internal-declaration",
-                "-Wno-inconsistent-missing-override",
-                "-Wno-undefined-var-template",
-                "-Wno-nonportable-include-path",
-                "-Wno-address-of-packed-member",
-                "-Wno-unused-lambda-capture",
-                "-Wno-user-defined-warnings",
                 "-O2",
                 "-fno-ident",
                 "-fdata-sections",
@@ -13162,26 +9443,17 @@
                 "-fomit-frame-pointer",
                 "-g0",
                 "-fvisibility=hidden",
-                "-Wheader-hygiene",
-                "-Wstring-conversion",
-                "-Wtautological-overlap-compare",
                 "-Wextra",
                 "-Wno-unused-parameter",
                 "-Wno-missing-field-initializers",
-                "-Wno-strict-overflow",
-                "-Wc++11-narrowing",
-                "-Wimplicit-fallthrough",
-                "-Wthread-safety",
-                "-Winconsistent-missing-override",
-                "-Wundef",
-                "-Wunused-lambda-capture"
+                "-Wno-strict-overflow"
             ],
             "defines": [
                 "V8_DEPRECATION_WARNINGS",
                 "USE_NSS_CERTS=1",
-                "USE_X11=1",
                 "CHROMIUM_BUILD",
                 "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
                 "NDEBUG",
                 "NVALGRIND",
                 "DYNAMIC_ANNOTATIONS_ENABLED=0",
@@ -13313,8 +9585,6 @@
                 "-funwind-tables",
                 "-fPIC",
                 "-pipe",
-                "-fcolor-diagnostics",
-                "--target=arm-linux-gnueabihf",
                 "-march=armv7-a",
                 "-mfloat-abi=hard",
                 "-mtune=generic-armv7-a",
@@ -13323,18 +9593,11 @@
                 "-mthumb",
                 "-Wall",
                 "-Werror",
-                "-Wextra",
+                "-Wno-psabi",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
                 "-Wno-missing-field-initializers",
                 "-Wno-unused-parameter",
-                "-Wno-c++11-narrowing",
-                "-Wno-covered-switch-default",
-                "-Wno-unneeded-internal-declaration",
-                "-Wno-inconsistent-missing-override",
-                "-Wno-undefined-var-template",
-                "-Wno-nonportable-include-path",
-                "-Wno-address-of-packed-member",
-                "-Wno-unused-lambda-capture",
-                "-Wno-user-defined-warnings",
                 "-O2",
                 "-fno-ident",
                 "-fdata-sections",
@@ -13342,26 +9605,17 @@
                 "-fomit-frame-pointer",
                 "-g0",
                 "-fvisibility=hidden",
-                "-Wheader-hygiene",
-                "-Wstring-conversion",
-                "-Wtautological-overlap-compare",
                 "-Wextra",
                 "-Wno-unused-parameter",
                 "-Wno-missing-field-initializers",
-                "-Wno-strict-overflow",
-                "-Wc++11-narrowing",
-                "-Wimplicit-fallthrough",
-                "-Wthread-safety",
-                "-Winconsistent-missing-override",
-                "-Wundef",
-                "-Wunused-lambda-capture"
+                "-Wno-strict-overflow"
             ],
             "defines": [
                 "V8_DEPRECATION_WARNINGS",
                 "USE_NSS_CERTS=1",
-                "USE_X11=1",
                 "CHROMIUM_BUILD",
                 "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
                 "NDEBUG",
                 "NVALGRIND",
                 "DYNAMIC_ANNOTATIONS_ENABLED=0",
@@ -13429,8 +9683,6 @@
                 "-funwind-tables",
                 "-fPIC",
                 "-pipe",
-                "-fcolor-diagnostics",
-                "--target=arm-linux-gnueabihf",
                 "-march=armv7-a",
                 "-mfloat-abi=hard",
                 "-mtune=generic-armv7-a",
@@ -13439,18 +9691,11 @@
                 "-mthumb",
                 "-Wall",
                 "-Werror",
-                "-Wextra",
+                "-Wno-psabi",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
                 "-Wno-missing-field-initializers",
                 "-Wno-unused-parameter",
-                "-Wno-c++11-narrowing",
-                "-Wno-covered-switch-default",
-                "-Wno-unneeded-internal-declaration",
-                "-Wno-inconsistent-missing-override",
-                "-Wno-undefined-var-template",
-                "-Wno-nonportable-include-path",
-                "-Wno-address-of-packed-member",
-                "-Wno-unused-lambda-capture",
-                "-Wno-user-defined-warnings",
                 "-O2",
                 "-fno-ident",
                 "-fdata-sections",
@@ -13458,26 +9703,17 @@
                 "-fomit-frame-pointer",
                 "-g0",
                 "-fvisibility=hidden",
-                "-Wheader-hygiene",
-                "-Wstring-conversion",
-                "-Wtautological-overlap-compare",
                 "-Wextra",
                 "-Wno-unused-parameter",
                 "-Wno-missing-field-initializers",
-                "-Wno-strict-overflow",
-                "-Wc++11-narrowing",
-                "-Wimplicit-fallthrough",
-                "-Wthread-safety",
-                "-Winconsistent-missing-override",
-                "-Wundef",
-                "-Wunused-lambda-capture"
+                "-Wno-strict-overflow"
             ],
             "defines": [
                 "V8_DEPRECATION_WARNINGS",
                 "USE_NSS_CERTS=1",
-                "USE_X11=1",
                 "CHROMIUM_BUILD",
                 "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
                 "NDEBUG",
                 "NVALGRIND",
                 "DYNAMIC_ANNOTATIONS_ENABLED=0",
@@ -13524,8 +9760,6 @@
                 "-funwind-tables",
                 "-fPIC",
                 "-pipe",
-                "-fcolor-diagnostics",
-                "--target=arm-linux-gnueabihf",
                 "-march=armv7-a",
                 "-mfloat-abi=hard",
                 "-mtune=generic-armv7-a",
@@ -13534,18 +9768,11 @@
                 "-mthumb",
                 "-Wall",
                 "-Werror",
-                "-Wextra",
+                "-Wno-psabi",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
                 "-Wno-missing-field-initializers",
                 "-Wno-unused-parameter",
-                "-Wno-c++11-narrowing",
-                "-Wno-covered-switch-default",
-                "-Wno-unneeded-internal-declaration",
-                "-Wno-inconsistent-missing-override",
-                "-Wno-undefined-var-template",
-                "-Wno-nonportable-include-path",
-                "-Wno-address-of-packed-member",
-                "-Wno-unused-lambda-capture",
-                "-Wno-user-defined-warnings",
                 "-O2",
                 "-fno-ident",
                 "-fdata-sections",
@@ -13553,26 +9780,17 @@
                 "-fomit-frame-pointer",
                 "-g0",
                 "-fvisibility=hidden",
-                "-Wheader-hygiene",
-                "-Wstring-conversion",
-                "-Wtautological-overlap-compare",
                 "-Wextra",
                 "-Wno-unused-parameter",
                 "-Wno-missing-field-initializers",
-                "-Wno-strict-overflow",
-                "-Wc++11-narrowing",
-                "-Wimplicit-fallthrough",
-                "-Wthread-safety",
-                "-Winconsistent-missing-override",
-                "-Wundef",
-                "-Wunused-lambda-capture"
+                "-Wno-strict-overflow"
             ],
             "defines": [
                 "V8_DEPRECATION_WARNINGS",
                 "USE_NSS_CERTS=1",
-                "USE_X11=1",
                 "CHROMIUM_BUILD",
                 "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
                 "NDEBUG",
                 "NVALGRIND",
                 "DYNAMIC_ANNOTATIONS_ENABLED=0",
@@ -13621,8 +9839,6 @@
                 "-funwind-tables",
                 "-fPIC",
                 "-pipe",
-                "-fcolor-diagnostics",
-                "--target=arm-linux-gnueabihf",
                 "-march=armv7-a",
                 "-mfloat-abi=hard",
                 "-mtune=generic-armv7-a",
@@ -13631,18 +9847,11 @@
                 "-mthumb",
                 "-Wall",
                 "-Werror",
-                "-Wextra",
+                "-Wno-psabi",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
                 "-Wno-missing-field-initializers",
                 "-Wno-unused-parameter",
-                "-Wno-c++11-narrowing",
-                "-Wno-covered-switch-default",
-                "-Wno-unneeded-internal-declaration",
-                "-Wno-inconsistent-missing-override",
-                "-Wno-undefined-var-template",
-                "-Wno-nonportable-include-path",
-                "-Wno-address-of-packed-member",
-                "-Wno-unused-lambda-capture",
-                "-Wno-user-defined-warnings",
                 "-O2",
                 "-fno-ident",
                 "-fdata-sections",
@@ -13650,26 +9859,17 @@
                 "-fomit-frame-pointer",
                 "-g0",
                 "-fvisibility=hidden",
-                "-Wheader-hygiene",
-                "-Wstring-conversion",
-                "-Wtautological-overlap-compare",
                 "-Wextra",
                 "-Wno-unused-parameter",
                 "-Wno-missing-field-initializers",
-                "-Wno-strict-overflow",
-                "-Wc++11-narrowing",
-                "-Wimplicit-fallthrough",
-                "-Wthread-safety",
-                "-Winconsistent-missing-override",
-                "-Wundef",
-                "-Wunused-lambda-capture"
+                "-Wno-strict-overflow"
             ],
             "defines": [
                 "V8_DEPRECATION_WARNINGS",
                 "USE_NSS_CERTS=1",
-                "USE_X11=1",
                 "CHROMIUM_BUILD",
                 "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
                 "NDEBUG",
                 "NVALGRIND",
                 "DYNAMIC_ANNOTATIONS_ENABLED=0",
@@ -13722,8 +9922,6 @@
                 "-funwind-tables",
                 "-fPIC",
                 "-pipe",
-                "-fcolor-diagnostics",
-                "--target=arm-linux-gnueabihf",
                 "-march=armv7-a",
                 "-mfloat-abi=hard",
                 "-mtune=generic-armv7-a",
@@ -13732,18 +9930,11 @@
                 "-mthumb",
                 "-Wall",
                 "-Werror",
-                "-Wextra",
+                "-Wno-psabi",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
                 "-Wno-missing-field-initializers",
                 "-Wno-unused-parameter",
-                "-Wno-c++11-narrowing",
-                "-Wno-covered-switch-default",
-                "-Wno-unneeded-internal-declaration",
-                "-Wno-inconsistent-missing-override",
-                "-Wno-undefined-var-template",
-                "-Wno-nonportable-include-path",
-                "-Wno-address-of-packed-member",
-                "-Wno-unused-lambda-capture",
-                "-Wno-user-defined-warnings",
                 "-O2",
                 "-fno-ident",
                 "-fdata-sections",
@@ -13751,26 +9942,17 @@
                 "-fomit-frame-pointer",
                 "-g0",
                 "-fvisibility=hidden",
-                "-Wheader-hygiene",
-                "-Wstring-conversion",
-                "-Wtautological-overlap-compare",
                 "-Wextra",
                 "-Wno-unused-parameter",
                 "-Wno-missing-field-initializers",
-                "-Wno-strict-overflow",
-                "-Wc++11-narrowing",
-                "-Wimplicit-fallthrough",
-                "-Wthread-safety",
-                "-Winconsistent-missing-override",
-                "-Wundef",
-                "-Wunused-lambda-capture"
+                "-Wno-strict-overflow"
             ],
             "defines": [
                 "V8_DEPRECATION_WARNINGS",
                 "USE_NSS_CERTS=1",
-                "USE_X11=1",
                 "CHROMIUM_BUILD",
                 "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
                 "NDEBUG",
                 "NVALGRIND",
                 "DYNAMIC_ANNOTATIONS_ENABLED=0",
@@ -13833,8 +10015,6 @@
                 "-funwind-tables",
                 "-fPIC",
                 "-pipe",
-                "-fcolor-diagnostics",
-                "--target=arm-linux-gnueabihf",
                 "-march=armv7-a",
                 "-mfloat-abi=hard",
                 "-mtune=generic-armv7-a",
@@ -13843,18 +10023,11 @@
                 "-mthumb",
                 "-Wall",
                 "-Werror",
-                "-Wextra",
+                "-Wno-psabi",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
                 "-Wno-missing-field-initializers",
                 "-Wno-unused-parameter",
-                "-Wno-c++11-narrowing",
-                "-Wno-covered-switch-default",
-                "-Wno-unneeded-internal-declaration",
-                "-Wno-inconsistent-missing-override",
-                "-Wno-undefined-var-template",
-                "-Wno-nonportable-include-path",
-                "-Wno-address-of-packed-member",
-                "-Wno-unused-lambda-capture",
-                "-Wno-user-defined-warnings",
                 "-O2",
                 "-fno-ident",
                 "-fdata-sections",
@@ -13862,26 +10035,17 @@
                 "-fomit-frame-pointer",
                 "-g0",
                 "-fvisibility=hidden",
-                "-Wheader-hygiene",
-                "-Wstring-conversion",
-                "-Wtautological-overlap-compare",
                 "-Wextra",
                 "-Wno-unused-parameter",
                 "-Wno-missing-field-initializers",
-                "-Wno-strict-overflow",
-                "-Wc++11-narrowing",
-                "-Wimplicit-fallthrough",
-                "-Wthread-safety",
-                "-Winconsistent-missing-override",
-                "-Wundef",
-                "-Wunused-lambda-capture"
+                "-Wno-strict-overflow"
             ],
             "defines": [
                 "V8_DEPRECATION_WARNINGS",
                 "USE_NSS_CERTS=1",
-                "USE_X11=1",
                 "CHROMIUM_BUILD",
                 "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
                 "NDEBUG",
                 "NVALGRIND",
                 "DYNAMIC_ANNOTATIONS_ENABLED=0",
@@ -13934,8 +10098,6 @@
                 "-funwind-tables",
                 "-fPIC",
                 "-pipe",
-                "-fcolor-diagnostics",
-                "--target=arm-linux-gnueabihf",
                 "-march=armv7-a",
                 "-mfloat-abi=hard",
                 "-mtune=generic-armv7-a",
@@ -13944,18 +10106,11 @@
                 "-mthumb",
                 "-Wall",
                 "-Werror",
-                "-Wextra",
+                "-Wno-psabi",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
                 "-Wno-missing-field-initializers",
                 "-Wno-unused-parameter",
-                "-Wno-c++11-narrowing",
-                "-Wno-covered-switch-default",
-                "-Wno-unneeded-internal-declaration",
-                "-Wno-inconsistent-missing-override",
-                "-Wno-undefined-var-template",
-                "-Wno-nonportable-include-path",
-                "-Wno-address-of-packed-member",
-                "-Wno-unused-lambda-capture",
-                "-Wno-user-defined-warnings",
                 "-O2",
                 "-fno-ident",
                 "-fdata-sections",
@@ -13963,42 +10118,17 @@
                 "-fomit-frame-pointer",
                 "-g0",
                 "-fvisibility=hidden",
-                "-Xclang",
-                "-load",
-                "-Xclang",
-                "../../../../../../media/webrtc/trunk/webrtc/third_party/llvm-build/Release+Asserts/lib/libFindBadConstructs.so",
-                "-Xclang",
-                "-add-plugin",
-                "-Xclang",
-                "find-bad-constructs",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-auto-raw-pointer",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-ipc",
-                "-Wheader-hygiene",
-                "-Wstring-conversion",
-                "-Wtautological-overlap-compare",
                 "-Wextra",
                 "-Wno-unused-parameter",
                 "-Wno-missing-field-initializers",
-                "-Wno-strict-overflow",
-                "-Wc++11-narrowing",
-                "-Wimplicit-fallthrough",
-                "-Wthread-safety",
-                "-Winconsistent-missing-override",
-                "-Wundef",
-                "-Wunused-lambda-capture"
+                "-Wno-strict-overflow"
             ],
             "defines": [
                 "V8_DEPRECATION_WARNINGS",
                 "USE_NSS_CERTS=1",
-                "USE_X11=1",
                 "CHROMIUM_BUILD",
                 "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
                 "NDEBUG",
                 "NVALGRIND",
                 "DYNAMIC_ANNOTATIONS_ENABLED=0",
@@ -14039,8 +10169,6 @@
                 "-funwind-tables",
                 "-fPIC",
                 "-pipe",
-                "-fcolor-diagnostics",
-                "--target=arm-linux-gnueabihf",
                 "-march=armv7-a",
                 "-mfloat-abi=hard",
                 "-mtune=generic-armv7-a",
@@ -14049,18 +10177,11 @@
                 "-mthumb",
                 "-Wall",
                 "-Werror",
-                "-Wextra",
+                "-Wno-psabi",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
                 "-Wno-missing-field-initializers",
                 "-Wno-unused-parameter",
-                "-Wno-c++11-narrowing",
-                "-Wno-covered-switch-default",
-                "-Wno-unneeded-internal-declaration",
-                "-Wno-inconsistent-missing-override",
-                "-Wno-undefined-var-template",
-                "-Wno-nonportable-include-path",
-                "-Wno-address-of-packed-member",
-                "-Wno-unused-lambda-capture",
-                "-Wno-user-defined-warnings",
                 "-O2",
                 "-fno-ident",
                 "-fdata-sections",
@@ -14068,26 +10189,17 @@
                 "-fomit-frame-pointer",
                 "-g0",
                 "-fvisibility=hidden",
-                "-Wheader-hygiene",
-                "-Wstring-conversion",
-                "-Wtautological-overlap-compare",
                 "-Wextra",
                 "-Wno-unused-parameter",
                 "-Wno-missing-field-initializers",
-                "-Wno-strict-overflow",
-                "-Wc++11-narrowing",
-                "-Wimplicit-fallthrough",
-                "-Wthread-safety",
-                "-Winconsistent-missing-override",
-                "-Wundef",
-                "-Wunused-lambda-capture"
+                "-Wno-strict-overflow"
             ],
             "defines": [
                 "V8_DEPRECATION_WARNINGS",
                 "USE_NSS_CERTS=1",
-                "USE_X11=1",
                 "CHROMIUM_BUILD",
                 "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
                 "NDEBUG",
                 "NVALGRIND",
                 "DYNAMIC_ANNOTATIONS_ENABLED=0",
@@ -14150,8 +10262,6 @@
                 "-funwind-tables",
                 "-fPIC",
                 "-pipe",
-                "-fcolor-diagnostics",
-                "--target=arm-linux-gnueabihf",
                 "-march=armv7-a",
                 "-mfloat-abi=hard",
                 "-mtune=generic-armv7-a",
@@ -14159,18 +10269,11 @@
                 "-mthumb",
                 "-Wall",
                 "-Werror",
-                "-Wextra",
+                "-Wno-psabi",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
                 "-Wno-missing-field-initializers",
                 "-Wno-unused-parameter",
-                "-Wno-c++11-narrowing",
-                "-Wno-covered-switch-default",
-                "-Wno-unneeded-internal-declaration",
-                "-Wno-inconsistent-missing-override",
-                "-Wno-undefined-var-template",
-                "-Wno-nonportable-include-path",
-                "-Wno-address-of-packed-member",
-                "-Wno-unused-lambda-capture",
-                "-Wno-user-defined-warnings",
                 "-O2",
                 "-fno-ident",
                 "-fdata-sections",
@@ -14178,42 +10281,17 @@
                 "-fomit-frame-pointer",
                 "-g0",
                 "-fvisibility=hidden",
-                "-Xclang",
-                "-load",
-                "-Xclang",
-                "../../../../../../media/webrtc/trunk/webrtc/third_party/llvm-build/Release+Asserts/lib/libFindBadConstructs.so",
-                "-Xclang",
-                "-add-plugin",
-                "-Xclang",
-                "find-bad-constructs",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-auto-raw-pointer",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-ipc",
-                "-Wheader-hygiene",
-                "-Wstring-conversion",
-                "-Wtautological-overlap-compare",
                 "-Wextra",
                 "-Wno-unused-parameter",
                 "-Wno-missing-field-initializers",
-                "-Wno-strict-overflow",
-                "-Wc++11-narrowing",
-                "-Wimplicit-fallthrough",
-                "-Wthread-safety",
-                "-Winconsistent-missing-override",
-                "-Wundef",
-                "-Wunused-lambda-capture"
+                "-Wno-strict-overflow"
             ],
             "defines": [
                 "V8_DEPRECATION_WARNINGS",
                 "USE_NSS_CERTS=1",
-                "USE_X11=1",
                 "CHROMIUM_BUILD",
                 "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
                 "NDEBUG",
                 "NVALGRIND",
                 "DYNAMIC_ANNOTATIONS_ENABLED=0",
@@ -14255,8 +10333,6 @@
                 "-funwind-tables",
                 "-fPIC",
                 "-pipe",
-                "-fcolor-diagnostics",
-                "--target=arm-linux-gnueabihf",
                 "-march=armv7-a",
                 "-mfloat-abi=hard",
                 "-mtune=generic-armv7-a",
@@ -14265,18 +10341,11 @@
                 "-mthumb",
                 "-Wall",
                 "-Werror",
-                "-Wextra",
+                "-Wno-psabi",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
                 "-Wno-missing-field-initializers",
                 "-Wno-unused-parameter",
-                "-Wno-c++11-narrowing",
-                "-Wno-covered-switch-default",
-                "-Wno-unneeded-internal-declaration",
-                "-Wno-inconsistent-missing-override",
-                "-Wno-undefined-var-template",
-                "-Wno-nonportable-include-path",
-                "-Wno-address-of-packed-member",
-                "-Wno-unused-lambda-capture",
-                "-Wno-user-defined-warnings",
                 "-O2",
                 "-fno-ident",
                 "-fdata-sections",
@@ -14284,42 +10353,17 @@
                 "-fomit-frame-pointer",
                 "-g0",
                 "-fvisibility=hidden",
-                "-Xclang",
-                "-load",
-                "-Xclang",
-                "../../../../../../media/webrtc/trunk/webrtc/third_party/llvm-build/Release+Asserts/lib/libFindBadConstructs.so",
-                "-Xclang",
-                "-add-plugin",
-                "-Xclang",
-                "find-bad-constructs",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-auto-raw-pointer",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-ipc",
-                "-Wheader-hygiene",
-                "-Wstring-conversion",
-                "-Wtautological-overlap-compare",
                 "-Wextra",
                 "-Wno-unused-parameter",
                 "-Wno-missing-field-initializers",
-                "-Wno-strict-overflow",
-                "-Wc++11-narrowing",
-                "-Wimplicit-fallthrough",
-                "-Wthread-safety",
-                "-Winconsistent-missing-override",
-                "-Wundef",
-                "-Wunused-lambda-capture"
+                "-Wno-strict-overflow"
             ],
             "defines": [
                 "V8_DEPRECATION_WARNINGS",
                 "USE_NSS_CERTS=1",
-                "USE_X11=1",
                 "CHROMIUM_BUILD",
                 "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
                 "NDEBUG",
                 "NVALGRIND",
                 "DYNAMIC_ANNOTATIONS_ENABLED=0",
@@ -14367,8 +10411,6 @@
                 "-funwind-tables",
                 "-fPIC",
                 "-pipe",
-                "-fcolor-diagnostics",
-                "--target=arm-linux-gnueabihf",
                 "-march=armv7-a",
                 "-mfloat-abi=hard",
                 "-mtune=generic-armv7-a",
@@ -14377,18 +10419,11 @@
                 "-mthumb",
                 "-Wall",
                 "-Werror",
-                "-Wextra",
+                "-Wno-psabi",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
                 "-Wno-missing-field-initializers",
                 "-Wno-unused-parameter",
-                "-Wno-c++11-narrowing",
-                "-Wno-covered-switch-default",
-                "-Wno-unneeded-internal-declaration",
-                "-Wno-inconsistent-missing-override",
-                "-Wno-undefined-var-template",
-                "-Wno-nonportable-include-path",
-                "-Wno-address-of-packed-member",
-                "-Wno-unused-lambda-capture",
-                "-Wno-user-defined-warnings",
                 "-O2",
                 "-fno-ident",
                 "-fdata-sections",
@@ -14396,42 +10431,17 @@
                 "-fomit-frame-pointer",
                 "-g0",
                 "-fvisibility=hidden",
-                "-Xclang",
-                "-load",
-                "-Xclang",
-                "../../../../../../media/webrtc/trunk/webrtc/third_party/llvm-build/Release+Asserts/lib/libFindBadConstructs.so",
-                "-Xclang",
-                "-add-plugin",
-                "-Xclang",
-                "find-bad-constructs",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-auto-raw-pointer",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-ipc",
-                "-Wheader-hygiene",
-                "-Wstring-conversion",
-                "-Wtautological-overlap-compare",
                 "-Wextra",
                 "-Wno-unused-parameter",
                 "-Wno-missing-field-initializers",
-                "-Wno-strict-overflow",
-                "-Wc++11-narrowing",
-                "-Wimplicit-fallthrough",
-                "-Wthread-safety",
-                "-Winconsistent-missing-override",
-                "-Wundef",
-                "-Wunused-lambda-capture"
+                "-Wno-strict-overflow"
             ],
             "defines": [
                 "V8_DEPRECATION_WARNINGS",
                 "USE_NSS_CERTS=1",
-                "USE_X11=1",
                 "CHROMIUM_BUILD",
                 "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
                 "NDEBUG",
                 "NVALGRIND",
                 "DYNAMIC_ANNOTATIONS_ENABLED=0",
@@ -14471,8 +10481,6 @@
                 "-funwind-tables",
                 "-fPIC",
                 "-pipe",
-                "-fcolor-diagnostics",
-                "--target=arm-linux-gnueabihf",
                 "-march=armv7-a",
                 "-mfloat-abi=hard",
                 "-mtune=generic-armv7-a",
@@ -14481,51 +10489,25 @@
                 "-mthumb",
                 "-Wall",
                 "-Werror",
-                "-Wextra",
+                "-Wno-psabi",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
                 "-Wno-missing-field-initializers",
                 "-Wno-unused-parameter",
-                "-Wno-c++11-narrowing",
-                "-Wno-covered-switch-default",
-                "-Wno-unneeded-internal-declaration",
-                "-Wno-inconsistent-missing-override",
-                "-Wno-undefined-var-template",
-                "-Wno-nonportable-include-path",
-                "-Wno-address-of-packed-member",
-                "-Wno-unused-lambda-capture",
-                "-Wno-user-defined-warnings",
                 "-O2",
                 "-fno-ident",
                 "-fdata-sections",
                 "-ffunction-sections",
                 "-fomit-frame-pointer",
                 "-g0",
-                "-fvisibility=hidden",
-                "-Xclang",
-                "-load",
-                "-Xclang",
-                "../../../../../../media/webrtc/trunk/webrtc/third_party/llvm-build/Release+Asserts/lib/libFindBadConstructs.so",
-                "-Xclang",
-                "-add-plugin",
-                "-Xclang",
-                "find-bad-constructs",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-auto-raw-pointer",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-ipc",
-                "-Wheader-hygiene",
-                "-Wstring-conversion",
-                "-Wtautological-overlap-compare"
+                "-fvisibility=hidden"
             ],
             "defines": [
                 "V8_DEPRECATION_WARNINGS",
                 "USE_NSS_CERTS=1",
-                "USE_X11=1",
                 "CHROMIUM_BUILD",
                 "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
                 "NDEBUG",
                 "NVALGRIND",
                 "DYNAMIC_ANNOTATIONS_ENABLED=0"
@@ -14553,8 +10535,6 @@
                 "-funwind-tables",
                 "-fPIC",
                 "-pipe",
-                "-fcolor-diagnostics",
-                "--target=arm-linux-gnueabihf",
                 "-march=armv7-a",
                 "-mfloat-abi=hard",
                 "-mtune=generic-armv7-a",
@@ -14563,18 +10543,11 @@
                 "-mthumb",
                 "-Wall",
                 "-Werror",
-                "-Wextra",
+                "-Wno-psabi",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
                 "-Wno-missing-field-initializers",
                 "-Wno-unused-parameter",
-                "-Wno-c++11-narrowing",
-                "-Wno-covered-switch-default",
-                "-Wno-unneeded-internal-declaration",
-                "-Wno-inconsistent-missing-override",
-                "-Wno-undefined-var-template",
-                "-Wno-nonportable-include-path",
-                "-Wno-address-of-packed-member",
-                "-Wno-unused-lambda-capture",
-                "-Wno-user-defined-warnings",
                 "-O2",
                 "-fno-ident",
                 "-fdata-sections",
@@ -14582,42 +10555,17 @@
                 "-fomit-frame-pointer",
                 "-g0",
                 "-fvisibility=hidden",
-                "-Xclang",
-                "-load",
-                "-Xclang",
-                "../../../../../../media/webrtc/trunk/webrtc/third_party/llvm-build/Release+Asserts/lib/libFindBadConstructs.so",
-                "-Xclang",
-                "-add-plugin",
-                "-Xclang",
-                "find-bad-constructs",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-auto-raw-pointer",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-ipc",
-                "-Wheader-hygiene",
-                "-Wstring-conversion",
-                "-Wtautological-overlap-compare",
                 "-Wextra",
                 "-Wno-unused-parameter",
                 "-Wno-missing-field-initializers",
-                "-Wno-strict-overflow",
-                "-Wc++11-narrowing",
-                "-Wimplicit-fallthrough",
-                "-Wthread-safety",
-                "-Winconsistent-missing-override",
-                "-Wundef",
-                "-Wunused-lambda-capture"
+                "-Wno-strict-overflow"
             ],
             "defines": [
                 "V8_DEPRECATION_WARNINGS",
                 "USE_NSS_CERTS=1",
-                "USE_X11=1",
                 "CHROMIUM_BUILD",
                 "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
                 "NDEBUG",
                 "NVALGRIND",
                 "DYNAMIC_ANNOTATIONS_ENABLED=0",
@@ -14654,8 +10602,6 @@
                 "-funwind-tables",
                 "-fPIC",
                 "-pipe",
-                "-fcolor-diagnostics",
-                "--target=arm-linux-gnueabihf",
                 "-march=armv7-a",
                 "-mfloat-abi=hard",
                 "-mtune=generic-armv7-a",
@@ -14664,51 +10610,25 @@
                 "-mthumb",
                 "-Wall",
                 "-Werror",
-                "-Wextra",
+                "-Wno-psabi",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
                 "-Wno-missing-field-initializers",
                 "-Wno-unused-parameter",
-                "-Wno-c++11-narrowing",
-                "-Wno-covered-switch-default",
-                "-Wno-unneeded-internal-declaration",
-                "-Wno-inconsistent-missing-override",
-                "-Wno-undefined-var-template",
-                "-Wno-nonportable-include-path",
-                "-Wno-address-of-packed-member",
-                "-Wno-unused-lambda-capture",
-                "-Wno-user-defined-warnings",
                 "-O2",
                 "-fno-ident",
                 "-fdata-sections",
                 "-ffunction-sections",
                 "-fomit-frame-pointer",
                 "-g0",
-                "-fvisibility=hidden",
-                "-Xclang",
-                "-load",
-                "-Xclang",
-                "../../../../../../media/webrtc/trunk/webrtc/third_party/llvm-build/Release+Asserts/lib/libFindBadConstructs.so",
-                "-Xclang",
-                "-add-plugin",
-                "-Xclang",
-                "find-bad-constructs",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-auto-raw-pointer",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-ipc",
-                "-Wheader-hygiene",
-                "-Wstring-conversion",
-                "-Wtautological-overlap-compare"
+                "-fvisibility=hidden"
             ],
             "defines": [
                 "V8_DEPRECATION_WARNINGS",
                 "USE_NSS_CERTS=1",
-                "USE_X11=1",
                 "CHROMIUM_BUILD",
                 "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
                 "NDEBUG",
                 "NVALGRIND",
                 "DYNAMIC_ANNOTATIONS_ENABLED=0"
@@ -14736,8 +10656,6 @@
                 "-funwind-tables",
                 "-fPIC",
                 "-pipe",
-                "-fcolor-diagnostics",
-                "--target=arm-linux-gnueabihf",
                 "-march=armv7-a",
                 "-mfloat-abi=hard",
                 "-mtune=generic-armv7-a",
@@ -14746,18 +10664,11 @@
                 "-mthumb",
                 "-Wall",
                 "-Werror",
-                "-Wextra",
+                "-Wno-psabi",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
                 "-Wno-missing-field-initializers",
                 "-Wno-unused-parameter",
-                "-Wno-c++11-narrowing",
-                "-Wno-covered-switch-default",
-                "-Wno-unneeded-internal-declaration",
-                "-Wno-inconsistent-missing-override",
-                "-Wno-undefined-var-template",
-                "-Wno-nonportable-include-path",
-                "-Wno-address-of-packed-member",
-                "-Wno-unused-lambda-capture",
-                "-Wno-user-defined-warnings",
                 "-O2",
                 "-fno-ident",
                 "-fdata-sections",
@@ -14765,42 +10676,17 @@
                 "-fomit-frame-pointer",
                 "-g0",
                 "-fvisibility=hidden",
-                "-Xclang",
-                "-load",
-                "-Xclang",
-                "../../../../../../media/webrtc/trunk/webrtc/third_party/llvm-build/Release+Asserts/lib/libFindBadConstructs.so",
-                "-Xclang",
-                "-add-plugin",
-                "-Xclang",
-                "find-bad-constructs",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-auto-raw-pointer",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-ipc",
-                "-Wheader-hygiene",
-                "-Wstring-conversion",
-                "-Wtautological-overlap-compare",
                 "-Wextra",
                 "-Wno-unused-parameter",
                 "-Wno-missing-field-initializers",
-                "-Wno-strict-overflow",
-                "-Wc++11-narrowing",
-                "-Wimplicit-fallthrough",
-                "-Wthread-safety",
-                "-Winconsistent-missing-override",
-                "-Wundef",
-                "-Wunused-lambda-capture"
+                "-Wno-strict-overflow"
             ],
             "defines": [
                 "V8_DEPRECATION_WARNINGS",
                 "USE_NSS_CERTS=1",
-                "USE_X11=1",
                 "CHROMIUM_BUILD",
                 "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
                 "NDEBUG",
                 "NVALGRIND",
                 "DYNAMIC_ANNOTATIONS_ENABLED=0",
@@ -14835,8 +10721,6 @@
                 "-funwind-tables",
                 "-fPIC",
                 "-pipe",
-                "-fcolor-diagnostics",
-                "--target=arm-linux-gnueabihf",
                 "-march=armv7-a",
                 "-mfloat-abi=hard",
                 "-mtune=generic-armv7-a",
@@ -14845,18 +10729,11 @@
                 "-mthumb",
                 "-Wall",
                 "-Werror",
-                "-Wextra",
+                "-Wno-psabi",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
                 "-Wno-missing-field-initializers",
                 "-Wno-unused-parameter",
-                "-Wno-c++11-narrowing",
-                "-Wno-covered-switch-default",
-                "-Wno-unneeded-internal-declaration",
-                "-Wno-inconsistent-missing-override",
-                "-Wno-undefined-var-template",
-                "-Wno-nonportable-include-path",
-                "-Wno-address-of-packed-member",
-                "-Wno-unused-lambda-capture",
-                "-Wno-user-defined-warnings",
                 "-O2",
                 "-fno-ident",
                 "-fdata-sections",
@@ -14864,42 +10741,17 @@
                 "-fomit-frame-pointer",
                 "-g0",
                 "-fvisibility=hidden",
-                "-Xclang",
-                "-load",
-                "-Xclang",
-                "../../../../../../media/webrtc/trunk/webrtc/third_party/llvm-build/Release+Asserts/lib/libFindBadConstructs.so",
-                "-Xclang",
-                "-add-plugin",
-                "-Xclang",
-                "find-bad-constructs",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-auto-raw-pointer",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-ipc",
-                "-Wheader-hygiene",
-                "-Wstring-conversion",
-                "-Wtautological-overlap-compare",
                 "-Wextra",
                 "-Wno-unused-parameter",
                 "-Wno-missing-field-initializers",
-                "-Wno-strict-overflow",
-                "-Wc++11-narrowing",
-                "-Wimplicit-fallthrough",
-                "-Wthread-safety",
-                "-Winconsistent-missing-override",
-                "-Wundef",
-                "-Wunused-lambda-capture"
+                "-Wno-strict-overflow"
             ],
             "defines": [
                 "V8_DEPRECATION_WARNINGS",
                 "USE_NSS_CERTS=1",
-                "USE_X11=1",
                 "CHROMIUM_BUILD",
                 "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
                 "NDEBUG",
                 "NVALGRIND",
                 "DYNAMIC_ANNOTATIONS_ENABLED=0",
@@ -14936,8 +10788,6 @@
                 "-funwind-tables",
                 "-fPIC",
                 "-pipe",
-                "-fcolor-diagnostics",
-                "--target=arm-linux-gnueabihf",
                 "-march=armv7-a",
                 "-mfloat-abi=hard",
                 "-mtune=generic-armv7-a",
@@ -14946,18 +10796,11 @@
                 "-mthumb",
                 "-Wall",
                 "-Werror",
-                "-Wextra",
+                "-Wno-psabi",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
                 "-Wno-missing-field-initializers",
                 "-Wno-unused-parameter",
-                "-Wno-c++11-narrowing",
-                "-Wno-covered-switch-default",
-                "-Wno-unneeded-internal-declaration",
-                "-Wno-inconsistent-missing-override",
-                "-Wno-undefined-var-template",
-                "-Wno-nonportable-include-path",
-                "-Wno-address-of-packed-member",
-                "-Wno-unused-lambda-capture",
-                "-Wno-user-defined-warnings",
                 "-O2",
                 "-fno-ident",
                 "-fdata-sections",
@@ -14965,42 +10808,17 @@
                 "-fomit-frame-pointer",
                 "-g0",
                 "-fvisibility=hidden",
-                "-Xclang",
-                "-load",
-                "-Xclang",
-                "../../../../../../media/webrtc/trunk/webrtc/third_party/llvm-build/Release+Asserts/lib/libFindBadConstructs.so",
-                "-Xclang",
-                "-add-plugin",
-                "-Xclang",
-                "find-bad-constructs",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-auto-raw-pointer",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-ipc",
-                "-Wheader-hygiene",
-                "-Wstring-conversion",
-                "-Wtautological-overlap-compare",
                 "-Wextra",
                 "-Wno-unused-parameter",
                 "-Wno-missing-field-initializers",
-                "-Wno-strict-overflow",
-                "-Wc++11-narrowing",
-                "-Wimplicit-fallthrough",
-                "-Wthread-safety",
-                "-Winconsistent-missing-override",
-                "-Wundef",
-                "-Wunused-lambda-capture"
+                "-Wno-strict-overflow"
             ],
             "defines": [
                 "V8_DEPRECATION_WARNINGS",
                 "USE_NSS_CERTS=1",
-                "USE_X11=1",
                 "CHROMIUM_BUILD",
                 "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
                 "NDEBUG",
                 "NVALGRIND",
                 "DYNAMIC_ANNOTATIONS_ENABLED=0",
@@ -15151,8 +10969,6 @@
                 "-funwind-tables",
                 "-fPIC",
                 "-pipe",
-                "-fcolor-diagnostics",
-                "--target=arm-linux-gnueabihf",
                 "-march=armv7-a",
                 "-mfloat-abi=hard",
                 "-mtune=generic-armv7-a",
@@ -15161,18 +10977,11 @@
                 "-mthumb",
                 "-Wall",
                 "-Werror",
-                "-Wextra",
+                "-Wno-psabi",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
                 "-Wno-missing-field-initializers",
                 "-Wno-unused-parameter",
-                "-Wno-c++11-narrowing",
-                "-Wno-covered-switch-default",
-                "-Wno-unneeded-internal-declaration",
-                "-Wno-inconsistent-missing-override",
-                "-Wno-undefined-var-template",
-                "-Wno-nonportable-include-path",
-                "-Wno-address-of-packed-member",
-                "-Wno-unused-lambda-capture",
-                "-Wno-user-defined-warnings",
                 "-O2",
                 "-fno-ident",
                 "-fdata-sections",
@@ -15180,42 +10989,17 @@
                 "-fomit-frame-pointer",
                 "-g0",
                 "-fvisibility=hidden",
-                "-Xclang",
-                "-load",
-                "-Xclang",
-                "../../../../../../media/webrtc/trunk/webrtc/third_party/llvm-build/Release+Asserts/lib/libFindBadConstructs.so",
-                "-Xclang",
-                "-add-plugin",
-                "-Xclang",
-                "find-bad-constructs",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-auto-raw-pointer",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-ipc",
-                "-Wheader-hygiene",
-                "-Wstring-conversion",
-                "-Wtautological-overlap-compare",
                 "-Wextra",
                 "-Wno-unused-parameter",
                 "-Wno-missing-field-initializers",
-                "-Wno-strict-overflow",
-                "-Wc++11-narrowing",
-                "-Wimplicit-fallthrough",
-                "-Wthread-safety",
-                "-Winconsistent-missing-override",
-                "-Wundef",
-                "-Wunused-lambda-capture"
+                "-Wno-strict-overflow"
             ],
             "defines": [
                 "V8_DEPRECATION_WARNINGS",
                 "USE_NSS_CERTS=1",
-                "USE_X11=1",
                 "CHROMIUM_BUILD",
                 "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
                 "NDEBUG",
                 "NVALGRIND",
                 "DYNAMIC_ANNOTATIONS_ENABLED=0",
@@ -15259,8 +11043,6 @@
                 "-funwind-tables",
                 "-fPIC",
                 "-pipe",
-                "-fcolor-diagnostics",
-                "--target=arm-linux-gnueabihf",
                 "-march=armv7-a",
                 "-mfloat-abi=hard",
                 "-mtune=generic-armv7-a",
@@ -15269,18 +11051,11 @@
                 "-mthumb",
                 "-Wall",
                 "-Werror",
-                "-Wextra",
+                "-Wno-psabi",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
                 "-Wno-missing-field-initializers",
                 "-Wno-unused-parameter",
-                "-Wno-c++11-narrowing",
-                "-Wno-covered-switch-default",
-                "-Wno-unneeded-internal-declaration",
-                "-Wno-inconsistent-missing-override",
-                "-Wno-undefined-var-template",
-                "-Wno-nonportable-include-path",
-                "-Wno-address-of-packed-member",
-                "-Wno-unused-lambda-capture",
-                "-Wno-user-defined-warnings",
                 "-O2",
                 "-fno-ident",
                 "-fdata-sections",
@@ -15288,42 +11063,17 @@
                 "-fomit-frame-pointer",
                 "-g0",
                 "-fvisibility=hidden",
-                "-Xclang",
-                "-load",
-                "-Xclang",
-                "../../../../../../media/webrtc/trunk/webrtc/third_party/llvm-build/Release+Asserts/lib/libFindBadConstructs.so",
-                "-Xclang",
-                "-add-plugin",
-                "-Xclang",
-                "find-bad-constructs",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-auto-raw-pointer",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-ipc",
-                "-Wheader-hygiene",
-                "-Wstring-conversion",
-                "-Wtautological-overlap-compare",
                 "-Wextra",
                 "-Wno-unused-parameter",
                 "-Wno-missing-field-initializers",
-                "-Wno-strict-overflow",
-                "-Wc++11-narrowing",
-                "-Wimplicit-fallthrough",
-                "-Wthread-safety",
-                "-Winconsistent-missing-override",
-                "-Wundef",
-                "-Wunused-lambda-capture"
+                "-Wno-strict-overflow"
             ],
             "defines": [
                 "V8_DEPRECATION_WARNINGS",
                 "USE_NSS_CERTS=1",
-                "USE_X11=1",
                 "CHROMIUM_BUILD",
                 "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
                 "NDEBUG",
                 "NVALGRIND",
                 "DYNAMIC_ANNOTATIONS_ENABLED=0",
@@ -15362,8 +11112,6 @@
                 "-funwind-tables",
                 "-fPIC",
                 "-pipe",
-                "-fcolor-diagnostics",
-                "--target=arm-linux-gnueabihf",
                 "-march=armv7-a",
                 "-mfloat-abi=hard",
                 "-mtune=generic-armv7-a",
@@ -15372,18 +11120,11 @@
                 "-mthumb",
                 "-Wall",
                 "-Werror",
-                "-Wextra",
+                "-Wno-psabi",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
                 "-Wno-missing-field-initializers",
                 "-Wno-unused-parameter",
-                "-Wno-c++11-narrowing",
-                "-Wno-covered-switch-default",
-                "-Wno-unneeded-internal-declaration",
-                "-Wno-inconsistent-missing-override",
-                "-Wno-undefined-var-template",
-                "-Wno-nonportable-include-path",
-                "-Wno-address-of-packed-member",
-                "-Wno-unused-lambda-capture",
-                "-Wno-user-defined-warnings",
                 "-O2",
                 "-fno-ident",
                 "-fdata-sections",
@@ -15391,42 +11132,17 @@
                 "-fomit-frame-pointer",
                 "-g0",
                 "-fvisibility=hidden",
-                "-Xclang",
-                "-load",
-                "-Xclang",
-                "../../../../../../media/webrtc/trunk/webrtc/third_party/llvm-build/Release+Asserts/lib/libFindBadConstructs.so",
-                "-Xclang",
-                "-add-plugin",
-                "-Xclang",
-                "find-bad-constructs",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-auto-raw-pointer",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-ipc",
-                "-Wheader-hygiene",
-                "-Wstring-conversion",
-                "-Wtautological-overlap-compare",
                 "-Wextra",
                 "-Wno-unused-parameter",
                 "-Wno-missing-field-initializers",
-                "-Wno-strict-overflow",
-                "-Wc++11-narrowing",
-                "-Wimplicit-fallthrough",
-                "-Wthread-safety",
-                "-Winconsistent-missing-override",
-                "-Wundef",
-                "-Wunused-lambda-capture"
+                "-Wno-strict-overflow"
             ],
             "defines": [
                 "V8_DEPRECATION_WARNINGS",
                 "USE_NSS_CERTS=1",
-                "USE_X11=1",
                 "CHROMIUM_BUILD",
                 "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
                 "NDEBUG",
                 "NVALGRIND",
                 "DYNAMIC_ANNOTATIONS_ENABLED=0",
@@ -15465,8 +11181,6 @@
                 "-funwind-tables",
                 "-fPIC",
                 "-pipe",
-                "-fcolor-diagnostics",
-                "--target=arm-linux-gnueabihf",
                 "-march=armv7-a",
                 "-mfloat-abi=hard",
                 "-mtune=generic-armv7-a",
@@ -15475,18 +11189,11 @@
                 "-mthumb",
                 "-Wall",
                 "-Werror",
-                "-Wextra",
+                "-Wno-psabi",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
                 "-Wno-missing-field-initializers",
                 "-Wno-unused-parameter",
-                "-Wno-c++11-narrowing",
-                "-Wno-covered-switch-default",
-                "-Wno-unneeded-internal-declaration",
-                "-Wno-inconsistent-missing-override",
-                "-Wno-undefined-var-template",
-                "-Wno-nonportable-include-path",
-                "-Wno-address-of-packed-member",
-                "-Wno-unused-lambda-capture",
-                "-Wno-user-defined-warnings",
                 "-O2",
                 "-fno-ident",
                 "-fdata-sections",
@@ -15494,42 +11201,17 @@
                 "-fomit-frame-pointer",
                 "-g0",
                 "-fvisibility=hidden",
-                "-Xclang",
-                "-load",
-                "-Xclang",
-                "../../../../../../media/webrtc/trunk/webrtc/third_party/llvm-build/Release+Asserts/lib/libFindBadConstructs.so",
-                "-Xclang",
-                "-add-plugin",
-                "-Xclang",
-                "find-bad-constructs",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-auto-raw-pointer",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-ipc",
-                "-Wheader-hygiene",
-                "-Wstring-conversion",
-                "-Wtautological-overlap-compare",
                 "-Wextra",
                 "-Wno-unused-parameter",
                 "-Wno-missing-field-initializers",
-                "-Wno-strict-overflow",
-                "-Wc++11-narrowing",
-                "-Wimplicit-fallthrough",
-                "-Wthread-safety",
-                "-Winconsistent-missing-override",
-                "-Wundef",
-                "-Wunused-lambda-capture"
+                "-Wno-strict-overflow"
             ],
             "defines": [
                 "V8_DEPRECATION_WARNINGS",
                 "USE_NSS_CERTS=1",
-                "USE_X11=1",
                 "CHROMIUM_BUILD",
                 "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
                 "NDEBUG",
                 "NVALGRIND",
                 "DYNAMIC_ANNOTATIONS_ENABLED=0",
@@ -15573,8 +11255,6 @@
                 "-funwind-tables",
                 "-fPIC",
                 "-pipe",
-                "-fcolor-diagnostics",
-                "--target=arm-linux-gnueabihf",
                 "-march=armv7-a",
                 "-mfloat-abi=hard",
                 "-mtune=generic-armv7-a",
@@ -15583,18 +11263,11 @@
                 "-mthumb",
                 "-Wall",
                 "-Werror",
-                "-Wextra",
+                "-Wno-psabi",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
                 "-Wno-missing-field-initializers",
                 "-Wno-unused-parameter",
-                "-Wno-c++11-narrowing",
-                "-Wno-covered-switch-default",
-                "-Wno-unneeded-internal-declaration",
-                "-Wno-inconsistent-missing-override",
-                "-Wno-undefined-var-template",
-                "-Wno-nonportable-include-path",
-                "-Wno-address-of-packed-member",
-                "-Wno-unused-lambda-capture",
-                "-Wno-user-defined-warnings",
                 "-O2",
                 "-fno-ident",
                 "-fdata-sections",
@@ -15602,42 +11275,17 @@
                 "-fomit-frame-pointer",
                 "-g0",
                 "-fvisibility=hidden",
-                "-Xclang",
-                "-load",
-                "-Xclang",
-                "../../../../../../media/webrtc/trunk/webrtc/third_party/llvm-build/Release+Asserts/lib/libFindBadConstructs.so",
-                "-Xclang",
-                "-add-plugin",
-                "-Xclang",
-                "find-bad-constructs",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-auto-raw-pointer",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-ipc",
-                "-Wheader-hygiene",
-                "-Wstring-conversion",
-                "-Wtautological-overlap-compare",
                 "-Wextra",
                 "-Wno-unused-parameter",
                 "-Wno-missing-field-initializers",
-                "-Wno-strict-overflow",
-                "-Wc++11-narrowing",
-                "-Wimplicit-fallthrough",
-                "-Wthread-safety",
-                "-Winconsistent-missing-override",
-                "-Wundef",
-                "-Wunused-lambda-capture"
+                "-Wno-strict-overflow"
             ],
             "defines": [
                 "V8_DEPRECATION_WARNINGS",
                 "USE_NSS_CERTS=1",
-                "USE_X11=1",
                 "CHROMIUM_BUILD",
                 "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
                 "NDEBUG",
                 "NVALGRIND",
                 "DYNAMIC_ANNOTATIONS_ENABLED=0",
@@ -15679,8 +11327,6 @@
                 "-funwind-tables",
                 "-fPIC",
                 "-pipe",
-                "-fcolor-diagnostics",
-                "--target=arm-linux-gnueabihf",
                 "-march=armv7-a",
                 "-mfloat-abi=hard",
                 "-mtune=generic-armv7-a",
@@ -15689,18 +11335,11 @@
                 "-mthumb",
                 "-Wall",
                 "-Werror",
-                "-Wextra",
+                "-Wno-psabi",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
                 "-Wno-missing-field-initializers",
                 "-Wno-unused-parameter",
-                "-Wno-c++11-narrowing",
-                "-Wno-covered-switch-default",
-                "-Wno-unneeded-internal-declaration",
-                "-Wno-inconsistent-missing-override",
-                "-Wno-undefined-var-template",
-                "-Wno-nonportable-include-path",
-                "-Wno-address-of-packed-member",
-                "-Wno-unused-lambda-capture",
-                "-Wno-user-defined-warnings",
                 "-O2",
                 "-fno-ident",
                 "-fdata-sections",
@@ -15708,42 +11347,17 @@
                 "-fomit-frame-pointer",
                 "-g0",
                 "-fvisibility=hidden",
-                "-Xclang",
-                "-load",
-                "-Xclang",
-                "../../../../../../media/webrtc/trunk/webrtc/third_party/llvm-build/Release+Asserts/lib/libFindBadConstructs.so",
-                "-Xclang",
-                "-add-plugin",
-                "-Xclang",
-                "find-bad-constructs",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-auto-raw-pointer",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-ipc",
-                "-Wheader-hygiene",
-                "-Wstring-conversion",
-                "-Wtautological-overlap-compare",
                 "-Wextra",
                 "-Wno-unused-parameter",
                 "-Wno-missing-field-initializers",
-                "-Wno-strict-overflow",
-                "-Wc++11-narrowing",
-                "-Wimplicit-fallthrough",
-                "-Wthread-safety",
-                "-Winconsistent-missing-override",
-                "-Wundef",
-                "-Wunused-lambda-capture"
+                "-Wno-strict-overflow"
             ],
             "defines": [
                 "V8_DEPRECATION_WARNINGS",
                 "USE_NSS_CERTS=1",
-                "USE_X11=1",
                 "CHROMIUM_BUILD",
                 "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
                 "NDEBUG",
                 "NVALGRIND",
                 "DYNAMIC_ANNOTATIONS_ENABLED=0",
@@ -15784,8 +11398,6 @@
                 "-funwind-tables",
                 "-fPIC",
                 "-pipe",
-                "-fcolor-diagnostics",
-                "--target=arm-linux-gnueabihf",
                 "-march=armv7-a",
                 "-mfloat-abi=hard",
                 "-mtune=generic-armv7-a",
@@ -15794,18 +11406,11 @@
                 "-mthumb",
                 "-Wall",
                 "-Werror",
-                "-Wextra",
+                "-Wno-psabi",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
                 "-Wno-missing-field-initializers",
                 "-Wno-unused-parameter",
-                "-Wno-c++11-narrowing",
-                "-Wno-covered-switch-default",
-                "-Wno-unneeded-internal-declaration",
-                "-Wno-inconsistent-missing-override",
-                "-Wno-undefined-var-template",
-                "-Wno-nonportable-include-path",
-                "-Wno-address-of-packed-member",
-                "-Wno-unused-lambda-capture",
-                "-Wno-user-defined-warnings",
                 "-O2",
                 "-fno-ident",
                 "-fdata-sections",
@@ -15813,42 +11418,17 @@
                 "-fomit-frame-pointer",
                 "-g0",
                 "-fvisibility=hidden",
-                "-Xclang",
-                "-load",
-                "-Xclang",
-                "../../../../../../media/webrtc/trunk/webrtc/third_party/llvm-build/Release+Asserts/lib/libFindBadConstructs.so",
-                "-Xclang",
-                "-add-plugin",
-                "-Xclang",
-                "find-bad-constructs",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-auto-raw-pointer",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-ipc",
-                "-Wheader-hygiene",
-                "-Wstring-conversion",
-                "-Wtautological-overlap-compare",
                 "-Wextra",
                 "-Wno-unused-parameter",
                 "-Wno-missing-field-initializers",
-                "-Wno-strict-overflow",
-                "-Wc++11-narrowing",
-                "-Wimplicit-fallthrough",
-                "-Wthread-safety",
-                "-Winconsistent-missing-override",
-                "-Wundef",
-                "-Wunused-lambda-capture"
+                "-Wno-strict-overflow"
             ],
             "defines": [
                 "V8_DEPRECATION_WARNINGS",
                 "USE_NSS_CERTS=1",
-                "USE_X11=1",
                 "CHROMIUM_BUILD",
                 "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
                 "NDEBUG",
                 "NVALGRIND",
                 "DYNAMIC_ANNOTATIONS_ENABLED=0",
@@ -15887,8 +11467,6 @@
                 "-funwind-tables",
                 "-fPIC",
                 "-pipe",
-                "-fcolor-diagnostics",
-                "--target=arm-linux-gnueabihf",
                 "-march=armv7-a",
                 "-mfloat-abi=hard",
                 "-mtune=generic-armv7-a",
@@ -15897,18 +11475,11 @@
                 "-mthumb",
                 "-Wall",
                 "-Werror",
-                "-Wextra",
+                "-Wno-psabi",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
                 "-Wno-missing-field-initializers",
                 "-Wno-unused-parameter",
-                "-Wno-c++11-narrowing",
-                "-Wno-covered-switch-default",
-                "-Wno-unneeded-internal-declaration",
-                "-Wno-inconsistent-missing-override",
-                "-Wno-undefined-var-template",
-                "-Wno-nonportable-include-path",
-                "-Wno-address-of-packed-member",
-                "-Wno-unused-lambda-capture",
-                "-Wno-user-defined-warnings",
                 "-O2",
                 "-fno-ident",
                 "-fdata-sections",
@@ -15916,42 +11487,17 @@
                 "-fomit-frame-pointer",
                 "-g0",
                 "-fvisibility=hidden",
-                "-Xclang",
-                "-load",
-                "-Xclang",
-                "../../../../../../media/webrtc/trunk/webrtc/third_party/llvm-build/Release+Asserts/lib/libFindBadConstructs.so",
-                "-Xclang",
-                "-add-plugin",
-                "-Xclang",
-                "find-bad-constructs",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-auto-raw-pointer",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-ipc",
-                "-Wheader-hygiene",
-                "-Wstring-conversion",
-                "-Wtautological-overlap-compare",
                 "-Wextra",
                 "-Wno-unused-parameter",
                 "-Wno-missing-field-initializers",
-                "-Wno-strict-overflow",
-                "-Wc++11-narrowing",
-                "-Wimplicit-fallthrough",
-                "-Wthread-safety",
-                "-Winconsistent-missing-override",
-                "-Wundef",
-                "-Wunused-lambda-capture"
+                "-Wno-strict-overflow"
             ],
             "defines": [
                 "V8_DEPRECATION_WARNINGS",
                 "USE_NSS_CERTS=1",
-                "USE_X11=1",
                 "CHROMIUM_BUILD",
                 "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
                 "NDEBUG",
                 "NVALGRIND",
                 "DYNAMIC_ANNOTATIONS_ENABLED=0",
@@ -15990,8 +11536,6 @@
                 "-funwind-tables",
                 "-fPIC",
                 "-pipe",
-                "-fcolor-diagnostics",
-                "--target=arm-linux-gnueabihf",
                 "-march=armv7-a",
                 "-mfloat-abi=hard",
                 "-mtune=generic-armv7-a",
@@ -16000,18 +11544,11 @@
                 "-mthumb",
                 "-Wall",
                 "-Werror",
-                "-Wextra",
+                "-Wno-psabi",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
                 "-Wno-missing-field-initializers",
                 "-Wno-unused-parameter",
-                "-Wno-c++11-narrowing",
-                "-Wno-covered-switch-default",
-                "-Wno-unneeded-internal-declaration",
-                "-Wno-inconsistent-missing-override",
-                "-Wno-undefined-var-template",
-                "-Wno-nonportable-include-path",
-                "-Wno-address-of-packed-member",
-                "-Wno-unused-lambda-capture",
-                "-Wno-user-defined-warnings",
                 "-O2",
                 "-fno-ident",
                 "-fdata-sections",
@@ -16019,42 +11556,17 @@
                 "-fomit-frame-pointer",
                 "-g0",
                 "-fvisibility=hidden",
-                "-Xclang",
-                "-load",
-                "-Xclang",
-                "../../../../../../media/webrtc/trunk/webrtc/third_party/llvm-build/Release+Asserts/lib/libFindBadConstructs.so",
-                "-Xclang",
-                "-add-plugin",
-                "-Xclang",
-                "find-bad-constructs",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-auto-raw-pointer",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-ipc",
-                "-Wheader-hygiene",
-                "-Wstring-conversion",
-                "-Wtautological-overlap-compare",
                 "-Wextra",
                 "-Wno-unused-parameter",
                 "-Wno-missing-field-initializers",
-                "-Wno-strict-overflow",
-                "-Wc++11-narrowing",
-                "-Wimplicit-fallthrough",
-                "-Wthread-safety",
-                "-Winconsistent-missing-override",
-                "-Wundef",
-                "-Wunused-lambda-capture"
+                "-Wno-strict-overflow"
             ],
             "defines": [
                 "V8_DEPRECATION_WARNINGS",
                 "USE_NSS_CERTS=1",
-                "USE_X11=1",
                 "CHROMIUM_BUILD",
                 "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
                 "NDEBUG",
                 "NVALGRIND",
                 "DYNAMIC_ANNOTATIONS_ENABLED=0",
@@ -16091,8 +11603,6 @@
                 "-funwind-tables",
                 "-fPIC",
                 "-pipe",
-                "-fcolor-diagnostics",
-                "--target=arm-linux-gnueabihf",
                 "-march=armv7-a",
                 "-mfloat-abi=hard",
                 "-mtune=generic-armv7-a",
@@ -16101,18 +11611,11 @@
                 "-mthumb",
                 "-Wall",
                 "-Werror",
-                "-Wextra",
+                "-Wno-psabi",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
                 "-Wno-missing-field-initializers",
                 "-Wno-unused-parameter",
-                "-Wno-c++11-narrowing",
-                "-Wno-covered-switch-default",
-                "-Wno-unneeded-internal-declaration",
-                "-Wno-inconsistent-missing-override",
-                "-Wno-undefined-var-template",
-                "-Wno-nonportable-include-path",
-                "-Wno-address-of-packed-member",
-                "-Wno-unused-lambda-capture",
-                "-Wno-user-defined-warnings",
                 "-O2",
                 "-fno-ident",
                 "-fdata-sections",
@@ -16120,42 +11623,17 @@
                 "-fomit-frame-pointer",
                 "-g0",
                 "-fvisibility=hidden",
-                "-Xclang",
-                "-load",
-                "-Xclang",
-                "../../../../../../media/webrtc/trunk/webrtc/third_party/llvm-build/Release+Asserts/lib/libFindBadConstructs.so",
-                "-Xclang",
-                "-add-plugin",
-                "-Xclang",
-                "find-bad-constructs",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-auto-raw-pointer",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-ipc",
-                "-Wheader-hygiene",
-                "-Wstring-conversion",
-                "-Wtautological-overlap-compare",
                 "-Wextra",
                 "-Wno-unused-parameter",
                 "-Wno-missing-field-initializers",
-                "-Wno-strict-overflow",
-                "-Wc++11-narrowing",
-                "-Wimplicit-fallthrough",
-                "-Wthread-safety",
-                "-Winconsistent-missing-override",
-                "-Wundef",
-                "-Wunused-lambda-capture"
+                "-Wno-strict-overflow"
             ],
             "defines": [
                 "V8_DEPRECATION_WARNINGS",
                 "USE_NSS_CERTS=1",
-                "USE_X11=1",
                 "CHROMIUM_BUILD",
                 "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
                 "NDEBUG",
                 "NVALGRIND",
                 "DYNAMIC_ANNOTATIONS_ENABLED=0",
@@ -16195,8 +11673,6 @@
                 "-funwind-tables",
                 "-fPIC",
                 "-pipe",
-                "-fcolor-diagnostics",
-                "--target=arm-linux-gnueabihf",
                 "-march=armv7-a",
                 "-mfloat-abi=hard",
                 "-mtune=generic-armv7-a",
@@ -16205,18 +11681,11 @@
                 "-mthumb",
                 "-Wall",
                 "-Werror",
-                "-Wextra",
+                "-Wno-psabi",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
                 "-Wno-missing-field-initializers",
                 "-Wno-unused-parameter",
-                "-Wno-c++11-narrowing",
-                "-Wno-covered-switch-default",
-                "-Wno-unneeded-internal-declaration",
-                "-Wno-inconsistent-missing-override",
-                "-Wno-undefined-var-template",
-                "-Wno-nonportable-include-path",
-                "-Wno-address-of-packed-member",
-                "-Wno-unused-lambda-capture",
-                "-Wno-user-defined-warnings",
                 "-O2",
                 "-fno-ident",
                 "-fdata-sections",
@@ -16224,42 +11693,17 @@
                 "-fomit-frame-pointer",
                 "-g0",
                 "-fvisibility=hidden",
-                "-Xclang",
-                "-load",
-                "-Xclang",
-                "../../../../../../media/webrtc/trunk/webrtc/third_party/llvm-build/Release+Asserts/lib/libFindBadConstructs.so",
-                "-Xclang",
-                "-add-plugin",
-                "-Xclang",
-                "find-bad-constructs",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-auto-raw-pointer",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-ipc",
-                "-Wheader-hygiene",
-                "-Wstring-conversion",
-                "-Wtautological-overlap-compare",
                 "-Wextra",
                 "-Wno-unused-parameter",
                 "-Wno-missing-field-initializers",
-                "-Wno-strict-overflow",
-                "-Wc++11-narrowing",
-                "-Wimplicit-fallthrough",
-                "-Wthread-safety",
-                "-Winconsistent-missing-override",
-                "-Wundef",
-                "-Wunused-lambda-capture"
+                "-Wno-strict-overflow"
             ],
             "defines": [
                 "V8_DEPRECATION_WARNINGS",
                 "USE_NSS_CERTS=1",
-                "USE_X11=1",
                 "CHROMIUM_BUILD",
                 "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
                 "NDEBUG",
                 "NVALGRIND",
                 "DYNAMIC_ANNOTATIONS_ENABLED=0",
@@ -16299,8 +11743,6 @@
                 "-funwind-tables",
                 "-fPIC",
                 "-pipe",
-                "-fcolor-diagnostics",
-                "--target=arm-linux-gnueabihf",
                 "-march=armv7-a",
                 "-mfloat-abi=hard",
                 "-mtune=generic-armv7-a",
@@ -16309,18 +11751,11 @@
                 "-mthumb",
                 "-Wall",
                 "-Werror",
-                "-Wextra",
+                "-Wno-psabi",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
                 "-Wno-missing-field-initializers",
                 "-Wno-unused-parameter",
-                "-Wno-c++11-narrowing",
-                "-Wno-covered-switch-default",
-                "-Wno-unneeded-internal-declaration",
-                "-Wno-inconsistent-missing-override",
-                "-Wno-undefined-var-template",
-                "-Wno-nonportable-include-path",
-                "-Wno-address-of-packed-member",
-                "-Wno-unused-lambda-capture",
-                "-Wno-user-defined-warnings",
                 "-O2",
                 "-fno-ident",
                 "-fdata-sections",
@@ -16328,42 +11763,17 @@
                 "-fomit-frame-pointer",
                 "-g0",
                 "-fvisibility=hidden",
-                "-Xclang",
-                "-load",
-                "-Xclang",
-                "../../../../../../media/webrtc/trunk/webrtc/third_party/llvm-build/Release+Asserts/lib/libFindBadConstructs.so",
-                "-Xclang",
-                "-add-plugin",
-                "-Xclang",
-                "find-bad-constructs",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-auto-raw-pointer",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-ipc",
-                "-Wheader-hygiene",
-                "-Wstring-conversion",
-                "-Wtautological-overlap-compare",
                 "-Wextra",
                 "-Wno-unused-parameter",
                 "-Wno-missing-field-initializers",
-                "-Wno-strict-overflow",
-                "-Wc++11-narrowing",
-                "-Wimplicit-fallthrough",
-                "-Wthread-safety",
-                "-Winconsistent-missing-override",
-                "-Wundef",
-                "-Wunused-lambda-capture"
+                "-Wno-strict-overflow"
             ],
             "defines": [
                 "V8_DEPRECATION_WARNINGS",
                 "USE_NSS_CERTS=1",
-                "USE_X11=1",
                 "CHROMIUM_BUILD",
                 "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
                 "NDEBUG",
                 "NVALGRIND",
                 "DYNAMIC_ANNOTATIONS_ENABLED=0",
@@ -16404,8 +11814,6 @@
                 "-funwind-tables",
                 "-fPIC",
                 "-pipe",
-                "-fcolor-diagnostics",
-                "--target=arm-linux-gnueabihf",
                 "-march=armv7-a",
                 "-mfloat-abi=hard",
                 "-mtune=generic-armv7-a",
@@ -16414,18 +11822,11 @@
                 "-mthumb",
                 "-Wall",
                 "-Werror",
-                "-Wextra",
+                "-Wno-psabi",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
                 "-Wno-missing-field-initializers",
                 "-Wno-unused-parameter",
-                "-Wno-c++11-narrowing",
-                "-Wno-covered-switch-default",
-                "-Wno-unneeded-internal-declaration",
-                "-Wno-inconsistent-missing-override",
-                "-Wno-undefined-var-template",
-                "-Wno-nonportable-include-path",
-                "-Wno-address-of-packed-member",
-                "-Wno-unused-lambda-capture",
-                "-Wno-user-defined-warnings",
                 "-O2",
                 "-fno-ident",
                 "-fdata-sections",
@@ -16433,43 +11834,18 @@
                 "-fomit-frame-pointer",
                 "-g0",
                 "-fvisibility=hidden",
-                "-Xclang",
-                "-load",
-                "-Xclang",
-                "../../../../../../media/webrtc/trunk/webrtc/third_party/llvm-build/Release+Asserts/lib/libFindBadConstructs.so",
-                "-Xclang",
-                "-add-plugin",
-                "-Xclang",
-                "find-bad-constructs",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-auto-raw-pointer",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-ipc",
-                "-Wheader-hygiene",
-                "-Wstring-conversion",
-                "-Wtautological-overlap-compare",
                 "-Wextra",
                 "-Wno-unused-parameter",
                 "-Wno-missing-field-initializers",
-                "-Wno-strict-overflow",
-                "-Wc++11-narrowing",
-                "-Wimplicit-fallthrough",
-                "-Wthread-safety",
-                "-Winconsistent-missing-override",
-                "-Wundef",
-                "-Wunused-lambda-capture"
+                "-Wno-strict-overflow"
             ],
             "defines": [
                 "WEBRTC_THREAD_RR",
                 "V8_DEPRECATION_WARNINGS",
                 "USE_NSS_CERTS=1",
-                "USE_X11=1",
                 "CHROMIUM_BUILD",
                 "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
                 "NDEBUG",
                 "NVALGRIND",
                 "DYNAMIC_ANNOTATIONS_ENABLED=0",
@@ -16544,8 +11920,6 @@
                 "-funwind-tables",
                 "-fPIC",
                 "-pipe",
-                "-fcolor-diagnostics",
-                "--target=arm-linux-gnueabihf",
                 "-march=armv7-a",
                 "-mfloat-abi=hard",
                 "-mtune=generic-armv7-a",
@@ -16554,18 +11928,11 @@
                 "-mthumb",
                 "-Wall",
                 "-Werror",
-                "-Wextra",
+                "-Wno-psabi",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
                 "-Wno-missing-field-initializers",
                 "-Wno-unused-parameter",
-                "-Wno-c++11-narrowing",
-                "-Wno-covered-switch-default",
-                "-Wno-unneeded-internal-declaration",
-                "-Wno-inconsistent-missing-override",
-                "-Wno-undefined-var-template",
-                "-Wno-nonportable-include-path",
-                "-Wno-address-of-packed-member",
-                "-Wno-unused-lambda-capture",
-                "-Wno-user-defined-warnings",
                 "-O2",
                 "-fno-ident",
                 "-fdata-sections",
@@ -16573,26 +11940,17 @@
                 "-fomit-frame-pointer",
                 "-g0",
                 "-fvisibility=hidden",
-                "-Wheader-hygiene",
-                "-Wstring-conversion",
-                "-Wtautological-overlap-compare",
                 "-Wextra",
                 "-Wno-unused-parameter",
                 "-Wno-missing-field-initializers",
-                "-Wno-strict-overflow",
-                "-Wc++11-narrowing",
-                "-Wimplicit-fallthrough",
-                "-Wthread-safety",
-                "-Winconsistent-missing-override",
-                "-Wundef",
-                "-Wunused-lambda-capture"
+                "-Wno-strict-overflow"
             ],
             "defines": [
                 "V8_DEPRECATION_WARNINGS",
                 "USE_NSS_CERTS=1",
-                "USE_X11=1",
                 "CHROMIUM_BUILD",
                 "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
                 "NDEBUG",
                 "NVALGRIND",
                 "DYNAMIC_ANNOTATIONS_ENABLED=0",
@@ -16702,8 +12060,6 @@
                 "-funwind-tables",
                 "-fPIC",
                 "-pipe",
-                "-fcolor-diagnostics",
-                "--target=arm-linux-gnueabihf",
                 "-march=armv7-a",
                 "-mfloat-abi=hard",
                 "-mtune=generic-armv7-a",
@@ -16712,18 +12068,11 @@
                 "-mthumb",
                 "-Wall",
                 "-Werror",
-                "-Wextra",
+                "-Wno-psabi",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
                 "-Wno-missing-field-initializers",
                 "-Wno-unused-parameter",
-                "-Wno-c++11-narrowing",
-                "-Wno-covered-switch-default",
-                "-Wno-unneeded-internal-declaration",
-                "-Wno-inconsistent-missing-override",
-                "-Wno-undefined-var-template",
-                "-Wno-nonportable-include-path",
-                "-Wno-address-of-packed-member",
-                "-Wno-unused-lambda-capture",
-                "-Wno-user-defined-warnings",
                 "-O2",
                 "-fno-ident",
                 "-fdata-sections",
@@ -16731,42 +12080,17 @@
                 "-fomit-frame-pointer",
                 "-g0",
                 "-fvisibility=hidden",
-                "-Xclang",
-                "-load",
-                "-Xclang",
-                "../../../../../../media/webrtc/trunk/webrtc/third_party/llvm-build/Release+Asserts/lib/libFindBadConstructs.so",
-                "-Xclang",
-                "-add-plugin",
-                "-Xclang",
-                "find-bad-constructs",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-auto-raw-pointer",
-                "-Xclang",
-                "-plugin-arg-find-bad-constructs",
-                "-Xclang",
-                "check-ipc",
-                "-Wheader-hygiene",
-                "-Wstring-conversion",
-                "-Wtautological-overlap-compare",
                 "-Wextra",
                 "-Wno-unused-parameter",
                 "-Wno-missing-field-initializers",
-                "-Wno-strict-overflow",
-                "-Wc++11-narrowing",
-                "-Wimplicit-fallthrough",
-                "-Wthread-safety",
-                "-Winconsistent-missing-override",
-                "-Wundef",
-                "-Wunused-lambda-capture"
+                "-Wno-strict-overflow"
             ],
             "defines": [
                 "V8_DEPRECATION_WARNINGS",
                 "USE_NSS_CERTS=1",
-                "USE_X11=1",
                 "CHROMIUM_BUILD",
                 "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
                 "NDEBUG",
                 "NVALGRIND",
                 "DYNAMIC_ANNOTATIONS_ENABLED=0",
@@ -16814,8 +12138,6 @@
                 "-funwind-tables",
                 "-fPIC",
                 "-pipe",
-                "-fcolor-diagnostics",
-                "--target=arm-linux-gnueabihf",
                 "-march=armv7-a",
                 "-mfloat-abi=hard",
                 "-mtune=generic-armv7-a",
@@ -16824,18 +12146,11 @@
                 "-mthumb",
                 "-Wall",
                 "-Werror",
-                "-Wextra",
+                "-Wno-psabi",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
                 "-Wno-missing-field-initializers",
                 "-Wno-unused-parameter",
-                "-Wno-c++11-narrowing",
-                "-Wno-covered-switch-default",
-                "-Wno-unneeded-internal-declaration",
-                "-Wno-inconsistent-missing-override",
-                "-Wno-undefined-var-template",
-                "-Wno-nonportable-include-path",
-                "-Wno-address-of-packed-member",
-                "-Wno-unused-lambda-capture",
-                "-Wno-user-defined-warnings",
                 "-O2",
                 "-fno-ident",
                 "-fdata-sections",
@@ -16843,26 +12158,17 @@
                 "-fomit-frame-pointer",
                 "-g0",
                 "-fvisibility=hidden",
-                "-Wheader-hygiene",
-                "-Wstring-conversion",
-                "-Wtautological-overlap-compare",
                 "-Wextra",
                 "-Wno-unused-parameter",
                 "-Wno-missing-field-initializers",
-                "-Wno-strict-overflow",
-                "-Wc++11-narrowing",
-                "-Wimplicit-fallthrough",
-                "-Wthread-safety",
-                "-Winconsistent-missing-override",
-                "-Wundef",
-                "-Wunused-lambda-capture"
+                "-Wno-strict-overflow"
             ],
             "defines": [
                 "V8_DEPRECATION_WARNINGS",
                 "USE_NSS_CERTS=1",
-                "USE_X11=1",
                 "CHROMIUM_BUILD",
                 "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
                 "NDEBUG",
                 "NVALGRIND",
                 "DYNAMIC_ANNOTATIONS_ENABLED=0",
diff --git a/media/webrtc/gn-configs/x86_False_x86_linux.json b/media/webrtc/gn-configs/x86_False_x86_linux.json
new file mode 100644
index 000000000000..27b49b928398
--- /dev/null
+++ b/media/webrtc/gn-configs/x86_False_x86_linux.json
@@ -0,0 +1,11339 @@
+{
+    "gn_gen_args": {
+        "host_cpu": "x86",
+        "is_debug": false,
+        "target_cpu": "x86",
+        "target_os": "linux"
+    },
+    "mozbuild_args": {
+        "CPU_ARCH": "x86",
+        "HOST_CPU_ARCH": "x86",
+        "MOZ_DEBUG": null,
+        "OS_TARGET": "Linux"
+    },
+    "sandbox_vars": {
+        "COMPILE_FLAGS": {
+            "WARNINGS_AS_ERRORS": []
+        },
+        "FINAL_LIBRARY": "webrtc"
+    },
+    "targets": {
+        "//:webrtc": {
+            "cflags": [
+                "-fno-strict-aliasing",
+                "--param=ssp-buffer-size=4",
+                "-fstack-protector",
+                "-Wno-builtin-macro-redefined",
+                "-D__DATE__=",
+                "-D__TIME__=",
+                "-D__TIMESTAMP__=",
+                "-funwind-tables",
+                "-fPIC",
+                "-pipe",
+                "-B../../../../../../gecko-dev/media/webrtc/trunk/webrtc/third_party/binutils/Linux_x64/Release/bin",
+                "-m32",
+                "-msse2",
+                "-mfpmath=sse",
+                "-mmmx",
+                "-pthread",
+                "-Wall",
+                "-Werror",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
+                "-Wno-missing-field-initializers",
+                "-Wno-unused-parameter",
+                "-O2",
+                "-fno-ident",
+                "-fdata-sections",
+                "-ffunction-sections",
+                "-fomit-frame-pointer",
+                "-g0",
+                "-fvisibility=hidden",
+                "-Wextra",
+                "-Wno-unused-parameter",
+                "-Wno-missing-field-initializers",
+                "-Wno-strict-overflow"
+            ],
+            "defines": [
+                "V8_DEPRECATION_WARNINGS",
+                "USE_NSS_CERTS=1",
+                "CHROMIUM_BUILD",
+                "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
+                "NDEBUG",
+                "NVALGRIND",
+                "DYNAMIC_ANNOTATIONS_ENABLED=0",
+                "WEBRTC_ENABLE_PROTOBUF=0",
+                "WEBRTC_RESTRICT_LOGGING",
+                "WEBRTC_MOZILLA_BUILD",
+                "WEBRTC_NON_STATIC_TRACE_EVENT_HANDLERS=0",
+                "WEBRTC_POSIX",
+                "WEBRTC_LINUX",
+                "HAVE_WEBRTC_VIDEO",
+                "HAVE_WEBRTC_VOICE"
+            ],
+            "deps": [
+                "//:webrtc_common",
+                "//api:base_peerconnection_api",
+                "//api:transport_api",
+                "//api:video_frame_api",
+                "//audio:audio",
+                "//call:call",
+                "//common_audio:common_audio",
+                "//common_video:common_video",
+                "//media:media",
+                "//modules:modules",
+                "//modules/video_capture:video_capture_internal_impl",
+                "//rtc_base:rtc_base",
+                "//system_wrappers:field_trial_default",
+                "//system_wrappers:metrics_default",
+                "//system_wrappers:system_wrappers_default",
+                "//video:video",
+                "//voice_engine:voice_engine"
+            ],
+            "include_dirs": [
+                "//",
+                "/tmp/objdir/media/webrtc/trunk/webrtc/gn-output/gen/",
+                "//common_audio/resampler/include/",
+                "//common_audio/signal_processing/include/",
+                "//common_audio/vad/include/",
+                "//common_video/include/",
+                "/media/libyuv/libyuv/include/",
+                "//modules/audio_coding/include/",
+                "//modules/include/",
+                "//modules/include/",
+                "//modules/audio_device/include/",
+                "//modules/audio_device/dummy/"
+            ],
+            "libs": [
+                "rt",
+                "m"
+            ],
+            "sources": [],
+            "type": "static_library"
+        },
+        "//:webrtc_common": {
+            "cflags": [
+                "-fno-strict-aliasing",
+                "--param=ssp-buffer-size=4",
+                "-fstack-protector",
+                "-Wno-builtin-macro-redefined",
+                "-D__DATE__=",
+                "-D__TIME__=",
+                "-D__TIMESTAMP__=",
+                "-funwind-tables",
+                "-fPIC",
+                "-pipe",
+                "-B../../../../../../gecko-dev/media/webrtc/trunk/webrtc/third_party/binutils/Linux_x64/Release/bin",
+                "-m32",
+                "-msse2",
+                "-mfpmath=sse",
+                "-mmmx",
+                "-pthread",
+                "-Wall",
+                "-Werror",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
+                "-Wno-missing-field-initializers",
+                "-Wno-unused-parameter",
+                "-O2",
+                "-fno-ident",
+                "-fdata-sections",
+                "-ffunction-sections",
+                "-fomit-frame-pointer",
+                "-g0",
+                "-fvisibility=hidden",
+                "-Wextra",
+                "-Wno-unused-parameter",
+                "-Wno-missing-field-initializers",
+                "-Wno-strict-overflow"
+            ],
+            "defines": [
+                "V8_DEPRECATION_WARNINGS",
+                "USE_NSS_CERTS=1",
+                "CHROMIUM_BUILD",
+                "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
+                "NDEBUG",
+                "NVALGRIND",
+                "DYNAMIC_ANNOTATIONS_ENABLED=0",
+                "WEBRTC_ENABLE_PROTOBUF=0",
+                "WEBRTC_RESTRICT_LOGGING",
+                "WEBRTC_MOZILLA_BUILD",
+                "WEBRTC_NON_STATIC_TRACE_EVENT_HANDLERS=0",
+                "WEBRTC_POSIX",
+                "WEBRTC_LINUX"
+            ],
+            "deps": [],
+            "include_dirs": [
+                "//",
+                "/tmp/objdir/media/webrtc/trunk/webrtc/gn-output/gen/"
+            ],
+            "libs": [],
+            "sources": [
+                "//common_types.cc",
+                "//common_types.h",
+                "//typedefs.h"
+            ],
+            "type": "static_library"
+        },
+        "//api/audio_codecs/L16:audio_decoder_L16": {
+            "cflags": [
+                "-fno-strict-aliasing",
+                "--param=ssp-buffer-size=4",
+                "-fstack-protector",
+                "-Wno-builtin-macro-redefined",
+                "-D__DATE__=",
+                "-D__TIME__=",
+                "-D__TIMESTAMP__=",
+                "-funwind-tables",
+                "-fPIC",
+                "-pipe",
+                "-B../../../../../../gecko-dev/media/webrtc/trunk/webrtc/third_party/binutils/Linux_x64/Release/bin",
+                "-m32",
+                "-msse2",
+                "-mfpmath=sse",
+                "-mmmx",
+                "-pthread",
+                "-Wall",
+                "-Werror",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
+                "-Wno-missing-field-initializers",
+                "-Wno-unused-parameter",
+                "-O2",
+                "-fno-ident",
+                "-fdata-sections",
+                "-ffunction-sections",
+                "-fomit-frame-pointer",
+                "-g0",
+                "-fvisibility=hidden",
+                "-Wextra",
+                "-Wno-unused-parameter",
+                "-Wno-missing-field-initializers",
+                "-Wno-strict-overflow"
+            ],
+            "defines": [
+                "V8_DEPRECATION_WARNINGS",
+                "USE_NSS_CERTS=1",
+                "CHROMIUM_BUILD",
+                "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
+                "NDEBUG",
+                "NVALGRIND",
+                "DYNAMIC_ANNOTATIONS_ENABLED=0",
+                "WEBRTC_ENABLE_PROTOBUF=0",
+                "WEBRTC_RESTRICT_LOGGING",
+                "WEBRTC_MOZILLA_BUILD",
+                "WEBRTC_NON_STATIC_TRACE_EVENT_HANDLERS=0",
+                "WEBRTC_POSIX",
+                "WEBRTC_LINUX"
+            ],
+            "deps": [
+                "//:webrtc_common",
+                "//api:optional",
+                "//api/audio_codecs:audio_codecs_api",
+                "//modules/audio_coding:pcm16b",
+                "//rtc_base:rtc_base_approved"
+            ],
+            "include_dirs": [
+                "//",
+                "/tmp/objdir/media/webrtc/trunk/webrtc/gn-output/gen/",
+                "//modules/audio_coding/codecs/pcm16b/include/"
+            ],
+            "libs": [],
+            "sources": [
+                "//api/audio_codecs/L16/audio_decoder_L16.cc",
+                "//api/audio_codecs/L16/audio_decoder_L16.h"
+            ],
+            "type": "static_library"
+        },
+        "//api/audio_codecs/L16:audio_encoder_L16": {
+            "cflags": [
+                "-fno-strict-aliasing",
+                "--param=ssp-buffer-size=4",
+                "-fstack-protector",
+                "-Wno-builtin-macro-redefined",
+                "-D__DATE__=",
+                "-D__TIME__=",
+                "-D__TIMESTAMP__=",
+                "-funwind-tables",
+                "-fPIC",
+                "-pipe",
+                "-B../../../../../../gecko-dev/media/webrtc/trunk/webrtc/third_party/binutils/Linux_x64/Release/bin",
+                "-m32",
+                "-msse2",
+                "-mfpmath=sse",
+                "-mmmx",
+                "-pthread",
+                "-Wall",
+                "-Werror",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
+                "-Wno-missing-field-initializers",
+                "-Wno-unused-parameter",
+                "-O2",
+                "-fno-ident",
+                "-fdata-sections",
+                "-ffunction-sections",
+                "-fomit-frame-pointer",
+                "-g0",
+                "-fvisibility=hidden",
+                "-Wextra",
+                "-Wno-unused-parameter",
+                "-Wno-missing-field-initializers",
+                "-Wno-strict-overflow"
+            ],
+            "defines": [
+                "V8_DEPRECATION_WARNINGS",
+                "USE_NSS_CERTS=1",
+                "CHROMIUM_BUILD",
+                "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
+                "NDEBUG",
+                "NVALGRIND",
+                "DYNAMIC_ANNOTATIONS_ENABLED=0",
+                "WEBRTC_ENABLE_PROTOBUF=0",
+                "WEBRTC_RESTRICT_LOGGING",
+                "WEBRTC_MOZILLA_BUILD",
+                "WEBRTC_NON_STATIC_TRACE_EVENT_HANDLERS=0",
+                "WEBRTC_POSIX",
+                "WEBRTC_LINUX"
+            ],
+            "deps": [
+                "//:webrtc_common",
+                "//api:optional",
+                "//api/audio_codecs:audio_codecs_api",
+                "//modules/audio_coding:pcm16b",
+                "//rtc_base:rtc_base_approved"
+            ],
+            "include_dirs": [
+                "//",
+                "/tmp/objdir/media/webrtc/trunk/webrtc/gn-output/gen/",
+                "//modules/audio_coding/codecs/pcm16b/include/"
+            ],
+            "libs": [],
+            "sources": [
+                "//api/audio_codecs/L16/audio_encoder_L16.cc",
+                "//api/audio_codecs/L16/audio_encoder_L16.h"
+            ],
+            "type": "static_library"
+        },
+        "//api/audio_codecs/g711:audio_decoder_g711": {
+            "cflags": [
+                "-fno-strict-aliasing",
+                "--param=ssp-buffer-size=4",
+                "-fstack-protector",
+                "-Wno-builtin-macro-redefined",
+                "-D__DATE__=",
+                "-D__TIME__=",
+                "-D__TIMESTAMP__=",
+                "-funwind-tables",
+                "-fPIC",
+                "-pipe",
+                "-B../../../../../../gecko-dev/media/webrtc/trunk/webrtc/third_party/binutils/Linux_x64/Release/bin",
+                "-m32",
+                "-msse2",
+                "-mfpmath=sse",
+                "-mmmx",
+                "-pthread",
+                "-Wall",
+                "-Werror",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
+                "-Wno-missing-field-initializers",
+                "-Wno-unused-parameter",
+                "-O2",
+                "-fno-ident",
+                "-fdata-sections",
+                "-ffunction-sections",
+                "-fomit-frame-pointer",
+                "-g0",
+                "-fvisibility=hidden",
+                "-Wextra",
+                "-Wno-unused-parameter",
+                "-Wno-missing-field-initializers",
+                "-Wno-strict-overflow"
+            ],
+            "defines": [
+                "V8_DEPRECATION_WARNINGS",
+                "USE_NSS_CERTS=1",
+                "CHROMIUM_BUILD",
+                "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
+                "NDEBUG",
+                "NVALGRIND",
+                "DYNAMIC_ANNOTATIONS_ENABLED=0",
+                "WEBRTC_ENABLE_PROTOBUF=0",
+                "WEBRTC_RESTRICT_LOGGING",
+                "WEBRTC_MOZILLA_BUILD",
+                "WEBRTC_NON_STATIC_TRACE_EVENT_HANDLERS=0",
+                "WEBRTC_POSIX",
+                "WEBRTC_LINUX"
+            ],
+            "deps": [
+                "//:webrtc_common",
+                "//api:optional",
+                "//api/audio_codecs:audio_codecs_api",
+                "//modules/audio_coding:g711",
+                "//rtc_base:rtc_base_approved"
+            ],
+            "include_dirs": [
+                "//",
+                "/tmp/objdir/media/webrtc/trunk/webrtc/gn-output/gen/",
+                "//modules/audio_coding/codecs/g711/include/"
+            ],
+            "libs": [],
+            "sources": [
+                "//api/audio_codecs/g711/audio_decoder_g711.cc",
+                "//api/audio_codecs/g711/audio_decoder_g711.h"
+            ],
+            "type": "static_library"
+        },
+        "//api/audio_codecs/g711:audio_encoder_g711": {
+            "cflags": [
+                "-fno-strict-aliasing",
+                "--param=ssp-buffer-size=4",
+                "-fstack-protector",
+                "-Wno-builtin-macro-redefined",
+                "-D__DATE__=",
+                "-D__TIME__=",
+                "-D__TIMESTAMP__=",
+                "-funwind-tables",
+                "-fPIC",
+                "-pipe",
+                "-B../../../../../../gecko-dev/media/webrtc/trunk/webrtc/third_party/binutils/Linux_x64/Release/bin",
+                "-m32",
+                "-msse2",
+                "-mfpmath=sse",
+                "-mmmx",
+                "-pthread",
+                "-Wall",
+                "-Werror",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
+                "-Wno-missing-field-initializers",
+                "-Wno-unused-parameter",
+                "-O2",
+                "-fno-ident",
+                "-fdata-sections",
+                "-ffunction-sections",
+                "-fomit-frame-pointer",
+                "-g0",
+                "-fvisibility=hidden",
+                "-Wextra",
+                "-Wno-unused-parameter",
+                "-Wno-missing-field-initializers",
+                "-Wno-strict-overflow"
+            ],
+            "defines": [
+                "V8_DEPRECATION_WARNINGS",
+                "USE_NSS_CERTS=1",
+                "CHROMIUM_BUILD",
+                "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
+                "NDEBUG",
+                "NVALGRIND",
+                "DYNAMIC_ANNOTATIONS_ENABLED=0",
+                "WEBRTC_ENABLE_PROTOBUF=0",
+                "WEBRTC_RESTRICT_LOGGING",
+                "WEBRTC_MOZILLA_BUILD",
+                "WEBRTC_NON_STATIC_TRACE_EVENT_HANDLERS=0",
+                "WEBRTC_POSIX",
+                "WEBRTC_LINUX"
+            ],
+            "deps": [
+                "//:webrtc_common",
+                "//api:optional",
+                "//api/audio_codecs:audio_codecs_api",
+                "//modules/audio_coding:g711",
+                "//rtc_base:rtc_base_approved"
+            ],
+            "include_dirs": [
+                "//",
+                "/tmp/objdir/media/webrtc/trunk/webrtc/gn-output/gen/",
+                "//modules/audio_coding/codecs/g711/include/"
+            ],
+            "libs": [],
+            "sources": [
+                "//api/audio_codecs/g711/audio_encoder_g711.cc",
+                "//api/audio_codecs/g711/audio_encoder_g711.h"
+            ],
+            "type": "static_library"
+        },
+        "//api/audio_codecs/g722:audio_decoder_g722": {
+            "cflags": [
+                "-fno-strict-aliasing",
+                "--param=ssp-buffer-size=4",
+                "-fstack-protector",
+                "-Wno-builtin-macro-redefined",
+                "-D__DATE__=",
+                "-D__TIME__=",
+                "-D__TIMESTAMP__=",
+                "-funwind-tables",
+                "-fPIC",
+                "-pipe",
+                "-B../../../../../../gecko-dev/media/webrtc/trunk/webrtc/third_party/binutils/Linux_x64/Release/bin",
+                "-m32",
+                "-msse2",
+                "-mfpmath=sse",
+                "-mmmx",
+                "-pthread",
+                "-Wall",
+                "-Werror",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
+                "-Wno-missing-field-initializers",
+                "-Wno-unused-parameter",
+                "-O2",
+                "-fno-ident",
+                "-fdata-sections",
+                "-ffunction-sections",
+                "-fomit-frame-pointer",
+                "-g0",
+                "-fvisibility=hidden",
+                "-Wextra",
+                "-Wno-unused-parameter",
+                "-Wno-missing-field-initializers",
+                "-Wno-strict-overflow"
+            ],
+            "defines": [
+                "V8_DEPRECATION_WARNINGS",
+                "USE_NSS_CERTS=1",
+                "CHROMIUM_BUILD",
+                "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
+                "NDEBUG",
+                "NVALGRIND",
+                "DYNAMIC_ANNOTATIONS_ENABLED=0",
+                "WEBRTC_ENABLE_PROTOBUF=0",
+                "WEBRTC_RESTRICT_LOGGING",
+                "WEBRTC_MOZILLA_BUILD",
+                "WEBRTC_NON_STATIC_TRACE_EVENT_HANDLERS=0",
+                "WEBRTC_POSIX",
+                "WEBRTC_LINUX"
+            ],
+            "deps": [
+                "//:webrtc_common",
+                "//api:optional",
+                "//api/audio_codecs:audio_codecs_api",
+                "//modules/audio_coding:g722",
+                "//rtc_base:rtc_base_approved"
+            ],
+            "include_dirs": [
+                "//",
+                "/tmp/objdir/media/webrtc/trunk/webrtc/gn-output/gen/",
+                "//modules/audio_coding/codecs/g722/include/"
+            ],
+            "libs": [],
+            "sources": [
+                "//api/audio_codecs/g722/audio_decoder_g722.cc",
+                "//api/audio_codecs/g722/audio_decoder_g722.h"
+            ],
+            "type": "static_library"
+        },
+        "//api/audio_codecs/g722:audio_encoder_g722": {
+            "cflags": [
+                "-fno-strict-aliasing",
+                "--param=ssp-buffer-size=4",
+                "-fstack-protector",
+                "-Wno-builtin-macro-redefined",
+                "-D__DATE__=",
+                "-D__TIME__=",
+                "-D__TIMESTAMP__=",
+                "-funwind-tables",
+                "-fPIC",
+                "-pipe",
+                "-B../../../../../../gecko-dev/media/webrtc/trunk/webrtc/third_party/binutils/Linux_x64/Release/bin",
+                "-m32",
+                "-msse2",
+                "-mfpmath=sse",
+                "-mmmx",
+                "-pthread",
+                "-Wall",
+                "-Werror",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
+                "-Wno-missing-field-initializers",
+                "-Wno-unused-parameter",
+                "-O2",
+                "-fno-ident",
+                "-fdata-sections",
+                "-ffunction-sections",
+                "-fomit-frame-pointer",
+                "-g0",
+                "-fvisibility=hidden",
+                "-Wextra",
+                "-Wno-unused-parameter",
+                "-Wno-missing-field-initializers",
+                "-Wno-strict-overflow"
+            ],
+            "defines": [
+                "V8_DEPRECATION_WARNINGS",
+                "USE_NSS_CERTS=1",
+                "CHROMIUM_BUILD",
+                "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
+                "NDEBUG",
+                "NVALGRIND",
+                "DYNAMIC_ANNOTATIONS_ENABLED=0",
+                "WEBRTC_ENABLE_PROTOBUF=0",
+                "WEBRTC_RESTRICT_LOGGING",
+                "WEBRTC_MOZILLA_BUILD",
+                "WEBRTC_NON_STATIC_TRACE_EVENT_HANDLERS=0",
+                "WEBRTC_POSIX",
+                "WEBRTC_LINUX"
+            ],
+            "deps": [
+                "//:webrtc_common",
+                "//api:optional",
+                "//api/audio_codecs:audio_codecs_api",
+                "//api/audio_codecs/g722:audio_encoder_g722_config",
+                "//modules/audio_coding:g722",
+                "//rtc_base:rtc_base_approved"
+            ],
+            "include_dirs": [
+                "//",
+                "/tmp/objdir/media/webrtc/trunk/webrtc/gn-output/gen/",
+                "//modules/audio_coding/codecs/g722/include/"
+            ],
+            "libs": [],
+            "sources": [
+                "//api/audio_codecs/g722/audio_encoder_g722.cc",
+                "//api/audio_codecs/g722/audio_encoder_g722.h"
+            ],
+            "type": "static_library"
+        },
+        "//api/audio_codecs/g722:audio_encoder_g722_config": {
+            "cflags": [
+                "-fno-strict-aliasing",
+                "--param=ssp-buffer-size=4",
+                "-fstack-protector",
+                "-Wno-builtin-macro-redefined",
+                "-D__DATE__=",
+                "-D__TIME__=",
+                "-D__TIMESTAMP__=",
+                "-funwind-tables",
+                "-fPIC",
+                "-pipe",
+                "-B../../../../../../gecko-dev/media/webrtc/trunk/webrtc/third_party/binutils/Linux_x64/Release/bin",
+                "-m32",
+                "-msse2",
+                "-mfpmath=sse",
+                "-mmmx",
+                "-pthread",
+                "-Wall",
+                "-Werror",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
+                "-Wno-missing-field-initializers",
+                "-Wno-unused-parameter",
+                "-O2",
+                "-fno-ident",
+                "-fdata-sections",
+                "-ffunction-sections",
+                "-fomit-frame-pointer",
+                "-g0",
+                "-fvisibility=hidden",
+                "-Wextra",
+                "-Wno-unused-parameter",
+                "-Wno-missing-field-initializers",
+                "-Wno-strict-overflow"
+            ],
+            "defines": [
+                "V8_DEPRECATION_WARNINGS",
+                "USE_NSS_CERTS=1",
+                "CHROMIUM_BUILD",
+                "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
+                "NDEBUG",
+                "NVALGRIND",
+                "DYNAMIC_ANNOTATIONS_ENABLED=0",
+                "WEBRTC_ENABLE_PROTOBUF=0",
+                "WEBRTC_RESTRICT_LOGGING",
+                "WEBRTC_MOZILLA_BUILD",
+                "WEBRTC_NON_STATIC_TRACE_EVENT_HANDLERS=0",
+                "WEBRTC_POSIX",
+                "WEBRTC_LINUX"
+            ],
+            "deps": [],
+            "include_dirs": [
+                "//",
+                "/tmp/objdir/media/webrtc/trunk/webrtc/gn-output/gen/"
+            ],
+            "libs": [],
+            "sources": [
+                "//api/audio_codecs/g722/audio_encoder_g722_config.h"
+            ],
+            "type": "source_set"
+        },
+        "//api/audio_codecs/ilbc:audio_decoder_ilbc": {
+            "cflags": [
+                "-fno-strict-aliasing",
+                "--param=ssp-buffer-size=4",
+                "-fstack-protector",
+                "-Wno-builtin-macro-redefined",
+                "-D__DATE__=",
+                "-D__TIME__=",
+                "-D__TIMESTAMP__=",
+                "-funwind-tables",
+                "-fPIC",
+                "-pipe",
+                "-B../../../../../../gecko-dev/media/webrtc/trunk/webrtc/third_party/binutils/Linux_x64/Release/bin",
+                "-m32",
+                "-msse2",
+                "-mfpmath=sse",
+                "-mmmx",
+                "-pthread",
+                "-Wall",
+                "-Werror",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
+                "-Wno-missing-field-initializers",
+                "-Wno-unused-parameter",
+                "-O2",
+                "-fno-ident",
+                "-fdata-sections",
+                "-ffunction-sections",
+                "-fomit-frame-pointer",
+                "-g0",
+                "-fvisibility=hidden",
+                "-Wextra",
+                "-Wno-unused-parameter",
+                "-Wno-missing-field-initializers",
+                "-Wno-strict-overflow"
+            ],
+            "defines": [
+                "V8_DEPRECATION_WARNINGS",
+                "USE_NSS_CERTS=1",
+                "CHROMIUM_BUILD",
+                "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
+                "NDEBUG",
+                "NVALGRIND",
+                "DYNAMIC_ANNOTATIONS_ENABLED=0",
+                "WEBRTC_ENABLE_PROTOBUF=0",
+                "WEBRTC_RESTRICT_LOGGING",
+                "WEBRTC_MOZILLA_BUILD",
+                "WEBRTC_NON_STATIC_TRACE_EVENT_HANDLERS=0",
+                "WEBRTC_POSIX",
+                "WEBRTC_LINUX"
+            ],
+            "deps": [
+                "//:webrtc_common",
+                "//api:optional",
+                "//api/audio_codecs:audio_codecs_api",
+                "//modules/audio_coding:ilbc",
+                "//rtc_base:rtc_base_approved"
+            ],
+            "include_dirs": [
+                "//",
+                "/tmp/objdir/media/webrtc/trunk/webrtc/gn-output/gen/",
+                "//modules/audio_coding/codecs/ilbc/include/"
+            ],
+            "libs": [
+                "rt"
+            ],
+            "sources": [
+                "//api/audio_codecs/ilbc/audio_decoder_ilbc.cc",
+                "//api/audio_codecs/ilbc/audio_decoder_ilbc.h"
+            ],
+            "type": "static_library"
+        },
+        "//api/audio_codecs/ilbc:audio_encoder_ilbc": {
+            "cflags": [
+                "-fno-strict-aliasing",
+                "--param=ssp-buffer-size=4",
+                "-fstack-protector",
+                "-Wno-builtin-macro-redefined",
+                "-D__DATE__=",
+                "-D__TIME__=",
+                "-D__TIMESTAMP__=",
+                "-funwind-tables",
+                "-fPIC",
+                "-pipe",
+                "-B../../../../../../gecko-dev/media/webrtc/trunk/webrtc/third_party/binutils/Linux_x64/Release/bin",
+                "-m32",
+                "-msse2",
+                "-mfpmath=sse",
+                "-mmmx",
+                "-pthread",
+                "-Wall",
+                "-Werror",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
+                "-Wno-missing-field-initializers",
+                "-Wno-unused-parameter",
+                "-O2",
+                "-fno-ident",
+                "-fdata-sections",
+                "-ffunction-sections",
+                "-fomit-frame-pointer",
+                "-g0",
+                "-fvisibility=hidden",
+                "-Wextra",
+                "-Wno-unused-parameter",
+                "-Wno-missing-field-initializers",
+                "-Wno-strict-overflow"
+            ],
+            "defines": [
+                "V8_DEPRECATION_WARNINGS",
+                "USE_NSS_CERTS=1",
+                "CHROMIUM_BUILD",
+                "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
+                "NDEBUG",
+                "NVALGRIND",
+                "DYNAMIC_ANNOTATIONS_ENABLED=0",
+                "WEBRTC_ENABLE_PROTOBUF=0",
+                "WEBRTC_RESTRICT_LOGGING",
+                "WEBRTC_MOZILLA_BUILD",
+                "WEBRTC_NON_STATIC_TRACE_EVENT_HANDLERS=0",
+                "WEBRTC_POSIX",
+                "WEBRTC_LINUX"
+            ],
+            "deps": [
+                "//:webrtc_common",
+                "//api:optional",
+                "//api/audio_codecs:audio_codecs_api",
+                "//api/audio_codecs/ilbc:audio_encoder_ilbc_config",
+                "//modules/audio_coding:ilbc",
+                "//rtc_base:rtc_base_approved"
+            ],
+            "include_dirs": [
+                "//",
+                "/tmp/objdir/media/webrtc/trunk/webrtc/gn-output/gen/",
+                "//modules/audio_coding/codecs/ilbc/include/"
+            ],
+            "libs": [
+                "rt"
+            ],
+            "sources": [
+                "//api/audio_codecs/ilbc/audio_encoder_ilbc.cc",
+                "//api/audio_codecs/ilbc/audio_encoder_ilbc.h"
+            ],
+            "type": "static_library"
+        },
+        "//api/audio_codecs/ilbc:audio_encoder_ilbc_config": {
+            "cflags": [
+                "-fno-strict-aliasing",
+                "--param=ssp-buffer-size=4",
+                "-fstack-protector",
+                "-Wno-builtin-macro-redefined",
+                "-D__DATE__=",
+                "-D__TIME__=",
+                "-D__TIMESTAMP__=",
+                "-funwind-tables",
+                "-fPIC",
+                "-pipe",
+                "-B../../../../../../gecko-dev/media/webrtc/trunk/webrtc/third_party/binutils/Linux_x64/Release/bin",
+                "-m32",
+                "-msse2",
+                "-mfpmath=sse",
+                "-mmmx",
+                "-pthread",
+                "-Wall",
+                "-Werror",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
+                "-Wno-missing-field-initializers",
+                "-Wno-unused-parameter",
+                "-O2",
+                "-fno-ident",
+                "-fdata-sections",
+                "-ffunction-sections",
+                "-fomit-frame-pointer",
+                "-g0",
+                "-fvisibility=hidden",
+                "-Wextra",
+                "-Wno-unused-parameter",
+                "-Wno-missing-field-initializers",
+                "-Wno-strict-overflow"
+            ],
+            "defines": [
+                "V8_DEPRECATION_WARNINGS",
+                "USE_NSS_CERTS=1",
+                "CHROMIUM_BUILD",
+                "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
+                "NDEBUG",
+                "NVALGRIND",
+                "DYNAMIC_ANNOTATIONS_ENABLED=0",
+                "WEBRTC_ENABLE_PROTOBUF=0",
+                "WEBRTC_RESTRICT_LOGGING",
+                "WEBRTC_MOZILLA_BUILD",
+                "WEBRTC_NON_STATIC_TRACE_EVENT_HANDLERS=0",
+                "WEBRTC_POSIX",
+                "WEBRTC_LINUX"
+            ],
+            "deps": [],
+            "include_dirs": [
+                "//",
+                "/tmp/objdir/media/webrtc/trunk/webrtc/gn-output/gen/"
+            ],
+            "libs": [],
+            "sources": [
+                "//api/audio_codecs/ilbc/audio_encoder_ilbc_config.h"
+            ],
+            "type": "source_set"
+        },
+        "//api/audio_codecs/isac:audio_decoder_isac": {
+            "cflags": [
+                "-fno-strict-aliasing",
+                "--param=ssp-buffer-size=4",
+                "-fstack-protector",
+                "-Wno-builtin-macro-redefined",
+                "-D__DATE__=",
+                "-D__TIME__=",
+                "-D__TIMESTAMP__=",
+                "-funwind-tables",
+                "-fPIC",
+                "-pipe",
+                "-B../../../../../../gecko-dev/media/webrtc/trunk/webrtc/third_party/binutils/Linux_x64/Release/bin",
+                "-m32",
+                "-msse2",
+                "-mfpmath=sse",
+                "-mmmx",
+                "-pthread",
+                "-Wall",
+                "-Werror",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
+                "-Wno-missing-field-initializers",
+                "-Wno-unused-parameter",
+                "-O2",
+                "-fno-ident",
+                "-fdata-sections",
+                "-ffunction-sections",
+                "-fomit-frame-pointer",
+                "-g0",
+                "-fvisibility=hidden",
+                "-Wextra",
+                "-Wno-unused-parameter",
+                "-Wno-missing-field-initializers",
+                "-Wno-strict-overflow"
+            ],
+            "defines": [
+                "V8_DEPRECATION_WARNINGS",
+                "USE_NSS_CERTS=1",
+                "CHROMIUM_BUILD",
+                "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
+                "NDEBUG",
+                "NVALGRIND",
+                "DYNAMIC_ANNOTATIONS_ENABLED=0",
+                "WEBRTC_ENABLE_PROTOBUF=0",
+                "WEBRTC_RESTRICT_LOGGING",
+                "WEBRTC_MOZILLA_BUILD",
+                "WEBRTC_NON_STATIC_TRACE_EVENT_HANDLERS=0",
+                "WEBRTC_POSIX",
+                "WEBRTC_LINUX",
+                "WEBRTC_USE_BUILTIN_ISAC_FIX=0",
+                "WEBRTC_USE_BUILTIN_ISAC_FLOAT=1"
+            ],
+            "deps": [
+                "//api/audio_codecs/isac:audio_decoder_isac_float"
+            ],
+            "include_dirs": [
+                "//",
+                "/tmp/objdir/media/webrtc/trunk/webrtc/gn-output/gen/"
+            ],
+            "libs": [
+                "m",
+                "rt"
+            ],
+            "sources": [],
+            "type": "source_set"
+        },
+        "//api/audio_codecs/isac:audio_decoder_isac_float": {
+            "cflags": [
+                "-fno-strict-aliasing",
+                "--param=ssp-buffer-size=4",
+                "-fstack-protector",
+                "-Wno-builtin-macro-redefined",
+                "-D__DATE__=",
+                "-D__TIME__=",
+                "-D__TIMESTAMP__=",
+                "-funwind-tables",
+                "-fPIC",
+                "-pipe",
+                "-B../../../../../../gecko-dev/media/webrtc/trunk/webrtc/third_party/binutils/Linux_x64/Release/bin",
+                "-m32",
+                "-msse2",
+                "-mfpmath=sse",
+                "-mmmx",
+                "-pthread",
+                "-Wall",
+                "-Werror",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
+                "-Wno-missing-field-initializers",
+                "-Wno-unused-parameter",
+                "-O2",
+                "-fno-ident",
+                "-fdata-sections",
+                "-ffunction-sections",
+                "-fomit-frame-pointer",
+                "-g0",
+                "-fvisibility=hidden",
+                "-Wextra",
+                "-Wno-unused-parameter",
+                "-Wno-missing-field-initializers",
+                "-Wno-strict-overflow"
+            ],
+            "defines": [
+                "V8_DEPRECATION_WARNINGS",
+                "USE_NSS_CERTS=1",
+                "CHROMIUM_BUILD",
+                "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
+                "NDEBUG",
+                "NVALGRIND",
+                "DYNAMIC_ANNOTATIONS_ENABLED=0",
+                "WEBRTC_ENABLE_PROTOBUF=0",
+                "WEBRTC_RESTRICT_LOGGING",
+                "WEBRTC_MOZILLA_BUILD",
+                "WEBRTC_NON_STATIC_TRACE_EVENT_HANDLERS=0",
+                "WEBRTC_POSIX",
+                "WEBRTC_LINUX"
+            ],
+            "deps": [
+                "//:webrtc_common",
+                "//api:optional",
+                "//api/audio_codecs:audio_codecs_api",
+                "//modules/audio_coding:isac",
+                "//rtc_base:rtc_base_approved"
+            ],
+            "include_dirs": [
+                "//",
+                "/tmp/objdir/media/webrtc/trunk/webrtc/gn-output/gen/",
+                "//modules/audio_coding/codecs/isac/main/include/"
+            ],
+            "libs": [
+                "m",
+                "rt"
+            ],
+            "sources": [
+                "//api/audio_codecs/isac/audio_decoder_isac_float.cc",
+                "//api/audio_codecs/isac/audio_decoder_isac_float.h"
+            ],
+            "type": "static_library"
+        },
+        "//api/audio_codecs/isac:audio_encoder_isac": {
+            "cflags": [
+                "-fno-strict-aliasing",
+                "--param=ssp-buffer-size=4",
+                "-fstack-protector",
+                "-Wno-builtin-macro-redefined",
+                "-D__DATE__=",
+                "-D__TIME__=",
+                "-D__TIMESTAMP__=",
+                "-funwind-tables",
+                "-fPIC",
+                "-pipe",
+                "-B../../../../../../gecko-dev/media/webrtc/trunk/webrtc/third_party/binutils/Linux_x64/Release/bin",
+                "-m32",
+                "-msse2",
+                "-mfpmath=sse",
+                "-mmmx",
+                "-pthread",
+                "-Wall",
+                "-Werror",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
+                "-Wno-missing-field-initializers",
+                "-Wno-unused-parameter",
+                "-O2",
+                "-fno-ident",
+                "-fdata-sections",
+                "-ffunction-sections",
+                "-fomit-frame-pointer",
+                "-g0",
+                "-fvisibility=hidden",
+                "-Wextra",
+                "-Wno-unused-parameter",
+                "-Wno-missing-field-initializers",
+                "-Wno-strict-overflow"
+            ],
+            "defines": [
+                "V8_DEPRECATION_WARNINGS",
+                "USE_NSS_CERTS=1",
+                "CHROMIUM_BUILD",
+                "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
+                "NDEBUG",
+                "NVALGRIND",
+                "DYNAMIC_ANNOTATIONS_ENABLED=0",
+                "WEBRTC_ENABLE_PROTOBUF=0",
+                "WEBRTC_RESTRICT_LOGGING",
+                "WEBRTC_MOZILLA_BUILD",
+                "WEBRTC_NON_STATIC_TRACE_EVENT_HANDLERS=0",
+                "WEBRTC_POSIX",
+                "WEBRTC_LINUX",
+                "WEBRTC_USE_BUILTIN_ISAC_FIX=0",
+                "WEBRTC_USE_BUILTIN_ISAC_FLOAT=1"
+            ],
+            "deps": [
+                "//api/audio_codecs/isac:audio_encoder_isac_float"
+            ],
+            "include_dirs": [
+                "//",
+                "/tmp/objdir/media/webrtc/trunk/webrtc/gn-output/gen/"
+            ],
+            "libs": [
+                "m",
+                "rt"
+            ],
+            "sources": [],
+            "type": "source_set"
+        },
+        "//api/audio_codecs/isac:audio_encoder_isac_float": {
+            "cflags": [
+                "-fno-strict-aliasing",
+                "--param=ssp-buffer-size=4",
+                "-fstack-protector",
+                "-Wno-builtin-macro-redefined",
+                "-D__DATE__=",
+                "-D__TIME__=",
+                "-D__TIMESTAMP__=",
+                "-funwind-tables",
+                "-fPIC",
+                "-pipe",
+                "-B../../../../../../gecko-dev/media/webrtc/trunk/webrtc/third_party/binutils/Linux_x64/Release/bin",
+                "-m32",
+                "-msse2",
+                "-mfpmath=sse",
+                "-mmmx",
+                "-pthread",
+                "-Wall",
+                "-Werror",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
+                "-Wno-missing-field-initializers",
+                "-Wno-unused-parameter",
+                "-O2",
+                "-fno-ident",
+                "-fdata-sections",
+                "-ffunction-sections",
+                "-fomit-frame-pointer",
+                "-g0",
+                "-fvisibility=hidden",
+                "-Wextra",
+                "-Wno-unused-parameter",
+                "-Wno-missing-field-initializers",
+                "-Wno-strict-overflow"
+            ],
+            "defines": [
+                "V8_DEPRECATION_WARNINGS",
+                "USE_NSS_CERTS=1",
+                "CHROMIUM_BUILD",
+                "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
+                "NDEBUG",
+                "NVALGRIND",
+                "DYNAMIC_ANNOTATIONS_ENABLED=0",
+                "WEBRTC_ENABLE_PROTOBUF=0",
+                "WEBRTC_RESTRICT_LOGGING",
+                "WEBRTC_MOZILLA_BUILD",
+                "WEBRTC_NON_STATIC_TRACE_EVENT_HANDLERS=0",
+                "WEBRTC_POSIX",
+                "WEBRTC_LINUX"
+            ],
+            "deps": [
+                "//:webrtc_common",
+                "//api:optional",
+                "//api/audio_codecs:audio_codecs_api",
+                "//modules/audio_coding:isac",
+                "//rtc_base:rtc_base_approved"
+            ],
+            "include_dirs": [
+                "//",
+                "/tmp/objdir/media/webrtc/trunk/webrtc/gn-output/gen/",
+                "//modules/audio_coding/codecs/isac/main/include/"
+            ],
+            "libs": [
+                "m",
+                "rt"
+            ],
+            "sources": [
+                "//api/audio_codecs/isac/audio_encoder_isac_float.cc",
+                "//api/audio_codecs/isac/audio_encoder_isac_float.h"
+            ],
+            "type": "static_library"
+        },
+        "//api/audio_codecs/opus:audio_decoder_opus": {
+            "cflags": [
+                "-fno-strict-aliasing",
+                "--param=ssp-buffer-size=4",
+                "-fstack-protector",
+                "-Wno-builtin-macro-redefined",
+                "-D__DATE__=",
+                "-D__TIME__=",
+                "-D__TIMESTAMP__=",
+                "-funwind-tables",
+                "-fPIC",
+                "-pipe",
+                "-B../../../../../../gecko-dev/media/webrtc/trunk/webrtc/third_party/binutils/Linux_x64/Release/bin",
+                "-m32",
+                "-msse2",
+                "-mfpmath=sse",
+                "-mmmx",
+                "-pthread",
+                "-Wall",
+                "-Werror",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
+                "-Wno-missing-field-initializers",
+                "-Wno-unused-parameter",
+                "-O2",
+                "-fno-ident",
+                "-fdata-sections",
+                "-ffunction-sections",
+                "-fomit-frame-pointer",
+                "-g0",
+                "-fvisibility=hidden",
+                "-Wextra",
+                "-Wno-unused-parameter",
+                "-Wno-missing-field-initializers",
+                "-Wno-strict-overflow"
+            ],
+            "defines": [
+                "V8_DEPRECATION_WARNINGS",
+                "USE_NSS_CERTS=1",
+                "CHROMIUM_BUILD",
+                "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
+                "NDEBUG",
+                "NVALGRIND",
+                "DYNAMIC_ANNOTATIONS_ENABLED=0",
+                "WEBRTC_ENABLE_PROTOBUF=0",
+                "WEBRTC_RESTRICT_LOGGING",
+                "WEBRTC_MOZILLA_BUILD",
+                "WEBRTC_NON_STATIC_TRACE_EVENT_HANDLERS=0",
+                "WEBRTC_POSIX",
+                "WEBRTC_LINUX"
+            ],
+            "deps": [
+                "//:webrtc_common",
+                "//api:optional",
+                "//api/audio_codecs:audio_codecs_api",
+                "//modules/audio_coding:webrtc_opus",
+                "//rtc_base:rtc_base_approved"
+            ],
+            "include_dirs": [
+                "/media/libopus/include/",
+                "//",
+                "/tmp/objdir/media/webrtc/trunk/webrtc/gn-output/gen/"
+            ],
+            "libs": [
+                "rt"
+            ],
+            "sources": [
+                "//api/audio_codecs/opus/audio_decoder_opus.cc",
+                "//api/audio_codecs/opus/audio_decoder_opus.h"
+            ],
+            "type": "static_library"
+        },
+        "//api/audio_codecs/opus:audio_encoder_opus": {
+            "cflags": [
+                "-fno-strict-aliasing",
+                "--param=ssp-buffer-size=4",
+                "-fstack-protector",
+                "-Wno-builtin-macro-redefined",
+                "-D__DATE__=",
+                "-D__TIME__=",
+                "-D__TIMESTAMP__=",
+                "-funwind-tables",
+                "-fPIC",
+                "-pipe",
+                "-B../../../../../../gecko-dev/media/webrtc/trunk/webrtc/third_party/binutils/Linux_x64/Release/bin",
+                "-m32",
+                "-msse2",
+                "-mfpmath=sse",
+                "-mmmx",
+                "-pthread",
+                "-Wall",
+                "-Werror",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
+                "-Wno-missing-field-initializers",
+                "-Wno-unused-parameter",
+                "-O2",
+                "-fno-ident",
+                "-fdata-sections",
+                "-ffunction-sections",
+                "-fomit-frame-pointer",
+                "-g0",
+                "-fvisibility=hidden",
+                "-Wextra",
+                "-Wno-unused-parameter",
+                "-Wno-missing-field-initializers",
+                "-Wno-strict-overflow"
+            ],
+            "defines": [
+                "V8_DEPRECATION_WARNINGS",
+                "USE_NSS_CERTS=1",
+                "CHROMIUM_BUILD",
+                "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
+                "NDEBUG",
+                "NVALGRIND",
+                "DYNAMIC_ANNOTATIONS_ENABLED=0",
+                "WEBRTC_ENABLE_PROTOBUF=0",
+                "WEBRTC_RESTRICT_LOGGING",
+                "WEBRTC_MOZILLA_BUILD",
+                "WEBRTC_NON_STATIC_TRACE_EVENT_HANDLERS=0",
+                "WEBRTC_POSIX",
+                "WEBRTC_LINUX"
+            ],
+            "deps": [
+                "//api:optional",
+                "//api/audio_codecs:audio_codecs_api",
+                "//api/audio_codecs/opus:audio_encoder_opus_config",
+                "//modules/audio_coding:webrtc_opus",
+                "//rtc_base:protobuf_utils",
+                "//rtc_base:rtc_base_approved"
+            ],
+            "include_dirs": [
+                "/media/libopus/include/",
+                "//",
+                "/tmp/objdir/media/webrtc/trunk/webrtc/gn-output/gen/"
+            ],
+            "libs": [
+                "rt"
+            ],
+            "sources": [
+                "//api/audio_codecs/opus/audio_encoder_opus.cc"
+            ],
+            "type": "source_set"
+        },
+        "//api/audio_codecs/opus:audio_encoder_opus_config": {
+            "cflags": [
+                "-fno-strict-aliasing",
+                "--param=ssp-buffer-size=4",
+                "-fstack-protector",
+                "-Wno-builtin-macro-redefined",
+                "-D__DATE__=",
+                "-D__TIME__=",
+                "-D__TIMESTAMP__=",
+                "-funwind-tables",
+                "-fPIC",
+                "-pipe",
+                "-B../../../../../../gecko-dev/media/webrtc/trunk/webrtc/third_party/binutils/Linux_x64/Release/bin",
+                "-m32",
+                "-msse2",
+                "-mfpmath=sse",
+                "-mmmx",
+                "-pthread",
+                "-Wall",
+                "-Werror",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
+                "-Wno-missing-field-initializers",
+                "-Wno-unused-parameter",
+                "-O2",
+                "-fno-ident",
+                "-fdata-sections",
+                "-ffunction-sections",
+                "-fomit-frame-pointer",
+                "-g0",
+                "-fvisibility=hidden",
+                "-Wextra",
+                "-Wno-unused-parameter",
+                "-Wno-missing-field-initializers",
+                "-Wno-strict-overflow"
+            ],
+            "defines": [
+                "WEBRTC_OPUS_VARIABLE_COMPLEXITY=0",
+                "V8_DEPRECATION_WARNINGS",
+                "USE_NSS_CERTS=1",
+                "CHROMIUM_BUILD",
+                "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
+                "NDEBUG",
+                "NVALGRIND",
+                "DYNAMIC_ANNOTATIONS_ENABLED=0",
+                "WEBRTC_ENABLE_PROTOBUF=0",
+                "WEBRTC_RESTRICT_LOGGING",
+                "WEBRTC_MOZILLA_BUILD",
+                "WEBRTC_NON_STATIC_TRACE_EVENT_HANDLERS=0",
+                "WEBRTC_POSIX",
+                "WEBRTC_LINUX"
+            ],
+            "deps": [
+                "//api:optional",
+                "//rtc_base:rtc_base_approved"
+            ],
+            "include_dirs": [
+                "/media/libopus/include/",
+                "//",
+                "/tmp/objdir/media/webrtc/trunk/webrtc/gn-output/gen/"
+            ],
+            "libs": [],
+            "sources": [
+                "//api/audio_codecs/opus/audio_encoder_opus_config.cc",
+                "//api/audio_codecs/opus/audio_encoder_opus_config.h"
+            ],
+            "type": "static_library"
+        },
+        "//api/audio_codecs:audio_codecs_api": {
+            "cflags": [
+                "-fno-strict-aliasing",
+                "--param=ssp-buffer-size=4",
+                "-fstack-protector",
+                "-Wno-builtin-macro-redefined",
+                "-D__DATE__=",
+                "-D__TIME__=",
+                "-D__TIMESTAMP__=",
+                "-funwind-tables",
+                "-fPIC",
+                "-pipe",
+                "-B../../../../../../gecko-dev/media/webrtc/trunk/webrtc/third_party/binutils/Linux_x64/Release/bin",
+                "-m32",
+                "-msse2",
+                "-mfpmath=sse",
+                "-mmmx",
+                "-pthread",
+                "-Wall",
+                "-Werror",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
+                "-Wno-missing-field-initializers",
+                "-Wno-unused-parameter",
+                "-O2",
+                "-fno-ident",
+                "-fdata-sections",
+                "-ffunction-sections",
+                "-fomit-frame-pointer",
+                "-g0",
+                "-fvisibility=hidden",
+                "-Wextra",
+                "-Wno-unused-parameter",
+                "-Wno-missing-field-initializers",
+                "-Wno-strict-overflow"
+            ],
+            "defines": [
+                "V8_DEPRECATION_WARNINGS",
+                "USE_NSS_CERTS=1",
+                "CHROMIUM_BUILD",
+                "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
+                "NDEBUG",
+                "NVALGRIND",
+                "DYNAMIC_ANNOTATIONS_ENABLED=0",
+                "WEBRTC_ENABLE_PROTOBUF=0",
+                "WEBRTC_RESTRICT_LOGGING",
+                "WEBRTC_MOZILLA_BUILD",
+                "WEBRTC_NON_STATIC_TRACE_EVENT_HANDLERS=0",
+                "WEBRTC_POSIX",
+                "WEBRTC_LINUX"
+            ],
+            "deps": [
+                "//:webrtc_common",
+                "//api:array_view",
+                "//api:optional",
+                "//rtc_base:rtc_base_approved"
+            ],
+            "include_dirs": [
+                "//",
+                "/tmp/objdir/media/webrtc/trunk/webrtc/gn-output/gen/"
+            ],
+            "libs": [],
+            "sources": [
+                "//api/audio_codecs/audio_decoder.cc",
+                "//api/audio_codecs/audio_decoder.h",
+                "//api/audio_codecs/audio_decoder_factory.h",
+                "//api/audio_codecs/audio_decoder_factory_template.h",
+                "//api/audio_codecs/audio_encoder.cc",
+                "//api/audio_codecs/audio_encoder.h",
+                "//api/audio_codecs/audio_encoder_factory.h",
+                "//api/audio_codecs/audio_encoder_factory_template.h",
+                "//api/audio_codecs/audio_format.cc",
+                "//api/audio_codecs/audio_format.h"
+            ],
+            "type": "source_set"
+        },
+        "//api/audio_codecs:builtin_audio_decoder_factory": {
+            "cflags": [
+                "-fno-strict-aliasing",
+                "--param=ssp-buffer-size=4",
+                "-fstack-protector",
+                "-Wno-builtin-macro-redefined",
+                "-D__DATE__=",
+                "-D__TIME__=",
+                "-D__TIMESTAMP__=",
+                "-funwind-tables",
+                "-fPIC",
+                "-pipe",
+                "-B../../../../../../gecko-dev/media/webrtc/trunk/webrtc/third_party/binutils/Linux_x64/Release/bin",
+                "-m32",
+                "-msse2",
+                "-mfpmath=sse",
+                "-mmmx",
+                "-pthread",
+                "-Wall",
+                "-Werror",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
+                "-Wno-missing-field-initializers",
+                "-Wno-unused-parameter",
+                "-O2",
+                "-fno-ident",
+                "-fdata-sections",
+                "-ffunction-sections",
+                "-fomit-frame-pointer",
+                "-g0",
+                "-fvisibility=hidden",
+                "-Wextra",
+                "-Wno-unused-parameter",
+                "-Wno-missing-field-initializers",
+                "-Wno-strict-overflow"
+            ],
+            "defines": [
+                "WEBRTC_USE_BUILTIN_ILBC=1",
+                "WEBRTC_USE_BUILTIN_OPUS=1",
+                "V8_DEPRECATION_WARNINGS",
+                "USE_NSS_CERTS=1",
+                "CHROMIUM_BUILD",
+                "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
+                "NDEBUG",
+                "NVALGRIND",
+                "DYNAMIC_ANNOTATIONS_ENABLED=0",
+                "WEBRTC_ENABLE_PROTOBUF=0",
+                "WEBRTC_RESTRICT_LOGGING",
+                "WEBRTC_MOZILLA_BUILD",
+                "WEBRTC_NON_STATIC_TRACE_EVENT_HANDLERS=0",
+                "WEBRTC_POSIX",
+                "WEBRTC_LINUX",
+                "WEBRTC_USE_BUILTIN_ISAC_FIX=0",
+                "WEBRTC_USE_BUILTIN_ISAC_FLOAT=1"
+            ],
+            "deps": [
+                "//api/audio_codecs:audio_codecs_api",
+                "//api/audio_codecs/L16:audio_decoder_L16",
+                "//api/audio_codecs/g711:audio_decoder_g711",
+                "//api/audio_codecs/g722:audio_decoder_g722",
+                "//api/audio_codecs/ilbc:audio_decoder_ilbc",
+                "//api/audio_codecs/isac:audio_decoder_isac",
+                "//api/audio_codecs/opus:audio_decoder_opus",
+                "//rtc_base:rtc_base_approved"
+            ],
+            "include_dirs": [
+                "//",
+                "/tmp/objdir/media/webrtc/trunk/webrtc/gn-output/gen/"
+            ],
+            "libs": [
+                "m",
+                "rt"
+            ],
+            "sources": [
+                "//api/audio_codecs/builtin_audio_decoder_factory.cc",
+                "//api/audio_codecs/builtin_audio_decoder_factory.h"
+            ],
+            "type": "static_library"
+        },
+        "//api/audio_codecs:builtin_audio_encoder_factory": {
+            "cflags": [
+                "-fno-strict-aliasing",
+                "--param=ssp-buffer-size=4",
+                "-fstack-protector",
+                "-Wno-builtin-macro-redefined",
+                "-D__DATE__=",
+                "-D__TIME__=",
+                "-D__TIMESTAMP__=",
+                "-funwind-tables",
+                "-fPIC",
+                "-pipe",
+                "-B../../../../../../gecko-dev/media/webrtc/trunk/webrtc/third_party/binutils/Linux_x64/Release/bin",
+                "-m32",
+                "-msse2",
+                "-mfpmath=sse",
+                "-mmmx",
+                "-pthread",
+                "-Wall",
+                "-Werror",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
+                "-Wno-missing-field-initializers",
+                "-Wno-unused-parameter",
+                "-O2",
+                "-fno-ident",
+                "-fdata-sections",
+                "-ffunction-sections",
+                "-fomit-frame-pointer",
+                "-g0",
+                "-fvisibility=hidden",
+                "-Wextra",
+                "-Wno-unused-parameter",
+                "-Wno-missing-field-initializers",
+                "-Wno-strict-overflow"
+            ],
+            "defines": [
+                "WEBRTC_USE_BUILTIN_ILBC=1",
+                "WEBRTC_USE_BUILTIN_OPUS=1",
+                "V8_DEPRECATION_WARNINGS",
+                "USE_NSS_CERTS=1",
+                "CHROMIUM_BUILD",
+                "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
+                "NDEBUG",
+                "NVALGRIND",
+                "DYNAMIC_ANNOTATIONS_ENABLED=0",
+                "WEBRTC_ENABLE_PROTOBUF=0",
+                "WEBRTC_RESTRICT_LOGGING",
+                "WEBRTC_MOZILLA_BUILD",
+                "WEBRTC_NON_STATIC_TRACE_EVENT_HANDLERS=0",
+                "WEBRTC_POSIX",
+                "WEBRTC_LINUX",
+                "WEBRTC_USE_BUILTIN_ISAC_FIX=0",
+                "WEBRTC_USE_BUILTIN_ISAC_FLOAT=1"
+            ],
+            "deps": [
+                "//api/audio_codecs:audio_codecs_api",
+                "//api/audio_codecs/L16:audio_encoder_L16",
+                "//api/audio_codecs/g711:audio_encoder_g711",
+                "//api/audio_codecs/g722:audio_encoder_g722",
+                "//api/audio_codecs/ilbc:audio_encoder_ilbc",
+                "//api/audio_codecs/isac:audio_encoder_isac",
+                "//api/audio_codecs/opus:audio_encoder_opus",
+                "//rtc_base:rtc_base_approved"
+            ],
+            "include_dirs": [
+                "//",
+                "/tmp/objdir/media/webrtc/trunk/webrtc/gn-output/gen/"
+            ],
+            "libs": [
+                "m",
+                "rt"
+            ],
+            "sources": [
+                "//api/audio_codecs/builtin_audio_encoder_factory.cc",
+                "//api/audio_codecs/builtin_audio_encoder_factory.h"
+            ],
+            "type": "static_library"
+        },
+        "//api/video_codecs:video_codecs_api": {
+            "cflags": [
+                "-fno-strict-aliasing",
+                "--param=ssp-buffer-size=4",
+                "-fstack-protector",
+                "-Wno-builtin-macro-redefined",
+                "-D__DATE__=",
+                "-D__TIME__=",
+                "-D__TIMESTAMP__=",
+                "-funwind-tables",
+                "-fPIC",
+                "-pipe",
+                "-B../../../../../../gecko-dev/media/webrtc/trunk/webrtc/third_party/binutils/Linux_x64/Release/bin",
+                "-m32",
+                "-msse2",
+                "-mfpmath=sse",
+                "-mmmx",
+                "-pthread",
+                "-Wall",
+                "-Werror",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
+                "-Wno-missing-field-initializers",
+                "-Wno-unused-parameter",
+                "-O2",
+                "-fno-ident",
+                "-fdata-sections",
+                "-ffunction-sections",
+                "-fomit-frame-pointer",
+                "-g0",
+                "-fvisibility=hidden",
+                "-Wextra",
+                "-Wno-unused-parameter",
+                "-Wno-missing-field-initializers",
+                "-Wno-strict-overflow"
+            ],
+            "defines": [
+                "V8_DEPRECATION_WARNINGS",
+                "USE_NSS_CERTS=1",
+                "CHROMIUM_BUILD",
+                "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
+                "NDEBUG",
+                "NVALGRIND",
+                "DYNAMIC_ANNOTATIONS_ENABLED=0",
+                "WEBRTC_ENABLE_PROTOBUF=0",
+                "WEBRTC_RESTRICT_LOGGING",
+                "WEBRTC_MOZILLA_BUILD",
+                "WEBRTC_NON_STATIC_TRACE_EVENT_HANDLERS=0",
+                "WEBRTC_POSIX",
+                "WEBRTC_LINUX"
+            ],
+            "deps": [
+                "//:webrtc_common",
+                "//api:optional",
+                "//api:video_frame_api",
+                "//common_video:common_video",
+                "//rtc_base:rtc_base_approved"
+            ],
+            "include_dirs": [
+                "//",
+                "/tmp/objdir/media/webrtc/trunk/webrtc/gn-output/gen/",
+                "//common_video/include/",
+                "/media/libyuv/libyuv/include/"
+            ],
+            "libs": [
+                "rt"
+            ],
+            "sources": [
+                "//api/video_codecs/sdp_video_format.h",
+                "//api/video_codecs/video_decoder.h",
+                "//api/video_codecs/video_decoder_factory.h",
+                "//api/video_codecs/video_encoder.cc",
+                "//api/video_codecs/video_encoder.h",
+                "//api/video_codecs/video_encoder_factory.h"
+            ],
+            "type": "source_set"
+        },
+        "//api:array_view": {
+            "cflags": [
+                "-fno-strict-aliasing",
+                "--param=ssp-buffer-size=4",
+                "-fstack-protector",
+                "-Wno-builtin-macro-redefined",
+                "-D__DATE__=",
+                "-D__TIME__=",
+                "-D__TIMESTAMP__=",
+                "-funwind-tables",
+                "-fPIC",
+                "-pipe",
+                "-B../../../../../../gecko-dev/media/webrtc/trunk/webrtc/third_party/binutils/Linux_x64/Release/bin",
+                "-m32",
+                "-msse2",
+                "-mfpmath=sse",
+                "-mmmx",
+                "-pthread",
+                "-Wall",
+                "-Werror",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
+                "-Wno-missing-field-initializers",
+                "-Wno-unused-parameter",
+                "-O2",
+                "-fno-ident",
+                "-fdata-sections",
+                "-ffunction-sections",
+                "-fomit-frame-pointer",
+                "-g0",
+                "-fvisibility=hidden",
+                "-Wextra",
+                "-Wno-unused-parameter",
+                "-Wno-missing-field-initializers",
+                "-Wno-strict-overflow"
+            ],
+            "defines": [
+                "V8_DEPRECATION_WARNINGS",
+                "USE_NSS_CERTS=1",
+                "CHROMIUM_BUILD",
+                "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
+                "NDEBUG",
+                "NVALGRIND",
+                "DYNAMIC_ANNOTATIONS_ENABLED=0",
+                "WEBRTC_ENABLE_PROTOBUF=0",
+                "WEBRTC_RESTRICT_LOGGING",
+                "WEBRTC_MOZILLA_BUILD",
+                "WEBRTC_NON_STATIC_TRACE_EVENT_HANDLERS=0",
+                "WEBRTC_POSIX",
+                "WEBRTC_LINUX"
+            ],
+            "deps": [
+                "//rtc_base:rtc_base_approved"
+            ],
+            "include_dirs": [
+                "//",
+                "/tmp/objdir/media/webrtc/trunk/webrtc/gn-output/gen/"
+            ],
+            "libs": [],
+            "sources": [
+                "//api/array_view.h"
+            ],
+            "type": "source_set"
+        },
+        "//api:audio_mixer_api": {
+            "cflags": [
+                "-fno-strict-aliasing",
+                "--param=ssp-buffer-size=4",
+                "-fstack-protector",
+                "-Wno-builtin-macro-redefined",
+                "-D__DATE__=",
+                "-D__TIME__=",
+                "-D__TIMESTAMP__=",
+                "-funwind-tables",
+                "-fPIC",
+                "-pipe",
+                "-B../../../../../../gecko-dev/media/webrtc/trunk/webrtc/third_party/binutils/Linux_x64/Release/bin",
+                "-m32",
+                "-msse2",
+                "-mfpmath=sse",
+                "-mmmx",
+                "-pthread",
+                "-Wall",
+                "-Werror",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
+                "-Wno-missing-field-initializers",
+                "-Wno-unused-parameter",
+                "-O2",
+                "-fno-ident",
+                "-fdata-sections",
+                "-ffunction-sections",
+                "-fomit-frame-pointer",
+                "-g0",
+                "-fvisibility=hidden",
+                "-Wextra",
+                "-Wno-unused-parameter",
+                "-Wno-missing-field-initializers",
+                "-Wno-strict-overflow"
+            ],
+            "defines": [
+                "V8_DEPRECATION_WARNINGS",
+                "USE_NSS_CERTS=1",
+                "CHROMIUM_BUILD",
+                "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
+                "NDEBUG",
+                "NVALGRIND",
+                "DYNAMIC_ANNOTATIONS_ENABLED=0",
+                "WEBRTC_ENABLE_PROTOBUF=0",
+                "WEBRTC_RESTRICT_LOGGING",
+                "WEBRTC_MOZILLA_BUILD",
+                "WEBRTC_NON_STATIC_TRACE_EVENT_HANDLERS=0",
+                "WEBRTC_POSIX",
+                "WEBRTC_LINUX"
+            ],
+            "deps": [
+                "//modules:module_api",
+                "//rtc_base:rtc_base_approved"
+            ],
+            "include_dirs": [
+                "//",
+                "/tmp/objdir/media/webrtc/trunk/webrtc/gn-output/gen/"
+            ],
+            "libs": [
+                "rt"
+            ],
+            "sources": [
+                "//api/audio/audio_mixer.h"
+            ],
+            "type": "source_set"
+        },
+        "//api:base_peerconnection_api": {
+            "cflags": [
+                "-fno-strict-aliasing",
+                "--param=ssp-buffer-size=4",
+                "-fstack-protector",
+                "-Wno-builtin-macro-redefined",
+                "-D__DATE__=",
+                "-D__TIME__=",
+                "-D__TIMESTAMP__=",
+                "-funwind-tables",
+                "-fPIC",
+                "-pipe",
+                "-B../../../../../../gecko-dev/media/webrtc/trunk/webrtc/third_party/binutils/Linux_x64/Release/bin",
+                "-m32",
+                "-msse2",
+                "-mfpmath=sse",
+                "-mmmx",
+                "-pthread",
+                "-Wall",
+                "-Werror",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
+                "-Wno-missing-field-initializers",
+                "-Wno-unused-parameter",
+                "-O2",
+                "-fno-ident",
+                "-fdata-sections",
+                "-ffunction-sections",
+                "-fomit-frame-pointer",
+                "-g0",
+                "-fvisibility=hidden",
+                "-Wextra",
+                "-Wno-unused-parameter",
+                "-Wno-missing-field-initializers",
+                "-Wno-strict-overflow"
+            ],
+            "defines": [
+                "V8_DEPRECATION_WARNINGS",
+                "USE_NSS_CERTS=1",
+                "CHROMIUM_BUILD",
+                "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
+                "NDEBUG",
+                "NVALGRIND",
+                "DYNAMIC_ANNOTATIONS_ENABLED=0",
+                "WEBRTC_ENABLE_PROTOBUF=0",
+                "WEBRTC_RESTRICT_LOGGING",
+                "WEBRTC_MOZILLA_BUILD",
+                "WEBRTC_NON_STATIC_TRACE_EVENT_HANDLERS=0",
+                "WEBRTC_POSIX",
+                "WEBRTC_LINUX"
+            ],
+            "deps": [],
+            "include_dirs": [
+                "//",
+                "/tmp/objdir/media/webrtc/trunk/webrtc/gn-output/gen/"
+            ],
+            "libs": [],
+            "sources": [
+                "//api/rtpparameters.cc",
+                "//api/rtpparameters.h"
+            ],
+            "type": "static_library"
+        },
+        "//api:call_api": {
+            "cflags": [
+                "-fno-strict-aliasing",
+                "--param=ssp-buffer-size=4",
+                "-fstack-protector",
+                "-Wno-builtin-macro-redefined",
+                "-D__DATE__=",
+                "-D__TIME__=",
+                "-D__TIMESTAMP__=",
+                "-funwind-tables",
+                "-fPIC",
+                "-pipe",
+                "-B../../../../../../gecko-dev/media/webrtc/trunk/webrtc/third_party/binutils/Linux_x64/Release/bin",
+                "-m32",
+                "-msse2",
+                "-mfpmath=sse",
+                "-mmmx",
+                "-pthread",
+                "-Wall",
+                "-Werror",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
+                "-Wno-missing-field-initializers",
+                "-Wno-unused-parameter",
+                "-O2",
+                "-fno-ident",
+                "-fdata-sections",
+                "-ffunction-sections",
+                "-fomit-frame-pointer",
+                "-g0",
+                "-fvisibility=hidden",
+                "-Wextra",
+                "-Wno-unused-parameter",
+                "-Wno-missing-field-initializers",
+                "-Wno-strict-overflow"
+            ],
+            "defines": [
+                "V8_DEPRECATION_WARNINGS",
+                "USE_NSS_CERTS=1",
+                "CHROMIUM_BUILD",
+                "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
+                "NDEBUG",
+                "NVALGRIND",
+                "DYNAMIC_ANNOTATIONS_ENABLED=0",
+                "WEBRTC_ENABLE_PROTOBUF=0",
+                "WEBRTC_RESTRICT_LOGGING",
+                "WEBRTC_MOZILLA_BUILD",
+                "WEBRTC_NON_STATIC_TRACE_EVENT_HANDLERS=0",
+                "WEBRTC_POSIX",
+                "WEBRTC_LINUX"
+            ],
+            "deps": [
+                "//:webrtc_common",
+                "//api:audio_mixer_api",
+                "//api:transport_api",
+                "//api/audio_codecs:audio_codecs_api",
+                "//rtc_base:rtc_base_approved"
+            ],
+            "include_dirs": [
+                "//",
+                "/tmp/objdir/media/webrtc/trunk/webrtc/gn-output/gen/"
+            ],
+            "libs": [
+                "rt"
+            ],
+            "sources": [
+                "//api/call/audio_sink.h"
+            ],
+            "type": "source_set"
+        },
+        "//api:optional": {
+            "cflags": [
+                "-fno-strict-aliasing",
+                "--param=ssp-buffer-size=4",
+                "-fstack-protector",
+                "-Wno-builtin-macro-redefined",
+                "-D__DATE__=",
+                "-D__TIME__=",
+                "-D__TIMESTAMP__=",
+                "-funwind-tables",
+                "-fPIC",
+                "-pipe",
+                "-B../../../../../../gecko-dev/media/webrtc/trunk/webrtc/third_party/binutils/Linux_x64/Release/bin",
+                "-m32",
+                "-msse2",
+                "-mfpmath=sse",
+                "-mmmx",
+                "-pthread",
+                "-Wall",
+                "-Werror",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
+                "-Wno-missing-field-initializers",
+                "-Wno-unused-parameter",
+                "-O2",
+                "-fno-ident",
+                "-fdata-sections",
+                "-ffunction-sections",
+                "-fomit-frame-pointer",
+                "-g0",
+                "-fvisibility=hidden",
+                "-Wextra",
+                "-Wno-unused-parameter",
+                "-Wno-missing-field-initializers",
+                "-Wno-strict-overflow"
+            ],
+            "defines": [
+                "V8_DEPRECATION_WARNINGS",
+                "USE_NSS_CERTS=1",
+                "CHROMIUM_BUILD",
+                "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
+                "NDEBUG",
+                "NVALGRIND",
+                "DYNAMIC_ANNOTATIONS_ENABLED=0",
+                "WEBRTC_ENABLE_PROTOBUF=0",
+                "WEBRTC_RESTRICT_LOGGING",
+                "WEBRTC_MOZILLA_BUILD",
+                "WEBRTC_NON_STATIC_TRACE_EVENT_HANDLERS=0",
+                "WEBRTC_POSIX",
+                "WEBRTC_LINUX"
+            ],
+            "deps": [
+                "//api:array_view",
+                "//rtc_base:rtc_base_approved"
+            ],
+            "include_dirs": [
+                "//",
+                "/tmp/objdir/media/webrtc/trunk/webrtc/gn-output/gen/"
+            ],
+            "libs": [],
+            "sources": [
+                "//api/optional.cc",
+                "//api/optional.h"
+            ],
+            "type": "source_set"
+        },
+        "//api:refcountedbase": {
+            "cflags": [
+                "-fno-strict-aliasing",
+                "--param=ssp-buffer-size=4",
+                "-fstack-protector",
+                "-Wno-builtin-macro-redefined",
+                "-D__DATE__=",
+                "-D__TIME__=",
+                "-D__TIMESTAMP__=",
+                "-funwind-tables",
+                "-fPIC",
+                "-pipe",
+                "-B../../../../../../gecko-dev/media/webrtc/trunk/webrtc/third_party/binutils/Linux_x64/Release/bin",
+                "-m32",
+                "-msse2",
+                "-mfpmath=sse",
+                "-mmmx",
+                "-pthread",
+                "-Wall",
+                "-Werror",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
+                "-Wno-missing-field-initializers",
+                "-Wno-unused-parameter",
+                "-O2",
+                "-fno-ident",
+                "-fdata-sections",
+                "-ffunction-sections",
+                "-fomit-frame-pointer",
+                "-g0",
+                "-fvisibility=hidden",
+                "-Wextra",
+                "-Wno-unused-parameter",
+                "-Wno-missing-field-initializers",
+                "-Wno-strict-overflow"
+            ],
+            "defines": [
+                "V8_DEPRECATION_WARNINGS",
+                "USE_NSS_CERTS=1",
+                "CHROMIUM_BUILD",
+                "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
+                "NDEBUG",
+                "NVALGRIND",
+                "DYNAMIC_ANNOTATIONS_ENABLED=0",
+                "WEBRTC_ENABLE_PROTOBUF=0",
+                "WEBRTC_RESTRICT_LOGGING",
+                "WEBRTC_MOZILLA_BUILD",
+                "WEBRTC_NON_STATIC_TRACE_EVENT_HANDLERS=0",
+                "WEBRTC_POSIX",
+                "WEBRTC_LINUX"
+            ],
+            "deps": [
+                "//rtc_base:rtc_base_approved"
+            ],
+            "include_dirs": [
+                "//",
+                "/tmp/objdir/media/webrtc/trunk/webrtc/gn-output/gen/"
+            ],
+            "libs": [],
+            "sources": [
+                "//api/refcountedbase.h"
+            ],
+            "type": "source_set"
+        },
+        "//api:transport_api": {
+            "cflags": [
+                "-fno-strict-aliasing",
+                "--param=ssp-buffer-size=4",
+                "-fstack-protector",
+                "-Wno-builtin-macro-redefined",
+                "-D__DATE__=",
+                "-D__TIME__=",
+                "-D__TIMESTAMP__=",
+                "-funwind-tables",
+                "-fPIC",
+                "-pipe",
+                "-B../../../../../../gecko-dev/media/webrtc/trunk/webrtc/third_party/binutils/Linux_x64/Release/bin",
+                "-m32",
+                "-msse2",
+                "-mfpmath=sse",
+                "-mmmx",
+                "-pthread",
+                "-Wall",
+                "-Werror",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
+                "-Wno-missing-field-initializers",
+                "-Wno-unused-parameter",
+                "-O2",
+                "-fno-ident",
+                "-fdata-sections",
+                "-ffunction-sections",
+                "-fomit-frame-pointer",
+                "-g0",
+                "-fvisibility=hidden",
+                "-Wextra",
+                "-Wno-unused-parameter",
+                "-Wno-missing-field-initializers",
+                "-Wno-strict-overflow"
+            ],
+            "defines": [
+                "V8_DEPRECATION_WARNINGS",
+                "USE_NSS_CERTS=1",
+                "CHROMIUM_BUILD",
+                "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
+                "NDEBUG",
+                "NVALGRIND",
+                "DYNAMIC_ANNOTATIONS_ENABLED=0",
+                "WEBRTC_ENABLE_PROTOBUF=0",
+                "WEBRTC_RESTRICT_LOGGING",
+                "WEBRTC_MOZILLA_BUILD",
+                "WEBRTC_NON_STATIC_TRACE_EVENT_HANDLERS=0",
+                "WEBRTC_POSIX",
+                "WEBRTC_LINUX"
+            ],
+            "deps": [],
+            "include_dirs": [
+                "//",
+                "/tmp/objdir/media/webrtc/trunk/webrtc/gn-output/gen/"
+            ],
+            "libs": [],
+            "sources": [
+                "//api/call/transport.h"
+            ],
+            "type": "source_set"
+        },
+        "//api:video_frame_api": {
+            "cflags": [
+                "-fno-strict-aliasing",
+                "--param=ssp-buffer-size=4",
+                "-fstack-protector",
+                "-Wno-builtin-macro-redefined",
+                "-D__DATE__=",
+                "-D__TIME__=",
+                "-D__TIMESTAMP__=",
+                "-funwind-tables",
+                "-fPIC",
+                "-pipe",
+                "-B../../../../../../gecko-dev/media/webrtc/trunk/webrtc/third_party/binutils/Linux_x64/Release/bin",
+                "-m32",
+                "-msse2",
+                "-mfpmath=sse",
+                "-mmmx",
+                "-pthread",
+                "-Wall",
+                "-Werror",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
+                "-Wno-missing-field-initializers",
+                "-Wno-unused-parameter",
+                "-O2",
+                "-fno-ident",
+                "-fdata-sections",
+                "-ffunction-sections",
+                "-fomit-frame-pointer",
+                "-g0",
+                "-fvisibility=hidden",
+                "-Wextra",
+                "-Wno-unused-parameter",
+                "-Wno-missing-field-initializers",
+                "-Wno-strict-overflow"
+            ],
+            "defines": [
+                "V8_DEPRECATION_WARNINGS",
+                "USE_NSS_CERTS=1",
+                "CHROMIUM_BUILD",
+                "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
+                "NDEBUG",
+                "NVALGRIND",
+                "DYNAMIC_ANNOTATIONS_ENABLED=0",
+                "WEBRTC_ENABLE_PROTOBUF=0",
+                "WEBRTC_RESTRICT_LOGGING",
+                "WEBRTC_MOZILLA_BUILD",
+                "WEBRTC_NON_STATIC_TRACE_EVENT_HANDLERS=0",
+                "WEBRTC_POSIX",
+                "WEBRTC_LINUX"
+            ],
+            "deps": [
+                "//rtc_base:rtc_base_approved"
+            ],
+            "include_dirs": [
+                "/media/libyuv/libyuv/include/",
+                "//",
+                "/tmp/objdir/media/webrtc/trunk/webrtc/gn-output/gen/"
+            ],
+            "libs": [],
+            "sources": [
+                "//api/video/video_content_type.cc",
+                "//api/video/video_content_type.h",
+                "//api/video/video_frame.cc",
+                "//api/video/video_frame.h",
+                "//api/video/video_frame_buffer.cc",
+                "//api/video/video_frame_buffer.h",
+                "//api/video/video_rotation.h",
+                "//api/video/video_timing.cc",
+                "//api/video/video_timing.h"
+            ],
+            "type": "source_set"
+        },
+        "//api:video_frame_api_i420": {
+            "cflags": [
+                "-fno-strict-aliasing",
+                "--param=ssp-buffer-size=4",
+                "-fstack-protector",
+                "-Wno-builtin-macro-redefined",
+                "-D__DATE__=",
+                "-D__TIME__=",
+                "-D__TIMESTAMP__=",
+                "-funwind-tables",
+                "-fPIC",
+                "-pipe",
+                "-B../../../../../../gecko-dev/media/webrtc/trunk/webrtc/third_party/binutils/Linux_x64/Release/bin",
+                "-m32",
+                "-msse2",
+                "-mfpmath=sse",
+                "-mmmx",
+                "-pthread",
+                "-Wall",
+                "-Werror",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
+                "-Wno-missing-field-initializers",
+                "-Wno-unused-parameter",
+                "-O2",
+                "-fno-ident",
+                "-fdata-sections",
+                "-ffunction-sections",
+                "-fomit-frame-pointer",
+                "-g0",
+                "-fvisibility=hidden",
+                "-Wextra",
+                "-Wno-unused-parameter",
+                "-Wno-missing-field-initializers",
+                "-Wno-strict-overflow"
+            ],
+            "defines": [
+                "V8_DEPRECATION_WARNINGS",
+                "USE_NSS_CERTS=1",
+                "CHROMIUM_BUILD",
+                "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
+                "NDEBUG",
+                "NVALGRIND",
+                "DYNAMIC_ANNOTATIONS_ENABLED=0",
+                "WEBRTC_ENABLE_PROTOBUF=0",
+                "WEBRTC_RESTRICT_LOGGING",
+                "WEBRTC_MOZILLA_BUILD",
+                "WEBRTC_NON_STATIC_TRACE_EVENT_HANDLERS=0",
+                "WEBRTC_POSIX",
+                "WEBRTC_LINUX"
+            ],
+            "deps": [
+                "//api:video_frame_api",
+                "//rtc_base:rtc_base_approved",
+                "//system_wrappers:system_wrappers"
+            ],
+            "include_dirs": [
+                "/media/libyuv/libyuv/include/",
+                "//",
+                "/tmp/objdir/media/webrtc/trunk/webrtc/gn-output/gen/"
+            ],
+            "libs": [
+                "rt"
+            ],
+            "sources": [
+                "//api/video/i420_buffer.cc",
+                "//api/video/i420_buffer.h"
+            ],
+            "type": "source_set"
+        },
+        "//audio/utility:audio_frame_operations": {
+            "cflags": [
+                "-fno-strict-aliasing",
+                "--param=ssp-buffer-size=4",
+                "-fstack-protector",
+                "-Wno-builtin-macro-redefined",
+                "-D__DATE__=",
+                "-D__TIME__=",
+                "-D__TIMESTAMP__=",
+                "-funwind-tables",
+                "-fPIC",
+                "-pipe",
+                "-B../../../../../../gecko-dev/media/webrtc/trunk/webrtc/third_party/binutils/Linux_x64/Release/bin",
+                "-m32",
+                "-msse2",
+                "-mfpmath=sse",
+                "-mmmx",
+                "-pthread",
+                "-Wall",
+                "-Werror",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
+                "-Wno-missing-field-initializers",
+                "-Wno-unused-parameter",
+                "-O2",
+                "-fno-ident",
+                "-fdata-sections",
+                "-ffunction-sections",
+                "-fomit-frame-pointer",
+                "-g0",
+                "-fvisibility=hidden",
+                "-Wextra",
+                "-Wno-unused-parameter",
+                "-Wno-missing-field-initializers",
+                "-Wno-strict-overflow"
+            ],
+            "defines": [
+                "V8_DEPRECATION_WARNINGS",
+                "USE_NSS_CERTS=1",
+                "CHROMIUM_BUILD",
+                "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
+                "NDEBUG",
+                "NVALGRIND",
+                "DYNAMIC_ANNOTATIONS_ENABLED=0",
+                "WEBRTC_ENABLE_PROTOBUF=0",
+                "WEBRTC_RESTRICT_LOGGING",
+                "WEBRTC_MOZILLA_BUILD",
+                "WEBRTC_NON_STATIC_TRACE_EVENT_HANDLERS=0",
+                "WEBRTC_POSIX",
+                "WEBRTC_LINUX"
+            ],
+            "deps": [
+                "//:webrtc_common",
+                "//modules:module_api",
+                "//modules/audio_coding:audio_format_conversion",
+                "//rtc_base:rtc_base_approved"
+            ],
+            "include_dirs": [
+                "//",
+                "/tmp/objdir/media/webrtc/trunk/webrtc/gn-output/gen/"
+            ],
+            "libs": [
+                "rt"
+            ],
+            "sources": [
+                "//audio/utility/audio_frame_operations.cc",
+                "//audio/utility/audio_frame_operations.h"
+            ],
+            "type": "static_library"
+        },
+        "//audio:audio": {
+            "cflags": [
+                "-fno-strict-aliasing",
+                "--param=ssp-buffer-size=4",
+                "-fstack-protector",
+                "-Wno-builtin-macro-redefined",
+                "-D__DATE__=",
+                "-D__TIME__=",
+                "-D__TIMESTAMP__=",
+                "-funwind-tables",
+                "-fPIC",
+                "-pipe",
+                "-B../../../../../../gecko-dev/media/webrtc/trunk/webrtc/third_party/binutils/Linux_x64/Release/bin",
+                "-m32",
+                "-msse2",
+                "-mfpmath=sse",
+                "-mmmx",
+                "-pthread",
+                "-Wall",
+                "-Werror",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
+                "-Wno-missing-field-initializers",
+                "-Wno-unused-parameter",
+                "-O2",
+                "-fno-ident",
+                "-fdata-sections",
+                "-ffunction-sections",
+                "-fomit-frame-pointer",
+                "-g0",
+                "-fvisibility=hidden",
+                "-Wextra",
+                "-Wno-unused-parameter",
+                "-Wno-missing-field-initializers",
+                "-Wno-strict-overflow"
+            ],
+            "defines": [
+                "V8_DEPRECATION_WARNINGS",
+                "USE_NSS_CERTS=1",
+                "CHROMIUM_BUILD",
+                "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
+                "NDEBUG",
+                "NVALGRIND",
+                "DYNAMIC_ANNOTATIONS_ENABLED=0",
+                "WEBRTC_ENABLE_PROTOBUF=0",
+                "WEBRTC_RESTRICT_LOGGING",
+                "WEBRTC_MOZILLA_BUILD",
+                "WEBRTC_NON_STATIC_TRACE_EVENT_HANDLERS=0",
+                "WEBRTC_POSIX",
+                "WEBRTC_LINUX"
+            ],
+            "deps": [
+                "//:webrtc_common",
+                "//api:audio_mixer_api",
+                "//api:call_api",
+                "//api:optional",
+                "//api/audio_codecs:audio_codecs_api",
+                "//api/audio_codecs:builtin_audio_encoder_factory",
+                "//call:bitrate_allocator",
+                "//call:call_interfaces",
+                "//call:rtp_interfaces",
+                "//common_audio:common_audio",
+                "//modules/audio_coding:cng",
+                "//modules/audio_device:audio_device",
+                "//modules/audio_processing:audio_processing",
+                "//modules/bitrate_controller:bitrate_controller",
+                "//modules/congestion_controller:congestion_controller",
+                "//modules/pacing:pacing",
+                "//modules/remote_bitrate_estimator:remote_bitrate_estimator",
+                "//modules/rtp_rtcp:rtp_rtcp",
+                "//rtc_base:rtc_base",
+                "//rtc_base:rtc_base_approved",
+                "//rtc_base:rtc_task_queue",
+                "//system_wrappers:system_wrappers",
+                "//voice_engine:voice_engine"
+            ],
+            "include_dirs": [
+                "//",
+                "/tmp/objdir/media/webrtc/trunk/webrtc/gn-output/gen/",
+                "//common_audio/resampler/include/",
+                "//common_audio/signal_processing/include/",
+                "//common_audio/vad/include/",
+                "//modules/audio_coding/codecs/cng/include/",
+                "//modules/include/",
+                "//modules/audio_device/include/",
+                "//modules/audio_device/dummy/",
+                "//modules/audio_coding/include/",
+                "//modules/include/"
+            ],
+            "libs": [
+                "rt",
+                "m"
+            ],
+            "sources": [
+                "//audio/audio_receive_stream.cc",
+                "//audio/audio_receive_stream.h",
+                "//audio/audio_send_stream.cc",
+                "//audio/audio_send_stream.h",
+                "//audio/audio_state.cc",
+                "//audio/audio_state.h",
+                "//audio/audio_transport_proxy.cc",
+                "//audio/audio_transport_proxy.h",
+                "//audio/conversion.h",
+                "//audio/null_audio_poller.cc",
+                "//audio/null_audio_poller.h",
+                "//audio/scoped_voe_interface.h",
+                "//audio/time_interval.cc",
+                "//audio/time_interval.h"
+            ],
+            "type": "static_library"
+        },
+        "//call:bitrate_allocator": {
+            "cflags": [
+                "-fno-strict-aliasing",
+                "--param=ssp-buffer-size=4",
+                "-fstack-protector",
+                "-Wno-builtin-macro-redefined",
+                "-D__DATE__=",
+                "-D__TIME__=",
+                "-D__TIMESTAMP__=",
+                "-funwind-tables",
+                "-fPIC",
+                "-pipe",
+                "-B../../../../../../gecko-dev/media/webrtc/trunk/webrtc/third_party/binutils/Linux_x64/Release/bin",
+                "-m32",
+                "-msse2",
+                "-mfpmath=sse",
+                "-mmmx",
+                "-pthread",
+                "-Wall",
+                "-Werror",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
+                "-Wno-missing-field-initializers",
+                "-Wno-unused-parameter",
+                "-O2",
+                "-fno-ident",
+                "-fdata-sections",
+                "-ffunction-sections",
+                "-fomit-frame-pointer",
+                "-g0",
+                "-fvisibility=hidden",
+                "-Wextra",
+                "-Wno-unused-parameter",
+                "-Wno-missing-field-initializers",
+                "-Wno-strict-overflow"
+            ],
+            "defines": [
+                "V8_DEPRECATION_WARNINGS",
+                "USE_NSS_CERTS=1",
+                "CHROMIUM_BUILD",
+                "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
+                "NDEBUG",
+                "NVALGRIND",
+                "DYNAMIC_ANNOTATIONS_ENABLED=0",
+                "WEBRTC_ENABLE_PROTOBUF=0",
+                "WEBRTC_RESTRICT_LOGGING",
+                "WEBRTC_MOZILLA_BUILD",
+                "WEBRTC_NON_STATIC_TRACE_EVENT_HANDLERS=0",
+                "WEBRTC_POSIX",
+                "WEBRTC_LINUX"
+            ],
+            "deps": [
+                "//modules/bitrate_controller:bitrate_controller",
+                "//rtc_base:rtc_base_approved",
+                "//rtc_base:sequenced_task_checker",
+                "//system_wrappers:system_wrappers"
+            ],
+            "include_dirs": [
+                "//",
+                "/tmp/objdir/media/webrtc/trunk/webrtc/gn-output/gen/"
+            ],
+            "libs": [
+                "rt"
+            ],
+            "sources": [
+                "//call/bitrate_allocator.cc",
+                "//call/bitrate_allocator.h"
+            ],
+            "type": "source_set"
+        },
+        "//call:call": {
+            "cflags": [
+                "-fno-strict-aliasing",
+                "--param=ssp-buffer-size=4",
+                "-fstack-protector",
+                "-Wno-builtin-macro-redefined",
+                "-D__DATE__=",
+                "-D__TIME__=",
+                "-D__TIMESTAMP__=",
+                "-funwind-tables",
+                "-fPIC",
+                "-pipe",
+                "-B../../../../../../gecko-dev/media/webrtc/trunk/webrtc/third_party/binutils/Linux_x64/Release/bin",
+                "-m32",
+                "-msse2",
+                "-mfpmath=sse",
+                "-mmmx",
+                "-pthread",
+                "-Wall",
+                "-Werror",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
+                "-Wno-missing-field-initializers",
+                "-Wno-unused-parameter",
+                "-O2",
+                "-fno-ident",
+                "-fdata-sections",
+                "-ffunction-sections",
+                "-fomit-frame-pointer",
+                "-g0",
+                "-fvisibility=hidden",
+                "-Wextra",
+                "-Wno-unused-parameter",
+                "-Wno-missing-field-initializers",
+                "-Wno-strict-overflow"
+            ],
+            "defines": [
+                "V8_DEPRECATION_WARNINGS",
+                "USE_NSS_CERTS=1",
+                "CHROMIUM_BUILD",
+                "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
+                "NDEBUG",
+                "NVALGRIND",
+                "DYNAMIC_ANNOTATIONS_ENABLED=0",
+                "WEBRTC_ENABLE_PROTOBUF=0",
+                "WEBRTC_RESTRICT_LOGGING",
+                "WEBRTC_MOZILLA_BUILD",
+                "WEBRTC_NON_STATIC_TRACE_EVENT_HANDLERS=0",
+                "WEBRTC_POSIX",
+                "WEBRTC_LINUX"
+            ],
+            "deps": [
+                "//:webrtc_common",
+                "//api:call_api",
+                "//api:optional",
+                "//api:transport_api",
+                "//audio:audio",
+                "//call:bitrate_allocator",
+                "//call:call_interfaces",
+                "//call:rtp_interfaces",
+                "//call:rtp_receiver",
+                "//call:rtp_sender",
+                "//call:video_stream_api",
+                "//logging:rtc_event_log_api",
+                "//logging:rtc_event_log_impl",
+                "//modules/bitrate_controller:bitrate_controller",
+                "//modules/congestion_controller:congestion_controller",
+                "//modules/pacing:pacing",
+                "//modules/rtp_rtcp:rtp_rtcp",
+                "//modules/utility:utility",
+                "//rtc_base:rtc_base_approved",
+                "//rtc_base:rtc_task_queue",
+                "//rtc_base:sequenced_task_checker",
+                "//system_wrappers:system_wrappers",
+                "//video:video"
+            ],
+            "include_dirs": [
+                "//",
+                "/tmp/objdir/media/webrtc/trunk/webrtc/gn-output/gen/"
+            ],
+            "libs": [
+                "rt",
+                "m"
+            ],
+            "sources": [
+                "//call/call.cc",
+                "//call/callfactory.cc",
+                "//call/callfactory.h",
+                "//call/flexfec_receive_stream_impl.cc",
+                "//call/flexfec_receive_stream_impl.h"
+            ],
+            "type": "static_library"
+        },
+        "//call:call_interfaces": {
+            "cflags": [
+                "-fno-strict-aliasing",
+                "--param=ssp-buffer-size=4",
+                "-fstack-protector",
+                "-Wno-builtin-macro-redefined",
+                "-D__DATE__=",
+                "-D__TIME__=",
+                "-D__TIMESTAMP__=",
+                "-funwind-tables",
+                "-fPIC",
+                "-pipe",
+                "-B../../../../../../gecko-dev/media/webrtc/trunk/webrtc/third_party/binutils/Linux_x64/Release/bin",
+                "-m32",
+                "-msse2",
+                "-mfpmath=sse",
+                "-mmmx",
+                "-pthread",
+                "-Wall",
+                "-Werror",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
+                "-Wno-missing-field-initializers",
+                "-Wno-unused-parameter",
+                "-O2",
+                "-fno-ident",
+                "-fdata-sections",
+                "-ffunction-sections",
+                "-fomit-frame-pointer",
+                "-g0",
+                "-fvisibility=hidden",
+                "-Wextra",
+                "-Wno-unused-parameter",
+                "-Wno-missing-field-initializers",
+                "-Wno-strict-overflow"
+            ],
+            "defines": [
+                "V8_DEPRECATION_WARNINGS",
+                "USE_NSS_CERTS=1",
+                "CHROMIUM_BUILD",
+                "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
+                "NDEBUG",
+                "NVALGRIND",
+                "DYNAMIC_ANNOTATIONS_ENABLED=0",
+                "WEBRTC_ENABLE_PROTOBUF=0",
+                "WEBRTC_RESTRICT_LOGGING",
+                "WEBRTC_MOZILLA_BUILD",
+                "WEBRTC_NON_STATIC_TRACE_EVENT_HANDLERS=0",
+                "WEBRTC_POSIX",
+                "WEBRTC_LINUX"
+            ],
+            "deps": [
+                "//:webrtc_common",
+                "//api:audio_mixer_api",
+                "//api:optional",
+                "//api:transport_api",
+                "//api/audio_codecs:audio_codecs_api",
+                "//call:rtp_interfaces",
+                "//call:video_stream_api",
+                "//modules/audio_processing:audio_processing_statistics",
+                "//rtc_base:rtc_base",
+                "//rtc_base:rtc_base_approved"
+            ],
+            "include_dirs": [
+                "//",
+                "/tmp/objdir/media/webrtc/trunk/webrtc/gn-output/gen/"
+            ],
+            "libs": [
+                "rt"
+            ],
+            "sources": [
+                "//call/audio_receive_stream.h",
+                "//call/audio_send_stream.h",
+                "//call/audio_state.h",
+                "//call/call.h",
+                "//call/callfactoryinterface.h",
+                "//call/flexfec_receive_stream.h",
+                "//call/syncable.cc",
+                "//call/syncable.h",
+                "//call/audio_send_stream_call.cc"
+            ],
+            "type": "source_set"
+        },
+        "//call:rtp_interfaces": {
+            "cflags": [
+                "-fno-strict-aliasing",
+                "--param=ssp-buffer-size=4",
+                "-fstack-protector",
+                "-Wno-builtin-macro-redefined",
+                "-D__DATE__=",
+                "-D__TIME__=",
+                "-D__TIMESTAMP__=",
+                "-funwind-tables",
+                "-fPIC",
+                "-pipe",
+                "-B../../../../../../gecko-dev/media/webrtc/trunk/webrtc/third_party/binutils/Linux_x64/Release/bin",
+                "-m32",
+                "-msse2",
+                "-mfpmath=sse",
+                "-mmmx",
+                "-pthread",
+                "-Wall",
+                "-Werror",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
+                "-Wno-missing-field-initializers",
+                "-Wno-unused-parameter",
+                "-O2",
+                "-fno-ident",
+                "-fdata-sections",
+                "-ffunction-sections",
+                "-fomit-frame-pointer",
+                "-g0",
+                "-fvisibility=hidden",
+                "-Wextra",
+                "-Wno-unused-parameter",
+                "-Wno-missing-field-initializers",
+                "-Wno-strict-overflow"
+            ],
+            "defines": [
+                "V8_DEPRECATION_WARNINGS",
+                "USE_NSS_CERTS=1",
+                "CHROMIUM_BUILD",
+                "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
+                "NDEBUG",
+                "NVALGRIND",
+                "DYNAMIC_ANNOTATIONS_ENABLED=0",
+                "WEBRTC_ENABLE_PROTOBUF=0",
+                "WEBRTC_RESTRICT_LOGGING",
+                "WEBRTC_MOZILLA_BUILD",
+                "WEBRTC_NON_STATIC_TRACE_EVENT_HANDLERS=0",
+                "WEBRTC_POSIX",
+                "WEBRTC_LINUX"
+            ],
+            "deps": [
+                "//api:array_view",
+                "//rtc_base:rtc_base_approved"
+            ],
+            "include_dirs": [
+                "//",
+                "/tmp/objdir/media/webrtc/trunk/webrtc/gn-output/gen/"
+            ],
+            "libs": [],
+            "sources": [
+                "//call/rtcp_packet_sink_interface.h",
+                "//call/rtp_config.cc",
+                "//call/rtp_config.h",
+                "//call/rtp_packet_sink_interface.h",
+                "//call/rtp_stream_receiver_controller_interface.h",
+                "//call/rtp_transport_controller_send_interface.h"
+            ],
+            "type": "source_set"
+        },
+        "//call:rtp_receiver": {
+            "cflags": [
+                "-fno-strict-aliasing",
+                "--param=ssp-buffer-size=4",
+                "-fstack-protector",
+                "-Wno-builtin-macro-redefined",
+                "-D__DATE__=",
+                "-D__TIME__=",
+                "-D__TIMESTAMP__=",
+                "-funwind-tables",
+                "-fPIC",
+                "-pipe",
+                "-B../../../../../../gecko-dev/media/webrtc/trunk/webrtc/third_party/binutils/Linux_x64/Release/bin",
+                "-m32",
+                "-msse2",
+                "-mfpmath=sse",
+                "-mmmx",
+                "-pthread",
+                "-Wall",
+                "-Werror",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
+                "-Wno-missing-field-initializers",
+                "-Wno-unused-parameter",
+                "-O2",
+                "-fno-ident",
+                "-fdata-sections",
+                "-ffunction-sections",
+                "-fomit-frame-pointer",
+                "-g0",
+                "-fvisibility=hidden",
+                "-Wextra",
+                "-Wno-unused-parameter",
+                "-Wno-missing-field-initializers",
+                "-Wno-strict-overflow"
+            ],
+            "defines": [
+                "V8_DEPRECATION_WARNINGS",
+                "USE_NSS_CERTS=1",
+                "CHROMIUM_BUILD",
+                "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
+                "NDEBUG",
+                "NVALGRIND",
+                "DYNAMIC_ANNOTATIONS_ENABLED=0",
+                "WEBRTC_ENABLE_PROTOBUF=0",
+                "WEBRTC_RESTRICT_LOGGING",
+                "WEBRTC_MOZILLA_BUILD",
+                "WEBRTC_NON_STATIC_TRACE_EVENT_HANDLERS=0",
+                "WEBRTC_POSIX",
+                "WEBRTC_LINUX"
+            ],
+            "deps": [
+                "//:webrtc_common",
+                "//api:array_view",
+                "//api:optional",
+                "//call:rtp_interfaces",
+                "//modules/rtp_rtcp:rtp_rtcp",
+                "//rtc_base:rtc_base_approved"
+            ],
+            "include_dirs": [
+                "//",
+                "/tmp/objdir/media/webrtc/trunk/webrtc/gn-output/gen/"
+            ],
+            "libs": [
+                "rt"
+            ],
+            "sources": [
+                "//call/rtcp_demuxer.cc",
+                "//call/rtcp_demuxer.h",
+                "//call/rtp_demuxer.cc",
+                "//call/rtp_demuxer.h",
+                "//call/rtp_rtcp_demuxer_helper.cc",
+                "//call/rtp_rtcp_demuxer_helper.h",
+                "//call/rtp_stream_receiver_controller.cc",
+                "//call/rtp_stream_receiver_controller.h",
+                "//call/rtx_receive_stream.cc",
+                "//call/rtx_receive_stream.h",
+                "//call/ssrc_binding_observer.h"
+            ],
+            "type": "source_set"
+        },
+        "//call:rtp_sender": {
+            "cflags": [
+                "-fno-strict-aliasing",
+                "--param=ssp-buffer-size=4",
+                "-fstack-protector",
+                "-Wno-builtin-macro-redefined",
+                "-D__DATE__=",
+                "-D__TIME__=",
+                "-D__TIMESTAMP__=",
+                "-funwind-tables",
+                "-fPIC",
+                "-pipe",
+                "-B../../../../../../gecko-dev/media/webrtc/trunk/webrtc/third_party/binutils/Linux_x64/Release/bin",
+                "-m32",
+                "-msse2",
+                "-mfpmath=sse",
+                "-mmmx",
+                "-pthread",
+                "-Wall",
+                "-Werror",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
+                "-Wno-missing-field-initializers",
+                "-Wno-unused-parameter",
+                "-O2",
+                "-fno-ident",
+                "-fdata-sections",
+                "-ffunction-sections",
+                "-fomit-frame-pointer",
+                "-g0",
+                "-fvisibility=hidden",
+                "-Wextra",
+                "-Wno-unused-parameter",
+                "-Wno-missing-field-initializers",
+                "-Wno-strict-overflow"
+            ],
+            "defines": [
+                "V8_DEPRECATION_WARNINGS",
+                "USE_NSS_CERTS=1",
+                "CHROMIUM_BUILD",
+                "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
+                "NDEBUG",
+                "NVALGRIND",
+                "DYNAMIC_ANNOTATIONS_ENABLED=0",
+                "WEBRTC_ENABLE_PROTOBUF=0",
+                "WEBRTC_RESTRICT_LOGGING",
+                "WEBRTC_MOZILLA_BUILD",
+                "WEBRTC_NON_STATIC_TRACE_EVENT_HANDLERS=0",
+                "WEBRTC_POSIX",
+                "WEBRTC_LINUX"
+            ],
+            "deps": [
+                "//:webrtc_common",
+                "//call:rtp_interfaces",
+                "//modules/congestion_controller:congestion_controller",
+                "//modules/pacing:pacing",
+                "//rtc_base:rtc_base_approved"
+            ],
+            "include_dirs": [
+                "//",
+                "/tmp/objdir/media/webrtc/trunk/webrtc/gn-output/gen/"
+            ],
+            "libs": [
+                "rt"
+            ],
+            "sources": [
+                "//call/rtp_transport_controller_send.cc",
+                "//call/rtp_transport_controller_send.h"
+            ],
+            "type": "source_set"
+        },
+        "//call:video_stream_api": {
+            "cflags": [
+                "-fno-strict-aliasing",
+                "--param=ssp-buffer-size=4",
+                "-fstack-protector",
+                "-Wno-builtin-macro-redefined",
+                "-D__DATE__=",
+                "-D__TIME__=",
+                "-D__TIMESTAMP__=",
+                "-funwind-tables",
+                "-fPIC",
+                "-pipe",
+                "-B../../../../../../gecko-dev/media/webrtc/trunk/webrtc/third_party/binutils/Linux_x64/Release/bin",
+                "-m32",
+                "-msse2",
+                "-mfpmath=sse",
+                "-mmmx",
+                "-pthread",
+                "-Wall",
+                "-Werror",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
+                "-Wno-missing-field-initializers",
+                "-Wno-unused-parameter",
+                "-O2",
+                "-fno-ident",
+                "-fdata-sections",
+                "-ffunction-sections",
+                "-fomit-frame-pointer",
+                "-g0",
+                "-fvisibility=hidden",
+                "-Wextra",
+                "-Wno-unused-parameter",
+                "-Wno-missing-field-initializers",
+                "-Wno-strict-overflow"
+            ],
+            "defines": [
+                "V8_DEPRECATION_WARNINGS",
+                "USE_NSS_CERTS=1",
+                "CHROMIUM_BUILD",
+                "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
+                "NDEBUG",
+                "NVALGRIND",
+                "DYNAMIC_ANNOTATIONS_ENABLED=0",
+                "WEBRTC_ENABLE_PROTOBUF=0",
+                "WEBRTC_RESTRICT_LOGGING",
+                "WEBRTC_MOZILLA_BUILD",
+                "WEBRTC_NON_STATIC_TRACE_EVENT_HANDLERS=0",
+                "WEBRTC_POSIX",
+                "WEBRTC_LINUX"
+            ],
+            "deps": [
+                "//:webrtc_common",
+                "//api:optional",
+                "//api:transport_api",
+                "//call:rtp_interfaces",
+                "//common_video:common_video",
+                "//rtc_base:rtc_base_approved"
+            ],
+            "include_dirs": [
+                "//",
+                "/tmp/objdir/media/webrtc/trunk/webrtc/gn-output/gen/",
+                "//common_video/include/",
+                "/media/libyuv/libyuv/include/"
+            ],
+            "libs": [
+                "rt"
+            ],
+            "sources": [
+                "//call/video_config.cc",
+                "//call/video_config.h",
+                "//call/video_receive_stream.cc",
+                "//call/video_receive_stream.h",
+                "//call/video_send_stream.cc",
+                "//call/video_send_stream.h"
+            ],
+            "type": "source_set"
+        },
+        "//common_audio:common_audio": {
+            "cflags": [
+                "-fno-strict-aliasing",
+                "--param=ssp-buffer-size=4",
+                "-fstack-protector",
+                "-Wno-builtin-macro-redefined",
+                "-D__DATE__=",
+                "-D__TIME__=",
+                "-D__TIMESTAMP__=",
+                "-funwind-tables",
+                "-fPIC",
+                "-pipe",
+                "-B../../../../../../gecko-dev/media/webrtc/trunk/webrtc/third_party/binutils/Linux_x64/Release/bin",
+                "-m32",
+                "-msse2",
+                "-mfpmath=sse",
+                "-mmmx",
+                "-pthread",
+                "-Wall",
+                "-Werror",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
+                "-Wno-missing-field-initializers",
+                "-Wno-unused-parameter",
+                "-O2",
+                "-fno-ident",
+                "-fdata-sections",
+                "-ffunction-sections",
+                "-fomit-frame-pointer",
+                "-g0",
+                "-fvisibility=hidden",
+                "-Wextra",
+                "-Wno-unused-parameter",
+                "-Wno-missing-field-initializers",
+                "-Wno-strict-overflow"
+            ],
+            "defines": [
+                "V8_DEPRECATION_WARNINGS",
+                "USE_NSS_CERTS=1",
+                "CHROMIUM_BUILD",
+                "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
+                "NDEBUG",
+                "NVALGRIND",
+                "DYNAMIC_ANNOTATIONS_ENABLED=0",
+                "WEBRTC_ENABLE_PROTOBUF=0",
+                "WEBRTC_RESTRICT_LOGGING",
+                "WEBRTC_MOZILLA_BUILD",
+                "WEBRTC_NON_STATIC_TRACE_EVENT_HANDLERS=0",
+                "WEBRTC_POSIX",
+                "WEBRTC_LINUX"
+            ],
+            "deps": [
+                "//:webrtc_common",
+                "//api:optional",
+                "//common_audio:common_audio_c",
+                "//common_audio:common_audio_sse2",
+                "//common_audio:sinc_resampler",
+                "//rtc_base:gtest_prod",
+                "//rtc_base:rtc_base_approved",
+                "//system_wrappers:system_wrappers"
+            ],
+            "include_dirs": [
+                "//",
+                "/tmp/objdir/media/webrtc/trunk/webrtc/gn-output/gen/",
+                "//common_audio/resampler/include/",
+                "//common_audio/signal_processing/include/",
+                "//common_audio/vad/include/"
+            ],
+            "libs": [
+                "rt"
+            ],
+            "sources": [
+                "//common_audio/audio_converter.cc",
+                "//common_audio/audio_converter.h",
+                "//common_audio/audio_ring_buffer.cc",
+                "//common_audio/audio_ring_buffer.h",
+                "//common_audio/audio_util.cc",
+                "//common_audio/blocker.cc",
+                "//common_audio/blocker.h",
+                "//common_audio/channel_buffer.cc",
+                "//common_audio/channel_buffer.h",
+                "//common_audio/include/audio_util.h",
+                "//common_audio/lapped_transform.cc",
+                "//common_audio/lapped_transform.h",
+                "//common_audio/real_fourier.cc",
+                "//common_audio/real_fourier.h",
+                "//common_audio/real_fourier_ooura.cc",
+                "//common_audio/real_fourier_ooura.h",
+                "//common_audio/resampler/include/push_resampler.h",
+                "//common_audio/resampler/include/resampler.h",
+                "//common_audio/resampler/push_resampler.cc",
+                "//common_audio/resampler/push_sinc_resampler.cc",
+                "//common_audio/resampler/push_sinc_resampler.h",
+                "//common_audio/resampler/resampler.cc",
+                "//common_audio/resampler/sinc_resampler.cc",
+                "//common_audio/smoothing_filter.cc",
+                "//common_audio/smoothing_filter.h",
+                "//common_audio/sparse_fir_filter.cc",
+                "//common_audio/sparse_fir_filter.h",
+                "//common_audio/vad/include/vad.h",
+                "//common_audio/vad/vad.cc",
+                "//common_audio/wav_file.cc",
+                "//common_audio/wav_file.h",
+                "//common_audio/wav_header.cc",
+                "//common_audio/wav_header.h",
+                "//common_audio/window_generator.cc",
+                "//common_audio/window_generator.h"
+            ],
+            "type": "static_library"
+        },
+        "//common_audio:common_audio_c": {
+            "cflags": [
+                "-fno-strict-aliasing",
+                "--param=ssp-buffer-size=4",
+                "-fstack-protector",
+                "-Wno-builtin-macro-redefined",
+                "-D__DATE__=",
+                "-D__TIME__=",
+                "-D__TIMESTAMP__=",
+                "-funwind-tables",
+                "-fPIC",
+                "-pipe",
+                "-B../../../../../../gecko-dev/media/webrtc/trunk/webrtc/third_party/binutils/Linux_x64/Release/bin",
+                "-m32",
+                "-msse2",
+                "-mfpmath=sse",
+                "-mmmx",
+                "-pthread",
+                "-Wall",
+                "-Werror",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
+                "-Wno-missing-field-initializers",
+                "-Wno-unused-parameter",
+                "-O2",
+                "-fno-ident",
+                "-fdata-sections",
+                "-ffunction-sections",
+                "-fomit-frame-pointer",
+                "-g0",
+                "-fvisibility=hidden",
+                "-Wextra",
+                "-Wno-unused-parameter",
+                "-Wno-missing-field-initializers",
+                "-Wno-strict-overflow"
+            ],
+            "defines": [
+                "V8_DEPRECATION_WARNINGS",
+                "USE_NSS_CERTS=1",
+                "CHROMIUM_BUILD",
+                "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
+                "NDEBUG",
+                "NVALGRIND",
+                "DYNAMIC_ANNOTATIONS_ENABLED=0",
+                "WEBRTC_ENABLE_PROTOBUF=0",
+                "WEBRTC_RESTRICT_LOGGING",
+                "WEBRTC_MOZILLA_BUILD",
+                "WEBRTC_NON_STATIC_TRACE_EVENT_HANDLERS=0",
+                "WEBRTC_POSIX",
+                "WEBRTC_LINUX"
+            ],
+            "deps": [
+                "//:webrtc_common",
+                "//common_audio:common_audio_c_arm_asm",
+                "//common_audio:common_audio_cc",
+                "//rtc_base:compile_assert_c",
+                "//rtc_base:rtc_base_approved",
+                "//system_wrappers:system_wrappers"
+            ],
+            "include_dirs": [
+                "//",
+                "/tmp/objdir/media/webrtc/trunk/webrtc/gn-output/gen/",
+                "//common_audio/resampler/include/",
+                "//common_audio/signal_processing/include/",
+                "//common_audio/vad/include/"
+            ],
+            "libs": [
+                "rt"
+            ],
+            "sources": [
+                "//common_audio/fft4g.c",
+                "//common_audio/fft4g.h",
+                "//common_audio/ring_buffer.c",
+                "//common_audio/ring_buffer.h",
+                "//common_audio/signal_processing/auto_corr_to_refl_coef.c",
+                "//common_audio/signal_processing/auto_correlation.c",
+                "//common_audio/signal_processing/complex_fft_tables.h",
+                "//common_audio/signal_processing/copy_set_operations.c",
+                "//common_audio/signal_processing/cross_correlation.c",
+                "//common_audio/signal_processing/division_operations.c",
+                "//common_audio/signal_processing/downsample_fast.c",
+                "//common_audio/signal_processing/energy.c",
+                "//common_audio/signal_processing/filter_ar.c",
+                "//common_audio/signal_processing/filter_ma_fast_q12.c",
+                "//common_audio/signal_processing/get_hanning_window.c",
+                "//common_audio/signal_processing/get_scaling_square.c",
+                "//common_audio/signal_processing/ilbc_specific_functions.c",
+                "//common_audio/signal_processing/include/real_fft.h",
+                "//common_audio/signal_processing/include/signal_processing_library.h",
+                "//common_audio/signal_processing/include/spl_inl.h",
+                "//common_audio/signal_processing/include/spl_inl_armv7.h",
+                "//common_audio/signal_processing/levinson_durbin.c",
+                "//common_audio/signal_processing/lpc_to_refl_coef.c",
+                "//common_audio/signal_processing/min_max_operations.c",
+                "//common_audio/signal_processing/randomization_functions.c",
+                "//common_audio/signal_processing/real_fft.c",
+                "//common_audio/signal_processing/refl_coef_to_lpc.c",
+                "//common_audio/signal_processing/resample.c",
+                "//common_audio/signal_processing/resample_48khz.c",
+                "//common_audio/signal_processing/resample_by_2.c",
+                "//common_audio/signal_processing/resample_by_2_internal.c",
+                "//common_audio/signal_processing/resample_by_2_internal.h",
+                "//common_audio/signal_processing/resample_fractional.c",
+                "//common_audio/signal_processing/spl_init.c",
+                "//common_audio/signal_processing/spl_inl.c",
+                "//common_audio/signal_processing/spl_sqrt.c",
+                "//common_audio/signal_processing/splitting_filter.c",
+                "//common_audio/signal_processing/sqrt_of_one_minus_x_squared.c",
+                "//common_audio/signal_processing/vector_scaling_operations.c",
+                "//common_audio/vad/include/webrtc_vad.h",
+                "//common_audio/vad/vad_core.c",
+                "//common_audio/vad/vad_core.h",
+                "//common_audio/vad/vad_filterbank.c",
+                "//common_audio/vad/vad_filterbank.h",
+                "//common_audio/vad/vad_gmm.c",
+                "//common_audio/vad/vad_gmm.h",
+                "//common_audio/vad/vad_sp.c",
+                "//common_audio/vad/vad_sp.h",
+                "//common_audio/vad/webrtc_vad.c",
+                "//common_audio/signal_processing/complex_fft.c",
+                "//common_audio/signal_processing/complex_bit_reverse.c",
+                "//common_audio/signal_processing/filter_ar_fast_q12.c",
+                "//common_audio/signal_processing/spl_sqrt_floor.c"
+            ],
+            "type": "source_set"
+        },
+        "//common_audio:common_audio_c_arm_asm": {
+            "cflags": [
+                "-fno-strict-aliasing",
+                "--param=ssp-buffer-size=4",
+                "-fstack-protector",
+                "-Wno-builtin-macro-redefined",
+                "-D__DATE__=",
+                "-D__TIME__=",
+                "-D__TIMESTAMP__=",
+                "-funwind-tables",
+                "-fPIC",
+                "-pipe",
+                "-B../../../../../../gecko-dev/media/webrtc/trunk/webrtc/third_party/binutils/Linux_x64/Release/bin",
+                "-m32",
+                "-msse2",
+                "-mfpmath=sse",
+                "-mmmx",
+                "-pthread",
+                "-Wall",
+                "-Werror",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
+                "-Wno-missing-field-initializers",
+                "-Wno-unused-parameter",
+                "-O2",
+                "-fno-ident",
+                "-fdata-sections",
+                "-ffunction-sections",
+                "-fomit-frame-pointer",
+                "-g0",
+                "-fvisibility=hidden",
+                "-Wextra",
+                "-Wno-unused-parameter",
+                "-Wno-missing-field-initializers",
+                "-Wno-strict-overflow"
+            ],
+            "defines": [
+                "V8_DEPRECATION_WARNINGS",
+                "USE_NSS_CERTS=1",
+                "CHROMIUM_BUILD",
+                "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
+                "NDEBUG",
+                "NVALGRIND",
+                "DYNAMIC_ANNOTATIONS_ENABLED=0",
+                "WEBRTC_ENABLE_PROTOBUF=0",
+                "WEBRTC_RESTRICT_LOGGING",
+                "WEBRTC_MOZILLA_BUILD",
+                "WEBRTC_NON_STATIC_TRACE_EVENT_HANDLERS=0",
+                "WEBRTC_POSIX",
+                "WEBRTC_LINUX"
+            ],
+            "deps": [],
+            "include_dirs": [
+                "//",
+                "/tmp/objdir/media/webrtc/trunk/webrtc/gn-output/gen/"
+            ],
+            "libs": [],
+            "sources": [],
+            "type": "source_set"
+        },
+        "//common_audio:common_audio_cc": {
+            "cflags": [
+                "-fno-strict-aliasing",
+                "--param=ssp-buffer-size=4",
+                "-fstack-protector",
+                "-Wno-builtin-macro-redefined",
+                "-D__DATE__=",
+                "-D__TIME__=",
+                "-D__TIMESTAMP__=",
+                "-funwind-tables",
+                "-fPIC",
+                "-pipe",
+                "-B../../../../../../gecko-dev/media/webrtc/trunk/webrtc/third_party/binutils/Linux_x64/Release/bin",
+                "-m32",
+                "-msse2",
+                "-mfpmath=sse",
+                "-mmmx",
+                "-pthread",
+                "-Wall",
+                "-Werror",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
+                "-Wno-missing-field-initializers",
+                "-Wno-unused-parameter",
+                "-O2",
+                "-fno-ident",
+                "-fdata-sections",
+                "-ffunction-sections",
+                "-fomit-frame-pointer",
+                "-g0",
+                "-fvisibility=hidden",
+                "-Wextra",
+                "-Wno-unused-parameter",
+                "-Wno-missing-field-initializers",
+                "-Wno-strict-overflow"
+            ],
+            "defines": [
+                "V8_DEPRECATION_WARNINGS",
+                "USE_NSS_CERTS=1",
+                "CHROMIUM_BUILD",
+                "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
+                "NDEBUG",
+                "NVALGRIND",
+                "DYNAMIC_ANNOTATIONS_ENABLED=0",
+                "WEBRTC_ENABLE_PROTOBUF=0",
+                "WEBRTC_RESTRICT_LOGGING",
+                "WEBRTC_MOZILLA_BUILD",
+                "WEBRTC_NON_STATIC_TRACE_EVENT_HANDLERS=0",
+                "WEBRTC_POSIX",
+                "WEBRTC_LINUX"
+            ],
+            "deps": [
+                "//:webrtc_common",
+                "//rtc_base:rtc_base_approved",
+                "//system_wrappers:system_wrappers"
+            ],
+            "include_dirs": [
+                "//",
+                "/tmp/objdir/media/webrtc/trunk/webrtc/gn-output/gen/",
+                "//common_audio/resampler/include/",
+                "//common_audio/signal_processing/include/",
+                "//common_audio/vad/include/"
+            ],
+            "libs": [
+                "rt"
+            ],
+            "sources": [
+                "//common_audio/signal_processing/dot_product_with_scale.cc",
+                "//common_audio/signal_processing/dot_product_with_scale.h"
+            ],
+            "type": "source_set"
+        },
+        "//common_audio:common_audio_sse2": {
+            "cflags": [
+                "-msse2",
+                "-fno-strict-aliasing",
+                "--param=ssp-buffer-size=4",
+                "-fstack-protector",
+                "-Wno-builtin-macro-redefined",
+                "-D__DATE__=",
+                "-D__TIME__=",
+                "-D__TIMESTAMP__=",
+                "-funwind-tables",
+                "-fPIC",
+                "-pipe",
+                "-B../../../../../../gecko-dev/media/webrtc/trunk/webrtc/third_party/binutils/Linux_x64/Release/bin",
+                "-m32",
+                "-msse2",
+                "-mfpmath=sse",
+                "-mmmx",
+                "-pthread",
+                "-Wall",
+                "-Werror",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
+                "-Wno-missing-field-initializers",
+                "-Wno-unused-parameter",
+                "-O2",
+                "-fno-ident",
+                "-fdata-sections",
+                "-ffunction-sections",
+                "-fomit-frame-pointer",
+                "-g0",
+                "-fvisibility=hidden",
+                "-Wextra",
+                "-Wno-unused-parameter",
+                "-Wno-missing-field-initializers",
+                "-Wno-strict-overflow"
+            ],
+            "defines": [
+                "V8_DEPRECATION_WARNINGS",
+                "USE_NSS_CERTS=1",
+                "CHROMIUM_BUILD",
+                "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
+                "NDEBUG",
+                "NVALGRIND",
+                "DYNAMIC_ANNOTATIONS_ENABLED=0",
+                "WEBRTC_ENABLE_PROTOBUF=0",
+                "WEBRTC_RESTRICT_LOGGING",
+                "WEBRTC_MOZILLA_BUILD",
+                "WEBRTC_NON_STATIC_TRACE_EVENT_HANDLERS=0",
+                "WEBRTC_POSIX",
+                "WEBRTC_LINUX"
+            ],
+            "deps": [
+                "//common_audio:fir_filter",
+                "//common_audio:sinc_resampler",
+                "//rtc_base:rtc_base_approved",
+                "//system_wrappers:system_wrappers"
+            ],
+            "include_dirs": [
+                "//",
+                "/tmp/objdir/media/webrtc/trunk/webrtc/gn-output/gen/"
+            ],
+            "libs": [
+                "rt"
+            ],
+            "sources": [
+                "//common_audio/fir_filter_sse.cc",
+                "//common_audio/fir_filter_sse.h",
+                "//common_audio/resampler/sinc_resampler_sse.cc"
+            ],
+            "type": "static_library"
+        },
+        "//common_audio:fir_filter": {
+            "cflags": [
+                "-fno-strict-aliasing",
+                "--param=ssp-buffer-size=4",
+                "-fstack-protector",
+                "-Wno-builtin-macro-redefined",
+                "-D__DATE__=",
+                "-D__TIME__=",
+                "-D__TIMESTAMP__=",
+                "-funwind-tables",
+                "-fPIC",
+                "-pipe",
+                "-B../../../../../../gecko-dev/media/webrtc/trunk/webrtc/third_party/binutils/Linux_x64/Release/bin",
+                "-m32",
+                "-msse2",
+                "-mfpmath=sse",
+                "-mmmx",
+                "-pthread",
+                "-Wall",
+                "-Werror",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
+                "-Wno-missing-field-initializers",
+                "-Wno-unused-parameter",
+                "-O2",
+                "-fno-ident",
+                "-fdata-sections",
+                "-ffunction-sections",
+                "-fomit-frame-pointer",
+                "-g0",
+                "-fvisibility=hidden",
+                "-Wextra",
+                "-Wno-unused-parameter",
+                "-Wno-missing-field-initializers",
+                "-Wno-strict-overflow"
+            ],
+            "defines": [
+                "V8_DEPRECATION_WARNINGS",
+                "USE_NSS_CERTS=1",
+                "CHROMIUM_BUILD",
+                "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
+                "NDEBUG",
+                "NVALGRIND",
+                "DYNAMIC_ANNOTATIONS_ENABLED=0",
+                "WEBRTC_ENABLE_PROTOBUF=0",
+                "WEBRTC_RESTRICT_LOGGING",
+                "WEBRTC_MOZILLA_BUILD",
+                "WEBRTC_NON_STATIC_TRACE_EVENT_HANDLERS=0",
+                "WEBRTC_POSIX",
+                "WEBRTC_LINUX"
+            ],
+            "deps": [],
+            "include_dirs": [
+                "//",
+                "/tmp/objdir/media/webrtc/trunk/webrtc/gn-output/gen/"
+            ],
+            "libs": [],
+            "sources": [
+                "//common_audio/fir_filter.h"
+            ],
+            "type": "source_set"
+        },
+        "//common_audio:fir_filter_factory": {
+            "cflags": [
+                "-fno-strict-aliasing",
+                "--param=ssp-buffer-size=4",
+                "-fstack-protector",
+                "-Wno-builtin-macro-redefined",
+                "-D__DATE__=",
+                "-D__TIME__=",
+                "-D__TIMESTAMP__=",
+                "-funwind-tables",
+                "-fPIC",
+                "-pipe",
+                "-B../../../../../../gecko-dev/media/webrtc/trunk/webrtc/third_party/binutils/Linux_x64/Release/bin",
+                "-m32",
+                "-msse2",
+                "-mfpmath=sse",
+                "-mmmx",
+                "-pthread",
+                "-Wall",
+                "-Werror",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
+                "-Wno-missing-field-initializers",
+                "-Wno-unused-parameter",
+                "-O2",
+                "-fno-ident",
+                "-fdata-sections",
+                "-ffunction-sections",
+                "-fomit-frame-pointer",
+                "-g0",
+                "-fvisibility=hidden",
+                "-Wextra",
+                "-Wno-unused-parameter",
+                "-Wno-missing-field-initializers",
+                "-Wno-strict-overflow"
+            ],
+            "defines": [
+                "V8_DEPRECATION_WARNINGS",
+                "USE_NSS_CERTS=1",
+                "CHROMIUM_BUILD",
+                "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
+                "NDEBUG",
+                "NVALGRIND",
+                "DYNAMIC_ANNOTATIONS_ENABLED=0",
+                "WEBRTC_ENABLE_PROTOBUF=0",
+                "WEBRTC_RESTRICT_LOGGING",
+                "WEBRTC_MOZILLA_BUILD",
+                "WEBRTC_NON_STATIC_TRACE_EVENT_HANDLERS=0",
+                "WEBRTC_POSIX",
+                "WEBRTC_LINUX"
+            ],
+            "deps": [
+                "//common_audio:common_audio_sse2",
+                "//common_audio:fir_filter",
+                "//rtc_base:rtc_base_approved",
+                "//system_wrappers:cpu_features_api"
+            ],
+            "include_dirs": [
+                "//",
+                "/tmp/objdir/media/webrtc/trunk/webrtc/gn-output/gen/"
+            ],
+            "libs": [
+                "rt"
+            ],
+            "sources": [
+                "//common_audio/fir_filter_c.cc",
+                "//common_audio/fir_filter_c.h",
+                "//common_audio/fir_filter_factory.cc",
+                "//common_audio/fir_filter_factory.h"
+            ],
+            "type": "source_set"
+        },
+        "//common_audio:sinc_resampler": {
+            "cflags": [
+                "-fno-strict-aliasing",
+                "--param=ssp-buffer-size=4",
+                "-fstack-protector",
+                "-Wno-builtin-macro-redefined",
+                "-D__DATE__=",
+                "-D__TIME__=",
+                "-D__TIMESTAMP__=",
+                "-funwind-tables",
+                "-fPIC",
+                "-pipe",
+                "-B../../../../../../gecko-dev/media/webrtc/trunk/webrtc/third_party/binutils/Linux_x64/Release/bin",
+                "-m32",
+                "-msse2",
+                "-mfpmath=sse",
+                "-mmmx",
+                "-pthread",
+                "-Wall",
+                "-Werror",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
+                "-Wno-missing-field-initializers",
+                "-Wno-unused-parameter",
+                "-O2",
+                "-fno-ident",
+                "-fdata-sections",
+                "-ffunction-sections",
+                "-fomit-frame-pointer",
+                "-g0",
+                "-fvisibility=hidden",
+                "-Wextra",
+                "-Wno-unused-parameter",
+                "-Wno-missing-field-initializers",
+                "-Wno-strict-overflow"
+            ],
+            "defines": [
+                "V8_DEPRECATION_WARNINGS",
+                "USE_NSS_CERTS=1",
+                "CHROMIUM_BUILD",
+                "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
+                "NDEBUG",
+                "NVALGRIND",
+                "DYNAMIC_ANNOTATIONS_ENABLED=0",
+                "WEBRTC_ENABLE_PROTOBUF=0",
+                "WEBRTC_RESTRICT_LOGGING",
+                "WEBRTC_MOZILLA_BUILD",
+                "WEBRTC_NON_STATIC_TRACE_EVENT_HANDLERS=0",
+                "WEBRTC_POSIX",
+                "WEBRTC_LINUX"
+            ],
+            "deps": [
+                "//:webrtc_common",
+                "//rtc_base:gtest_prod",
+                "//rtc_base:rtc_base_approved",
+                "//system_wrappers:system_wrappers"
+            ],
+            "include_dirs": [
+                "//",
+                "/tmp/objdir/media/webrtc/trunk/webrtc/gn-output/gen/"
+            ],
+            "libs": [
+                "rt"
+            ],
+            "sources": [
+                "//common_audio/resampler/sinc_resampler.h"
+            ],
+            "type": "source_set"
+        },
+        "//common_video:common_video": {
+            "cflags": [
+                "-fno-strict-aliasing",
+                "--param=ssp-buffer-size=4",
+                "-fstack-protector",
+                "-Wno-builtin-macro-redefined",
+                "-D__DATE__=",
+                "-D__TIME__=",
+                "-D__TIMESTAMP__=",
+                "-funwind-tables",
+                "-fPIC",
+                "-pipe",
+                "-B../../../../../../gecko-dev/media/webrtc/trunk/webrtc/third_party/binutils/Linux_x64/Release/bin",
+                "-m32",
+                "-msse2",
+                "-mfpmath=sse",
+                "-mmmx",
+                "-pthread",
+                "-Wall",
+                "-Werror",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
+                "-Wno-missing-field-initializers",
+                "-Wno-unused-parameter",
+                "-O2",
+                "-fno-ident",
+                "-fdata-sections",
+                "-ffunction-sections",
+                "-fomit-frame-pointer",
+                "-g0",
+                "-fvisibility=hidden",
+                "-Wextra",
+                "-Wno-unused-parameter",
+                "-Wno-missing-field-initializers",
+                "-Wno-strict-overflow"
+            ],
+            "defines": [
+                "V8_DEPRECATION_WARNINGS",
+                "USE_NSS_CERTS=1",
+                "CHROMIUM_BUILD",
+                "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
+                "NDEBUG",
+                "NVALGRIND",
+                "DYNAMIC_ANNOTATIONS_ENABLED=0",
+                "WEBRTC_ENABLE_PROTOBUF=0",
+                "WEBRTC_RESTRICT_LOGGING",
+                "WEBRTC_MOZILLA_BUILD",
+                "WEBRTC_NON_STATIC_TRACE_EVENT_HANDLERS=0",
+                "WEBRTC_POSIX",
+                "WEBRTC_LINUX"
+            ],
+            "deps": [
+                "//:webrtc_common",
+                "//api:optional",
+                "//api:video_frame_api",
+                "//api:video_frame_api_i420",
+                "//media:rtc_h264_profile_id",
+                "//modules:module_api",
+                "//rtc_base:rtc_base",
+                "//rtc_base:rtc_task_queue",
+                "//system_wrappers:system_wrappers"
+            ],
+            "include_dirs": [
+                "//modules/interface/",
+                "/media/libyuv/libyuv/include/",
+                "//",
+                "/tmp/objdir/media/webrtc/trunk/webrtc/gn-output/gen/",
+                "//common_video/include/",
+                "/media/libyuv/libyuv/include/"
+            ],
+            "libs": [
+                "rt"
+            ],
+            "sources": [
+                "//common_video/bitrate_adjuster.cc",
+                "//common_video/h264/h264_bitstream_parser.cc",
+                "//common_video/h264/h264_bitstream_parser.h",
+                "//common_video/h264/h264_common.cc",
+                "//common_video/h264/h264_common.h",
+                "//common_video/h264/pps_parser.cc",
+                "//common_video/h264/pps_parser.h",
+                "//common_video/h264/profile_level_id.h",
+                "//common_video/h264/sps_parser.cc",
+                "//common_video/h264/sps_parser.h",
+                "//common_video/h264/sps_vui_rewriter.cc",
+                "//common_video/h264/sps_vui_rewriter.h",
+                "//common_video/i420_buffer_pool.cc",
+                "//common_video/include/bitrate_adjuster.h",
+                "//common_video/include/frame_callback.h",
+                "//common_video/include/i420_buffer_pool.h",
+                "//common_video/include/incoming_video_stream.h",
+                "//common_video/include/video_bitrate_allocator.h",
+                "//common_video/include/video_frame.h",
+                "//common_video/include/video_frame_buffer.h",
+                "//common_video/incoming_video_stream.cc",
+                "//common_video/libyuv/include/webrtc_libyuv.h",
+                "//common_video/libyuv/webrtc_libyuv.cc",
+                "//common_video/video_frame.cc",
+                "//common_video/video_frame_buffer.cc",
+                "//common_video/video_render_frames.cc",
+                "//common_video/video_render_frames.h"
+            ],
+            "type": "static_library"
+        },
+        "//logging:rtc_event_log_api": {
+            "cflags": [
+                "-fno-strict-aliasing",
+                "--param=ssp-buffer-size=4",
+                "-fstack-protector",
+                "-Wno-builtin-macro-redefined",
+                "-D__DATE__=",
+                "-D__TIME__=",
+                "-D__TIMESTAMP__=",
+                "-funwind-tables",
+                "-fPIC",
+                "-pipe",
+                "-B../../../../../../gecko-dev/media/webrtc/trunk/webrtc/third_party/binutils/Linux_x64/Release/bin",
+                "-m32",
+                "-msse2",
+                "-mfpmath=sse",
+                "-mmmx",
+                "-pthread",
+                "-Wall",
+                "-Werror",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
+                "-Wno-missing-field-initializers",
+                "-Wno-unused-parameter",
+                "-O2",
+                "-fno-ident",
+                "-fdata-sections",
+                "-ffunction-sections",
+                "-fomit-frame-pointer",
+                "-g0",
+                "-fvisibility=hidden",
+                "-Wextra",
+                "-Wno-unused-parameter",
+                "-Wno-missing-field-initializers",
+                "-Wno-strict-overflow"
+            ],
+            "defines": [
+                "V8_DEPRECATION_WARNINGS",
+                "USE_NSS_CERTS=1",
+                "CHROMIUM_BUILD",
+                "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
+                "NDEBUG",
+                "NVALGRIND",
+                "DYNAMIC_ANNOTATIONS_ENABLED=0",
+                "WEBRTC_ENABLE_PROTOBUF=0",
+                "WEBRTC_RESTRICT_LOGGING",
+                "WEBRTC_MOZILLA_BUILD",
+                "WEBRTC_NON_STATIC_TRACE_EVENT_HANDLERS=0",
+                "WEBRTC_POSIX",
+                "WEBRTC_LINUX"
+            ],
+            "deps": [
+                "//:webrtc_common",
+                "//api:array_view",
+                "//call:video_stream_api",
+                "//modules/audio_coding:audio_network_adaptor_config",
+                "//modules/remote_bitrate_estimator:remote_bitrate_estimator",
+                "//modules/rtp_rtcp:rtp_rtcp_format",
+                "//rtc_base:rtc_base_approved",
+                "//system_wrappers:system_wrappers"
+            ],
+            "include_dirs": [
+                "//",
+                "/tmp/objdir/media/webrtc/trunk/webrtc/gn-output/gen/"
+            ],
+            "libs": [
+                "rt"
+            ],
+            "sources": [
+                "//logging/rtc_event_log/events/rtc_event.h",
+                "//logging/rtc_event_log/events/rtc_event_audio_network_adaptation.cc",
+                "//logging/rtc_event_log/events/rtc_event_audio_network_adaptation.h",
+                "//logging/rtc_event_log/events/rtc_event_audio_playout.cc",
+                "//logging/rtc_event_log/events/rtc_event_audio_playout.h",
+                "//logging/rtc_event_log/events/rtc_event_audio_receive_stream_config.cc",
+                "//logging/rtc_event_log/events/rtc_event_audio_receive_stream_config.h",
+                "//logging/rtc_event_log/events/rtc_event_audio_send_stream_config.cc",
+                "//logging/rtc_event_log/events/rtc_event_audio_send_stream_config.h",
+                "//logging/rtc_event_log/events/rtc_event_bwe_update_delay_based.cc",
+                "//logging/rtc_event_log/events/rtc_event_bwe_update_delay_based.h",
+                "//logging/rtc_event_log/events/rtc_event_bwe_update_loss_based.cc",
+                "//logging/rtc_event_log/events/rtc_event_bwe_update_loss_based.h",
+                "//logging/rtc_event_log/events/rtc_event_logging_started.cc",
+                "//logging/rtc_event_log/events/rtc_event_logging_started.h",
+                "//logging/rtc_event_log/events/rtc_event_logging_stopped.cc",
+                "//logging/rtc_event_log/events/rtc_event_logging_stopped.h",
+                "//logging/rtc_event_log/events/rtc_event_probe_cluster_created.cc",
+                "//logging/rtc_event_log/events/rtc_event_probe_cluster_created.h",
+                "//logging/rtc_event_log/events/rtc_event_probe_result_failure.cc",
+                "//logging/rtc_event_log/events/rtc_event_probe_result_failure.h",
+                "//logging/rtc_event_log/events/rtc_event_probe_result_success.cc",
+                "//logging/rtc_event_log/events/rtc_event_probe_result_success.h",
+                "//logging/rtc_event_log/events/rtc_event_rtcp_packet_incoming.cc",
+                "//logging/rtc_event_log/events/rtc_event_rtcp_packet_incoming.h",
+                "//logging/rtc_event_log/events/rtc_event_rtcp_packet_outgoing.cc",
+                "//logging/rtc_event_log/events/rtc_event_rtcp_packet_outgoing.h",
+                "//logging/rtc_event_log/events/rtc_event_rtp_packet_incoming.cc",
+                "//logging/rtc_event_log/events/rtc_event_rtp_packet_incoming.h",
+                "//logging/rtc_event_log/events/rtc_event_rtp_packet_outgoing.cc",
+                "//logging/rtc_event_log/events/rtc_event_rtp_packet_outgoing.h",
+                "//logging/rtc_event_log/events/rtc_event_video_receive_stream_config.cc",
+                "//logging/rtc_event_log/events/rtc_event_video_receive_stream_config.h",
+                "//logging/rtc_event_log/events/rtc_event_video_send_stream_config.cc",
+                "//logging/rtc_event_log/events/rtc_event_video_send_stream_config.h",
+                "//logging/rtc_event_log/output/rtc_event_log_output_file.cc",
+                "//logging/rtc_event_log/output/rtc_event_log_output_file.h",
+                "//logging/rtc_event_log/rtc_event_log.h",
+                "//logging/rtc_event_log/rtc_event_log_factory_interface.h",
+                "//logging/rtc_event_log/rtc_stream_config.cc",
+                "//logging/rtc_event_log/rtc_stream_config.h"
+            ],
+            "type": "source_set"
+        },
+        "//logging:rtc_event_log_impl": {
+            "cflags": [
+                "-fno-strict-aliasing",
+                "--param=ssp-buffer-size=4",
+                "-fstack-protector",
+                "-Wno-builtin-macro-redefined",
+                "-D__DATE__=",
+                "-D__TIME__=",
+                "-D__TIMESTAMP__=",
+                "-funwind-tables",
+                "-fPIC",
+                "-pipe",
+                "-B../../../../../../gecko-dev/media/webrtc/trunk/webrtc/third_party/binutils/Linux_x64/Release/bin",
+                "-m32",
+                "-msse2",
+                "-mfpmath=sse",
+                "-mmmx",
+                "-pthread",
+                "-Wall",
+                "-Werror",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
+                "-Wno-missing-field-initializers",
+                "-Wno-unused-parameter",
+                "-O2",
+                "-fno-ident",
+                "-fdata-sections",
+                "-ffunction-sections",
+                "-fomit-frame-pointer",
+                "-g0",
+                "-fvisibility=hidden",
+                "-Wextra",
+                "-Wno-unused-parameter",
+                "-Wno-missing-field-initializers",
+                "-Wno-strict-overflow"
+            ],
+            "defines": [
+                "V8_DEPRECATION_WARNINGS",
+                "USE_NSS_CERTS=1",
+                "CHROMIUM_BUILD",
+                "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
+                "NDEBUG",
+                "NVALGRIND",
+                "DYNAMIC_ANNOTATIONS_ENABLED=0",
+                "WEBRTC_ENABLE_PROTOBUF=0",
+                "WEBRTC_RESTRICT_LOGGING",
+                "WEBRTC_MOZILLA_BUILD",
+                "WEBRTC_NON_STATIC_TRACE_EVENT_HANDLERS=0",
+                "WEBRTC_POSIX",
+                "WEBRTC_LINUX"
+            ],
+            "deps": [
+                "//:webrtc_common",
+                "//logging:rtc_event_log_api",
+                "//modules/audio_coding:audio_network_adaptor",
+                "//modules/remote_bitrate_estimator:remote_bitrate_estimator",
+                "//modules/rtp_rtcp:rtp_rtcp",
+                "//rtc_base:protobuf_utils",
+                "//rtc_base:rtc_base_approved",
+                "//rtc_base:rtc_task_queue",
+                "//rtc_base:sequenced_task_checker",
+                "//system_wrappers:system_wrappers"
+            ],
+            "include_dirs": [
+                "//",
+                "/tmp/objdir/media/webrtc/trunk/webrtc/gn-output/gen/"
+            ],
+            "libs": [
+                "rt"
+            ],
+            "sources": [
+                "//logging/rtc_event_log/encoder/rtc_event_log_encoder.h",
+                "//logging/rtc_event_log/encoder/rtc_event_log_encoder_legacy.cc",
+                "//logging/rtc_event_log/encoder/rtc_event_log_encoder_legacy.h",
+                "//logging/rtc_event_log/rtc_event_log.cc",
+                "//logging/rtc_event_log/rtc_event_log_factory.cc",
+                "//logging/rtc_event_log/rtc_event_log_factory.h"
+            ],
+            "type": "static_library"
+        },
+        "//media:rtc_audio_video": {
+            "cflags": [
+                "-fno-strict-aliasing",
+                "--param=ssp-buffer-size=4",
+                "-fstack-protector",
+                "-Wno-builtin-macro-redefined",
+                "-D__DATE__=",
+                "-D__TIME__=",
+                "-D__TIMESTAMP__=",
+                "-funwind-tables",
+                "-fPIC",
+                "-pipe",
+                "-B../../../../../../gecko-dev/media/webrtc/trunk/webrtc/third_party/binutils/Linux_x64/Release/bin",
+                "-m32",
+                "-msse2",
+                "-mfpmath=sse",
+                "-mmmx",
+                "-pthread",
+                "-Wall",
+                "-Werror",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
+                "-Wno-missing-field-initializers",
+                "-Wno-unused-parameter",
+                "-O2",
+                "-fno-ident",
+                "-fdata-sections",
+                "-ffunction-sections",
+                "-fomit-frame-pointer",
+                "-g0",
+                "-fvisibility=hidden",
+                "-Wextra",
+                "-Wno-unused-parameter",
+                "-Wno-missing-field-initializers",
+                "-Wno-strict-overflow",
+                "-Wno-deprecated-declarations"
+            ],
+            "defines": [
+                "WEBRTC_INTELLIGIBILITY_ENHANCER=0",
+                "WEBRTC_OPUS_SUPPORT_120MS_PTIME=1",
+                "V8_DEPRECATION_WARNINGS",
+                "USE_NSS_CERTS=1",
+                "CHROMIUM_BUILD",
+                "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
+                "NDEBUG",
+                "NVALGRIND",
+                "DYNAMIC_ANNOTATIONS_ENABLED=0",
+                "WEBRTC_ENABLE_PROTOBUF=0",
+                "WEBRTC_RESTRICT_LOGGING",
+                "WEBRTC_MOZILLA_BUILD",
+                "WEBRTC_NON_STATIC_TRACE_EVENT_HANDLERS=0",
+                "WEBRTC_POSIX",
+                "WEBRTC_LINUX",
+                "HAVE_WEBRTC_VIDEO",
+                "HAVE_WEBRTC_VOICE"
+            ],
+            "deps": [
+                "//:webrtc_common",
+                "//api:call_api",
+                "//api:optional",
+                "//api:transport_api",
+                "//api:video_frame_api",
+                "//api:video_frame_api_i420",
+                "//api/audio_codecs:audio_codecs_api",
+                "//api/video_codecs:video_codecs_api",
+                "//call:call",
+                "//call:video_stream_api",
+                "//common_video:common_video",
+                "//media:rtc_media_base",
+                "//modules/audio_coding:rent_a_codec",
+                "//modules/audio_device:audio_device",
+                "//modules/audio_mixer:audio_mixer_impl",
+                "//modules/audio_processing:audio_processing",
+                "//modules/audio_processing/aec_dump:aec_dump",
+                "//modules/audio_processing/aec_dump:null_aec_dump_factory",
+                "//modules/video_capture:video_capture_internal_impl",
+                "//modules/video_capture:video_capture_module",
+                "//modules/video_coding:video_coding",
+                "//modules/video_coding:video_coding_utility",
+                "//modules/video_coding:webrtc_h264",
+                "//modules/video_coding:webrtc_vp8",
+                "//modules/video_coding:webrtc_vp9",
+                "//rtc_base:rtc_base",
+                "//rtc_base:rtc_base_approved",
+                "//rtc_base:rtc_task_queue",
+                "//rtc_base:sequenced_task_checker",
+                "//system_wrappers:system_wrappers",
+                "//video:video",
+                "//voice_engine:voice_engine"
+            ],
+            "include_dirs": [
+                "/media/libyuv/libyuv/include/",
+                "//",
+                "/tmp/objdir/media/webrtc/trunk/webrtc/gn-output/gen/",
+                "//common_video/include/",
+                "/media/libyuv/libyuv/include/",
+                "//modules/include/",
+                "//modules/audio_device/include/",
+                "//modules/audio_device/dummy/",
+                "//modules/audio_coding/include/",
+                "//modules/include/"
+            ],
+            "libs": [
+                "rt",
+                "m"
+            ],
+            "sources": [
+                "//media/engine/adm_helpers.cc",
+                "//media/engine/adm_helpers.h",
+                "//media/engine/apm_helpers.cc",
+                "//media/engine/apm_helpers.h",
+                "//media/engine/constants.cc",
+                "//media/engine/constants.h",
+                "//media/engine/convert_legacy_video_factory.cc",
+                "//media/engine/convert_legacy_video_factory.h",
+                "//media/engine/internaldecoderfactory.cc",
+                "//media/engine/internaldecoderfactory.h",
+                "//media/engine/internalencoderfactory.cc",
+                "//media/engine/internalencoderfactory.h",
+                "//media/engine/nullwebrtcvideoengine.h",
+                "//media/engine/payload_type_mapper.cc",
+                "//media/engine/payload_type_mapper.h",
+                "//media/engine/scopedvideodecoder.cc",
+                "//media/engine/scopedvideodecoder.h",
+                "//media/engine/scopedvideoencoder.cc",
+                "//media/engine/scopedvideoencoder.h",
+                "//media/engine/simulcast.cc",
+                "//media/engine/simulcast.h",
+                "//media/engine/simulcast_encoder_adapter.cc",
+                "//media/engine/simulcast_encoder_adapter.h",
+                "//media/engine/videodecodersoftwarefallbackwrapper.cc",
+                "//media/engine/videodecodersoftwarefallbackwrapper.h",
+                "//media/engine/videoencodersoftwarefallbackwrapper.cc",
+                "//media/engine/videoencodersoftwarefallbackwrapper.h",
+                "//media/engine/vp8_encoder_simulcast_proxy.cc",
+                "//media/engine/vp8_encoder_simulcast_proxy.h",
+                "//media/engine/webrtcvideodecoderfactory.cc",
+                "//media/engine/webrtcvideodecoderfactory.h",
+                "//media/engine/webrtcvideoencoderfactory.cc",
+                "//media/engine/webrtcvideoencoderfactory.h"
+            ],
+            "type": "static_library"
+        },
+        "//media:rtc_h264_profile_id": {
+            "cflags": [
+                "-fno-strict-aliasing",
+                "--param=ssp-buffer-size=4",
+                "-fstack-protector",
+                "-Wno-builtin-macro-redefined",
+                "-D__DATE__=",
+                "-D__TIME__=",
+                "-D__TIMESTAMP__=",
+                "-funwind-tables",
+                "-fPIC",
+                "-pipe",
+                "-B../../../../../../gecko-dev/media/webrtc/trunk/webrtc/third_party/binutils/Linux_x64/Release/bin",
+                "-m32",
+                "-msse2",
+                "-mfpmath=sse",
+                "-mmmx",
+                "-pthread",
+                "-Wall",
+                "-Werror",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
+                "-Wno-missing-field-initializers",
+                "-Wno-unused-parameter",
+                "-O2",
+                "-fno-ident",
+                "-fdata-sections",
+                "-ffunction-sections",
+                "-fomit-frame-pointer",
+                "-g0",
+                "-fvisibility=hidden",
+                "-Wextra",
+                "-Wno-unused-parameter",
+                "-Wno-missing-field-initializers",
+                "-Wno-strict-overflow"
+            ],
+            "defines": [
+                "V8_DEPRECATION_WARNINGS",
+                "USE_NSS_CERTS=1",
+                "CHROMIUM_BUILD",
+                "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
+                "NDEBUG",
+                "NVALGRIND",
+                "DYNAMIC_ANNOTATIONS_ENABLED=0",
+                "WEBRTC_ENABLE_PROTOBUF=0",
+                "WEBRTC_RESTRICT_LOGGING",
+                "WEBRTC_MOZILLA_BUILD",
+                "WEBRTC_NON_STATIC_TRACE_EVENT_HANDLERS=0",
+                "WEBRTC_POSIX",
+                "WEBRTC_LINUX"
+            ],
+            "deps": [
+                "//:webrtc_common",
+                "//api:optional",
+                "//rtc_base:rtc_base",
+                "//rtc_base:rtc_base_approved"
+            ],
+            "include_dirs": [
+                "//",
+                "/tmp/objdir/media/webrtc/trunk/webrtc/gn-output/gen/"
+            ],
+            "libs": [],
+            "sources": [
+                "//media/base/h264_profile_level_id.cc",
+                "//media/base/h264_profile_level_id.h"
+            ],
+            "type": "source_set"
+        },
+        "//media:rtc_media": {
+            "cflags": [
+                "-fno-strict-aliasing",
+                "--param=ssp-buffer-size=4",
+                "-fstack-protector",
+                "-Wno-builtin-macro-redefined",
+                "-D__DATE__=",
+                "-D__TIME__=",
+                "-D__TIMESTAMP__=",
+                "-funwind-tables",
+                "-fPIC",
+                "-pipe",
+                "-B../../../../../../gecko-dev/media/webrtc/trunk/webrtc/third_party/binutils/Linux_x64/Release/bin",
+                "-m32",
+                "-msse2",
+                "-mfpmath=sse",
+                "-mmmx",
+                "-pthread",
+                "-Wall",
+                "-Werror",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
+                "-Wno-missing-field-initializers",
+                "-Wno-unused-parameter",
+                "-O2",
+                "-fno-ident",
+                "-fdata-sections",
+                "-ffunction-sections",
+                "-fomit-frame-pointer",
+                "-g0",
+                "-fvisibility=hidden",
+                "-Wextra",
+                "-Wno-unused-parameter",
+                "-Wno-missing-field-initializers",
+                "-Wno-strict-overflow"
+            ],
+            "defines": [
+                "V8_DEPRECATION_WARNINGS",
+                "USE_NSS_CERTS=1",
+                "CHROMIUM_BUILD",
+                "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
+                "NDEBUG",
+                "NVALGRIND",
+                "DYNAMIC_ANNOTATIONS_ENABLED=0",
+                "WEBRTC_ENABLE_PROTOBUF=0",
+                "WEBRTC_RESTRICT_LOGGING",
+                "WEBRTC_MOZILLA_BUILD",
+                "WEBRTC_NON_STATIC_TRACE_EVENT_HANDLERS=0",
+                "WEBRTC_POSIX",
+                "WEBRTC_LINUX",
+                "HAVE_WEBRTC_VIDEO",
+                "HAVE_WEBRTC_VOICE"
+            ],
+            "deps": [
+                "//media:rtc_audio_video"
+            ],
+            "include_dirs": [
+                "//",
+                "/tmp/objdir/media/webrtc/trunk/webrtc/gn-output/gen/"
+            ],
+            "libs": [
+                "rt",
+                "m"
+            ],
+            "sources": [],
+            "type": "source_set"
+        },
+        "//media:rtc_media_base": {
+            "cflags": [
+                "-fno-strict-aliasing",
+                "--param=ssp-buffer-size=4",
+                "-fstack-protector",
+                "-Wno-builtin-macro-redefined",
+                "-D__DATE__=",
+                "-D__TIME__=",
+                "-D__TIMESTAMP__=",
+                "-funwind-tables",
+                "-fPIC",
+                "-pipe",
+                "-B../../../../../../gecko-dev/media/webrtc/trunk/webrtc/third_party/binutils/Linux_x64/Release/bin",
+                "-m32",
+                "-msse2",
+                "-mfpmath=sse",
+                "-mmmx",
+                "-pthread",
+                "-Wall",
+                "-Werror",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
+                "-Wno-missing-field-initializers",
+                "-Wno-unused-parameter",
+                "-O2",
+                "-fno-ident",
+                "-fdata-sections",
+                "-ffunction-sections",
+                "-fomit-frame-pointer",
+                "-g0",
+                "-fvisibility=hidden",
+                "-Wextra",
+                "-Wno-unused-parameter",
+                "-Wno-missing-field-initializers",
+                "-Wno-strict-overflow"
+            ],
+            "defines": [
+                "V8_DEPRECATION_WARNINGS",
+                "USE_NSS_CERTS=1",
+                "CHROMIUM_BUILD",
+                "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
+                "NDEBUG",
+                "NVALGRIND",
+                "DYNAMIC_ANNOTATIONS_ENABLED=0",
+                "WEBRTC_ENABLE_PROTOBUF=0",
+                "WEBRTC_RESTRICT_LOGGING",
+                "WEBRTC_MOZILLA_BUILD",
+                "WEBRTC_NON_STATIC_TRACE_EVENT_HANDLERS=0",
+                "WEBRTC_POSIX",
+                "WEBRTC_LINUX"
+            ],
+            "deps": [
+                "//:webrtc_common",
+                "//api:optional",
+                "//api:video_frame_api",
+                "//api:video_frame_api_i420",
+                "//api/audio_codecs:audio_codecs_api",
+                "//api/video_codecs:video_codecs_api",
+                "//call:call_interfaces",
+                "//call:video_stream_api",
+                "//media:rtc_h264_profile_id",
+                "//modules/audio_processing:audio_processing_statistics",
+                "//rtc_base:rtc_base",
+                "//rtc_base:rtc_base_approved",
+                "//system_wrappers:field_trial_api"
+            ],
+            "include_dirs": [
+                "/media/libyuv/libyuv/include/",
+                "//",
+                "/tmp/objdir/media/webrtc/trunk/webrtc/gn-output/gen/"
+            ],
+            "libs": [
+                "rt"
+            ],
+            "sources": [
+                "//media/base/adaptedvideotracksource.cc",
+                "//media/base/adaptedvideotracksource.h",
+                "//media/base/audiosource.h",
+                "//media/base/codec.cc",
+                "//media/base/codec.h",
+                "//media/base/cryptoparams.h",
+                "//media/base/device.h",
+                "//media/base/mediachannel.h",
+                "//media/base/mediaconstants.cc",
+                "//media/base/mediaconstants.h",
+                "//media/base/mediaengine.cc",
+                "//media/base/mediaengine.h",
+                "//media/base/streamparams.cc",
+                "//media/base/streamparams.h",
+                "//media/base/videoadapter.cc",
+                "//media/base/videoadapter.h",
+                "//media/base/videobroadcaster.cc",
+                "//media/base/videobroadcaster.h",
+                "//media/base/videocapturer.cc",
+                "//media/base/videocapturer.h",
+                "//media/base/videocapturerfactory.h",
+                "//media/base/videocommon.cc",
+                "//media/base/videocommon.h",
+                "//media/base/videosourcebase.cc",
+                "//media/base/videosourcebase.h",
+                "//media/base/videosourceinterface.cc"
+            ],
+            "type": "static_library"
+        },
+        "//modules/audio_coding:audio_coding": {
+            "cflags": [
+                "-fno-strict-aliasing",
+                "--param=ssp-buffer-size=4",
+                "-fstack-protector",
+                "-Wno-builtin-macro-redefined",
+                "-D__DATE__=",
+                "-D__TIME__=",
+                "-D__TIMESTAMP__=",
+                "-funwind-tables",
+                "-fPIC",
+                "-pipe",
+                "-B../../../../../../gecko-dev/media/webrtc/trunk/webrtc/third_party/binutils/Linux_x64/Release/bin",
+                "-m32",
+                "-msse2",
+                "-mfpmath=sse",
+                "-mmmx",
+                "-pthread",
+                "-Wall",
+                "-Werror",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
+                "-Wno-missing-field-initializers",
+                "-Wno-unused-parameter",
+                "-O2",
+                "-fno-ident",
+                "-fdata-sections",
+                "-ffunction-sections",
+                "-fomit-frame-pointer",
+                "-g0",
+                "-fvisibility=hidden",
+                "-Wextra",
+                "-Wno-unused-parameter",
+                "-Wno-missing-field-initializers",
+                "-Wno-strict-overflow"
+            ],
+            "defines": [
+                "WEBRTC_CODEC_ILBC",
+                "WEBRTC_CODEC_OPUS",
+                "WEBRTC_OPUS_SUPPORT_120MS_PTIME=1",
+                "WEBRTC_CODEC_ISAC",
+                "V8_DEPRECATION_WARNINGS",
+                "USE_NSS_CERTS=1",
+                "CHROMIUM_BUILD",
+                "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
+                "NDEBUG",
+                "NVALGRIND",
+                "DYNAMIC_ANNOTATIONS_ENABLED=0",
+                "WEBRTC_ENABLE_PROTOBUF=0",
+                "WEBRTC_RESTRICT_LOGGING",
+                "WEBRTC_MOZILLA_BUILD",
+                "WEBRTC_NON_STATIC_TRACE_EVENT_HANDLERS=0",
+                "WEBRTC_POSIX",
+                "WEBRTC_LINUX"
+            ],
+            "deps": [
+                "//:webrtc_common",
+                "//api:array_view",
+                "//api:optional",
+                "//api/audio_codecs:audio_codecs_api",
+                "//api/audio_codecs:builtin_audio_decoder_factory",
+                "//common_audio:common_audio",
+                "//logging:rtc_event_log_api",
+                "//modules:module_api",
+                "//modules/audio_coding:audio_coding_module_typedefs",
+                "//modules/audio_coding:cng",
+                "//modules/audio_coding:g711",
+                "//modules/audio_coding:g722",
+                "//modules/audio_coding:ilbc",
+                "//modules/audio_coding:isac",
+                "//modules/audio_coding:neteq",
+                "//modules/audio_coding:pcm16b",
+                "//modules/audio_coding:rent_a_codec",
+                "//modules/audio_coding:webrtc_opus",
+                "//rtc_base:rtc_base_approved",
+                "//system_wrappers:system_wrappers"
+            ],
+            "include_dirs": [
+                "//",
+                "/tmp/objdir/media/webrtc/trunk/webrtc/gn-output/gen/",
+                "//modules/audio_coding/include/",
+                "//modules/include/",
+                "//modules/audio_coding/codecs/cng/include/",
+                "//modules/audio_coding/codecs/g711/include/",
+                "//modules/audio_coding/codecs/pcm16b/include/",
+                "//modules/audio_coding/codecs/ilbc/include/",
+                "//modules/audio_coding/codecs/isac/main/include/",
+                "//modules/audio_coding/codecs/g722/include/",
+                "//common_audio/resampler/include/",
+                "//common_audio/signal_processing/include/",
+                "//common_audio/vad/include/"
+            ],
+            "libs": [
+                "rt",
+                "m"
+            ],
+            "sources": [
+                "//modules/audio_coding/acm2/acm_receiver.cc",
+                "//modules/audio_coding/acm2/acm_receiver.h",
+                "//modules/audio_coding/acm2/acm_resampler.cc",
+                "//modules/audio_coding/acm2/acm_resampler.h",
+                "//modules/audio_coding/acm2/audio_coding_module.cc",
+                "//modules/audio_coding/acm2/call_statistics.cc",
+                "//modules/audio_coding/acm2/call_statistics.h",
+                "//modules/audio_coding/acm2/codec_manager.cc",
+                "//modules/audio_coding/acm2/codec_manager.h",
+                "//modules/audio_coding/include/audio_coding_module.h"
+            ],
+            "type": "static_library"
+        },
+        "//modules/audio_coding:audio_coding_module_typedefs": {
+            "cflags": [
+                "-fno-strict-aliasing",
+                "--param=ssp-buffer-size=4",
+                "-fstack-protector",
+                "-Wno-builtin-macro-redefined",
+                "-D__DATE__=",
+                "-D__TIME__=",
+                "-D__TIMESTAMP__=",
+                "-funwind-tables",
+                "-fPIC",
+                "-pipe",
+                "-B../../../../../../gecko-dev/media/webrtc/trunk/webrtc/third_party/binutils/Linux_x64/Release/bin",
+                "-m32",
+                "-msse2",
+                "-mfpmath=sse",
+                "-mmmx",
+                "-pthread",
+                "-Wall",
+                "-Werror",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
+                "-Wno-missing-field-initializers",
+                "-Wno-unused-parameter",
+                "-O2",
+                "-fno-ident",
+                "-fdata-sections",
+                "-ffunction-sections",
+                "-fomit-frame-pointer",
+                "-g0",
+                "-fvisibility=hidden",
+                "-Wextra",
+                "-Wno-unused-parameter",
+                "-Wno-missing-field-initializers",
+                "-Wno-strict-overflow"
+            ],
+            "defines": [
+                "V8_DEPRECATION_WARNINGS",
+                "USE_NSS_CERTS=1",
+                "CHROMIUM_BUILD",
+                "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
+                "NDEBUG",
+                "NVALGRIND",
+                "DYNAMIC_ANNOTATIONS_ENABLED=0",
+                "WEBRTC_ENABLE_PROTOBUF=0",
+                "WEBRTC_RESTRICT_LOGGING",
+                "WEBRTC_MOZILLA_BUILD",
+                "WEBRTC_NON_STATIC_TRACE_EVENT_HANDLERS=0",
+                "WEBRTC_POSIX",
+                "WEBRTC_LINUX"
+            ],
+            "deps": [
+                "//:webrtc_common",
+                "//modules:module_api"
+            ],
+            "include_dirs": [
+                "//",
+                "/tmp/objdir/media/webrtc/trunk/webrtc/gn-output/gen/"
+            ],
+            "libs": [
+                "rt"
+            ],
+            "sources": [
+                "//modules/audio_coding/include/audio_coding_module_typedefs.h"
+            ],
+            "type": "source_set"
+        },
+        "//modules/audio_coding:audio_format_conversion": {
+            "cflags": [
+                "-fno-strict-aliasing",
+                "--param=ssp-buffer-size=4",
+                "-fstack-protector",
+                "-Wno-builtin-macro-redefined",
+                "-D__DATE__=",
+                "-D__TIME__=",
+                "-D__TIMESTAMP__=",
+                "-funwind-tables",
+                "-fPIC",
+                "-pipe",
+                "-B../../../../../../gecko-dev/media/webrtc/trunk/webrtc/third_party/binutils/Linux_x64/Release/bin",
+                "-m32",
+                "-msse2",
+                "-mfpmath=sse",
+                "-mmmx",
+                "-pthread",
+                "-Wall",
+                "-Werror",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
+                "-Wno-missing-field-initializers",
+                "-Wno-unused-parameter",
+                "-O2",
+                "-fno-ident",
+                "-fdata-sections",
+                "-ffunction-sections",
+                "-fomit-frame-pointer",
+                "-g0",
+                "-fvisibility=hidden",
+                "-Wextra",
+                "-Wno-unused-parameter",
+                "-Wno-missing-field-initializers",
+                "-Wno-strict-overflow"
+            ],
+            "defines": [
+                "V8_DEPRECATION_WARNINGS",
+                "USE_NSS_CERTS=1",
+                "CHROMIUM_BUILD",
+                "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
+                "NDEBUG",
+                "NVALGRIND",
+                "DYNAMIC_ANNOTATIONS_ENABLED=0",
+                "WEBRTC_ENABLE_PROTOBUF=0",
+                "WEBRTC_RESTRICT_LOGGING",
+                "WEBRTC_MOZILLA_BUILD",
+                "WEBRTC_NON_STATIC_TRACE_EVENT_HANDLERS=0",
+                "WEBRTC_POSIX",
+                "WEBRTC_LINUX"
+            ],
+            "deps": [
+                "//:webrtc_common",
+                "//api:array_view",
+                "//api:optional",
+                "//api/audio_codecs:audio_codecs_api",
+                "//rtc_base:rtc_base_approved"
+            ],
+            "include_dirs": [
+                "//",
+                "/tmp/objdir/media/webrtc/trunk/webrtc/gn-output/gen/"
+            ],
+            "libs": [],
+            "sources": [
+                "//modules/audio_coding/codecs/audio_format_conversion.cc",
+                "//modules/audio_coding/codecs/audio_format_conversion.h"
+            ],
+            "type": "static_library"
+        },
+        "//modules/audio_coding:audio_network_adaptor": {
+            "cflags": [
+                "-fno-strict-aliasing",
+                "--param=ssp-buffer-size=4",
+                "-fstack-protector",
+                "-Wno-builtin-macro-redefined",
+                "-D__DATE__=",
+                "-D__TIME__=",
+                "-D__TIMESTAMP__=",
+                "-funwind-tables",
+                "-fPIC",
+                "-pipe",
+                "-B../../../../../../gecko-dev/media/webrtc/trunk/webrtc/third_party/binutils/Linux_x64/Release/bin",
+                "-m32",
+                "-msse2",
+                "-mfpmath=sse",
+                "-mmmx",
+                "-pthread",
+                "-Wall",
+                "-Werror",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
+                "-Wno-missing-field-initializers",
+                "-Wno-unused-parameter",
+                "-O2",
+                "-fno-ident",
+                "-fdata-sections",
+                "-ffunction-sections",
+                "-fomit-frame-pointer",
+                "-g0",
+                "-fvisibility=hidden",
+                "-Wextra",
+                "-Wno-unused-parameter",
+                "-Wno-missing-field-initializers",
+                "-Wno-strict-overflow"
+            ],
+            "defines": [
+                "V8_DEPRECATION_WARNINGS",
+                "USE_NSS_CERTS=1",
+                "CHROMIUM_BUILD",
+                "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
+                "NDEBUG",
+                "NVALGRIND",
+                "DYNAMIC_ANNOTATIONS_ENABLED=0",
+                "WEBRTC_ENABLE_PROTOBUF=0",
+                "WEBRTC_RESTRICT_LOGGING",
+                "WEBRTC_MOZILLA_BUILD",
+                "WEBRTC_NON_STATIC_TRACE_EVENT_HANDLERS=0",
+                "WEBRTC_POSIX",
+                "WEBRTC_LINUX"
+            ],
+            "deps": [
+                "//:webrtc_common",
+                "//api:optional",
+                "//api/audio_codecs:audio_codecs_api",
+                "//common_audio:common_audio",
+                "//logging:rtc_event_log_api",
+                "//modules/audio_coding:audio_network_adaptor_config",
+                "//rtc_base:protobuf_utils",
+                "//rtc_base:rtc_base_approved",
+                "//system_wrappers:system_wrappers"
+            ],
+            "include_dirs": [
+                "//",
+                "/tmp/objdir/media/webrtc/trunk/webrtc/gn-output/gen/",
+                "//common_audio/resampler/include/",
+                "//common_audio/signal_processing/include/",
+                "//common_audio/vad/include/"
+            ],
+            "libs": [
+                "rt"
+            ],
+            "sources": [
+                "//modules/audio_coding/audio_network_adaptor/audio_network_adaptor_impl.cc",
+                "//modules/audio_coding/audio_network_adaptor/audio_network_adaptor_impl.h",
+                "//modules/audio_coding/audio_network_adaptor/bitrate_controller.cc",
+                "//modules/audio_coding/audio_network_adaptor/bitrate_controller.h",
+                "//modules/audio_coding/audio_network_adaptor/channel_controller.cc",
+                "//modules/audio_coding/audio_network_adaptor/channel_controller.h",
+                "//modules/audio_coding/audio_network_adaptor/controller.cc",
+                "//modules/audio_coding/audio_network_adaptor/controller.h",
+                "//modules/audio_coding/audio_network_adaptor/controller_manager.cc",
+                "//modules/audio_coding/audio_network_adaptor/controller_manager.h",
+                "//modules/audio_coding/audio_network_adaptor/debug_dump_writer.cc",
+                "//modules/audio_coding/audio_network_adaptor/debug_dump_writer.h",
+                "//modules/audio_coding/audio_network_adaptor/dtx_controller.cc",
+                "//modules/audio_coding/audio_network_adaptor/dtx_controller.h",
+                "//modules/audio_coding/audio_network_adaptor/event_log_writer.cc",
+                "//modules/audio_coding/audio_network_adaptor/event_log_writer.h",
+                "//modules/audio_coding/audio_network_adaptor/fec_controller_plr_based.cc",
+                "//modules/audio_coding/audio_network_adaptor/fec_controller_plr_based.h",
+                "//modules/audio_coding/audio_network_adaptor/fec_controller_rplr_based.cc",
+                "//modules/audio_coding/audio_network_adaptor/fec_controller_rplr_based.h",
+                "//modules/audio_coding/audio_network_adaptor/frame_length_controller.cc",
+                "//modules/audio_coding/audio_network_adaptor/frame_length_controller.h",
+                "//modules/audio_coding/audio_network_adaptor/include/audio_network_adaptor.h",
+                "//modules/audio_coding/audio_network_adaptor/util/threshold_curve.h"
+            ],
+            "type": "static_library"
+        },
+        "//modules/audio_coding:audio_network_adaptor_config": {
+            "cflags": [
+                "-fno-strict-aliasing",
+                "--param=ssp-buffer-size=4",
+                "-fstack-protector",
+                "-Wno-builtin-macro-redefined",
+                "-D__DATE__=",
+                "-D__TIME__=",
+                "-D__TIMESTAMP__=",
+                "-funwind-tables",
+                "-fPIC",
+                "-pipe",
+                "-B../../../../../../gecko-dev/media/webrtc/trunk/webrtc/third_party/binutils/Linux_x64/Release/bin",
+                "-m32",
+                "-msse2",
+                "-mfpmath=sse",
+                "-mmmx",
+                "-pthread",
+                "-Wall",
+                "-Werror",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
+                "-Wno-missing-field-initializers",
+                "-Wno-unused-parameter",
+                "-O2",
+                "-fno-ident",
+                "-fdata-sections",
+                "-ffunction-sections",
+                "-fomit-frame-pointer",
+                "-g0",
+                "-fvisibility=hidden",
+                "-Wextra",
+                "-Wno-unused-parameter",
+                "-Wno-missing-field-initializers",
+                "-Wno-strict-overflow"
+            ],
+            "defines": [
+                "V8_DEPRECATION_WARNINGS",
+                "USE_NSS_CERTS=1",
+                "CHROMIUM_BUILD",
+                "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
+                "NDEBUG",
+                "NVALGRIND",
+                "DYNAMIC_ANNOTATIONS_ENABLED=0",
+                "WEBRTC_ENABLE_PROTOBUF=0",
+                "WEBRTC_RESTRICT_LOGGING",
+                "WEBRTC_MOZILLA_BUILD",
+                "WEBRTC_NON_STATIC_TRACE_EVENT_HANDLERS=0",
+                "WEBRTC_POSIX",
+                "WEBRTC_LINUX"
+            ],
+            "deps": [
+                "//api:optional"
+            ],
+            "include_dirs": [
+                "//",
+                "/tmp/objdir/media/webrtc/trunk/webrtc/gn-output/gen/"
+            ],
+            "libs": [],
+            "sources": [
+                "//modules/audio_coding/audio_network_adaptor/audio_network_adaptor_config.cc",
+                "//modules/audio_coding/audio_network_adaptor/include/audio_network_adaptor_config.h"
+            ],
+            "type": "static_library"
+        },
+        "//modules/audio_coding:cng": {
+            "cflags": [
+                "-fno-strict-aliasing",
+                "--param=ssp-buffer-size=4",
+                "-fstack-protector",
+                "-Wno-builtin-macro-redefined",
+                "-D__DATE__=",
+                "-D__TIME__=",
+                "-D__TIMESTAMP__=",
+                "-funwind-tables",
+                "-fPIC",
+                "-pipe",
+                "-B../../../../../../gecko-dev/media/webrtc/trunk/webrtc/third_party/binutils/Linux_x64/Release/bin",
+                "-m32",
+                "-msse2",
+                "-mfpmath=sse",
+                "-mmmx",
+                "-pthread",
+                "-Wall",
+                "-Werror",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
+                "-Wno-missing-field-initializers",
+                "-Wno-unused-parameter",
+                "-O2",
+                "-fno-ident",
+                "-fdata-sections",
+                "-ffunction-sections",
+                "-fomit-frame-pointer",
+                "-g0",
+                "-fvisibility=hidden",
+                "-Wextra",
+                "-Wno-unused-parameter",
+                "-Wno-missing-field-initializers",
+                "-Wno-strict-overflow"
+            ],
+            "defines": [
+                "V8_DEPRECATION_WARNINGS",
+                "USE_NSS_CERTS=1",
+                "CHROMIUM_BUILD",
+                "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
+                "NDEBUG",
+                "NVALGRIND",
+                "DYNAMIC_ANNOTATIONS_ENABLED=0",
+                "WEBRTC_ENABLE_PROTOBUF=0",
+                "WEBRTC_RESTRICT_LOGGING",
+                "WEBRTC_MOZILLA_BUILD",
+                "WEBRTC_NON_STATIC_TRACE_EVENT_HANDLERS=0",
+                "WEBRTC_POSIX",
+                "WEBRTC_LINUX"
+            ],
+            "deps": [
+                "//:webrtc_common",
+                "//api:array_view",
+                "//api/audio_codecs:audio_codecs_api",
+                "//common_audio:common_audio",
+                "//rtc_base:rtc_base_approved"
+            ],
+            "include_dirs": [
+                "//",
+                "/tmp/objdir/media/webrtc/trunk/webrtc/gn-output/gen/",
+                "//modules/audio_coding/codecs/cng/include/",
+                "//common_audio/resampler/include/",
+                "//common_audio/signal_processing/include/",
+                "//common_audio/vad/include/"
+            ],
+            "libs": [
+                "rt"
+            ],
+            "sources": [
+                "//modules/audio_coding/codecs/cng/audio_encoder_cng.cc",
+                "//modules/audio_coding/codecs/cng/audio_encoder_cng.h",
+                "//modules/audio_coding/codecs/cng/webrtc_cng.cc",
+                "//modules/audio_coding/codecs/cng/webrtc_cng.h"
+            ],
+            "type": "static_library"
+        },
+        "//modules/audio_coding:g711": {
+            "cflags": [
+                "-fno-strict-aliasing",
+                "--param=ssp-buffer-size=4",
+                "-fstack-protector",
+                "-Wno-builtin-macro-redefined",
+                "-D__DATE__=",
+                "-D__TIME__=",
+                "-D__TIMESTAMP__=",
+                "-funwind-tables",
+                "-fPIC",
+                "-pipe",
+                "-B../../../../../../gecko-dev/media/webrtc/trunk/webrtc/third_party/binutils/Linux_x64/Release/bin",
+                "-m32",
+                "-msse2",
+                "-mfpmath=sse",
+                "-mmmx",
+                "-pthread",
+                "-Wall",
+                "-Werror",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
+                "-Wno-missing-field-initializers",
+                "-Wno-unused-parameter",
+                "-O2",
+                "-fno-ident",
+                "-fdata-sections",
+                "-ffunction-sections",
+                "-fomit-frame-pointer",
+                "-g0",
+                "-fvisibility=hidden",
+                "-Wextra",
+                "-Wno-unused-parameter",
+                "-Wno-missing-field-initializers",
+                "-Wno-strict-overflow"
+            ],
+            "defines": [
+                "V8_DEPRECATION_WARNINGS",
+                "USE_NSS_CERTS=1",
+                "CHROMIUM_BUILD",
+                "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
+                "NDEBUG",
+                "NVALGRIND",
+                "DYNAMIC_ANNOTATIONS_ENABLED=0",
+                "WEBRTC_ENABLE_PROTOBUF=0",
+                "WEBRTC_RESTRICT_LOGGING",
+                "WEBRTC_MOZILLA_BUILD",
+                "WEBRTC_NON_STATIC_TRACE_EVENT_HANDLERS=0",
+                "WEBRTC_POSIX",
+                "WEBRTC_LINUX"
+            ],
+            "deps": [
+                "//:webrtc_common",
+                "//api/audio_codecs:audio_codecs_api",
+                "//modules/audio_coding:g711_c",
+                "//modules/audio_coding:legacy_encoded_audio_frame",
+                "//rtc_base:rtc_base_approved"
+            ],
+            "include_dirs": [
+                "//",
+                "/tmp/objdir/media/webrtc/trunk/webrtc/gn-output/gen/",
+                "//modules/audio_coding/codecs/g711/include/"
+            ],
+            "libs": [],
+            "sources": [
+                "//modules/audio_coding/codecs/g711/audio_decoder_pcm.cc",
+                "//modules/audio_coding/codecs/g711/audio_decoder_pcm.h",
+                "//modules/audio_coding/codecs/g711/audio_encoder_pcm.cc",
+                "//modules/audio_coding/codecs/g711/audio_encoder_pcm.h"
+            ],
+            "type": "static_library"
+        },
+        "//modules/audio_coding:g711_c": {
+            "cflags": [
+                "-fno-strict-aliasing",
+                "--param=ssp-buffer-size=4",
+                "-fstack-protector",
+                "-Wno-builtin-macro-redefined",
+                "-D__DATE__=",
+                "-D__TIME__=",
+                "-D__TIMESTAMP__=",
+                "-funwind-tables",
+                "-fPIC",
+                "-pipe",
+                "-B../../../../../../gecko-dev/media/webrtc/trunk/webrtc/third_party/binutils/Linux_x64/Release/bin",
+                "-m32",
+                "-msse2",
+                "-mfpmath=sse",
+                "-mmmx",
+                "-pthread",
+                "-Wall",
+                "-Werror",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
+                "-Wno-missing-field-initializers",
+                "-Wno-unused-parameter",
+                "-O2",
+                "-fno-ident",
+                "-fdata-sections",
+                "-ffunction-sections",
+                "-fomit-frame-pointer",
+                "-g0",
+                "-fvisibility=hidden",
+                "-Wextra",
+                "-Wno-unused-parameter",
+                "-Wno-missing-field-initializers",
+                "-Wno-strict-overflow"
+            ],
+            "defines": [
+                "V8_DEPRECATION_WARNINGS",
+                "USE_NSS_CERTS=1",
+                "CHROMIUM_BUILD",
+                "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
+                "NDEBUG",
+                "NVALGRIND",
+                "DYNAMIC_ANNOTATIONS_ENABLED=0",
+                "WEBRTC_ENABLE_PROTOBUF=0",
+                "WEBRTC_RESTRICT_LOGGING",
+                "WEBRTC_MOZILLA_BUILD",
+                "WEBRTC_NON_STATIC_TRACE_EVENT_HANDLERS=0",
+                "WEBRTC_POSIX",
+                "WEBRTC_LINUX"
+            ],
+            "deps": [
+                "//:webrtc_common"
+            ],
+            "include_dirs": [
+                "//",
+                "/tmp/objdir/media/webrtc/trunk/webrtc/gn-output/gen/"
+            ],
+            "libs": [],
+            "sources": [
+                "//modules/audio_coding/codecs/g711/g711.c",
+                "//modules/audio_coding/codecs/g711/g711.h",
+                "//modules/audio_coding/codecs/g711/g711_interface.c",
+                "//modules/audio_coding/codecs/g711/g711_interface.h"
+            ],
+            "type": "source_set"
+        },
+        "//modules/audio_coding:g722": {
+            "cflags": [
+                "-fno-strict-aliasing",
+                "--param=ssp-buffer-size=4",
+                "-fstack-protector",
+                "-Wno-builtin-macro-redefined",
+                "-D__DATE__=",
+                "-D__TIME__=",
+                "-D__TIMESTAMP__=",
+                "-funwind-tables",
+                "-fPIC",
+                "-pipe",
+                "-B../../../../../../gecko-dev/media/webrtc/trunk/webrtc/third_party/binutils/Linux_x64/Release/bin",
+                "-m32",
+                "-msse2",
+                "-mfpmath=sse",
+                "-mmmx",
+                "-pthread",
+                "-Wall",
+                "-Werror",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
+                "-Wno-missing-field-initializers",
+                "-Wno-unused-parameter",
+                "-O2",
+                "-fno-ident",
+                "-fdata-sections",
+                "-ffunction-sections",
+                "-fomit-frame-pointer",
+                "-g0",
+                "-fvisibility=hidden",
+                "-Wextra",
+                "-Wno-unused-parameter",
+                "-Wno-missing-field-initializers",
+                "-Wno-strict-overflow"
+            ],
+            "defines": [
+                "V8_DEPRECATION_WARNINGS",
+                "USE_NSS_CERTS=1",
+                "CHROMIUM_BUILD",
+                "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
+                "NDEBUG",
+                "NVALGRIND",
+                "DYNAMIC_ANNOTATIONS_ENABLED=0",
+                "WEBRTC_ENABLE_PROTOBUF=0",
+                "WEBRTC_RESTRICT_LOGGING",
+                "WEBRTC_MOZILLA_BUILD",
+                "WEBRTC_NON_STATIC_TRACE_EVENT_HANDLERS=0",
+                "WEBRTC_POSIX",
+                "WEBRTC_LINUX"
+            ],
+            "deps": [
+                "//:webrtc_common",
+                "//api/audio_codecs:audio_codecs_api",
+                "//api/audio_codecs/g722:audio_encoder_g722_config",
+                "//modules/audio_coding:g722_c",
+                "//modules/audio_coding:legacy_encoded_audio_frame",
+                "//rtc_base:rtc_base_approved"
+            ],
+            "include_dirs": [
+                "//",
+                "/tmp/objdir/media/webrtc/trunk/webrtc/gn-output/gen/",
+                "//modules/audio_coding/codecs/g722/include/"
+            ],
+            "libs": [],
+            "sources": [
+                "//modules/audio_coding/codecs/g722/audio_decoder_g722.cc",
+                "//modules/audio_coding/codecs/g722/audio_decoder_g722.h",
+                "//modules/audio_coding/codecs/g722/audio_encoder_g722.cc",
+                "//modules/audio_coding/codecs/g722/audio_encoder_g722.h"
+            ],
+            "type": "static_library"
+        },
+        "//modules/audio_coding:g722_c": {
+            "cflags": [
+                "-fno-strict-aliasing",
+                "--param=ssp-buffer-size=4",
+                "-fstack-protector",
+                "-Wno-builtin-macro-redefined",
+                "-D__DATE__=",
+                "-D__TIME__=",
+                "-D__TIMESTAMP__=",
+                "-funwind-tables",
+                "-fPIC",
+                "-pipe",
+                "-B../../../../../../gecko-dev/media/webrtc/trunk/webrtc/third_party/binutils/Linux_x64/Release/bin",
+                "-m32",
+                "-msse2",
+                "-mfpmath=sse",
+                "-mmmx",
+                "-pthread",
+                "-Wall",
+                "-Werror",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
+                "-Wno-missing-field-initializers",
+                "-Wno-unused-parameter",
+                "-O2",
+                "-fno-ident",
+                "-fdata-sections",
+                "-ffunction-sections",
+                "-fomit-frame-pointer",
+                "-g0",
+                "-fvisibility=hidden",
+                "-Wextra",
+                "-Wno-unused-parameter",
+                "-Wno-missing-field-initializers",
+                "-Wno-strict-overflow"
+            ],
+            "defines": [
+                "V8_DEPRECATION_WARNINGS",
+                "USE_NSS_CERTS=1",
+                "CHROMIUM_BUILD",
+                "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
+                "NDEBUG",
+                "NVALGRIND",
+                "DYNAMIC_ANNOTATIONS_ENABLED=0",
+                "WEBRTC_ENABLE_PROTOBUF=0",
+                "WEBRTC_RESTRICT_LOGGING",
+                "WEBRTC_MOZILLA_BUILD",
+                "WEBRTC_NON_STATIC_TRACE_EVENT_HANDLERS=0",
+                "WEBRTC_POSIX",
+                "WEBRTC_LINUX"
+            ],
+            "deps": [
+                "//:webrtc_common"
+            ],
+            "include_dirs": [
+                "//",
+                "/tmp/objdir/media/webrtc/trunk/webrtc/gn-output/gen/"
+            ],
+            "libs": [],
+            "sources": [
+                "//modules/audio_coding/codecs/g722/g722_decode.c",
+                "//modules/audio_coding/codecs/g722/g722_enc_dec.h",
+                "//modules/audio_coding/codecs/g722/g722_encode.c",
+                "//modules/audio_coding/codecs/g722/g722_interface.c",
+                "//modules/audio_coding/codecs/g722/g722_interface.h"
+            ],
+            "type": "source_set"
+        },
+        "//modules/audio_coding:ilbc": {
+            "cflags": [
+                "-fno-strict-aliasing",
+                "--param=ssp-buffer-size=4",
+                "-fstack-protector",
+                "-Wno-builtin-macro-redefined",
+                "-D__DATE__=",
+                "-D__TIME__=",
+                "-D__TIMESTAMP__=",
+                "-funwind-tables",
+                "-fPIC",
+                "-pipe",
+                "-B../../../../../../gecko-dev/media/webrtc/trunk/webrtc/third_party/binutils/Linux_x64/Release/bin",
+                "-m32",
+                "-msse2",
+                "-mfpmath=sse",
+                "-mmmx",
+                "-pthread",
+                "-Wall",
+                "-Werror",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
+                "-Wno-missing-field-initializers",
+                "-Wno-unused-parameter",
+                "-O2",
+                "-fno-ident",
+                "-fdata-sections",
+                "-ffunction-sections",
+                "-fomit-frame-pointer",
+                "-g0",
+                "-fvisibility=hidden",
+                "-Wextra",
+                "-Wno-unused-parameter",
+                "-Wno-missing-field-initializers",
+                "-Wno-strict-overflow"
+            ],
+            "defines": [
+                "V8_DEPRECATION_WARNINGS",
+                "USE_NSS_CERTS=1",
+                "CHROMIUM_BUILD",
+                "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
+                "NDEBUG",
+                "NVALGRIND",
+                "DYNAMIC_ANNOTATIONS_ENABLED=0",
+                "WEBRTC_ENABLE_PROTOBUF=0",
+                "WEBRTC_RESTRICT_LOGGING",
+                "WEBRTC_MOZILLA_BUILD",
+                "WEBRTC_NON_STATIC_TRACE_EVENT_HANDLERS=0",
+                "WEBRTC_POSIX",
+                "WEBRTC_LINUX"
+            ],
+            "deps": [
+                "//:webrtc_common",
+                "//api/audio_codecs:audio_codecs_api",
+                "//api/audio_codecs/ilbc:audio_encoder_ilbc_config",
+                "//common_audio:common_audio",
+                "//modules/audio_coding:ilbc_c",
+                "//modules/audio_coding:legacy_encoded_audio_frame",
+                "//rtc_base:rtc_base_approved"
+            ],
+            "include_dirs": [
+                "//",
+                "/tmp/objdir/media/webrtc/trunk/webrtc/gn-output/gen/",
+                "//modules/audio_coding/codecs/ilbc/include/",
+                "//common_audio/resampler/include/",
+                "//common_audio/signal_processing/include/",
+                "//common_audio/vad/include/"
+            ],
+            "libs": [
+                "rt"
+            ],
+            "sources": [
+                "//modules/audio_coding/codecs/ilbc/audio_decoder_ilbc.cc",
+                "//modules/audio_coding/codecs/ilbc/audio_decoder_ilbc.h",
+                "//modules/audio_coding/codecs/ilbc/audio_encoder_ilbc.cc",
+                "//modules/audio_coding/codecs/ilbc/audio_encoder_ilbc.h"
+            ],
+            "type": "static_library"
+        },
+        "//modules/audio_coding:ilbc_c": {
+            "cflags": [
+                "-fno-strict-aliasing",
+                "--param=ssp-buffer-size=4",
+                "-fstack-protector",
+                "-Wno-builtin-macro-redefined",
+                "-D__DATE__=",
+                "-D__TIME__=",
+                "-D__TIMESTAMP__=",
+                "-funwind-tables",
+                "-fPIC",
+                "-pipe",
+                "-B../../../../../../gecko-dev/media/webrtc/trunk/webrtc/third_party/binutils/Linux_x64/Release/bin",
+                "-m32",
+                "-msse2",
+                "-mfpmath=sse",
+                "-mmmx",
+                "-pthread",
+                "-Wall",
+                "-Werror",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
+                "-Wno-missing-field-initializers",
+                "-Wno-unused-parameter",
+                "-O2",
+                "-fno-ident",
+                "-fdata-sections",
+                "-ffunction-sections",
+                "-fomit-frame-pointer",
+                "-g0",
+                "-fvisibility=hidden",
+                "-Wextra",
+                "-Wno-unused-parameter",
+                "-Wno-missing-field-initializers",
+                "-Wno-strict-overflow"
+            ],
+            "defines": [
+                "V8_DEPRECATION_WARNINGS",
+                "USE_NSS_CERTS=1",
+                "CHROMIUM_BUILD",
+                "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
+                "NDEBUG",
+                "NVALGRIND",
+                "DYNAMIC_ANNOTATIONS_ENABLED=0",
+                "WEBRTC_ENABLE_PROTOBUF=0",
+                "WEBRTC_RESTRICT_LOGGING",
+                "WEBRTC_MOZILLA_BUILD",
+                "WEBRTC_NON_STATIC_TRACE_EVENT_HANDLERS=0",
+                "WEBRTC_POSIX",
+                "WEBRTC_LINUX"
+            ],
+            "deps": [
+                "//:webrtc_common",
+                "//api/audio_codecs:audio_codecs_api",
+                "//common_audio:common_audio",
+                "//rtc_base:rtc_base_approved"
+            ],
+            "include_dirs": [
+                "//",
+                "/tmp/objdir/media/webrtc/trunk/webrtc/gn-output/gen/",
+                "//modules/audio_coding/codecs/ilbc/include/",
+                "//common_audio/resampler/include/",
+                "//common_audio/signal_processing/include/",
+                "//common_audio/vad/include/"
+            ],
+            "libs": [
+                "rt"
+            ],
+            "sources": [
+                "//modules/audio_coding/codecs/ilbc/abs_quant.c",
+                "//modules/audio_coding/codecs/ilbc/abs_quant.h",
+                "//modules/audio_coding/codecs/ilbc/abs_quant_loop.c",
+                "//modules/audio_coding/codecs/ilbc/abs_quant_loop.h",
+                "//modules/audio_coding/codecs/ilbc/augmented_cb_corr.c",
+                "//modules/audio_coding/codecs/ilbc/augmented_cb_corr.h",
+                "//modules/audio_coding/codecs/ilbc/bw_expand.c",
+                "//modules/audio_coding/codecs/ilbc/bw_expand.h",
+                "//modules/audio_coding/codecs/ilbc/cb_construct.c",
+                "//modules/audio_coding/codecs/ilbc/cb_construct.h",
+                "//modules/audio_coding/codecs/ilbc/cb_mem_energy.c",
+                "//modules/audio_coding/codecs/ilbc/cb_mem_energy.h",
+                "//modules/audio_coding/codecs/ilbc/cb_mem_energy_augmentation.c",
+                "//modules/audio_coding/codecs/ilbc/cb_mem_energy_augmentation.h",
+                "//modules/audio_coding/codecs/ilbc/cb_mem_energy_calc.c",
+                "//modules/audio_coding/codecs/ilbc/cb_mem_energy_calc.h",
+                "//modules/audio_coding/codecs/ilbc/cb_search.c",
+                "//modules/audio_coding/codecs/ilbc/cb_search.h",
+                "//modules/audio_coding/codecs/ilbc/cb_search_core.c",
+                "//modules/audio_coding/codecs/ilbc/cb_search_core.h",
+                "//modules/audio_coding/codecs/ilbc/cb_update_best_index.c",
+                "//modules/audio_coding/codecs/ilbc/cb_update_best_index.h",
+                "//modules/audio_coding/codecs/ilbc/chebyshev.c",
+                "//modules/audio_coding/codecs/ilbc/chebyshev.h",
+                "//modules/audio_coding/codecs/ilbc/comp_corr.c",
+                "//modules/audio_coding/codecs/ilbc/comp_corr.h",
+                "//modules/audio_coding/codecs/ilbc/constants.c",
+                "//modules/audio_coding/codecs/ilbc/constants.h",
+                "//modules/audio_coding/codecs/ilbc/create_augmented_vec.c",
+                "//modules/audio_coding/codecs/ilbc/create_augmented_vec.h",
+                "//modules/audio_coding/codecs/ilbc/decode.c",
+                "//modules/audio_coding/codecs/ilbc/decode.h",
+                "//modules/audio_coding/codecs/ilbc/decode_residual.c",
+                "//modules/audio_coding/codecs/ilbc/decode_residual.h",
+                "//modules/audio_coding/codecs/ilbc/decoder_interpolate_lsf.c",
+                "//modules/audio_coding/codecs/ilbc/decoder_interpolate_lsf.h",
+                "//modules/audio_coding/codecs/ilbc/defines.h",
+                "//modules/audio_coding/codecs/ilbc/do_plc.c",
+                "//modules/audio_coding/codecs/ilbc/do_plc.h",
+                "//modules/audio_coding/codecs/ilbc/encode.c",
+                "//modules/audio_coding/codecs/ilbc/encode.h",
+                "//modules/audio_coding/codecs/ilbc/energy_inverse.c",
+                "//modules/audio_coding/codecs/ilbc/energy_inverse.h",
+                "//modules/audio_coding/codecs/ilbc/enh_upsample.c",
+                "//modules/audio_coding/codecs/ilbc/enh_upsample.h",
+                "//modules/audio_coding/codecs/ilbc/enhancer.c",
+                "//modules/audio_coding/codecs/ilbc/enhancer.h",
+                "//modules/audio_coding/codecs/ilbc/enhancer_interface.c",
+                "//modules/audio_coding/codecs/ilbc/enhancer_interface.h",
+                "//modules/audio_coding/codecs/ilbc/filtered_cb_vecs.c",
+                "//modules/audio_coding/codecs/ilbc/filtered_cb_vecs.h",
+                "//modules/audio_coding/codecs/ilbc/frame_classify.c",
+                "//modules/audio_coding/codecs/ilbc/frame_classify.h",
+                "//modules/audio_coding/codecs/ilbc/gain_dequant.c",
+                "//modules/audio_coding/codecs/ilbc/gain_dequant.h",
+                "//modules/audio_coding/codecs/ilbc/gain_quant.c",
+                "//modules/audio_coding/codecs/ilbc/gain_quant.h",
+                "//modules/audio_coding/codecs/ilbc/get_cd_vec.c",
+                "//modules/audio_coding/codecs/ilbc/get_cd_vec.h",
+                "//modules/audio_coding/codecs/ilbc/get_lsp_poly.c",
+                "//modules/audio_coding/codecs/ilbc/get_lsp_poly.h",
+                "//modules/audio_coding/codecs/ilbc/get_sync_seq.c",
+                "//modules/audio_coding/codecs/ilbc/get_sync_seq.h",
+                "//modules/audio_coding/codecs/ilbc/hp_input.c",
+                "//modules/audio_coding/codecs/ilbc/hp_input.h",
+                "//modules/audio_coding/codecs/ilbc/hp_output.c",
+                "//modules/audio_coding/codecs/ilbc/hp_output.h",
+                "//modules/audio_coding/codecs/ilbc/ilbc.c",
+                "//modules/audio_coding/codecs/ilbc/ilbc.h",
+                "//modules/audio_coding/codecs/ilbc/index_conv_dec.c",
+                "//modules/audio_coding/codecs/ilbc/index_conv_dec.h",
+                "//modules/audio_coding/codecs/ilbc/index_conv_enc.c",
+                "//modules/audio_coding/codecs/ilbc/index_conv_enc.h",
+                "//modules/audio_coding/codecs/ilbc/init_decode.c",
+                "//modules/audio_coding/codecs/ilbc/init_decode.h",
+                "//modules/audio_coding/codecs/ilbc/init_encode.c",
+                "//modules/audio_coding/codecs/ilbc/init_encode.h",
+                "//modules/audio_coding/codecs/ilbc/interpolate.c",
+                "//modules/audio_coding/codecs/ilbc/interpolate.h",
+                "//modules/audio_coding/codecs/ilbc/interpolate_samples.c",
+                "//modules/audio_coding/codecs/ilbc/interpolate_samples.h",
+                "//modules/audio_coding/codecs/ilbc/lpc_encode.c",
+                "//modules/audio_coding/codecs/ilbc/lpc_encode.h",
+                "//modules/audio_coding/codecs/ilbc/lsf_check.c",
+                "//modules/audio_coding/codecs/ilbc/lsf_check.h",
+                "//modules/audio_coding/codecs/ilbc/lsf_interpolate_to_poly_dec.c",
+                "//modules/audio_coding/codecs/ilbc/lsf_interpolate_to_poly_dec.h",
+                "//modules/audio_coding/codecs/ilbc/lsf_interpolate_to_poly_enc.c",
+                "//modules/audio_coding/codecs/ilbc/lsf_interpolate_to_poly_enc.h",
+                "//modules/audio_coding/codecs/ilbc/lsf_to_lsp.c",
+                "//modules/audio_coding/codecs/ilbc/lsf_to_lsp.h",
+                "//modules/audio_coding/codecs/ilbc/lsf_to_poly.c",
+                "//modules/audio_coding/codecs/ilbc/lsf_to_poly.h",
+                "//modules/audio_coding/codecs/ilbc/lsp_to_lsf.c",
+                "//modules/audio_coding/codecs/ilbc/lsp_to_lsf.h",
+                "//modules/audio_coding/codecs/ilbc/my_corr.c",
+                "//modules/audio_coding/codecs/ilbc/my_corr.h",
+                "//modules/audio_coding/codecs/ilbc/nearest_neighbor.c",
+                "//modules/audio_coding/codecs/ilbc/nearest_neighbor.h",
+                "//modules/audio_coding/codecs/ilbc/pack_bits.c",
+                "//modules/audio_coding/codecs/ilbc/pack_bits.h",
+                "//modules/audio_coding/codecs/ilbc/poly_to_lsf.c",
+                "//modules/audio_coding/codecs/ilbc/poly_to_lsf.h",
+                "//modules/audio_coding/codecs/ilbc/poly_to_lsp.c",
+                "//modules/audio_coding/codecs/ilbc/poly_to_lsp.h",
+                "//modules/audio_coding/codecs/ilbc/refiner.c",
+                "//modules/audio_coding/codecs/ilbc/refiner.h",
+                "//modules/audio_coding/codecs/ilbc/simple_interpolate_lsf.c",
+                "//modules/audio_coding/codecs/ilbc/simple_interpolate_lsf.h",
+                "//modules/audio_coding/codecs/ilbc/simple_lpc_analysis.c",
+                "//modules/audio_coding/codecs/ilbc/simple_lpc_analysis.h",
+                "//modules/audio_coding/codecs/ilbc/simple_lsf_dequant.c",
+                "//modules/audio_coding/codecs/ilbc/simple_lsf_dequant.h",
+                "//modules/audio_coding/codecs/ilbc/simple_lsf_quant.c",
+                "//modules/audio_coding/codecs/ilbc/simple_lsf_quant.h",
+                "//modules/audio_coding/codecs/ilbc/smooth.c",
+                "//modules/audio_coding/codecs/ilbc/smooth.h",
+                "//modules/audio_coding/codecs/ilbc/smooth_out_data.c",
+                "//modules/audio_coding/codecs/ilbc/smooth_out_data.h",
+                "//modules/audio_coding/codecs/ilbc/sort_sq.c",
+                "//modules/audio_coding/codecs/ilbc/sort_sq.h",
+                "//modules/audio_coding/codecs/ilbc/split_vq.c",
+                "//modules/audio_coding/codecs/ilbc/split_vq.h",
+                "//modules/audio_coding/codecs/ilbc/state_construct.c",
+                "//modules/audio_coding/codecs/ilbc/state_construct.h",
+                "//modules/audio_coding/codecs/ilbc/state_search.c",
+                "//modules/audio_coding/codecs/ilbc/state_search.h",
+                "//modules/audio_coding/codecs/ilbc/swap_bytes.c",
+                "//modules/audio_coding/codecs/ilbc/swap_bytes.h",
+                "//modules/audio_coding/codecs/ilbc/unpack_bits.c",
+                "//modules/audio_coding/codecs/ilbc/unpack_bits.h",
+                "//modules/audio_coding/codecs/ilbc/vq3.c",
+                "//modules/audio_coding/codecs/ilbc/vq3.h",
+                "//modules/audio_coding/codecs/ilbc/vq4.c",
+                "//modules/audio_coding/codecs/ilbc/vq4.h",
+                "//modules/audio_coding/codecs/ilbc/window32_w32.c",
+                "//modules/audio_coding/codecs/ilbc/window32_w32.h",
+                "//modules/audio_coding/codecs/ilbc/xcorr_coef.c",
+                "//modules/audio_coding/codecs/ilbc/xcorr_coef.h"
+            ],
+            "type": "source_set"
+        },
+        "//modules/audio_coding:isac": {
+            "cflags": [
+                "-fno-strict-aliasing",
+                "--param=ssp-buffer-size=4",
+                "-fstack-protector",
+                "-Wno-builtin-macro-redefined",
+                "-D__DATE__=",
+                "-D__TIME__=",
+                "-D__TIMESTAMP__=",
+                "-funwind-tables",
+                "-fPIC",
+                "-pipe",
+                "-B../../../../../../gecko-dev/media/webrtc/trunk/webrtc/third_party/binutils/Linux_x64/Release/bin",
+                "-m32",
+                "-msse2",
+                "-mfpmath=sse",
+                "-mmmx",
+                "-pthread",
+                "-Wall",
+                "-Werror",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
+                "-Wno-missing-field-initializers",
+                "-Wno-unused-parameter",
+                "-O2",
+                "-fno-ident",
+                "-fdata-sections",
+                "-ffunction-sections",
+                "-fomit-frame-pointer",
+                "-g0",
+                "-fvisibility=hidden",
+                "-Wextra",
+                "-Wno-unused-parameter",
+                "-Wno-missing-field-initializers",
+                "-Wno-strict-overflow"
+            ],
+            "defines": [
+                "V8_DEPRECATION_WARNINGS",
+                "USE_NSS_CERTS=1",
+                "CHROMIUM_BUILD",
+                "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
+                "NDEBUG",
+                "NVALGRIND",
+                "DYNAMIC_ANNOTATIONS_ENABLED=0",
+                "WEBRTC_ENABLE_PROTOBUF=0",
+                "WEBRTC_RESTRICT_LOGGING",
+                "WEBRTC_MOZILLA_BUILD",
+                "WEBRTC_NON_STATIC_TRACE_EVENT_HANDLERS=0",
+                "WEBRTC_POSIX",
+                "WEBRTC_LINUX"
+            ],
+            "deps": [
+                "//api/audio_codecs:audio_codecs_api",
+                "//modules/audio_coding:isac_c",
+                "//modules/audio_coding:isac_common"
+            ],
+            "include_dirs": [
+                "//",
+                "/tmp/objdir/media/webrtc/trunk/webrtc/gn-output/gen/",
+                "//modules/audio_coding/codecs/isac/main/include/"
+            ],
+            "libs": [
+                "m",
+                "rt"
+            ],
+            "sources": [
+                "//modules/audio_coding/codecs/isac/main/include/audio_decoder_isac.h",
+                "//modules/audio_coding/codecs/isac/main/include/audio_encoder_isac.h",
+                "//modules/audio_coding/codecs/isac/main/source/audio_decoder_isac.cc",
+                "//modules/audio_coding/codecs/isac/main/source/audio_encoder_isac.cc"
+            ],
+            "type": "static_library"
+        },
+        "//modules/audio_coding:isac_c": {
+            "cflags": [
+                "-fno-strict-aliasing",
+                "--param=ssp-buffer-size=4",
+                "-fstack-protector",
+                "-Wno-builtin-macro-redefined",
+                "-D__DATE__=",
+                "-D__TIME__=",
+                "-D__TIMESTAMP__=",
+                "-funwind-tables",
+                "-fPIC",
+                "-pipe",
+                "-B../../../../../../gecko-dev/media/webrtc/trunk/webrtc/third_party/binutils/Linux_x64/Release/bin",
+                "-m32",
+                "-msse2",
+                "-mfpmath=sse",
+                "-mmmx",
+                "-pthread",
+                "-Wall",
+                "-Werror",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
+                "-Wno-missing-field-initializers",
+                "-Wno-unused-parameter",
+                "-O2",
+                "-fno-ident",
+                "-fdata-sections",
+                "-ffunction-sections",
+                "-fomit-frame-pointer",
+                "-g0",
+                "-fvisibility=hidden",
+                "-Wextra",
+                "-Wno-unused-parameter",
+                "-Wno-missing-field-initializers",
+                "-Wno-strict-overflow"
+            ],
+            "defines": [
+                "V8_DEPRECATION_WARNINGS",
+                "USE_NSS_CERTS=1",
+                "CHROMIUM_BUILD",
+                "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
+                "NDEBUG",
+                "NVALGRIND",
+                "DYNAMIC_ANNOTATIONS_ENABLED=0",
+                "WEBRTC_ENABLE_PROTOBUF=0",
+                "WEBRTC_RESTRICT_LOGGING",
+                "WEBRTC_MOZILLA_BUILD",
+                "WEBRTC_NON_STATIC_TRACE_EVENT_HANDLERS=0",
+                "WEBRTC_POSIX",
+                "WEBRTC_LINUX"
+            ],
+            "deps": [
+                "//:webrtc_common",
+                "//common_audio:common_audio",
+                "//modules/audio_coding:isac_common",
+                "//rtc_base:compile_assert_c",
+                "//rtc_base:rtc_base_approved"
+            ],
+            "include_dirs": [
+                "//",
+                "/tmp/objdir/media/webrtc/trunk/webrtc/gn-output/gen/",
+                "//modules/audio_coding/codecs/isac/main/include/",
+                "//common_audio/resampler/include/",
+                "//common_audio/signal_processing/include/",
+                "//common_audio/vad/include/"
+            ],
+            "libs": [
+                "m",
+                "rt"
+            ],
+            "sources": [
+                "//modules/audio_coding/codecs/isac/main/include/isac.h",
+                "//modules/audio_coding/codecs/isac/main/source/arith_routines.c",
+                "//modules/audio_coding/codecs/isac/main/source/arith_routines.h",
+                "//modules/audio_coding/codecs/isac/main/source/arith_routines_hist.c",
+                "//modules/audio_coding/codecs/isac/main/source/arith_routines_logist.c",
+                "//modules/audio_coding/codecs/isac/main/source/bandwidth_estimator.c",
+                "//modules/audio_coding/codecs/isac/main/source/bandwidth_estimator.h",
+                "//modules/audio_coding/codecs/isac/main/source/codec.h",
+                "//modules/audio_coding/codecs/isac/main/source/crc.c",
+                "//modules/audio_coding/codecs/isac/main/source/crc.h",
+                "//modules/audio_coding/codecs/isac/main/source/decode.c",
+                "//modules/audio_coding/codecs/isac/main/source/decode_bwe.c",
+                "//modules/audio_coding/codecs/isac/main/source/encode.c",
+                "//modules/audio_coding/codecs/isac/main/source/encode_lpc_swb.c",
+                "//modules/audio_coding/codecs/isac/main/source/encode_lpc_swb.h",
+                "//modules/audio_coding/codecs/isac/main/source/entropy_coding.c",
+                "//modules/audio_coding/codecs/isac/main/source/entropy_coding.h",
+                "//modules/audio_coding/codecs/isac/main/source/fft.c",
+                "//modules/audio_coding/codecs/isac/main/source/fft.h",
+                "//modules/audio_coding/codecs/isac/main/source/filter_functions.c",
+                "//modules/audio_coding/codecs/isac/main/source/filterbank_tables.c",
+                "//modules/audio_coding/codecs/isac/main/source/filterbank_tables.h",
+                "//modules/audio_coding/codecs/isac/main/source/filterbanks.c",
+                "//modules/audio_coding/codecs/isac/main/source/intialize.c",
+                "//modules/audio_coding/codecs/isac/main/source/isac.c",
+                "//modules/audio_coding/codecs/isac/main/source/isac_float_type.h",
+                "//modules/audio_coding/codecs/isac/main/source/lattice.c",
+                "//modules/audio_coding/codecs/isac/main/source/lpc_analysis.c",
+                "//modules/audio_coding/codecs/isac/main/source/lpc_analysis.h",
+                "//modules/audio_coding/codecs/isac/main/source/lpc_gain_swb_tables.c",
+                "//modules/audio_coding/codecs/isac/main/source/lpc_gain_swb_tables.h",
+                "//modules/audio_coding/codecs/isac/main/source/lpc_shape_swb12_tables.c",
+                "//modules/audio_coding/codecs/isac/main/source/lpc_shape_swb12_tables.h",
+                "//modules/audio_coding/codecs/isac/main/source/lpc_shape_swb16_tables.c",
+                "//modules/audio_coding/codecs/isac/main/source/lpc_shape_swb16_tables.h",
+                "//modules/audio_coding/codecs/isac/main/source/lpc_tables.c",
+                "//modules/audio_coding/codecs/isac/main/source/lpc_tables.h",
+                "//modules/audio_coding/codecs/isac/main/source/os_specific_inline.h",
+                "//modules/audio_coding/codecs/isac/main/source/pitch_estimator.c",
+                "//modules/audio_coding/codecs/isac/main/source/pitch_estimator.h",
+                "//modules/audio_coding/codecs/isac/main/source/pitch_filter.c",
+                "//modules/audio_coding/codecs/isac/main/source/pitch_gain_tables.c",
+                "//modules/audio_coding/codecs/isac/main/source/pitch_gain_tables.h",
+                "//modules/audio_coding/codecs/isac/main/source/pitch_lag_tables.c",
+                "//modules/audio_coding/codecs/isac/main/source/pitch_lag_tables.h",
+                "//modules/audio_coding/codecs/isac/main/source/settings.h",
+                "//modules/audio_coding/codecs/isac/main/source/spectrum_ar_model_tables.c",
+                "//modules/audio_coding/codecs/isac/main/source/spectrum_ar_model_tables.h",
+                "//modules/audio_coding/codecs/isac/main/source/structs.h",
+                "//modules/audio_coding/codecs/isac/main/source/transform.c"
+            ],
+            "type": "static_library"
+        },
+        "//modules/audio_coding:isac_common": {
+            "cflags": [
+                "-fno-strict-aliasing",
+                "--param=ssp-buffer-size=4",
+                "-fstack-protector",
+                "-Wno-builtin-macro-redefined",
+                "-D__DATE__=",
+                "-D__TIME__=",
+                "-D__TIMESTAMP__=",
+                "-funwind-tables",
+                "-fPIC",
+                "-pipe",
+                "-B../../../../../../gecko-dev/media/webrtc/trunk/webrtc/third_party/binutils/Linux_x64/Release/bin",
+                "-m32",
+                "-msse2",
+                "-mfpmath=sse",
+                "-mmmx",
+                "-pthread",
+                "-Wall",
+                "-Werror",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
+                "-Wno-missing-field-initializers",
+                "-Wno-unused-parameter",
+                "-O2",
+                "-fno-ident",
+                "-fdata-sections",
+                "-ffunction-sections",
+                "-fomit-frame-pointer",
+                "-g0",
+                "-fvisibility=hidden",
+                "-Wextra",
+                "-Wno-unused-parameter",
+                "-Wno-missing-field-initializers",
+                "-Wno-strict-overflow"
+            ],
+            "defines": [
+                "V8_DEPRECATION_WARNINGS",
+                "USE_NSS_CERTS=1",
+                "CHROMIUM_BUILD",
+                "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
+                "NDEBUG",
+                "NVALGRIND",
+                "DYNAMIC_ANNOTATIONS_ENABLED=0",
+                "WEBRTC_ENABLE_PROTOBUF=0",
+                "WEBRTC_RESTRICT_LOGGING",
+                "WEBRTC_MOZILLA_BUILD",
+                "WEBRTC_NON_STATIC_TRACE_EVENT_HANDLERS=0",
+                "WEBRTC_POSIX",
+                "WEBRTC_LINUX"
+            ],
+            "deps": [
+                "//:webrtc_common",
+                "//api/audio_codecs:audio_codecs_api",
+                "//rtc_base:rtc_base_approved"
+            ],
+            "include_dirs": [
+                "//",
+                "/tmp/objdir/media/webrtc/trunk/webrtc/gn-output/gen/"
+            ],
+            "libs": [],
+            "sources": [
+                "//modules/audio_coding/codecs/isac/audio_encoder_isac_t.h",
+                "//modules/audio_coding/codecs/isac/audio_encoder_isac_t_impl.h",
+                "//modules/audio_coding/codecs/isac/locked_bandwidth_info.cc",
+                "//modules/audio_coding/codecs/isac/locked_bandwidth_info.h"
+            ],
+            "type": "static_library"
+        },
+        "//modules/audio_coding:isac_fix_c": {
+            "cflags": [
+                "-fno-strict-aliasing",
+                "--param=ssp-buffer-size=4",
+                "-fstack-protector",
+                "-Wno-builtin-macro-redefined",
+                "-D__DATE__=",
+                "-D__TIME__=",
+                "-D__TIMESTAMP__=",
+                "-funwind-tables",
+                "-fPIC",
+                "-pipe",
+                "-B../../../../../../gecko-dev/media/webrtc/trunk/webrtc/third_party/binutils/Linux_x64/Release/bin",
+                "-m32",
+                "-msse2",
+                "-mfpmath=sse",
+                "-mmmx",
+                "-pthread",
+                "-Wall",
+                "-Werror",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
+                "-Wno-missing-field-initializers",
+                "-Wno-unused-parameter",
+                "-O2",
+                "-fno-ident",
+                "-fdata-sections",
+                "-ffunction-sections",
+                "-fomit-frame-pointer",
+                "-g0",
+                "-fvisibility=hidden",
+                "-Wextra",
+                "-Wno-unused-parameter",
+                "-Wno-missing-field-initializers",
+                "-Wno-strict-overflow"
+            ],
+            "defines": [
+                "V8_DEPRECATION_WARNINGS",
+                "USE_NSS_CERTS=1",
+                "CHROMIUM_BUILD",
+                "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
+                "NDEBUG",
+                "NVALGRIND",
+                "DYNAMIC_ANNOTATIONS_ENABLED=0",
+                "WEBRTC_ENABLE_PROTOBUF=0",
+                "WEBRTC_RESTRICT_LOGGING",
+                "WEBRTC_MOZILLA_BUILD",
+                "WEBRTC_NON_STATIC_TRACE_EVENT_HANDLERS=0",
+                "WEBRTC_POSIX",
+                "WEBRTC_LINUX"
+            ],
+            "deps": [
+                "//:webrtc_common",
+                "//api/audio_codecs:audio_codecs_api",
+                "//common_audio:common_audio",
+                "//modules/audio_coding:isac_common",
+                "//modules/audio_coding:isac_fix_common",
+                "//rtc_base:compile_assert_c",
+                "//rtc_base:rtc_base_approved",
+                "//system_wrappers:system_wrappers"
+            ],
+            "include_dirs": [
+                "//",
+                "/tmp/objdir/media/webrtc/trunk/webrtc/gn-output/gen/",
+                "//modules/audio_coding/codecs/isac/fix/include/",
+                "//common_audio/resampler/include/",
+                "//common_audio/signal_processing/include/",
+                "//common_audio/vad/include/"
+            ],
+            "libs": [
+                "rt"
+            ],
+            "sources": [
+                "//modules/audio_coding/codecs/isac/fix/include/audio_decoder_isacfix.h",
+                "//modules/audio_coding/codecs/isac/fix/include/audio_encoder_isacfix.h",
+                "//modules/audio_coding/codecs/isac/fix/include/isacfix.h",
+                "//modules/audio_coding/codecs/isac/fix/source/arith_routines.c",
+                "//modules/audio_coding/codecs/isac/fix/source/arith_routines_hist.c",
+                "//modules/audio_coding/codecs/isac/fix/source/arith_routines_logist.c",
+                "//modules/audio_coding/codecs/isac/fix/source/arith_routins.h",
+                "//modules/audio_coding/codecs/isac/fix/source/bandwidth_estimator.c",
+                "//modules/audio_coding/codecs/isac/fix/source/bandwidth_estimator.h",
+                "//modules/audio_coding/codecs/isac/fix/source/decode.c",
+                "//modules/audio_coding/codecs/isac/fix/source/decode_bwe.c",
+                "//modules/audio_coding/codecs/isac/fix/source/decode_plc.c",
+                "//modules/audio_coding/codecs/isac/fix/source/encode.c",
+                "//modules/audio_coding/codecs/isac/fix/source/entropy_coding.c",
+                "//modules/audio_coding/codecs/isac/fix/source/entropy_coding.h",
+                "//modules/audio_coding/codecs/isac/fix/source/filterbank_tables.c",
+                "//modules/audio_coding/codecs/isac/fix/source/filterbank_tables.h",
+                "//modules/audio_coding/codecs/isac/fix/source/filterbanks.c",
+                "//modules/audio_coding/codecs/isac/fix/source/filters.c",
+                "//modules/audio_coding/codecs/isac/fix/source/initialize.c",
+                "//modules/audio_coding/codecs/isac/fix/source/isac_fix_type.h",
+                "//modules/audio_coding/codecs/isac/fix/source/isacfix.c",
+                "//modules/audio_coding/codecs/isac/fix/source/lattice.c",
+                "//modules/audio_coding/codecs/isac/fix/source/lattice_c.c",
+                "//modules/audio_coding/codecs/isac/fix/source/lpc_masking_model.c",
+                "//modules/audio_coding/codecs/isac/fix/source/lpc_masking_model.h",
+                "//modules/audio_coding/codecs/isac/fix/source/lpc_tables.c",
+                "//modules/audio_coding/codecs/isac/fix/source/lpc_tables.h",
+                "//modules/audio_coding/codecs/isac/fix/source/pitch_estimator.c",
+                "//modules/audio_coding/codecs/isac/fix/source/pitch_estimator.h",
+                "//modules/audio_coding/codecs/isac/fix/source/pitch_estimator_c.c",
+                "//modules/audio_coding/codecs/isac/fix/source/pitch_filter.c",
+                "//modules/audio_coding/codecs/isac/fix/source/pitch_filter_c.c",
+                "//modules/audio_coding/codecs/isac/fix/source/pitch_gain_tables.c",
+                "//modules/audio_coding/codecs/isac/fix/source/pitch_gain_tables.h",
+                "//modules/audio_coding/codecs/isac/fix/source/pitch_lag_tables.c",
+                "//modules/audio_coding/codecs/isac/fix/source/pitch_lag_tables.h",
+                "//modules/audio_coding/codecs/isac/fix/source/spectrum_ar_model_tables.c",
+                "//modules/audio_coding/codecs/isac/fix/source/spectrum_ar_model_tables.h",
+                "//modules/audio_coding/codecs/isac/fix/source/structs.h",
+                "//modules/audio_coding/codecs/isac/fix/source/transform.c",
+                "//modules/audio_coding/codecs/isac/fix/source/transform_tables.c"
+            ],
+            "type": "source_set"
+        },
+        "//modules/audio_coding:isac_fix_common": {
+            "cflags": [
+                "-fno-strict-aliasing",
+                "--param=ssp-buffer-size=4",
+                "-fstack-protector",
+                "-Wno-builtin-macro-redefined",
+                "-D__DATE__=",
+                "-D__TIME__=",
+                "-D__TIMESTAMP__=",
+                "-funwind-tables",
+                "-fPIC",
+                "-pipe",
+                "-B../../../../../../gecko-dev/media/webrtc/trunk/webrtc/third_party/binutils/Linux_x64/Release/bin",
+                "-m32",
+                "-msse2",
+                "-mfpmath=sse",
+                "-mmmx",
+                "-pthread",
+                "-Wall",
+                "-Werror",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
+                "-Wno-missing-field-initializers",
+                "-Wno-unused-parameter",
+                "-O2",
+                "-fno-ident",
+                "-fdata-sections",
+                "-ffunction-sections",
+                "-fomit-frame-pointer",
+                "-g0",
+                "-fvisibility=hidden",
+                "-Wextra",
+                "-Wno-unused-parameter",
+                "-Wno-missing-field-initializers",
+                "-Wno-strict-overflow"
+            ],
+            "defines": [
+                "V8_DEPRECATION_WARNINGS",
+                "USE_NSS_CERTS=1",
+                "CHROMIUM_BUILD",
+                "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
+                "NDEBUG",
+                "NVALGRIND",
+                "DYNAMIC_ANNOTATIONS_ENABLED=0",
+                "WEBRTC_ENABLE_PROTOBUF=0",
+                "WEBRTC_RESTRICT_LOGGING",
+                "WEBRTC_MOZILLA_BUILD",
+                "WEBRTC_NON_STATIC_TRACE_EVENT_HANDLERS=0",
+                "WEBRTC_POSIX",
+                "WEBRTC_LINUX"
+            ],
+            "deps": [],
+            "include_dirs": [
+                "//",
+                "/tmp/objdir/media/webrtc/trunk/webrtc/gn-output/gen/",
+                "//modules/audio_coding/codecs/isac/fix/include/"
+            ],
+            "libs": [],
+            "sources": [
+                "//modules/audio_coding/codecs/isac/fix/source/codec.h",
+                "//modules/audio_coding/codecs/isac/fix/source/fft.c",
+                "//modules/audio_coding/codecs/isac/fix/source/fft.h",
+                "//modules/audio_coding/codecs/isac/fix/source/settings.h"
+            ],
+            "type": "source_set"
+        },
+        "//modules/audio_coding:legacy_encoded_audio_frame": {
+            "cflags": [
+                "-fno-strict-aliasing",
+                "--param=ssp-buffer-size=4",
+                "-fstack-protector",
+                "-Wno-builtin-macro-redefined",
+                "-D__DATE__=",
+                "-D__TIME__=",
+                "-D__TIMESTAMP__=",
+                "-funwind-tables",
+                "-fPIC",
+                "-pipe",
+                "-B../../../../../../gecko-dev/media/webrtc/trunk/webrtc/third_party/binutils/Linux_x64/Release/bin",
+                "-m32",
+                "-msse2",
+                "-mfpmath=sse",
+                "-mmmx",
+                "-pthread",
+                "-Wall",
+                "-Werror",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
+                "-Wno-missing-field-initializers",
+                "-Wno-unused-parameter",
+                "-O2",
+                "-fno-ident",
+                "-fdata-sections",
+                "-ffunction-sections",
+                "-fomit-frame-pointer",
+                "-g0",
+                "-fvisibility=hidden",
+                "-Wextra",
+                "-Wno-unused-parameter",
+                "-Wno-missing-field-initializers",
+                "-Wno-strict-overflow"
+            ],
+            "defines": [
+                "V8_DEPRECATION_WARNINGS",
+                "USE_NSS_CERTS=1",
+                "CHROMIUM_BUILD",
+                "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
+                "NDEBUG",
+                "NVALGRIND",
+                "DYNAMIC_ANNOTATIONS_ENABLED=0",
+                "WEBRTC_ENABLE_PROTOBUF=0",
+                "WEBRTC_RESTRICT_LOGGING",
+                "WEBRTC_MOZILLA_BUILD",
+                "WEBRTC_NON_STATIC_TRACE_EVENT_HANDLERS=0",
+                "WEBRTC_POSIX",
+                "WEBRTC_LINUX"
+            ],
+            "deps": [
+                "//api:array_view",
+                "//api/audio_codecs:audio_codecs_api",
+                "//rtc_base:rtc_base_approved"
+            ],
+            "include_dirs": [
+                "//",
+                "/tmp/objdir/media/webrtc/trunk/webrtc/gn-output/gen/"
+            ],
+            "libs": [],
+            "sources": [
+                "//modules/audio_coding/codecs/legacy_encoded_audio_frame.cc",
+                "//modules/audio_coding/codecs/legacy_encoded_audio_frame.h"
+            ],
+            "type": "static_library"
+        },
+        "//modules/audio_coding:neteq": {
+            "cflags": [
+                "-fno-strict-aliasing",
+                "--param=ssp-buffer-size=4",
+                "-fstack-protector",
+                "-Wno-builtin-macro-redefined",
+                "-D__DATE__=",
+                "-D__TIME__=",
+                "-D__TIMESTAMP__=",
+                "-funwind-tables",
+                "-fPIC",
+                "-pipe",
+                "-B../../../../../../gecko-dev/media/webrtc/trunk/webrtc/third_party/binutils/Linux_x64/Release/bin",
+                "-m32",
+                "-msse2",
+                "-mfpmath=sse",
+                "-mmmx",
+                "-pthread",
+                "-Wall",
+                "-Werror",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
+                "-Wno-missing-field-initializers",
+                "-Wno-unused-parameter",
+                "-O2",
+                "-fno-ident",
+                "-fdata-sections",
+                "-ffunction-sections",
+                "-fomit-frame-pointer",
+                "-g0",
+                "-fvisibility=hidden",
+                "-Wextra",
+                "-Wno-unused-parameter",
+                "-Wno-missing-field-initializers",
+                "-Wno-strict-overflow"
+            ],
+            "defines": [
+                "V8_DEPRECATION_WARNINGS",
+                "USE_NSS_CERTS=1",
+                "CHROMIUM_BUILD",
+                "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
+                "NDEBUG",
+                "NVALGRIND",
+                "DYNAMIC_ANNOTATIONS_ENABLED=0",
+                "WEBRTC_ENABLE_PROTOBUF=0",
+                "WEBRTC_RESTRICT_LOGGING",
+                "WEBRTC_MOZILLA_BUILD",
+                "WEBRTC_NON_STATIC_TRACE_EVENT_HANDLERS=0",
+                "WEBRTC_POSIX",
+                "WEBRTC_LINUX"
+            ],
+            "deps": [
+                "//:webrtc_common",
+                "//api:optional",
+                "//api/audio_codecs:audio_codecs_api",
+                "//common_audio:common_audio",
+                "//modules:module_api",
+                "//modules/audio_coding:audio_coding_module_typedefs",
+                "//modules/audio_coding:cng",
+                "//modules/audio_coding:neteq_decoder_enum",
+                "//rtc_base:gtest_prod",
+                "//rtc_base:rtc_base_approved",
+                "//system_wrappers:system_wrappers"
+            ],
+            "include_dirs": [
+                "//",
+                "/tmp/objdir/media/webrtc/trunk/webrtc/gn-output/gen/",
+                "//modules/audio_coding/codecs/cng/include/",
+                "//common_audio/resampler/include/",
+                "//common_audio/signal_processing/include/",
+                "//common_audio/vad/include/"
+            ],
+            "libs": [
+                "rt"
+            ],
+            "sources": [
+                "//modules/audio_coding/neteq/accelerate.cc",
+                "//modules/audio_coding/neteq/accelerate.h",
+                "//modules/audio_coding/neteq/audio_multi_vector.cc",
+                "//modules/audio_coding/neteq/audio_multi_vector.h",
+                "//modules/audio_coding/neteq/audio_vector.cc",
+                "//modules/audio_coding/neteq/audio_vector.h",
+                "//modules/audio_coding/neteq/background_noise.cc",
+                "//modules/audio_coding/neteq/background_noise.h",
+                "//modules/audio_coding/neteq/buffer_level_filter.cc",
+                "//modules/audio_coding/neteq/buffer_level_filter.h",
+                "//modules/audio_coding/neteq/comfort_noise.cc",
+                "//modules/audio_coding/neteq/comfort_noise.h",
+                "//modules/audio_coding/neteq/cross_correlation.cc",
+                "//modules/audio_coding/neteq/cross_correlation.h",
+                "//modules/audio_coding/neteq/decision_logic.cc",
+                "//modules/audio_coding/neteq/decision_logic.h",
+                "//modules/audio_coding/neteq/decision_logic_fax.cc",
+                "//modules/audio_coding/neteq/decision_logic_fax.h",
+                "//modules/audio_coding/neteq/decision_logic_normal.cc",
+                "//modules/audio_coding/neteq/decision_logic_normal.h",
+                "//modules/audio_coding/neteq/decoder_database.cc",
+                "//modules/audio_coding/neteq/decoder_database.h",
+                "//modules/audio_coding/neteq/defines.h",
+                "//modules/audio_coding/neteq/delay_manager.cc",
+                "//modules/audio_coding/neteq/delay_manager.h",
+                "//modules/audio_coding/neteq/delay_peak_detector.cc",
+                "//modules/audio_coding/neteq/delay_peak_detector.h",
+                "//modules/audio_coding/neteq/dsp_helper.cc",
+                "//modules/audio_coding/neteq/dsp_helper.h",
+                "//modules/audio_coding/neteq/dtmf_buffer.cc",
+                "//modules/audio_coding/neteq/dtmf_buffer.h",
+                "//modules/audio_coding/neteq/dtmf_tone_generator.cc",
+                "//modules/audio_coding/neteq/dtmf_tone_generator.h",
+                "//modules/audio_coding/neteq/expand.cc",
+                "//modules/audio_coding/neteq/expand.h",
+                "//modules/audio_coding/neteq/include/neteq.h",
+                "//modules/audio_coding/neteq/merge.cc",
+                "//modules/audio_coding/neteq/merge.h",
+                "//modules/audio_coding/neteq/nack_tracker.cc",
+                "//modules/audio_coding/neteq/nack_tracker.h",
+                "//modules/audio_coding/neteq/neteq.cc",
+                "//modules/audio_coding/neteq/neteq_impl.cc",
+                "//modules/audio_coding/neteq/neteq_impl.h",
+                "//modules/audio_coding/neteq/normal.cc",
+                "//modules/audio_coding/neteq/normal.h",
+                "//modules/audio_coding/neteq/packet.cc",
+                "//modules/audio_coding/neteq/packet.h",
+                "//modules/audio_coding/neteq/packet_buffer.cc",
+                "//modules/audio_coding/neteq/packet_buffer.h",
+                "//modules/audio_coding/neteq/post_decode_vad.cc",
+                "//modules/audio_coding/neteq/post_decode_vad.h",
+                "//modules/audio_coding/neteq/preemptive_expand.cc",
+                "//modules/audio_coding/neteq/preemptive_expand.h",
+                "//modules/audio_coding/neteq/random_vector.cc",
+                "//modules/audio_coding/neteq/random_vector.h",
+                "//modules/audio_coding/neteq/red_payload_splitter.cc",
+                "//modules/audio_coding/neteq/red_payload_splitter.h",
+                "//modules/audio_coding/neteq/rtcp.cc",
+                "//modules/audio_coding/neteq/rtcp.h",
+                "//modules/audio_coding/neteq/statistics_calculator.cc",
+                "//modules/audio_coding/neteq/statistics_calculator.h",
+                "//modules/audio_coding/neteq/sync_buffer.cc",
+                "//modules/audio_coding/neteq/sync_buffer.h",
+                "//modules/audio_coding/neteq/tick_timer.cc",
+                "//modules/audio_coding/neteq/tick_timer.h",
+                "//modules/audio_coding/neteq/time_stretch.cc",
+                "//modules/audio_coding/neteq/time_stretch.h",
+                "//modules/audio_coding/neteq/timestamp_scaler.cc",
+                "//modules/audio_coding/neteq/timestamp_scaler.h"
+            ],
+            "type": "static_library"
+        },
+        "//modules/audio_coding:neteq_decoder_enum": {
+            "cflags": [
+                "-fno-strict-aliasing",
+                "--param=ssp-buffer-size=4",
+                "-fstack-protector",
+                "-Wno-builtin-macro-redefined",
+                "-D__DATE__=",
+                "-D__TIME__=",
+                "-D__TIMESTAMP__=",
+                "-funwind-tables",
+                "-fPIC",
+                "-pipe",
+                "-B../../../../../../gecko-dev/media/webrtc/trunk/webrtc/third_party/binutils/Linux_x64/Release/bin",
+                "-m32",
+                "-msse2",
+                "-mfpmath=sse",
+                "-mmmx",
+                "-pthread",
+                "-Wall",
+                "-Werror",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
+                "-Wno-missing-field-initializers",
+                "-Wno-unused-parameter",
+                "-O2",
+                "-fno-ident",
+                "-fdata-sections",
+                "-ffunction-sections",
+                "-fomit-frame-pointer",
+                "-g0",
+                "-fvisibility=hidden",
+                "-Wextra",
+                "-Wno-unused-parameter",
+                "-Wno-missing-field-initializers",
+                "-Wno-strict-overflow"
+            ],
+            "defines": [
+                "V8_DEPRECATION_WARNINGS",
+                "USE_NSS_CERTS=1",
+                "CHROMIUM_BUILD",
+                "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
+                "NDEBUG",
+                "NVALGRIND",
+                "DYNAMIC_ANNOTATIONS_ENABLED=0",
+                "WEBRTC_ENABLE_PROTOBUF=0",
+                "WEBRTC_RESTRICT_LOGGING",
+                "WEBRTC_MOZILLA_BUILD",
+                "WEBRTC_NON_STATIC_TRACE_EVENT_HANDLERS=0",
+                "WEBRTC_POSIX",
+                "WEBRTC_LINUX"
+            ],
+            "deps": [
+                "//api:optional",
+                "//api/audio_codecs:audio_codecs_api",
+                "//rtc_base:rtc_base_approved"
+            ],
+            "include_dirs": [
+                "//",
+                "/tmp/objdir/media/webrtc/trunk/webrtc/gn-output/gen/"
+            ],
+            "libs": [],
+            "sources": [
+                "//modules/audio_coding/neteq/neteq_decoder_enum.cc",
+                "//modules/audio_coding/neteq/neteq_decoder_enum.h"
+            ],
+            "type": "source_set"
+        },
+        "//modules/audio_coding:pcm16b": {
+            "cflags": [
+                "-fno-strict-aliasing",
+                "--param=ssp-buffer-size=4",
+                "-fstack-protector",
+                "-Wno-builtin-macro-redefined",
+                "-D__DATE__=",
+                "-D__TIME__=",
+                "-D__TIMESTAMP__=",
+                "-funwind-tables",
+                "-fPIC",
+                "-pipe",
+                "-B../../../../../../gecko-dev/media/webrtc/trunk/webrtc/third_party/binutils/Linux_x64/Release/bin",
+                "-m32",
+                "-msse2",
+                "-mfpmath=sse",
+                "-mmmx",
+                "-pthread",
+                "-Wall",
+                "-Werror",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
+                "-Wno-missing-field-initializers",
+                "-Wno-unused-parameter",
+                "-O2",
+                "-fno-ident",
+                "-fdata-sections",
+                "-ffunction-sections",
+                "-fomit-frame-pointer",
+                "-g0",
+                "-fvisibility=hidden",
+                "-Wextra",
+                "-Wno-unused-parameter",
+                "-Wno-missing-field-initializers",
+                "-Wno-strict-overflow"
+            ],
+            "defines": [
+                "V8_DEPRECATION_WARNINGS",
+                "USE_NSS_CERTS=1",
+                "CHROMIUM_BUILD",
+                "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
+                "NDEBUG",
+                "NVALGRIND",
+                "DYNAMIC_ANNOTATIONS_ENABLED=0",
+                "WEBRTC_ENABLE_PROTOBUF=0",
+                "WEBRTC_RESTRICT_LOGGING",
+                "WEBRTC_MOZILLA_BUILD",
+                "WEBRTC_NON_STATIC_TRACE_EVENT_HANDLERS=0",
+                "WEBRTC_POSIX",
+                "WEBRTC_LINUX"
+            ],
+            "deps": [
+                "//:webrtc_common",
+                "//api/audio_codecs:audio_codecs_api",
+                "//modules/audio_coding:g711",
+                "//modules/audio_coding:legacy_encoded_audio_frame",
+                "//modules/audio_coding:pcm16b_c",
+                "//rtc_base:rtc_base_approved"
+            ],
+            "include_dirs": [
+                "//",
+                "/tmp/objdir/media/webrtc/trunk/webrtc/gn-output/gen/",
+                "//modules/audio_coding/codecs/pcm16b/include/",
+                "//modules/audio_coding/codecs/g711/include/"
+            ],
+            "libs": [],
+            "sources": [
+                "//modules/audio_coding/codecs/pcm16b/audio_decoder_pcm16b.cc",
+                "//modules/audio_coding/codecs/pcm16b/audio_decoder_pcm16b.h",
+                "//modules/audio_coding/codecs/pcm16b/audio_encoder_pcm16b.cc",
+                "//modules/audio_coding/codecs/pcm16b/audio_encoder_pcm16b.h",
+                "//modules/audio_coding/codecs/pcm16b/pcm16b_common.cc",
+                "//modules/audio_coding/codecs/pcm16b/pcm16b_common.h"
+            ],
+            "type": "static_library"
+        },
+        "//modules/audio_coding:pcm16b_c": {
+            "cflags": [
+                "-fno-strict-aliasing",
+                "--param=ssp-buffer-size=4",
+                "-fstack-protector",
+                "-Wno-builtin-macro-redefined",
+                "-D__DATE__=",
+                "-D__TIME__=",
+                "-D__TIMESTAMP__=",
+                "-funwind-tables",
+                "-fPIC",
+                "-pipe",
+                "-B../../../../../../gecko-dev/media/webrtc/trunk/webrtc/third_party/binutils/Linux_x64/Release/bin",
+                "-m32",
+                "-msse2",
+                "-mfpmath=sse",
+                "-mmmx",
+                "-pthread",
+                "-Wall",
+                "-Werror",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
+                "-Wno-missing-field-initializers",
+                "-Wno-unused-parameter",
+                "-O2",
+                "-fno-ident",
+                "-fdata-sections",
+                "-ffunction-sections",
+                "-fomit-frame-pointer",
+                "-g0",
+                "-fvisibility=hidden",
+                "-Wextra",
+                "-Wno-unused-parameter",
+                "-Wno-missing-field-initializers",
+                "-Wno-strict-overflow"
+            ],
+            "defines": [
+                "V8_DEPRECATION_WARNINGS",
+                "USE_NSS_CERTS=1",
+                "CHROMIUM_BUILD",
+                "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
+                "NDEBUG",
+                "NVALGRIND",
+                "DYNAMIC_ANNOTATIONS_ENABLED=0",
+                "WEBRTC_ENABLE_PROTOBUF=0",
+                "WEBRTC_RESTRICT_LOGGING",
+                "WEBRTC_MOZILLA_BUILD",
+                "WEBRTC_NON_STATIC_TRACE_EVENT_HANDLERS=0",
+                "WEBRTC_POSIX",
+                "WEBRTC_LINUX"
+            ],
+            "deps": [
+                "//:webrtc_common"
+            ],
+            "include_dirs": [
+                "//",
+                "/tmp/objdir/media/webrtc/trunk/webrtc/gn-output/gen/",
+                "//modules/audio_coding/codecs/pcm16b/include/"
+            ],
+            "libs": [],
+            "sources": [
+                "//modules/audio_coding/codecs/pcm16b/pcm16b.c",
+                "//modules/audio_coding/codecs/pcm16b/pcm16b.h"
+            ],
+            "type": "source_set"
+        },
+        "//modules/audio_coding:rent_a_codec": {
+            "cflags": [
+                "-fno-strict-aliasing",
+                "--param=ssp-buffer-size=4",
+                "-fstack-protector",
+                "-Wno-builtin-macro-redefined",
+                "-D__DATE__=",
+                "-D__TIME__=",
+                "-D__TIMESTAMP__=",
+                "-funwind-tables",
+                "-fPIC",
+                "-pipe",
+                "-B../../../../../../gecko-dev/media/webrtc/trunk/webrtc/third_party/binutils/Linux_x64/Release/bin",
+                "-m32",
+                "-msse2",
+                "-mfpmath=sse",
+                "-mmmx",
+                "-pthread",
+                "-Wall",
+                "-Werror",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
+                "-Wno-missing-field-initializers",
+                "-Wno-unused-parameter",
+                "-O2",
+                "-fno-ident",
+                "-fdata-sections",
+                "-ffunction-sections",
+                "-fomit-frame-pointer",
+                "-g0",
+                "-fvisibility=hidden",
+                "-Wextra",
+                "-Wno-unused-parameter",
+                "-Wno-missing-field-initializers",
+                "-Wno-strict-overflow"
+            ],
+            "defines": [
+                "WEBRTC_CODEC_ILBC",
+                "WEBRTC_CODEC_OPUS",
+                "WEBRTC_OPUS_SUPPORT_120MS_PTIME=1",
+                "WEBRTC_CODEC_ISAC",
+                "V8_DEPRECATION_WARNINGS",
+                "USE_NSS_CERTS=1",
+                "CHROMIUM_BUILD",
+                "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
+                "NDEBUG",
+                "NVALGRIND",
+                "DYNAMIC_ANNOTATIONS_ENABLED=0",
+                "WEBRTC_ENABLE_PROTOBUF=0",
+                "WEBRTC_RESTRICT_LOGGING",
+                "WEBRTC_MOZILLA_BUILD",
+                "WEBRTC_NON_STATIC_TRACE_EVENT_HANDLERS=0",
+                "WEBRTC_POSIX",
+                "WEBRTC_LINUX"
+            ],
+            "deps": [
+                "//:webrtc_common",
+                "//api:array_view",
+                "//api:optional",
+                "//api/audio_codecs:audio_codecs_api",
+                "//modules/audio_coding:audio_coding_module_typedefs",
+                "//modules/audio_coding:cng",
+                "//modules/audio_coding:g711",
+                "//modules/audio_coding:g722",
+                "//modules/audio_coding:ilbc",
+                "//modules/audio_coding:isac",
+                "//modules/audio_coding:isac_common",
+                "//modules/audio_coding:isac_fix_c",
+                "//modules/audio_coding:neteq_decoder_enum",
+                "//modules/audio_coding:pcm16b",
+                "//modules/audio_coding:webrtc_opus",
+                "//rtc_base:protobuf_utils",
+                "//rtc_base:rtc_base_approved",
+                "//system_wrappers:system_wrappers"
+            ],
+            "include_dirs": [
+                "/media/libopus/include/",
+                "//",
+                "/tmp/objdir/media/webrtc/trunk/webrtc/gn-output/gen/",
+                "//modules/audio_coding/codecs/isac/fix/include/",
+                "//modules/audio_coding/codecs/cng/include/",
+                "//modules/audio_coding/codecs/g711/include/",
+                "//modules/audio_coding/codecs/pcm16b/include/",
+                "//modules/audio_coding/codecs/ilbc/include/",
+                "//modules/audio_coding/codecs/isac/main/include/",
+                "//modules/audio_coding/codecs/g722/include/"
+            ],
+            "libs": [
+                "rt",
+                "m"
+            ],
+            "sources": [
+                "//modules/audio_coding/acm2/acm_codec_database.cc",
+                "//modules/audio_coding/acm2/acm_codec_database.h",
+                "//modules/audio_coding/acm2/rent_a_codec.cc",
+                "//modules/audio_coding/acm2/rent_a_codec.h"
+            ],
+            "type": "static_library"
+        },
+        "//modules/audio_coding:webrtc_opus": {
+            "cflags": [
+                "-fno-strict-aliasing",
+                "--param=ssp-buffer-size=4",
+                "-fstack-protector",
+                "-Wno-builtin-macro-redefined",
+                "-D__DATE__=",
+                "-D__TIME__=",
+                "-D__TIMESTAMP__=",
+                "-funwind-tables",
+                "-fPIC",
+                "-pipe",
+                "-B../../../../../../gecko-dev/media/webrtc/trunk/webrtc/third_party/binutils/Linux_x64/Release/bin",
+                "-m32",
+                "-msse2",
+                "-mfpmath=sse",
+                "-mmmx",
+                "-pthread",
+                "-Wall",
+                "-Werror",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
+                "-Wno-missing-field-initializers",
+                "-Wno-unused-parameter",
+                "-O2",
+                "-fno-ident",
+                "-fdata-sections",
+                "-ffunction-sections",
+                "-fomit-frame-pointer",
+                "-g0",
+                "-fvisibility=hidden",
+                "-Wextra",
+                "-Wno-unused-parameter",
+                "-Wno-missing-field-initializers",
+                "-Wno-strict-overflow"
+            ],
+            "defines": [
+                "WEBRTC_CODEC_ILBC",
+                "WEBRTC_CODEC_OPUS",
+                "WEBRTC_OPUS_SUPPORT_120MS_PTIME=1",
+                "WEBRTC_CODEC_ISAC",
+                "V8_DEPRECATION_WARNINGS",
+                "USE_NSS_CERTS=1",
+                "CHROMIUM_BUILD",
+                "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
+                "NDEBUG",
+                "NVALGRIND",
+                "DYNAMIC_ANNOTATIONS_ENABLED=0",
+                "WEBRTC_ENABLE_PROTOBUF=0",
+                "WEBRTC_RESTRICT_LOGGING",
+                "WEBRTC_MOZILLA_BUILD",
+                "WEBRTC_NON_STATIC_TRACE_EVENT_HANDLERS=0",
+                "WEBRTC_POSIX",
+                "WEBRTC_LINUX"
+            ],
+            "deps": [
+                "//:webrtc_common",
+                "//api:optional",
+                "//api/audio_codecs:audio_codecs_api",
+                "//api/audio_codecs/opus:audio_encoder_opus_config",
+                "//common_audio:common_audio",
+                "//modules/audio_coding:audio_network_adaptor",
+                "//modules/audio_coding:webrtc_opus_c",
+                "//rtc_base:protobuf_utils",
+                "//rtc_base:rtc_base_approved",
+                "//rtc_base:rtc_numerics",
+                "//system_wrappers:system_wrappers"
+            ],
+            "include_dirs": [
+                "/media/libopus/include/",
+                "//",
+                "/tmp/objdir/media/webrtc/trunk/webrtc/gn-output/gen/",
+                "//common_audio/resampler/include/",
+                "//common_audio/signal_processing/include/",
+                "//common_audio/vad/include/"
+            ],
+            "libs": [
+                "rt"
+            ],
+            "sources": [
+                "//modules/audio_coding/codecs/opus/audio_decoder_opus.cc",
+                "//modules/audio_coding/codecs/opus/audio_decoder_opus.h",
+                "//modules/audio_coding/codecs/opus/audio_encoder_opus.cc",
+                "//modules/audio_coding/codecs/opus/audio_encoder_opus.h"
+            ],
+            "type": "static_library"
+        },
+        "//modules/audio_coding:webrtc_opus_c": {
+            "cflags": [
+                "-fno-strict-aliasing",
+                "--param=ssp-buffer-size=4",
+                "-fstack-protector",
+                "-Wno-builtin-macro-redefined",
+                "-D__DATE__=",
+                "-D__TIME__=",
+                "-D__TIMESTAMP__=",
+                "-funwind-tables",
+                "-fPIC",
+                "-pipe",
+                "-B../../../../../../gecko-dev/media/webrtc/trunk/webrtc/third_party/binutils/Linux_x64/Release/bin",
+                "-m32",
+                "-msse2",
+                "-mfpmath=sse",
+                "-mmmx",
+                "-pthread",
+                "-Wall",
+                "-Werror",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
+                "-Wno-missing-field-initializers",
+                "-Wno-unused-parameter",
+                "-O2",
+                "-fno-ident",
+                "-fdata-sections",
+                "-ffunction-sections",
+                "-fomit-frame-pointer",
+                "-g0",
+                "-fvisibility=hidden",
+                "-Wextra",
+                "-Wno-unused-parameter",
+                "-Wno-missing-field-initializers",
+                "-Wno-strict-overflow"
+            ],
+            "defines": [
+                "WEBRTC_CODEC_ILBC",
+                "WEBRTC_CODEC_OPUS",
+                "WEBRTC_OPUS_SUPPORT_120MS_PTIME=1",
+                "WEBRTC_CODEC_ISAC",
+                "V8_DEPRECATION_WARNINGS",
+                "USE_NSS_CERTS=1",
+                "CHROMIUM_BUILD",
+                "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
+                "NDEBUG",
+                "NVALGRIND",
+                "DYNAMIC_ANNOTATIONS_ENABLED=0",
+                "WEBRTC_ENABLE_PROTOBUF=0",
+                "WEBRTC_RESTRICT_LOGGING",
+                "WEBRTC_MOZILLA_BUILD",
+                "WEBRTC_NON_STATIC_TRACE_EVENT_HANDLERS=0",
+                "WEBRTC_POSIX",
+                "WEBRTC_LINUX"
+            ],
+            "deps": [
+                "//:webrtc_common",
+                "//rtc_base:rtc_base_approved"
+            ],
+            "include_dirs": [
+                "/media/libopus/include/",
+                "//",
+                "/tmp/objdir/media/webrtc/trunk/webrtc/gn-output/gen/"
+            ],
+            "libs": [],
+            "sources": [
+                "//modules/audio_coding/codecs/opus/opus_inst.h",
+                "//modules/audio_coding/codecs/opus/opus_interface.c",
+                "//modules/audio_coding/codecs/opus/opus_interface.h"
+            ],
+            "type": "source_set"
+        },
+        "//modules/audio_device:audio_device": {
+            "cflags": [
+                "-fno-strict-aliasing",
+                "--param=ssp-buffer-size=4",
+                "-fstack-protector",
+                "-Wno-builtin-macro-redefined",
+                "-D__DATE__=",
+                "-D__TIME__=",
+                "-D__TIMESTAMP__=",
+                "-funwind-tables",
+                "-fPIC",
+                "-pipe",
+                "-B../../../../../../gecko-dev/media/webrtc/trunk/webrtc/third_party/binutils/Linux_x64/Release/bin",
+                "-m32",
+                "-msse2",
+                "-mfpmath=sse",
+                "-mmmx",
+                "-pthread",
+                "-Wall",
+                "-Werror",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
+                "-Wno-missing-field-initializers",
+                "-Wno-unused-parameter",
+                "-O2",
+                "-fno-ident",
+                "-fdata-sections",
+                "-ffunction-sections",
+                "-fomit-frame-pointer",
+                "-g0",
+                "-fvisibility=hidden",
+                "-Wextra",
+                "-Wno-unused-parameter",
+                "-Wno-missing-field-initializers",
+                "-Wno-strict-overflow"
+            ],
+            "defines": [
+                "V8_DEPRECATION_WARNINGS",
+                "USE_NSS_CERTS=1",
+                "CHROMIUM_BUILD",
+                "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
+                "NDEBUG",
+                "NVALGRIND",
+                "DYNAMIC_ANNOTATIONS_ENABLED=0",
+                "WEBRTC_ENABLE_PROTOBUF=0",
+                "WEBRTC_RESTRICT_LOGGING",
+                "WEBRTC_MOZILLA_BUILD",
+                "WEBRTC_NON_STATIC_TRACE_EVENT_HANDLERS=0",
+                "WEBRTC_POSIX",
+                "WEBRTC_LINUX"
+            ],
+            "deps": [
+                "//modules/audio_device:audio_device_generic"
+            ],
+            "include_dirs": [
+                "//",
+                "/tmp/objdir/media/webrtc/trunk/webrtc/gn-output/gen/",
+                "//modules/include/",
+                "//modules/audio_device/include/",
+                "//modules/audio_device/dummy/"
+            ],
+            "libs": [
+                "rt"
+            ],
+            "sources": [],
+            "type": "source_set"
+        },
+        "//modules/audio_device:audio_device_generic": {
+            "cflags": [
+                "-fno-strict-aliasing",
+                "--param=ssp-buffer-size=4",
+                "-fstack-protector",
+                "-Wno-builtin-macro-redefined",
+                "-D__DATE__=",
+                "-D__TIME__=",
+                "-D__TIMESTAMP__=",
+                "-funwind-tables",
+                "-fPIC",
+                "-pipe",
+                "-B../../../../../../gecko-dev/media/webrtc/trunk/webrtc/third_party/binutils/Linux_x64/Release/bin",
+                "-m32",
+                "-msse2",
+                "-mfpmath=sse",
+                "-mmmx",
+                "-pthread",
+                "-Wall",
+                "-Werror",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
+                "-Wno-missing-field-initializers",
+                "-Wno-unused-parameter",
+                "-O2",
+                "-fno-ident",
+                "-fdata-sections",
+                "-ffunction-sections",
+                "-fomit-frame-pointer",
+                "-g0",
+                "-fvisibility=hidden",
+                "-Wextra",
+                "-Wno-unused-parameter",
+                "-Wno-missing-field-initializers",
+                "-Wno-strict-overflow"
+            ],
+            "defines": [
+                "WEBRTC_DUMMY_AUDIO_BUILD",
+                "V8_DEPRECATION_WARNINGS",
+                "USE_NSS_CERTS=1",
+                "CHROMIUM_BUILD",
+                "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
+                "NDEBUG",
+                "NVALGRIND",
+                "DYNAMIC_ANNOTATIONS_ENABLED=0",
+                "WEBRTC_ENABLE_PROTOBUF=0",
+                "WEBRTC_RESTRICT_LOGGING",
+                "WEBRTC_MOZILLA_BUILD",
+                "WEBRTC_NON_STATIC_TRACE_EVENT_HANDLERS=0",
+                "WEBRTC_POSIX",
+                "WEBRTC_LINUX"
+            ],
+            "deps": [
+                "//:webrtc_common",
+                "//api:array_view",
+                "//common_audio:common_audio",
+                "//modules:module_api",
+                "//modules/utility:utility",
+                "//rtc_base:rtc_base_approved",
+                "//rtc_base:rtc_task_queue",
+                "//system_wrappers:system_wrappers"
+            ],
+            "include_dirs": [
+                "//modules/audio_device/linux/",
+                "//",
+                "/tmp/objdir/media/webrtc/trunk/webrtc/gn-output/gen/",
+                "//modules/include/",
+                "//modules/audio_device/include/",
+                "//modules/audio_device/dummy/",
+                "//common_audio/resampler/include/",
+                "//common_audio/signal_processing/include/",
+                "//common_audio/vad/include/"
+            ],
+            "libs": [
+                "rt"
+            ],
+            "sources": [
+                "//modules/audio_device/audio_device_buffer.cc",
+                "//modules/audio_device/audio_device_buffer.h",
+                "//modules/audio_device/audio_device_config.h",
+                "//modules/audio_device/audio_device_generic.cc",
+                "//modules/audio_device/audio_device_generic.h",
+                "//modules/audio_device/dummy/audio_device_dummy.cc",
+                "//modules/audio_device/dummy/audio_device_dummy.h",
+                "//modules/audio_device/dummy/file_audio_device.cc",
+                "//modules/audio_device/dummy/file_audio_device.h",
+                "//modules/audio_device/fine_audio_buffer.cc",
+                "//modules/audio_device/fine_audio_buffer.h",
+                "//modules/audio_device/include/audio_device.h",
+                "//modules/audio_device/include/audio_device_defines.h",
+                "//modules/audio_device/dummy/file_audio_device_factory.cc",
+                "//modules/audio_device/dummy/file_audio_device_factory.h"
+            ],
+            "type": "source_set"
+        },
+        "//modules/audio_mixer:audio_frame_manipulator": {
+            "cflags": [
+                "-fno-strict-aliasing",
+                "--param=ssp-buffer-size=4",
+                "-fstack-protector",
+                "-Wno-builtin-macro-redefined",
+                "-D__DATE__=",
+                "-D__TIME__=",
+                "-D__TIMESTAMP__=",
+                "-funwind-tables",
+                "-fPIC",
+                "-pipe",
+                "-B../../../../../../gecko-dev/media/webrtc/trunk/webrtc/third_party/binutils/Linux_x64/Release/bin",
+                "-m32",
+                "-msse2",
+                "-mfpmath=sse",
+                "-mmmx",
+                "-pthread",
+                "-Wall",
+                "-Werror",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
+                "-Wno-missing-field-initializers",
+                "-Wno-unused-parameter",
+                "-O2",
+                "-fno-ident",
+                "-fdata-sections",
+                "-ffunction-sections",
+                "-fomit-frame-pointer",
+                "-g0",
+                "-fvisibility=hidden",
+                "-Wextra",
+                "-Wno-unused-parameter",
+                "-Wno-missing-field-initializers",
+                "-Wno-strict-overflow"
+            ],
+            "defines": [
+                "V8_DEPRECATION_WARNINGS",
+                "USE_NSS_CERTS=1",
+                "CHROMIUM_BUILD",
+                "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
+                "NDEBUG",
+                "NVALGRIND",
+                "DYNAMIC_ANNOTATIONS_ENABLED=0",
+                "WEBRTC_ENABLE_PROTOBUF=0",
+                "WEBRTC_RESTRICT_LOGGING",
+                "WEBRTC_MOZILLA_BUILD",
+                "WEBRTC_NON_STATIC_TRACE_EVENT_HANDLERS=0",
+                "WEBRTC_POSIX",
+                "WEBRTC_LINUX"
+            ],
+            "deps": [
+                "//audio/utility:utility",
+                "//modules:module_api",
+                "//rtc_base:rtc_base_approved"
+            ],
+            "include_dirs": [
+                "//",
+                "/tmp/objdir/media/webrtc/trunk/webrtc/gn-output/gen/"
+            ],
+            "libs": [
+                "rt"
+            ],
+            "sources": [
+                "//modules/audio_mixer/audio_frame_manipulator.cc",
+                "//modules/audio_mixer/audio_frame_manipulator.h"
+            ],
+            "type": "static_library"
+        },
+        "//modules/audio_mixer:audio_mixer_impl": {
+            "cflags": [
+                "-fno-strict-aliasing",
+                "--param=ssp-buffer-size=4",
+                "-fstack-protector",
+                "-Wno-builtin-macro-redefined",
+                "-D__DATE__=",
+                "-D__TIME__=",
+                "-D__TIMESTAMP__=",
+                "-funwind-tables",
+                "-fPIC",
+                "-pipe",
+                "-B../../../../../../gecko-dev/media/webrtc/trunk/webrtc/third_party/binutils/Linux_x64/Release/bin",
+                "-m32",
+                "-msse2",
+                "-mfpmath=sse",
+                "-mmmx",
+                "-pthread",
+                "-Wall",
+                "-Werror",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
+                "-Wno-missing-field-initializers",
+                "-Wno-unused-parameter",
+                "-O2",
+                "-fno-ident",
+                "-fdata-sections",
+                "-ffunction-sections",
+                "-fomit-frame-pointer",
+                "-g0",
+                "-fvisibility=hidden",
+                "-Wextra",
+                "-Wno-unused-parameter",
+                "-Wno-missing-field-initializers",
+                "-Wno-strict-overflow"
+            ],
+            "defines": [
+                "V8_DEPRECATION_WARNINGS",
+                "USE_NSS_CERTS=1",
+                "CHROMIUM_BUILD",
+                "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
+                "NDEBUG",
+                "NVALGRIND",
+                "DYNAMIC_ANNOTATIONS_ENABLED=0",
+                "WEBRTC_ENABLE_PROTOBUF=0",
+                "WEBRTC_RESTRICT_LOGGING",
+                "WEBRTC_MOZILLA_BUILD",
+                "WEBRTC_NON_STATIC_TRACE_EVENT_HANDLERS=0",
+                "WEBRTC_POSIX",
+                "WEBRTC_LINUX"
+            ],
+            "deps": [
+                "//:webrtc_common",
+                "//api:array_view",
+                "//api:audio_mixer_api",
+                "//audio/utility:audio_frame_operations",
+                "//modules:module_api",
+                "//modules/audio_mixer:audio_frame_manipulator",
+                "//modules/audio_processing:audio_processing",
+                "//rtc_base:rtc_base_approved",
+                "//system_wrappers:system_wrappers"
+            ],
+            "include_dirs": [
+                "//",
+                "/tmp/objdir/media/webrtc/trunk/webrtc/gn-output/gen/"
+            ],
+            "libs": [
+                "rt",
+                "m"
+            ],
+            "sources": [
+                "//modules/audio_mixer/audio_mixer_impl.cc",
+                "//modules/audio_mixer/audio_mixer_impl.h",
+                "//modules/audio_mixer/default_output_rate_calculator.cc",
+                "//modules/audio_mixer/default_output_rate_calculator.h",
+                "//modules/audio_mixer/frame_combiner.cc",
+                "//modules/audio_mixer/frame_combiner.h",
+                "//modules/audio_mixer/output_rate_calculator.h"
+            ],
+            "type": "static_library"
+        },
+        "//modules/audio_processing/aec_dump:aec_dump": {
+            "cflags": [
+                "-fno-strict-aliasing",
+                "--param=ssp-buffer-size=4",
+                "-fstack-protector",
+                "-Wno-builtin-macro-redefined",
+                "-D__DATE__=",
+                "-D__TIME__=",
+                "-D__TIMESTAMP__=",
+                "-funwind-tables",
+                "-fPIC",
+                "-pipe",
+                "-B../../../../../../gecko-dev/media/webrtc/trunk/webrtc/third_party/binutils/Linux_x64/Release/bin",
+                "-m32",
+                "-msse2",
+                "-mfpmath=sse",
+                "-mmmx",
+                "-pthread",
+                "-Wall",
+                "-Werror",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
+                "-Wno-missing-field-initializers",
+                "-Wno-unused-parameter",
+                "-O2",
+                "-fno-ident",
+                "-fdata-sections",
+                "-ffunction-sections",
+                "-fomit-frame-pointer",
+                "-g0",
+                "-fvisibility=hidden",
+                "-Wextra",
+                "-Wno-unused-parameter",
+                "-Wno-missing-field-initializers",
+                "-Wno-strict-overflow"
+            ],
+            "defines": [
+                "V8_DEPRECATION_WARNINGS",
+                "USE_NSS_CERTS=1",
+                "CHROMIUM_BUILD",
+                "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
+                "NDEBUG",
+                "NVALGRIND",
+                "DYNAMIC_ANNOTATIONS_ENABLED=0",
+                "WEBRTC_ENABLE_PROTOBUF=0",
+                "WEBRTC_RESTRICT_LOGGING",
+                "WEBRTC_MOZILLA_BUILD",
+                "WEBRTC_NON_STATIC_TRACE_EVENT_HANDLERS=0",
+                "WEBRTC_POSIX",
+                "WEBRTC_LINUX"
+            ],
+            "deps": [
+                "//modules/audio_processing:aec_dump_interface",
+                "//rtc_base:rtc_base_approved"
+            ],
+            "include_dirs": [
+                "//",
+                "/tmp/objdir/media/webrtc/trunk/webrtc/gn-output/gen/"
+            ],
+            "libs": [],
+            "sources": [
+                "//modules/audio_processing/aec_dump/aec_dump_factory.h"
+            ],
+            "type": "source_set"
+        },
+        "//modules/audio_processing/aec_dump:null_aec_dump_factory": {
+            "cflags": [
+                "-fno-strict-aliasing",
+                "--param=ssp-buffer-size=4",
+                "-fstack-protector",
+                "-Wno-builtin-macro-redefined",
+                "-D__DATE__=",
+                "-D__TIME__=",
+                "-D__TIMESTAMP__=",
+                "-funwind-tables",
+                "-fPIC",
+                "-pipe",
+                "-B../../../../../../gecko-dev/media/webrtc/trunk/webrtc/third_party/binutils/Linux_x64/Release/bin",
+                "-m32",
+                "-msse2",
+                "-mfpmath=sse",
+                "-mmmx",
+                "-pthread",
+                "-Wall",
+                "-Werror",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
+                "-Wno-missing-field-initializers",
+                "-Wno-unused-parameter",
+                "-O2",
+                "-fno-ident",
+                "-fdata-sections",
+                "-ffunction-sections",
+                "-fomit-frame-pointer",
+                "-g0",
+                "-fvisibility=hidden",
+                "-Wextra",
+                "-Wno-unused-parameter",
+                "-Wno-missing-field-initializers",
+                "-Wno-strict-overflow"
+            ],
+            "defines": [
+                "V8_DEPRECATION_WARNINGS",
+                "USE_NSS_CERTS=1",
+                "CHROMIUM_BUILD",
+                "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
+                "NDEBUG",
+                "NVALGRIND",
+                "DYNAMIC_ANNOTATIONS_ENABLED=0",
+                "WEBRTC_ENABLE_PROTOBUF=0",
+                "WEBRTC_RESTRICT_LOGGING",
+                "WEBRTC_MOZILLA_BUILD",
+                "WEBRTC_NON_STATIC_TRACE_EVENT_HANDLERS=0",
+                "WEBRTC_POSIX",
+                "WEBRTC_LINUX"
+            ],
+            "deps": [
+                "//modules/audio_processing:aec_dump_interface",
+                "//modules/audio_processing/aec_dump:aec_dump"
+            ],
+            "include_dirs": [
+                "//",
+                "/tmp/objdir/media/webrtc/trunk/webrtc/gn-output/gen/"
+            ],
+            "libs": [],
+            "sources": [
+                "//modules/audio_processing/aec_dump/null_aec_dump_factory.cc"
+            ],
+            "type": "source_set"
+        },
+        "//modules/audio_processing:aec_dump_interface": {
+            "cflags": [
+                "-fno-strict-aliasing",
+                "--param=ssp-buffer-size=4",
+                "-fstack-protector",
+                "-Wno-builtin-macro-redefined",
+                "-D__DATE__=",
+                "-D__TIME__=",
+                "-D__TIMESTAMP__=",
+                "-funwind-tables",
+                "-fPIC",
+                "-pipe",
+                "-B../../../../../../gecko-dev/media/webrtc/trunk/webrtc/third_party/binutils/Linux_x64/Release/bin",
+                "-m32",
+                "-msse2",
+                "-mfpmath=sse",
+                "-mmmx",
+                "-pthread",
+                "-Wall",
+                "-Werror",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
+                "-Wno-missing-field-initializers",
+                "-Wno-unused-parameter",
+                "-O2",
+                "-fno-ident",
+                "-fdata-sections",
+                "-ffunction-sections",
+                "-fomit-frame-pointer",
+                "-g0",
+                "-fvisibility=hidden",
+                "-Wextra",
+                "-Wno-unused-parameter",
+                "-Wno-missing-field-initializers",
+                "-Wno-strict-overflow"
+            ],
+            "defines": [
+                "V8_DEPRECATION_WARNINGS",
+                "USE_NSS_CERTS=1",
+                "CHROMIUM_BUILD",
+                "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
+                "NDEBUG",
+                "NVALGRIND",
+                "DYNAMIC_ANNOTATIONS_ENABLED=0",
+                "WEBRTC_ENABLE_PROTOBUF=0",
+                "WEBRTC_RESTRICT_LOGGING",
+                "WEBRTC_MOZILLA_BUILD",
+                "WEBRTC_NON_STATIC_TRACE_EVENT_HANDLERS=0",
+                "WEBRTC_POSIX",
+                "WEBRTC_LINUX"
+            ],
+            "deps": [
+                "//api:array_view",
+                "//rtc_base:rtc_base_approved"
+            ],
+            "include_dirs": [
+                "//",
+                "/tmp/objdir/media/webrtc/trunk/webrtc/gn-output/gen/"
+            ],
+            "libs": [],
+            "sources": [
+                "//modules/audio_processing/include/aec_dump.cc",
+                "//modules/audio_processing/include/aec_dump.h"
+            ],
+            "type": "source_set"
+        },
+        "//modules/audio_processing:audio_processing": {
+            "cflags": [
+                "-fno-strict-aliasing",
+                "--param=ssp-buffer-size=4",
+                "-fstack-protector",
+                "-Wno-builtin-macro-redefined",
+                "-D__DATE__=",
+                "-D__TIME__=",
+                "-D__TIMESTAMP__=",
+                "-funwind-tables",
+                "-fPIC",
+                "-pipe",
+                "-B../../../../../../gecko-dev/media/webrtc/trunk/webrtc/third_party/binutils/Linux_x64/Release/bin",
+                "-m32",
+                "-msse2",
+                "-mfpmath=sse",
+                "-mmmx",
+                "-pthread",
+                "-Wall",
+                "-Werror",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
+                "-Wno-missing-field-initializers",
+                "-Wno-unused-parameter",
+                "-O2",
+                "-fno-ident",
+                "-fdata-sections",
+                "-ffunction-sections",
+                "-fomit-frame-pointer",
+                "-g0",
+                "-fvisibility=hidden",
+                "-Wextra",
+                "-Wno-unused-parameter",
+                "-Wno-missing-field-initializers",
+                "-Wno-strict-overflow"
+            ],
+            "defines": [
+                "WEBRTC_APM_DEBUG_DUMP=1",
+                "WEBRTC_INTELLIGIBILITY_ENHANCER=0",
+                "WEBRTC_NS_FLOAT",
+                "V8_DEPRECATION_WARNINGS",
+                "USE_NSS_CERTS=1",
+                "CHROMIUM_BUILD",
+                "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
+                "NDEBUG",
+                "NVALGRIND",
+                "DYNAMIC_ANNOTATIONS_ENABLED=0",
+                "WEBRTC_ENABLE_PROTOBUF=0",
+                "WEBRTC_RESTRICT_LOGGING",
+                "WEBRTC_MOZILLA_BUILD",
+                "WEBRTC_NON_STATIC_TRACE_EVENT_HANDLERS=0",
+                "WEBRTC_POSIX",
+                "WEBRTC_LINUX"
+            ],
+            "deps": [
+                "//:webrtc_common",
+                "//api:array_view",
+                "//api:optional",
+                "//audio/utility:audio_frame_operations",
+                "//common_audio:common_audio",
+                "//common_audio:fir_filter",
+                "//common_audio:fir_filter_factory",
+                "//modules:module_api",
+                "//modules/audio_coding:isac",
+                "//modules/audio_processing:aec_dump_interface",
+                "//modules/audio_processing:audio_processing_c",
+                "//modules/audio_processing:audio_processing_sse2",
+                "//modules/audio_processing:audio_processing_statistics",
+                "//rtc_base:gtest_prod",
+                "//rtc_base:protobuf_utils",
+                "//rtc_base:rtc_base_approved",
+                "//system_wrappers:field_trial_api",
+                "//system_wrappers:system_wrappers"
+            ],
+            "include_dirs": [
+                "//",
+                "/tmp/objdir/media/webrtc/trunk/webrtc/gn-output/gen/",
+                "//modules/audio_coding/codecs/isac/main/include/",
+                "//common_audio/resampler/include/",
+                "//common_audio/signal_processing/include/",
+                "//common_audio/vad/include/"
+            ],
+            "libs": [
+                "rt",
+                "m"
+            ],
+            "sources": [
+                "//modules/audio_processing/aec/aec_core.cc",
+                "//modules/audio_processing/aec/aec_core.h",
+                "//modules/audio_processing/aec/aec_core_optimized_methods.h",
+                "//modules/audio_processing/aec/aec_resampler.cc",
+                "//modules/audio_processing/aec/aec_resampler.h",
+                "//modules/audio_processing/aec/echo_cancellation.cc",
+                "//modules/audio_processing/aec/echo_cancellation.h",
+                "//modules/audio_processing/aec3/adaptive_fir_filter.cc",
+                "//modules/audio_processing/aec3/adaptive_fir_filter.h",
+                "//modules/audio_processing/aec3/aec3_common.cc",
+                "//modules/audio_processing/aec3/aec3_common.h",
+                "//modules/audio_processing/aec3/aec3_fft.cc",
+                "//modules/audio_processing/aec3/aec3_fft.h",
+                "//modules/audio_processing/aec3/aec_state.cc",
+                "//modules/audio_processing/aec3/aec_state.h",
+                "//modules/audio_processing/aec3/block_framer.cc",
+                "//modules/audio_processing/aec3/block_framer.h",
+                "//modules/audio_processing/aec3/block_processor.cc",
+                "//modules/audio_processing/aec3/block_processor.h",
+                "//modules/audio_processing/aec3/block_processor_metrics.cc",
+                "//modules/audio_processing/aec3/block_processor_metrics.h",
+                "//modules/audio_processing/aec3/cascaded_biquad_filter.cc",
+                "//modules/audio_processing/aec3/cascaded_biquad_filter.h",
+                "//modules/audio_processing/aec3/comfort_noise_generator.cc",
+                "//modules/audio_processing/aec3/comfort_noise_generator.h",
+                "//modules/audio_processing/aec3/decimator.cc",
+                "//modules/audio_processing/aec3/decimator.h",
+                "//modules/audio_processing/aec3/downsampled_render_buffer.cc",
+                "//modules/audio_processing/aec3/downsampled_render_buffer.h",
+                "//modules/audio_processing/aec3/echo_canceller3.cc",
+                "//modules/audio_processing/aec3/echo_canceller3.h",
+                "//modules/audio_processing/aec3/echo_path_delay_estimator.cc",
+                "//modules/audio_processing/aec3/echo_path_delay_estimator.h",
+                "//modules/audio_processing/aec3/echo_path_variability.cc",
+                "//modules/audio_processing/aec3/echo_path_variability.h",
+                "//modules/audio_processing/aec3/echo_remover.cc",
+                "//modules/audio_processing/aec3/echo_remover.h",
+                "//modules/audio_processing/aec3/echo_remover_metrics.cc",
+                "//modules/audio_processing/aec3/echo_remover_metrics.h",
+                "//modules/audio_processing/aec3/erl_estimator.cc",
+                "//modules/audio_processing/aec3/erl_estimator.h",
+                "//modules/audio_processing/aec3/erle_estimator.cc",
+                "//modules/audio_processing/aec3/erle_estimator.h",
+                "//modules/audio_processing/aec3/fft_data.h",
+                "//modules/audio_processing/aec3/frame_blocker.cc",
+                "//modules/audio_processing/aec3/frame_blocker.h",
+                "//modules/audio_processing/aec3/main_filter_update_gain.cc",
+                "//modules/audio_processing/aec3/main_filter_update_gain.h",
+                "//modules/audio_processing/aec3/matched_filter.cc",
+                "//modules/audio_processing/aec3/matched_filter.h",
+                "//modules/audio_processing/aec3/matched_filter_lag_aggregator.cc",
+                "//modules/audio_processing/aec3/matched_filter_lag_aggregator.h",
+                "//modules/audio_processing/aec3/output_selector.cc",
+                "//modules/audio_processing/aec3/output_selector.h",
+                "//modules/audio_processing/aec3/render_buffer.cc",
+                "//modules/audio_processing/aec3/render_buffer.h",
+                "//modules/audio_processing/aec3/render_delay_buffer.cc",
+                "//modules/audio_processing/aec3/render_delay_buffer.h",
+                "//modules/audio_processing/aec3/render_delay_controller.cc",
+                "//modules/audio_processing/aec3/render_delay_controller.h",
+                "//modules/audio_processing/aec3/render_delay_controller_metrics.cc",
+                "//modules/audio_processing/aec3/render_delay_controller_metrics.h",
+                "//modules/audio_processing/aec3/render_signal_analyzer.cc",
+                "//modules/audio_processing/aec3/render_signal_analyzer.h",
+                "//modules/audio_processing/aec3/residual_echo_estimator.cc",
+                "//modules/audio_processing/aec3/residual_echo_estimator.h",
+                "//modules/audio_processing/aec3/shadow_filter_update_gain.cc",
+                "//modules/audio_processing/aec3/shadow_filter_update_gain.h",
+                "//modules/audio_processing/aec3/subtractor.cc",
+                "//modules/audio_processing/aec3/subtractor.h",
+                "//modules/audio_processing/aec3/subtractor_output.h",
+                "//modules/audio_processing/aec3/suppression_filter.cc",
+                "//modules/audio_processing/aec3/suppression_filter.h",
+                "//modules/audio_processing/aec3/suppression_gain.cc",
+                "//modules/audio_processing/aec3/suppression_gain.h",
+                "//modules/audio_processing/aec3/vector_math.h",
+                "//modules/audio_processing/aecm/aecm_core.cc",
+                "//modules/audio_processing/aecm/aecm_core.h",
+                "//modules/audio_processing/aecm/echo_control_mobile.cc",
+                "//modules/audio_processing/aecm/echo_control_mobile.h",
+                "//modules/audio_processing/agc/agc.cc",
+                "//modules/audio_processing/agc/agc.h",
+                "//modules/audio_processing/agc/agc_manager_direct.cc",
+                "//modules/audio_processing/agc/agc_manager_direct.h",
+                "//modules/audio_processing/agc/gain_map_internal.h",
+                "//modules/audio_processing/agc/loudness_histogram.cc",
+                "//modules/audio_processing/agc/loudness_histogram.h",
+                "//modules/audio_processing/agc/utility.cc",
+                "//modules/audio_processing/agc/utility.h",
+                "//modules/audio_processing/agc2/gain_controller2.cc",
+                "//modules/audio_processing/agc2/gain_controller2.h",
+                "//modules/audio_processing/audio_buffer.cc",
+                "//modules/audio_processing/audio_buffer.h",
+                "//modules/audio_processing/audio_processing_impl.cc",
+                "//modules/audio_processing/audio_processing_impl.h",
+                "//modules/audio_processing/beamformer/array_util.cc",
+                "//modules/audio_processing/beamformer/array_util.h",
+                "//modules/audio_processing/beamformer/complex_matrix.h",
+                "//modules/audio_processing/beamformer/covariance_matrix_generator.cc",
+                "//modules/audio_processing/beamformer/covariance_matrix_generator.h",
+                "//modules/audio_processing/beamformer/matrix.h",
+                "//modules/audio_processing/beamformer/nonlinear_beamformer.cc",
+                "//modules/audio_processing/beamformer/nonlinear_beamformer.h",
+                "//modules/audio_processing/common.h",
+                "//modules/audio_processing/echo_cancellation_impl.cc",
+                "//modules/audio_processing/echo_cancellation_impl.h",
+                "//modules/audio_processing/echo_control_mobile_impl.cc",
+                "//modules/audio_processing/echo_control_mobile_impl.h",
+                "//modules/audio_processing/echo_detector/circular_buffer.cc",
+                "//modules/audio_processing/echo_detector/circular_buffer.h",
+                "//modules/audio_processing/echo_detector/mean_variance_estimator.cc",
+                "//modules/audio_processing/echo_detector/mean_variance_estimator.h",
+                "//modules/audio_processing/echo_detector/moving_max.cc",
+                "//modules/audio_processing/echo_detector/moving_max.h",
+                "//modules/audio_processing/echo_detector/normalized_covariance_estimator.cc",
+                "//modules/audio_processing/echo_detector/normalized_covariance_estimator.h",
+                "//modules/audio_processing/gain_control_for_experimental_agc.cc",
+                "//modules/audio_processing/gain_control_for_experimental_agc.h",
+                "//modules/audio_processing/gain_control_impl.cc",
+                "//modules/audio_processing/gain_control_impl.h",
+                "//modules/audio_processing/include/audio_processing.cc",
+                "//modules/audio_processing/include/audio_processing.h",
+                "//modules/audio_processing/include/config.cc",
+                "//modules/audio_processing/include/config.h",
+                "//modules/audio_processing/level_controller/biquad_filter.cc",
+                "//modules/audio_processing/level_controller/biquad_filter.h",
+                "//modules/audio_processing/level_controller/down_sampler.cc",
+                "//modules/audio_processing/level_controller/down_sampler.h",
+                "//modules/audio_processing/level_controller/gain_applier.cc",
+                "//modules/audio_processing/level_controller/gain_applier.h",
+                "//modules/audio_processing/level_controller/gain_selector.cc",
+                "//modules/audio_processing/level_controller/gain_selector.h",
+                "//modules/audio_processing/level_controller/level_controller.cc",
+                "//modules/audio_processing/level_controller/level_controller.h",
+                "//modules/audio_processing/level_controller/level_controller_constants.h",
+                "//modules/audio_processing/level_controller/noise_level_estimator.cc",
+                "//modules/audio_processing/level_controller/noise_level_estimator.h",
+                "//modules/audio_processing/level_controller/noise_spectrum_estimator.cc",
+                "//modules/audio_processing/level_controller/noise_spectrum_estimator.h",
+                "//modules/audio_processing/level_controller/peak_level_estimator.cc",
+                "//modules/audio_processing/level_controller/peak_level_estimator.h",
+                "//modules/audio_processing/level_controller/saturating_gain_estimator.cc",
+                "//modules/audio_processing/level_controller/saturating_gain_estimator.h",
+                "//modules/audio_processing/level_controller/signal_classifier.cc",
+                "//modules/audio_processing/level_controller/signal_classifier.h",
+                "//modules/audio_processing/level_estimator_impl.cc",
+                "//modules/audio_processing/level_estimator_impl.h",
+                "//modules/audio_processing/logging/apm_data_dumper.cc",
+                "//modules/audio_processing/logging/apm_data_dumper.h",
+                "//modules/audio_processing/low_cut_filter.cc",
+                "//modules/audio_processing/low_cut_filter.h",
+                "//modules/audio_processing/noise_suppression_impl.cc",
+                "//modules/audio_processing/noise_suppression_impl.h",
+                "//modules/audio_processing/render_queue_item_verifier.h",
+                "//modules/audio_processing/residual_echo_detector.cc",
+                "//modules/audio_processing/residual_echo_detector.h",
+                "//modules/audio_processing/rms_level.cc",
+                "//modules/audio_processing/rms_level.h",
+                "//modules/audio_processing/splitting_filter.cc",
+                "//modules/audio_processing/splitting_filter.h",
+                "//modules/audio_processing/three_band_filter_bank.cc",
+                "//modules/audio_processing/three_band_filter_bank.h",
+                "//modules/audio_processing/transient/common.h",
+                "//modules/audio_processing/transient/daubechies_8_wavelet_coeffs.h",
+                "//modules/audio_processing/transient/dyadic_decimator.h",
+                "//modules/audio_processing/transient/moving_moments.cc",
+                "//modules/audio_processing/transient/moving_moments.h",
+                "//modules/audio_processing/transient/transient_detector.cc",
+                "//modules/audio_processing/transient/transient_detector.h",
+                "//modules/audio_processing/transient/transient_suppressor.cc",
+                "//modules/audio_processing/transient/transient_suppressor.h",
+                "//modules/audio_processing/transient/wpd_node.cc",
+                "//modules/audio_processing/transient/wpd_node.h",
+                "//modules/audio_processing/transient/wpd_tree.cc",
+                "//modules/audio_processing/transient/wpd_tree.h",
+                "//modules/audio_processing/typing_detection.cc",
+                "//modules/audio_processing/typing_detection.h",
+                "//modules/audio_processing/utility/block_mean_calculator.cc",
+                "//modules/audio_processing/utility/block_mean_calculator.h",
+                "//modules/audio_processing/utility/delay_estimator.cc",
+                "//modules/audio_processing/utility/delay_estimator.h",
+                "//modules/audio_processing/utility/delay_estimator_internal.h",
+                "//modules/audio_processing/utility/delay_estimator_wrapper.cc",
+                "//modules/audio_processing/utility/delay_estimator_wrapper.h",
+                "//modules/audio_processing/utility/ooura_fft.cc",
+                "//modules/audio_processing/utility/ooura_fft.h",
+                "//modules/audio_processing/utility/ooura_fft_tables_common.h",
+                "//modules/audio_processing/vad/common.h",
+                "//modules/audio_processing/vad/gmm.cc",
+                "//modules/audio_processing/vad/gmm.h",
+                "//modules/audio_processing/vad/noise_gmm_tables.h",
+                "//modules/audio_processing/vad/pitch_based_vad.cc",
+                "//modules/audio_processing/vad/pitch_based_vad.h",
+                "//modules/audio_processing/vad/pitch_internal.cc",
+                "//modules/audio_processing/vad/pitch_internal.h",
+                "//modules/audio_processing/vad/pole_zero_filter.cc",
+                "//modules/audio_processing/vad/pole_zero_filter.h",
+                "//modules/audio_processing/vad/standalone_vad.cc",
+                "//modules/audio_processing/vad/standalone_vad.h",
+                "//modules/audio_processing/vad/vad_audio_proc.cc",
+                "//modules/audio_processing/vad/vad_audio_proc.h",
+                "//modules/audio_processing/vad/vad_audio_proc_internal.h",
+                "//modules/audio_processing/vad/vad_circular_buffer.cc",
+                "//modules/audio_processing/vad/vad_circular_buffer.h",
+                "//modules/audio_processing/vad/voice_activity_detector.cc",
+                "//modules/audio_processing/vad/voice_activity_detector.h",
+                "//modules/audio_processing/vad/voice_gmm_tables.h",
+                "//modules/audio_processing/voice_detection_impl.cc",
+                "//modules/audio_processing/voice_detection_impl.h",
+                "//modules/audio_processing/aecm/aecm_core_c.cc"
+            ],
+            "type": "static_library"
+        },
+        "//modules/audio_processing:audio_processing_c": {
+            "cflags": [
+                "-fno-strict-aliasing",
+                "--param=ssp-buffer-size=4",
+                "-fstack-protector",
+                "-Wno-builtin-macro-redefined",
+                "-D__DATE__=",
+                "-D__TIME__=",
+                "-D__TIMESTAMP__=",
+                "-funwind-tables",
+                "-fPIC",
+                "-pipe",
+                "-B../../../../../../gecko-dev/media/webrtc/trunk/webrtc/third_party/binutils/Linux_x64/Release/bin",
+                "-m32",
+                "-msse2",
+                "-mfpmath=sse",
+                "-mmmx",
+                "-pthread",
+                "-Wall",
+                "-Werror",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
+                "-Wno-missing-field-initializers",
+                "-Wno-unused-parameter",
+                "-O2",
+                "-fno-ident",
+                "-fdata-sections",
+                "-ffunction-sections",
+                "-fomit-frame-pointer",
+                "-g0",
+                "-fvisibility=hidden",
+                "-Wextra",
+                "-Wno-unused-parameter",
+                "-Wno-missing-field-initializers",
+                "-Wno-strict-overflow"
+            ],
+            "defines": [
+                "V8_DEPRECATION_WARNINGS",
+                "USE_NSS_CERTS=1",
+                "CHROMIUM_BUILD",
+                "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
+                "NDEBUG",
+                "NVALGRIND",
+                "DYNAMIC_ANNOTATIONS_ENABLED=0",
+                "WEBRTC_ENABLE_PROTOBUF=0",
+                "WEBRTC_RESTRICT_LOGGING",
+                "WEBRTC_MOZILLA_BUILD",
+                "WEBRTC_NON_STATIC_TRACE_EVENT_HANDLERS=0",
+                "WEBRTC_POSIX",
+                "WEBRTC_LINUX"
+            ],
+            "deps": [
+                "//:webrtc_common",
+                "//common_audio:common_audio",
+                "//rtc_base:rtc_base_approved",
+                "//system_wrappers:system_wrappers"
+            ],
+            "include_dirs": [
+                "//",
+                "/tmp/objdir/media/webrtc/trunk/webrtc/gn-output/gen/",
+                "//common_audio/resampler/include/",
+                "//common_audio/signal_processing/include/",
+                "//common_audio/vad/include/"
+            ],
+            "libs": [
+                "rt"
+            ],
+            "sources": [
+                "//modules/audio_processing/agc/legacy/analog_agc.c",
+                "//modules/audio_processing/agc/legacy/analog_agc.h",
+                "//modules/audio_processing/agc/legacy/digital_agc.c",
+                "//modules/audio_processing/agc/legacy/digital_agc.h",
+                "//modules/audio_processing/agc/legacy/gain_control.h",
+                "//modules/audio_processing/ns/defines.h",
+                "//modules/audio_processing/ns/noise_suppression.c",
+                "//modules/audio_processing/ns/noise_suppression.h",
+                "//modules/audio_processing/ns/ns_core.c",
+                "//modules/audio_processing/ns/ns_core.h",
+                "//modules/audio_processing/ns/windows_private.h"
+            ],
+            "type": "source_set"
+        },
+        "//modules/audio_processing:audio_processing_sse2": {
+            "cflags": [
+                "-msse2",
+                "-fno-strict-aliasing",
+                "--param=ssp-buffer-size=4",
+                "-fstack-protector",
+                "-Wno-builtin-macro-redefined",
+                "-D__DATE__=",
+                "-D__TIME__=",
+                "-D__TIMESTAMP__=",
+                "-funwind-tables",
+                "-fPIC",
+                "-pipe",
+                "-B../../../../../../gecko-dev/media/webrtc/trunk/webrtc/third_party/binutils/Linux_x64/Release/bin",
+                "-m32",
+                "-msse2",
+                "-mfpmath=sse",
+                "-mmmx",
+                "-pthread",
+                "-Wall",
+                "-Werror",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
+                "-Wno-missing-field-initializers",
+                "-Wno-unused-parameter",
+                "-O2",
+                "-fno-ident",
+                "-fdata-sections",
+                "-ffunction-sections",
+                "-fomit-frame-pointer",
+                "-g0",
+                "-fvisibility=hidden",
+                "-Wextra",
+                "-Wno-unused-parameter",
+                "-Wno-missing-field-initializers",
+                "-Wno-strict-overflow"
+            ],
+            "defines": [
+                "WEBRTC_APM_DEBUG_DUMP=1",
+                "V8_DEPRECATION_WARNINGS",
+                "USE_NSS_CERTS=1",
+                "CHROMIUM_BUILD",
+                "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
+                "NDEBUG",
+                "NVALGRIND",
+                "DYNAMIC_ANNOTATIONS_ENABLED=0",
+                "WEBRTC_ENABLE_PROTOBUF=0",
+                "WEBRTC_RESTRICT_LOGGING",
+                "WEBRTC_MOZILLA_BUILD",
+                "WEBRTC_NON_STATIC_TRACE_EVENT_HANDLERS=0",
+                "WEBRTC_POSIX",
+                "WEBRTC_LINUX"
+            ],
+            "deps": [],
+            "include_dirs": [
+                "//",
+                "/tmp/objdir/media/webrtc/trunk/webrtc/gn-output/gen/"
+            ],
+            "libs": [],
+            "sources": [
+                "//modules/audio_processing/aec/aec_core_sse2.cc",
+                "//modules/audio_processing/utility/ooura_fft_sse2.cc",
+                "//modules/audio_processing/utility/ooura_fft_tables_neon_sse2.h"
+            ],
+            "type": "static_library"
+        },
+        "//modules/audio_processing:audio_processing_statistics": {
+            "cflags": [
+                "-fno-strict-aliasing",
+                "--param=ssp-buffer-size=4",
+                "-fstack-protector",
+                "-Wno-builtin-macro-redefined",
+                "-D__DATE__=",
+                "-D__TIME__=",
+                "-D__TIMESTAMP__=",
+                "-funwind-tables",
+                "-fPIC",
+                "-pipe",
+                "-B../../../../../../gecko-dev/media/webrtc/trunk/webrtc/third_party/binutils/Linux_x64/Release/bin",
+                "-m32",
+                "-msse2",
+                "-mfpmath=sse",
+                "-mmmx",
+                "-pthread",
+                "-Wall",
+                "-Werror",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
+                "-Wno-missing-field-initializers",
+                "-Wno-unused-parameter",
+                "-O2",
+                "-fno-ident",
+                "-fdata-sections",
+                "-ffunction-sections",
+                "-fomit-frame-pointer",
+                "-g0",
+                "-fvisibility=hidden",
+                "-Wextra",
+                "-Wno-unused-parameter",
+                "-Wno-missing-field-initializers",
+                "-Wno-strict-overflow"
+            ],
+            "defines": [
+                "V8_DEPRECATION_WARNINGS",
+                "USE_NSS_CERTS=1",
+                "CHROMIUM_BUILD",
+                "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
+                "NDEBUG",
+                "NVALGRIND",
+                "DYNAMIC_ANNOTATIONS_ENABLED=0",
+                "WEBRTC_ENABLE_PROTOBUF=0",
+                "WEBRTC_RESTRICT_LOGGING",
+                "WEBRTC_MOZILLA_BUILD",
+                "WEBRTC_NON_STATIC_TRACE_EVENT_HANDLERS=0",
+                "WEBRTC_POSIX",
+                "WEBRTC_LINUX"
+            ],
+            "deps": [
+                "//api:optional"
+            ],
+            "include_dirs": [
+                "//",
+                "/tmp/objdir/media/webrtc/trunk/webrtc/gn-output/gen/"
+            ],
+            "libs": [],
+            "sources": [
+                "//modules/audio_processing/include/audio_processing_statistics.cc",
+                "//modules/audio_processing/include/audio_processing_statistics.h"
+            ],
+            "type": "source_set"
+        },
+        "//modules/bitrate_controller:bitrate_controller": {
+            "cflags": [
+                "-fno-strict-aliasing",
+                "--param=ssp-buffer-size=4",
+                "-fstack-protector",
+                "-Wno-builtin-macro-redefined",
+                "-D__DATE__=",
+                "-D__TIME__=",
+                "-D__TIMESTAMP__=",
+                "-funwind-tables",
+                "-fPIC",
+                "-pipe",
+                "-B../../../../../../gecko-dev/media/webrtc/trunk/webrtc/third_party/binutils/Linux_x64/Release/bin",
+                "-m32",
+                "-msse2",
+                "-mfpmath=sse",
+                "-mmmx",
+                "-pthread",
+                "-Wall",
+                "-Werror",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
+                "-Wno-missing-field-initializers",
+                "-Wno-unused-parameter",
+                "-O2",
+                "-fno-ident",
+                "-fdata-sections",
+                "-ffunction-sections",
+                "-fomit-frame-pointer",
+                "-g0",
+                "-fvisibility=hidden",
+                "-Wextra",
+                "-Wno-unused-parameter",
+                "-Wno-missing-field-initializers",
+                "-Wno-strict-overflow"
+            ],
+            "defines": [
+                "BWE_TEST_LOGGING_COMPILE_TIME_ENABLE=0",
+                "V8_DEPRECATION_WARNINGS",
+                "USE_NSS_CERTS=1",
+                "CHROMIUM_BUILD",
+                "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
+                "NDEBUG",
+                "NVALGRIND",
+                "DYNAMIC_ANNOTATIONS_ENABLED=0",
+                "WEBRTC_ENABLE_PROTOBUF=0",
+                "WEBRTC_RESTRICT_LOGGING",
+                "WEBRTC_MOZILLA_BUILD",
+                "WEBRTC_NON_STATIC_TRACE_EVENT_HANDLERS=0",
+                "WEBRTC_POSIX",
+                "WEBRTC_LINUX"
+            ],
+            "deps": [
+                "//modules/rtp_rtcp:rtp_rtcp",
+                "//rtc_base:rtc_base_approved",
+                "//system_wrappers:system_wrappers"
+            ],
+            "include_dirs": [
+                "//",
+                "/tmp/objdir/media/webrtc/trunk/webrtc/gn-output/gen/"
+            ],
+            "libs": [
+                "rt"
+            ],
+            "sources": [
+                "//modules/bitrate_controller/bitrate_controller_impl.cc",
+                "//modules/bitrate_controller/bitrate_controller_impl.h",
+                "//modules/bitrate_controller/include/bitrate_controller.h",
+                "//modules/bitrate_controller/send_side_bandwidth_estimation.cc",
+                "//modules/bitrate_controller/send_side_bandwidth_estimation.h"
+            ],
+            "type": "static_library"
+        },
+        "//modules/congestion_controller:congestion_controller": {
+            "cflags": [
+                "-fno-strict-aliasing",
+                "--param=ssp-buffer-size=4",
+                "-fstack-protector",
+                "-Wno-builtin-macro-redefined",
+                "-D__DATE__=",
+                "-D__TIME__=",
+                "-D__TIMESTAMP__=",
+                "-funwind-tables",
+                "-fPIC",
+                "-pipe",
+                "-B../../../../../../gecko-dev/media/webrtc/trunk/webrtc/third_party/binutils/Linux_x64/Release/bin",
+                "-m32",
+                "-msse2",
+                "-mfpmath=sse",
+                "-mmmx",
+                "-pthread",
+                "-Wall",
+                "-Werror",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
+                "-Wno-missing-field-initializers",
+                "-Wno-unused-parameter",
+                "-O2",
+                "-fno-ident",
+                "-fdata-sections",
+                "-ffunction-sections",
+                "-fomit-frame-pointer",
+                "-g0",
+                "-fvisibility=hidden",
+                "-Wextra",
+                "-Wno-unused-parameter",
+                "-Wno-missing-field-initializers",
+                "-Wno-strict-overflow"
+            ],
+            "defines": [
+                "BWE_TEST_LOGGING_COMPILE_TIME_ENABLE=0",
+                "V8_DEPRECATION_WARNINGS",
+                "USE_NSS_CERTS=1",
+                "CHROMIUM_BUILD",
+                "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
+                "NDEBUG",
+                "NVALGRIND",
+                "DYNAMIC_ANNOTATIONS_ENABLED=0",
+                "WEBRTC_ENABLE_PROTOBUF=0",
+                "WEBRTC_RESTRICT_LOGGING",
+                "WEBRTC_MOZILLA_BUILD",
+                "WEBRTC_NON_STATIC_TRACE_EVENT_HANDLERS=0",
+                "WEBRTC_POSIX",
+                "WEBRTC_LINUX"
+            ],
+            "deps": [
+                "//:webrtc_common",
+                "//api:optional",
+                "//logging:rtc_event_log_api",
+                "//modules:module_api",
+                "//modules/bitrate_controller:bitrate_controller",
+                "//modules/pacing:pacing",
+                "//modules/remote_bitrate_estimator:remote_bitrate_estimator",
+                "//modules/rtp_rtcp:rtp_rtcp",
+                "//modules/utility:utility",
+                "//rtc_base:rtc_base",
+                "//rtc_base:rtc_base_approved",
+                "//rtc_base:rtc_numerics",
+                "//system_wrappers:system_wrappers"
+            ],
+            "include_dirs": [
+                "//",
+                "/tmp/objdir/media/webrtc/trunk/webrtc/gn-output/gen/"
+            ],
+            "libs": [
+                "rt"
+            ],
+            "sources": [
+                "//modules/congestion_controller/acknowledged_bitrate_estimator.cc",
+                "//modules/congestion_controller/acknowledged_bitrate_estimator.h",
+                "//modules/congestion_controller/bitrate_estimator.cc",
+                "//modules/congestion_controller/bitrate_estimator.h",
+                "//modules/congestion_controller/delay_based_bwe.cc",
+                "//modules/congestion_controller/delay_based_bwe.h",
+                "//modules/congestion_controller/include/receive_side_congestion_controller.h",
+                "//modules/congestion_controller/include/send_side_congestion_controller.h",
+                "//modules/congestion_controller/median_slope_estimator.cc",
+                "//modules/congestion_controller/median_slope_estimator.h",
+                "//modules/congestion_controller/probe_bitrate_estimator.cc",
+                "//modules/congestion_controller/probe_bitrate_estimator.h",
+                "//modules/congestion_controller/probe_controller.cc",
+                "//modules/congestion_controller/probe_controller.h",
+                "//modules/congestion_controller/receive_side_congestion_controller.cc",
+                "//modules/congestion_controller/send_side_congestion_controller.cc",
+                "//modules/congestion_controller/transport_feedback_adapter.cc",
+                "//modules/congestion_controller/transport_feedback_adapter.h",
+                "//modules/congestion_controller/trendline_estimator.cc",
+                "//modules/congestion_controller/trendline_estimator.h"
+            ],
+            "type": "static_library"
+        },
+        "//modules/media_file:media_file": {
+            "cflags": [
+                "-fno-strict-aliasing",
+                "--param=ssp-buffer-size=4",
+                "-fstack-protector",
+                "-Wno-builtin-macro-redefined",
+                "-D__DATE__=",
+                "-D__TIME__=",
+                "-D__TIMESTAMP__=",
+                "-funwind-tables",
+                "-fPIC",
+                "-pipe",
+                "-B../../../../../../gecko-dev/media/webrtc/trunk/webrtc/third_party/binutils/Linux_x64/Release/bin",
+                "-m32",
+                "-msse2",
+                "-mfpmath=sse",
+                "-mmmx",
+                "-pthread",
+                "-Wall",
+                "-Werror",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
+                "-Wno-missing-field-initializers",
+                "-Wno-unused-parameter",
+                "-O2",
+                "-fno-ident",
+                "-fdata-sections",
+                "-ffunction-sections",
+                "-fomit-frame-pointer",
+                "-g0",
+                "-fvisibility=hidden",
+                "-Wextra",
+                "-Wno-unused-parameter",
+                "-Wno-missing-field-initializers",
+                "-Wno-strict-overflow"
+            ],
+            "defines": [
+                "V8_DEPRECATION_WARNINGS",
+                "USE_NSS_CERTS=1",
+                "CHROMIUM_BUILD",
+                "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
+                "NDEBUG",
+                "NVALGRIND",
+                "DYNAMIC_ANNOTATIONS_ENABLED=0",
+                "WEBRTC_ENABLE_PROTOBUF=0",
+                "WEBRTC_RESTRICT_LOGGING",
+                "WEBRTC_MOZILLA_BUILD",
+                "WEBRTC_NON_STATIC_TRACE_EVENT_HANDLERS=0",
+                "WEBRTC_POSIX",
+                "WEBRTC_LINUX"
+            ],
+            "deps": [
+                "//:webrtc_common",
+                "//common_audio:common_audio",
+                "//modules:module_api",
+                "//rtc_base:rtc_base_approved",
+                "//system_wrappers:system_wrappers"
+            ],
+            "include_dirs": [
+                "//",
+                "/tmp/objdir/media/webrtc/trunk/webrtc/gn-output/gen/",
+                "//common_audio/resampler/include/",
+                "//common_audio/signal_processing/include/",
+                "//common_audio/vad/include/"
+            ],
+            "libs": [
+                "rt"
+            ],
+            "sources": [
+                "//modules/media_file/media_file.h",
+                "//modules/media_file/media_file_defines.h",
+                "//modules/media_file/media_file_impl.cc",
+                "//modules/media_file/media_file_impl.h",
+                "//modules/media_file/media_file_utility.cc",
+                "//modules/media_file/media_file_utility.h"
+            ],
+            "type": "static_library"
+        },
+        "//modules/pacing:pacing": {
+            "cflags": [
+                "-fno-strict-aliasing",
+                "--param=ssp-buffer-size=4",
+                "-fstack-protector",
+                "-Wno-builtin-macro-redefined",
+                "-D__DATE__=",
+                "-D__TIME__=",
+                "-D__TIMESTAMP__=",
+                "-funwind-tables",
+                "-fPIC",
+                "-pipe",
+                "-B../../../../../../gecko-dev/media/webrtc/trunk/webrtc/third_party/binutils/Linux_x64/Release/bin",
+                "-m32",
+                "-msse2",
+                "-mfpmath=sse",
+                "-mmmx",
+                "-pthread",
+                "-Wall",
+                "-Werror",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
+                "-Wno-missing-field-initializers",
+                "-Wno-unused-parameter",
+                "-O2",
+                "-fno-ident",
+                "-fdata-sections",
+                "-ffunction-sections",
+                "-fomit-frame-pointer",
+                "-g0",
+                "-fvisibility=hidden",
+                "-Wextra",
+                "-Wno-unused-parameter",
+                "-Wno-missing-field-initializers",
+                "-Wno-strict-overflow"
+            ],
+            "defines": [
+                "V8_DEPRECATION_WARNINGS",
+                "USE_NSS_CERTS=1",
+                "CHROMIUM_BUILD",
+                "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
+                "NDEBUG",
+                "NVALGRIND",
+                "DYNAMIC_ANNOTATIONS_ENABLED=0",
+                "WEBRTC_ENABLE_PROTOBUF=0",
+                "WEBRTC_RESTRICT_LOGGING",
+                "WEBRTC_MOZILLA_BUILD",
+                "WEBRTC_NON_STATIC_TRACE_EVENT_HANDLERS=0",
+                "WEBRTC_POSIX",
+                "WEBRTC_LINUX"
+            ],
+            "deps": [
+                "//:webrtc_common",
+                "//api:optional",
+                "//logging:rtc_event_log_api",
+                "//modules:module_api",
+                "//modules/remote_bitrate_estimator:remote_bitrate_estimator",
+                "//modules/rtp_rtcp:rtp_rtcp",
+                "//modules/utility:utility",
+                "//rtc_base:rtc_base_approved",
+                "//system_wrappers:system_wrappers"
+            ],
+            "include_dirs": [
+                "//",
+                "/tmp/objdir/media/webrtc/trunk/webrtc/gn-output/gen/"
+            ],
+            "libs": [
+                "rt"
+            ],
+            "sources": [
+                "//modules/pacing/alr_detector.cc",
+                "//modules/pacing/alr_detector.h",
+                "//modules/pacing/bitrate_prober.cc",
+                "//modules/pacing/bitrate_prober.h",
+                "//modules/pacing/interval_budget.cc",
+                "//modules/pacing/interval_budget.h",
+                "//modules/pacing/paced_sender.cc",
+                "//modules/pacing/paced_sender.h",
+                "//modules/pacing/pacer.h",
+                "//modules/pacing/packet_queue.cc",
+                "//modules/pacing/packet_queue.h",
+                "//modules/pacing/packet_queue2.cc",
+                "//modules/pacing/packet_queue2.h",
+                "//modules/pacing/packet_router.cc",
+                "//modules/pacing/packet_router.h"
+            ],
+            "type": "static_library"
+        },
+        "//modules/remote_bitrate_estimator:remote_bitrate_estimator": {
+            "cflags": [
+                "-fno-strict-aliasing",
+                "--param=ssp-buffer-size=4",
+                "-fstack-protector",
+                "-Wno-builtin-macro-redefined",
+                "-D__DATE__=",
+                "-D__TIME__=",
+                "-D__TIMESTAMP__=",
+                "-funwind-tables",
+                "-fPIC",
+                "-pipe",
+                "-B../../../../../../gecko-dev/media/webrtc/trunk/webrtc/third_party/binutils/Linux_x64/Release/bin",
+                "-m32",
+                "-msse2",
+                "-mfpmath=sse",
+                "-mmmx",
+                "-pthread",
+                "-Wall",
+                "-Werror",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
+                "-Wno-missing-field-initializers",
+                "-Wno-unused-parameter",
+                "-O2",
+                "-fno-ident",
+                "-fdata-sections",
+                "-ffunction-sections",
+                "-fomit-frame-pointer",
+                "-g0",
+                "-fvisibility=hidden",
+                "-Wextra",
+                "-Wno-unused-parameter",
+                "-Wno-missing-field-initializers",
+                "-Wno-strict-overflow"
+            ],
+            "defines": [
+                "BWE_TEST_LOGGING_COMPILE_TIME_ENABLE=0",
+                "V8_DEPRECATION_WARNINGS",
+                "USE_NSS_CERTS=1",
+                "CHROMIUM_BUILD",
+                "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
+                "NDEBUG",
+                "NVALGRIND",
+                "DYNAMIC_ANNOTATIONS_ENABLED=0",
+                "WEBRTC_ENABLE_PROTOBUF=0",
+                "WEBRTC_RESTRICT_LOGGING",
+                "WEBRTC_MOZILLA_BUILD",
+                "WEBRTC_NON_STATIC_TRACE_EVENT_HANDLERS=0",
+                "WEBRTC_POSIX",
+                "WEBRTC_LINUX"
+            ],
+            "deps": [
+                "//:webrtc_common",
+                "//api:optional",
+                "//modules:module_api",
+                "//modules/rtp_rtcp:rtp_rtcp_format",
+                "//rtc_base:rtc_base_approved",
+                "//system_wrappers:system_wrappers"
+            ],
+            "include_dirs": [
+                "//",
+                "/tmp/objdir/media/webrtc/trunk/webrtc/gn-output/gen/"
+            ],
+            "libs": [
+                "rt"
+            ],
+            "sources": [
+                "//modules/remote_bitrate_estimator/aimd_rate_control.cc",
+                "//modules/remote_bitrate_estimator/aimd_rate_control.h",
+                "//modules/remote_bitrate_estimator/bwe_defines.cc",
+                "//modules/remote_bitrate_estimator/include/bwe_defines.h",
+                "//modules/remote_bitrate_estimator/include/remote_bitrate_estimator.h",
+                "//modules/remote_bitrate_estimator/include/send_time_history.h",
+                "//modules/remote_bitrate_estimator/inter_arrival.cc",
+                "//modules/remote_bitrate_estimator/inter_arrival.h",
+                "//modules/remote_bitrate_estimator/overuse_detector.cc",
+                "//modules/remote_bitrate_estimator/overuse_detector.h",
+                "//modules/remote_bitrate_estimator/overuse_estimator.cc",
+                "//modules/remote_bitrate_estimator/overuse_estimator.h",
+                "//modules/remote_bitrate_estimator/remote_bitrate_estimator_abs_send_time.cc",
+                "//modules/remote_bitrate_estimator/remote_bitrate_estimator_abs_send_time.h",
+                "//modules/remote_bitrate_estimator/remote_bitrate_estimator_single_stream.cc",
+                "//modules/remote_bitrate_estimator/remote_bitrate_estimator_single_stream.h",
+                "//modules/remote_bitrate_estimator/remote_estimator_proxy.cc",
+                "//modules/remote_bitrate_estimator/remote_estimator_proxy.h",
+                "//modules/remote_bitrate_estimator/send_time_history.cc",
+                "//modules/remote_bitrate_estimator/test/bwe_test_logging.h"
+            ],
+            "type": "static_library"
+        },
+        "//modules/rtp_rtcp:rtp_rtcp": {
+            "cflags": [
+                "-fno-strict-aliasing",
+                "--param=ssp-buffer-size=4",
+                "-fstack-protector",
+                "-Wno-builtin-macro-redefined",
+                "-D__DATE__=",
+                "-D__TIME__=",
+                "-D__TIMESTAMP__=",
+                "-funwind-tables",
+                "-fPIC",
+                "-pipe",
+                "-B../../../../../../gecko-dev/media/webrtc/trunk/webrtc/third_party/binutils/Linux_x64/Release/bin",
+                "-m32",
+                "-msse2",
+                "-mfpmath=sse",
+                "-mmmx",
+                "-pthread",
+                "-Wall",
+                "-Werror",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
+                "-Wno-missing-field-initializers",
+                "-Wno-unused-parameter",
+                "-O2",
+                "-fno-ident",
+                "-fdata-sections",
+                "-ffunction-sections",
+                "-fomit-frame-pointer",
+                "-g0",
+                "-fvisibility=hidden",
+                "-Wextra",
+                "-Wno-unused-parameter",
+                "-Wno-missing-field-initializers",
+                "-Wno-strict-overflow"
+            ],
+            "defines": [
+                "BWE_TEST_LOGGING_COMPILE_TIME_ENABLE=0",
+                "V8_DEPRECATION_WARNINGS",
+                "USE_NSS_CERTS=1",
+                "CHROMIUM_BUILD",
+                "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
+                "NDEBUG",
+                "NVALGRIND",
+                "DYNAMIC_ANNOTATIONS_ENABLED=0",
+                "WEBRTC_ENABLE_PROTOBUF=0",
+                "WEBRTC_RESTRICT_LOGGING",
+                "WEBRTC_MOZILLA_BUILD",
+                "WEBRTC_NON_STATIC_TRACE_EVENT_HANDLERS=0",
+                "WEBRTC_POSIX",
+                "WEBRTC_LINUX"
+            ],
+            "deps": [
+                "//:webrtc_common",
+                "//api:array_view",
+                "//api:optional",
+                "//api:transport_api",
+                "//api/audio_codecs:audio_codecs_api",
+                "//common_video:common_video",
+                "//logging:rtc_event_log_api",
+                "//modules:module_api",
+                "//modules/audio_coding:audio_format_conversion",
+                "//modules/remote_bitrate_estimator:remote_bitrate_estimator",
+                "//modules/rtp_rtcp:rtp_rtcp_format",
+                "//rtc_base:gtest_prod",
+                "//rtc_base:rtc_base_approved",
+                "//rtc_base:rtc_numerics",
+                "//rtc_base:sequenced_task_checker",
+                "//system_wrappers:system_wrappers"
+            ],
+            "include_dirs": [
+                "//",
+                "/tmp/objdir/media/webrtc/trunk/webrtc/gn-output/gen/",
+                "//common_video/include/",
+                "/media/libyuv/libyuv/include/"
+            ],
+            "libs": [
+                "rt"
+            ],
+            "sources": [
+                "//modules/rtp_rtcp/include/flexfec_receiver.h",
+                "//modules/rtp_rtcp/include/flexfec_sender.h",
+                "//modules/rtp_rtcp/include/receive_statistics.h",
+                "//modules/rtp_rtcp/include/remote_ntp_time_estimator.h",
+                "//modules/rtp_rtcp/include/rtp_header_parser.h",
+                "//modules/rtp_rtcp/include/rtp_payload_registry.h",
+                "//modules/rtp_rtcp/include/rtp_receiver.h",
+                "//modules/rtp_rtcp/include/rtp_rtcp.h",
+                "//modules/rtp_rtcp/include/ulpfec_receiver.h",
+                "//modules/rtp_rtcp/source/dtmf_queue.cc",
+                "//modules/rtp_rtcp/source/dtmf_queue.h",
+                "//modules/rtp_rtcp/source/fec_private_tables_bursty.h",
+                "//modules/rtp_rtcp/source/fec_private_tables_random.h",
+                "//modules/rtp_rtcp/source/flexfec_header_reader_writer.cc",
+                "//modules/rtp_rtcp/source/flexfec_header_reader_writer.h",
+                "//modules/rtp_rtcp/source/flexfec_receiver.cc",
+                "//modules/rtp_rtcp/source/flexfec_sender.cc",
+                "//modules/rtp_rtcp/source/forward_error_correction.cc",
+                "//modules/rtp_rtcp/source/forward_error_correction.h",
+                "//modules/rtp_rtcp/source/forward_error_correction_internal.cc",
+                "//modules/rtp_rtcp/source/forward_error_correction_internal.h",
+                "//modules/rtp_rtcp/source/packet_loss_stats.cc",
+                "//modules/rtp_rtcp/source/packet_loss_stats.h",
+                "//modules/rtp_rtcp/source/playout_delay_oracle.cc",
+                "//modules/rtp_rtcp/source/playout_delay_oracle.h",
+                "//modules/rtp_rtcp/source/receive_statistics_impl.cc",
+                "//modules/rtp_rtcp/source/receive_statistics_impl.h",
+                "//modules/rtp_rtcp/source/remote_ntp_time_estimator.cc",
+                "//modules/rtp_rtcp/source/rtcp_nack_stats.cc",
+                "//modules/rtp_rtcp/source/rtcp_nack_stats.h",
+                "//modules/rtp_rtcp/source/rtcp_receiver.cc",
+                "//modules/rtp_rtcp/source/rtcp_receiver.h",
+                "//modules/rtp_rtcp/source/rtcp_sender.cc",
+                "//modules/rtp_rtcp/source/rtcp_sender.h",
+                "//modules/rtp_rtcp/source/rtp_format.cc",
+                "//modules/rtp_rtcp/source/rtp_format.h",
+                "//modules/rtp_rtcp/source/rtp_format_h264.cc",
+                "//modules/rtp_rtcp/source/rtp_format_h264.h",
+                "//modules/rtp_rtcp/source/rtp_format_video_generic.cc",
+                "//modules/rtp_rtcp/source/rtp_format_video_generic.h",
+                "//modules/rtp_rtcp/source/rtp_format_vp8.cc",
+                "//modules/rtp_rtcp/source/rtp_format_vp8.h",
+                "//modules/rtp_rtcp/source/rtp_format_vp9.cc",
+                "//modules/rtp_rtcp/source/rtp_format_vp9.h",
+                "//modules/rtp_rtcp/source/rtp_header_parser.cc",
+                "//modules/rtp_rtcp/source/rtp_packet_history.cc",
+                "//modules/rtp_rtcp/source/rtp_packet_history.h",
+                "//modules/rtp_rtcp/source/rtp_payload_registry.cc",
+                "//modules/rtp_rtcp/source/rtp_receiver_audio.cc",
+                "//modules/rtp_rtcp/source/rtp_receiver_audio.h",
+                "//modules/rtp_rtcp/source/rtp_receiver_impl.cc",
+                "//modules/rtp_rtcp/source/rtp_receiver_impl.h",
+                "//modules/rtp_rtcp/source/rtp_receiver_strategy.cc",
+                "//modules/rtp_rtcp/source/rtp_receiver_strategy.h",
+                "//modules/rtp_rtcp/source/rtp_receiver_video.cc",
+                "//modules/rtp_rtcp/source/rtp_receiver_video.h",
+                "//modules/rtp_rtcp/source/rtp_rtcp_config.h",
+                "//modules/rtp_rtcp/source/rtp_rtcp_impl.cc",
+                "//modules/rtp_rtcp/source/rtp_rtcp_impl.h",
+                "//modules/rtp_rtcp/source/rtp_sender.cc",
+                "//modules/rtp_rtcp/source/rtp_sender.h",
+                "//modules/rtp_rtcp/source/rtp_sender_audio.cc",
+                "//modules/rtp_rtcp/source/rtp_sender_audio.h",
+                "//modules/rtp_rtcp/source/rtp_sender_video.cc",
+                "//modules/rtp_rtcp/source/rtp_sender_video.h",
+                "//modules/rtp_rtcp/source/rtp_utility.cc",
+                "//modules/rtp_rtcp/source/rtp_utility.h",
+                "//modules/rtp_rtcp/source/time_util.cc",
+                "//modules/rtp_rtcp/source/time_util.h",
+                "//modules/rtp_rtcp/source/tmmbr_help.cc",
+                "//modules/rtp_rtcp/source/tmmbr_help.h",
+                "//modules/rtp_rtcp/source/ulpfec_generator.cc",
+                "//modules/rtp_rtcp/source/ulpfec_generator.h",
+                "//modules/rtp_rtcp/source/ulpfec_header_reader_writer.cc",
+                "//modules/rtp_rtcp/source/ulpfec_header_reader_writer.h",
+                "//modules/rtp_rtcp/source/ulpfec_receiver_impl.cc",
+                "//modules/rtp_rtcp/source/ulpfec_receiver_impl.h",
+                "//modules/rtp_rtcp/source/video_codec_information.h"
+            ],
+            "type": "static_library"
+        },
+        "//modules/rtp_rtcp:rtp_rtcp_format": {
+            "cflags": [
+                "-fno-strict-aliasing",
+                "--param=ssp-buffer-size=4",
+                "-fstack-protector",
+                "-Wno-builtin-macro-redefined",
+                "-D__DATE__=",
+                "-D__TIME__=",
+                "-D__TIMESTAMP__=",
+                "-funwind-tables",
+                "-fPIC",
+                "-pipe",
+                "-B../../../../../../gecko-dev/media/webrtc/trunk/webrtc/third_party/binutils/Linux_x64/Release/bin",
+                "-m32",
+                "-msse2",
+                "-mfpmath=sse",
+                "-mmmx",
+                "-pthread",
+                "-Wall",
+                "-Werror",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
+                "-Wno-missing-field-initializers",
+                "-Wno-unused-parameter",
+                "-O2",
+                "-fno-ident",
+                "-fdata-sections",
+                "-ffunction-sections",
+                "-fomit-frame-pointer",
+                "-g0",
+                "-fvisibility=hidden",
+                "-Wextra",
+                "-Wno-unused-parameter",
+                "-Wno-missing-field-initializers",
+                "-Wno-strict-overflow"
+            ],
+            "defines": [
+                "V8_DEPRECATION_WARNINGS",
+                "USE_NSS_CERTS=1",
+                "CHROMIUM_BUILD",
+                "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
+                "NDEBUG",
+                "NVALGRIND",
+                "DYNAMIC_ANNOTATIONS_ENABLED=0",
+                "WEBRTC_ENABLE_PROTOBUF=0",
+                "WEBRTC_RESTRICT_LOGGING",
+                "WEBRTC_MOZILLA_BUILD",
+                "WEBRTC_NON_STATIC_TRACE_EVENT_HANDLERS=0",
+                "WEBRTC_POSIX",
+                "WEBRTC_LINUX"
+            ],
+            "deps": [
+                "//:webrtc_common",
+                "//api:array_view",
+                "//api:optional",
+                "//api/audio_codecs:audio_codecs_api",
+                "//common_video:common_video",
+                "//modules:module_api",
+                "//rtc_base:rtc_base_approved",
+                "//system_wrappers:system_wrappers"
+            ],
+            "include_dirs": [
+                "//",
+                "/tmp/objdir/media/webrtc/trunk/webrtc/gn-output/gen/",
+                "//common_video/include/",
+                "/media/libyuv/libyuv/include/"
+            ],
+            "libs": [
+                "rt"
+            ],
+            "sources": [
+                "//modules/rtp_rtcp/include/rtp_rtcp_defines.cc",
+                "//modules/rtp_rtcp/source/rtcp_packet.cc",
+                "//modules/rtp_rtcp/source/rtcp_packet/app.cc",
+                "//modules/rtp_rtcp/source/rtcp_packet/bye.cc",
+                "//modules/rtp_rtcp/source/rtcp_packet/common_header.cc",
+                "//modules/rtp_rtcp/source/rtcp_packet/compound_packet.cc",
+                "//modules/rtp_rtcp/source/rtcp_packet/dlrr.cc",
+                "//modules/rtp_rtcp/source/rtcp_packet/extended_jitter_report.cc",
+                "//modules/rtp_rtcp/source/rtcp_packet/extended_reports.cc",
+                "//modules/rtp_rtcp/source/rtcp_packet/fir.cc",
+                "//modules/rtp_rtcp/source/rtcp_packet/nack.cc",
+                "//modules/rtp_rtcp/source/rtcp_packet/pli.cc",
+                "//modules/rtp_rtcp/source/rtcp_packet/psfb.cc",
+                "//modules/rtp_rtcp/source/rtcp_packet/rapid_resync_request.cc",
+                "//modules/rtp_rtcp/source/rtcp_packet/receiver_report.cc",
+                "//modules/rtp_rtcp/source/rtcp_packet/remb.cc",
+                "//modules/rtp_rtcp/source/rtcp_packet/report_block.cc",
+                "//modules/rtp_rtcp/source/rtcp_packet/rrtr.cc",
+                "//modules/rtp_rtcp/source/rtcp_packet/rtpfb.cc",
+                "//modules/rtp_rtcp/source/rtcp_packet/sdes.cc",
+                "//modules/rtp_rtcp/source/rtcp_packet/sender_report.cc",
+                "//modules/rtp_rtcp/source/rtcp_packet/target_bitrate.cc",
+                "//modules/rtp_rtcp/source/rtcp_packet/tmmb_item.cc",
+                "//modules/rtp_rtcp/source/rtcp_packet/tmmbn.cc",
+                "//modules/rtp_rtcp/source/rtcp_packet/tmmbr.cc",
+                "//modules/rtp_rtcp/source/rtcp_packet/transport_feedback.cc",
+                "//modules/rtp_rtcp/source/rtcp_packet/voip_metric.cc",
+                "//modules/rtp_rtcp/source/rtp_header_extension_map.cc",
+                "//modules/rtp_rtcp/source/rtp_header_extensions.cc",
+                "//modules/rtp_rtcp/source/rtp_packet.cc",
+                "//modules/rtp_rtcp/source/rtp_packet_received.cc"
+            ],
+            "type": "source_set"
+        },
+        "//modules/utility:utility": {
+            "cflags": [
+                "-fno-strict-aliasing",
+                "--param=ssp-buffer-size=4",
+                "-fstack-protector",
+                "-Wno-builtin-macro-redefined",
+                "-D__DATE__=",
+                "-D__TIME__=",
+                "-D__TIMESTAMP__=",
+                "-funwind-tables",
+                "-fPIC",
+                "-pipe",
+                "-B../../../../../../gecko-dev/media/webrtc/trunk/webrtc/third_party/binutils/Linux_x64/Release/bin",
+                "-m32",
+                "-msse2",
+                "-mfpmath=sse",
+                "-mmmx",
+                "-pthread",
+                "-Wall",
+                "-Werror",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
+                "-Wno-missing-field-initializers",
+                "-Wno-unused-parameter",
+                "-O2",
+                "-fno-ident",
+                "-fdata-sections",
+                "-ffunction-sections",
+                "-fomit-frame-pointer",
+                "-g0",
+                "-fvisibility=hidden",
+                "-Wextra",
+                "-Wno-unused-parameter",
+                "-Wno-missing-field-initializers",
+                "-Wno-strict-overflow"
+            ],
+            "defines": [
+                "V8_DEPRECATION_WARNINGS",
+                "USE_NSS_CERTS=1",
+                "CHROMIUM_BUILD",
+                "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
+                "NDEBUG",
+                "NVALGRIND",
+                "DYNAMIC_ANNOTATIONS_ENABLED=0",
+                "WEBRTC_ENABLE_PROTOBUF=0",
+                "WEBRTC_RESTRICT_LOGGING",
+                "WEBRTC_MOZILLA_BUILD",
+                "WEBRTC_NON_STATIC_TRACE_EVENT_HANDLERS=0",
+                "WEBRTC_POSIX",
+                "WEBRTC_LINUX"
+            ],
+            "deps": [
+                "//:webrtc_common",
+                "//audio/utility:audio_frame_operations",
+                "//common_audio:common_audio",
+                "//modules:module_api",
+                "//modules/media_file:media_file",
+                "//rtc_base:rtc_base_approved",
+                "//rtc_base:rtc_task_queue",
+                "//system_wrappers:system_wrappers"
+            ],
+            "include_dirs": [
+                "//",
+                "/tmp/objdir/media/webrtc/trunk/webrtc/gn-output/gen/",
+                "//common_audio/resampler/include/",
+                "//common_audio/signal_processing/include/",
+                "//common_audio/vad/include/"
+            ],
+            "libs": [
+                "rt"
+            ],
+            "sources": [
+                "//modules/utility/include/audio_frame_operations.h",
+                "//modules/utility/include/process_thread.h",
+                "//modules/utility/source/process_thread_impl.cc",
+                "//modules/utility/source/process_thread_impl.h"
+            ],
+            "type": "static_library"
+        },
+        "//modules/video_capture:video_capture_internal_impl": {
+            "cflags": [
+                "-fno-strict-aliasing",
+                "--param=ssp-buffer-size=4",
+                "-fstack-protector",
+                "-Wno-builtin-macro-redefined",
+                "-D__DATE__=",
+                "-D__TIME__=",
+                "-D__TIMESTAMP__=",
+                "-funwind-tables",
+                "-fPIC",
+                "-pipe",
+                "-B../../../../../../gecko-dev/media/webrtc/trunk/webrtc/third_party/binutils/Linux_x64/Release/bin",
+                "-m32",
+                "-msse2",
+                "-mfpmath=sse",
+                "-mmmx",
+                "-pthread",
+                "-Wall",
+                "-Werror",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
+                "-Wno-missing-field-initializers",
+                "-Wno-unused-parameter",
+                "-O2",
+                "-fno-ident",
+                "-fdata-sections",
+                "-ffunction-sections",
+                "-fomit-frame-pointer",
+                "-g0",
+                "-fvisibility=hidden",
+                "-Wextra",
+                "-Wno-unused-parameter",
+                "-Wno-missing-field-initializers",
+                "-Wno-strict-overflow"
+            ],
+            "defines": [
+                "V8_DEPRECATION_WARNINGS",
+                "USE_NSS_CERTS=1",
+                "CHROMIUM_BUILD",
+                "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
+                "NDEBUG",
+                "NVALGRIND",
+                "DYNAMIC_ANNOTATIONS_ENABLED=0",
+                "WEBRTC_ENABLE_PROTOBUF=0",
+                "WEBRTC_RESTRICT_LOGGING",
+                "WEBRTC_MOZILLA_BUILD",
+                "WEBRTC_NON_STATIC_TRACE_EVENT_HANDLERS=0",
+                "WEBRTC_POSIX",
+                "WEBRTC_LINUX"
+            ],
+            "deps": [
+                "//:webrtc_common",
+                "//media:rtc_media_base",
+                "//modules/video_capture:video_capture_module",
+                "//rtc_base:rtc_base_approved",
+                "//system_wrappers:system_wrappers"
+            ],
+            "include_dirs": [
+                "//",
+                "/tmp/objdir/media/webrtc/trunk/webrtc/gn-output/gen/"
+            ],
+            "libs": [
+                "rt"
+            ],
+            "sources": [
+                "//modules/video_capture/linux/device_info_linux.cc",
+                "//modules/video_capture/linux/device_info_linux.h",
+                "//modules/video_capture/linux/video_capture_linux.cc",
+                "//modules/video_capture/linux/video_capture_linux.h"
+            ],
+            "type": "source_set"
+        },
+        "//modules/video_capture:video_capture_module": {
+            "cflags": [
+                "-fno-strict-aliasing",
+                "--param=ssp-buffer-size=4",
+                "-fstack-protector",
+                "-Wno-builtin-macro-redefined",
+                "-D__DATE__=",
+                "-D__TIME__=",
+                "-D__TIMESTAMP__=",
+                "-funwind-tables",
+                "-fPIC",
+                "-pipe",
+                "-B../../../../../../gecko-dev/media/webrtc/trunk/webrtc/third_party/binutils/Linux_x64/Release/bin",
+                "-m32",
+                "-msse2",
+                "-mfpmath=sse",
+                "-mmmx",
+                "-pthread",
+                "-Wall",
+                "-Werror",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
+                "-Wno-missing-field-initializers",
+                "-Wno-unused-parameter",
+                "-O2",
+                "-fno-ident",
+                "-fdata-sections",
+                "-ffunction-sections",
+                "-fomit-frame-pointer",
+                "-g0",
+                "-fvisibility=hidden",
+                "-Wextra",
+                "-Wno-unused-parameter",
+                "-Wno-missing-field-initializers",
+                "-Wno-strict-overflow"
+            ],
+            "defines": [
+                "V8_DEPRECATION_WARNINGS",
+                "USE_NSS_CERTS=1",
+                "CHROMIUM_BUILD",
+                "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
+                "NDEBUG",
+                "NVALGRIND",
+                "DYNAMIC_ANNOTATIONS_ENABLED=0",
+                "WEBRTC_ENABLE_PROTOBUF=0",
+                "WEBRTC_RESTRICT_LOGGING",
+                "WEBRTC_MOZILLA_BUILD",
+                "WEBRTC_NON_STATIC_TRACE_EVENT_HANDLERS=0",
+                "WEBRTC_POSIX",
+                "WEBRTC_LINUX"
+            ],
+            "deps": [
+                "//:webrtc_common",
+                "//api:video_frame_api_i420",
+                "//common_video:common_video",
+                "//modules:module_api",
+                "//rtc_base:rtc_base_approved",
+                "//system_wrappers:system_wrappers"
+            ],
+            "include_dirs": [
+                "//",
+                "/tmp/objdir/media/webrtc/trunk/webrtc/gn-output/gen/",
+                "//common_video/include/",
+                "/media/libyuv/libyuv/include/"
+            ],
+            "libs": [
+                "rt"
+            ],
+            "sources": [
+                "//modules/video_capture/device_info_impl.cc",
+                "//modules/video_capture/device_info_impl.h",
+                "//modules/video_capture/video_capture.h",
+                "//modules/video_capture/video_capture_config.h",
+                "//modules/video_capture/video_capture_defines.h",
+                "//modules/video_capture/video_capture_factory.cc",
+                "//modules/video_capture/video_capture_factory.h",
+                "//modules/video_capture/video_capture_impl.cc",
+                "//modules/video_capture/video_capture_impl.h"
+            ],
+            "type": "static_library"
+        },
+        "//modules/video_coding:codec_globals_headers": {
+            "cflags": [
+                "-fno-strict-aliasing",
+                "--param=ssp-buffer-size=4",
+                "-fstack-protector",
+                "-Wno-builtin-macro-redefined",
+                "-D__DATE__=",
+                "-D__TIME__=",
+                "-D__TIMESTAMP__=",
+                "-funwind-tables",
+                "-fPIC",
+                "-pipe",
+                "-B../../../../../../gecko-dev/media/webrtc/trunk/webrtc/third_party/binutils/Linux_x64/Release/bin",
+                "-m32",
+                "-msse2",
+                "-mfpmath=sse",
+                "-mmmx",
+                "-pthread",
+                "-Wall",
+                "-Werror",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
+                "-Wno-missing-field-initializers",
+                "-Wno-unused-parameter",
+                "-O2",
+                "-fno-ident",
+                "-fdata-sections",
+                "-ffunction-sections",
+                "-fomit-frame-pointer",
+                "-g0",
+                "-fvisibility=hidden",
+                "-Wextra",
+                "-Wno-unused-parameter",
+                "-Wno-missing-field-initializers",
+                "-Wno-strict-overflow"
+            ],
+            "defines": [
+                "V8_DEPRECATION_WARNINGS",
+                "USE_NSS_CERTS=1",
+                "CHROMIUM_BUILD",
+                "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
+                "NDEBUG",
+                "NVALGRIND",
+                "DYNAMIC_ANNOTATIONS_ENABLED=0",
+                "WEBRTC_ENABLE_PROTOBUF=0",
+                "WEBRTC_RESTRICT_LOGGING",
+                "WEBRTC_MOZILLA_BUILD",
+                "WEBRTC_NON_STATIC_TRACE_EVENT_HANDLERS=0",
+                "WEBRTC_POSIX",
+                "WEBRTC_LINUX"
+            ],
+            "deps": [],
+            "include_dirs": [
+                "//",
+                "/tmp/objdir/media/webrtc/trunk/webrtc/gn-output/gen/"
+            ],
+            "libs": [],
+            "sources": [
+                "//modules/video_coding/codecs/h264/include/h264_globals.h",
+                "//modules/video_coding/codecs/interface/common_constants.h",
+                "//modules/video_coding/codecs/vp8/include/vp8_globals.h",
+                "//modules/video_coding/codecs/vp9/include/vp9_globals.h"
+            ],
+            "type": "source_set"
+        },
+        "//modules/video_coding:video_coding": {
+            "cflags": [
+                "-fno-strict-aliasing",
+                "--param=ssp-buffer-size=4",
+                "-fstack-protector",
+                "-Wno-builtin-macro-redefined",
+                "-D__DATE__=",
+                "-D__TIME__=",
+                "-D__TIMESTAMP__=",
+                "-funwind-tables",
+                "-fPIC",
+                "-pipe",
+                "-B../../../../../../gecko-dev/media/webrtc/trunk/webrtc/third_party/binutils/Linux_x64/Release/bin",
+                "-m32",
+                "-msse2",
+                "-mfpmath=sse",
+                "-mmmx",
+                "-pthread",
+                "-Wall",
+                "-Werror",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
+                "-Wno-missing-field-initializers",
+                "-Wno-unused-parameter",
+                "-O2",
+                "-fno-ident",
+                "-fdata-sections",
+                "-ffunction-sections",
+                "-fomit-frame-pointer",
+                "-g0",
+                "-fvisibility=hidden",
+                "-Wextra",
+                "-Wno-unused-parameter",
+                "-Wno-missing-field-initializers",
+                "-Wno-strict-overflow"
+            ],
+            "defines": [
+                "V8_DEPRECATION_WARNINGS",
+                "USE_NSS_CERTS=1",
+                "CHROMIUM_BUILD",
+                "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
+                "NDEBUG",
+                "NVALGRIND",
+                "DYNAMIC_ANNOTATIONS_ENABLED=0",
+                "WEBRTC_ENABLE_PROTOBUF=0",
+                "WEBRTC_RESTRICT_LOGGING",
+                "WEBRTC_MOZILLA_BUILD",
+                "WEBRTC_NON_STATIC_TRACE_EVENT_HANDLERS=0",
+                "WEBRTC_POSIX",
+                "WEBRTC_LINUX"
+            ],
+            "deps": [
+                "//:webrtc_common",
+                "//api:optional",
+                "//api:video_frame_api_i420",
+                "//call:video_stream_api",
+                "//common_video:common_video",
+                "//modules:module_api",
+                "//modules:module_api_public",
+                "//modules/pacing:pacing",
+                "//modules/rtp_rtcp:rtp_rtcp",
+                "//modules/utility:utility",
+                "//modules/video_coding:codec_globals_headers",
+                "//modules/video_coding:video_coding_utility",
+                "//modules/video_coding:webrtc_h264",
+                "//modules/video_coding:webrtc_i420",
+                "//modules/video_coding:webrtc_stereo",
+                "//modules/video_coding:webrtc_vp8",
+                "//modules/video_coding:webrtc_vp9",
+                "//rtc_base:rtc_base",
+                "//rtc_base:rtc_base_approved",
+                "//rtc_base:rtc_numerics",
+                "//rtc_base:rtc_task_queue",
+                "//rtc_base:sequenced_task_checker",
+                "//system_wrappers:system_wrappers"
+            ],
+            "include_dirs": [
+                "//",
+                "/tmp/objdir/media/webrtc/trunk/webrtc/gn-output/gen/",
+                "//common_video/include/",
+                "/media/libyuv/libyuv/include/"
+            ],
+            "libs": [
+                "rt"
+            ],
+            "sources": [
+                "//modules/video_coding/codec_database.cc",
+                "//modules/video_coding/codec_database.h",
+                "//modules/video_coding/codec_timer.cc",
+                "//modules/video_coding/codec_timer.h",
+                "//modules/video_coding/decoding_state.cc",
+                "//modules/video_coding/decoding_state.h",
+                "//modules/video_coding/encoded_frame.cc",
+                "//modules/video_coding/encoded_frame.h",
+                "//modules/video_coding/fec_rate_table.h",
+                "//modules/video_coding/frame_buffer.cc",
+                "//modules/video_coding/frame_buffer.h",
+                "//modules/video_coding/frame_buffer2.cc",
+                "//modules/video_coding/frame_buffer2.h",
+                "//modules/video_coding/frame_object.cc",
+                "//modules/video_coding/frame_object.h",
+                "//modules/video_coding/generic_decoder.cc",
+                "//modules/video_coding/generic_decoder.h",
+                "//modules/video_coding/generic_encoder.cc",
+                "//modules/video_coding/generic_encoder.h",
+                "//modules/video_coding/h264_sprop_parameter_sets.cc",
+                "//modules/video_coding/h264_sprop_parameter_sets.h",
+                "//modules/video_coding/h264_sps_pps_tracker.cc",
+                "//modules/video_coding/h264_sps_pps_tracker.h",
+                "//modules/video_coding/histogram.cc",
+                "//modules/video_coding/histogram.h",
+                "//modules/video_coding/include/video_codec_initializer.h",
+                "//modules/video_coding/include/video_coding.h",
+                "//modules/video_coding/include/video_coding_defines.h",
+                "//modules/video_coding/inter_frame_delay.cc",
+                "//modules/video_coding/inter_frame_delay.h",
+                "//modules/video_coding/internal_defines.h",
+                "//modules/video_coding/jitter_buffer.cc",
+                "//modules/video_coding/jitter_buffer.h",
+                "//modules/video_coding/jitter_buffer_common.h",
+                "//modules/video_coding/jitter_estimator.cc",
+                "//modules/video_coding/jitter_estimator.h",
+                "//modules/video_coding/media_opt_util.cc",
+                "//modules/video_coding/media_opt_util.h",
+                "//modules/video_coding/media_optimization.cc",
+                "//modules/video_coding/media_optimization.h",
+                "//modules/video_coding/nack_fec_tables.h",
+                "//modules/video_coding/nack_module.cc",
+                "//modules/video_coding/nack_module.h",
+                "//modules/video_coding/packet.cc",
+                "//modules/video_coding/packet.h",
+                "//modules/video_coding/packet_buffer.cc",
+                "//modules/video_coding/packet_buffer.h",
+                "//modules/video_coding/protection_bitrate_calculator.cc",
+                "//modules/video_coding/protection_bitrate_calculator.h",
+                "//modules/video_coding/qp_parser.cc",
+                "//modules/video_coding/qp_parser.h",
+                "//modules/video_coding/receiver.cc",
+                "//modules/video_coding/receiver.h",
+                "//modules/video_coding/rtp_frame_reference_finder.cc",
+                "//modules/video_coding/rtp_frame_reference_finder.h",
+                "//modules/video_coding/rtt_filter.cc",
+                "//modules/video_coding/rtt_filter.h",
+                "//modules/video_coding/session_info.cc",
+                "//modules/video_coding/session_info.h",
+                "//modules/video_coding/timestamp_map.cc",
+                "//modules/video_coding/timestamp_map.h",
+                "//modules/video_coding/timing.cc",
+                "//modules/video_coding/timing.h",
+                "//modules/video_coding/video_codec_initializer.cc",
+                "//modules/video_coding/video_coding_impl.cc",
+                "//modules/video_coding/video_coding_impl.h",
+                "//modules/video_coding/video_receiver.cc",
+                "//modules/video_coding/video_sender.cc"
+            ],
+            "type": "static_library"
+        },
+        "//modules/video_coding:video_coding_utility": {
+            "cflags": [
+                "-fno-strict-aliasing",
+                "--param=ssp-buffer-size=4",
+                "-fstack-protector",
+                "-Wno-builtin-macro-redefined",
+                "-D__DATE__=",
+                "-D__TIME__=",
+                "-D__TIMESTAMP__=",
+                "-funwind-tables",
+                "-fPIC",
+                "-pipe",
+                "-B../../../../../../gecko-dev/media/webrtc/trunk/webrtc/third_party/binutils/Linux_x64/Release/bin",
+                "-m32",
+                "-msse2",
+                "-mfpmath=sse",
+                "-mmmx",
+                "-pthread",
+                "-Wall",
+                "-Werror",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
+                "-Wno-missing-field-initializers",
+                "-Wno-unused-parameter",
+                "-O2",
+                "-fno-ident",
+                "-fdata-sections",
+                "-ffunction-sections",
+                "-fomit-frame-pointer",
+                "-g0",
+                "-fvisibility=hidden",
+                "-Wextra",
+                "-Wno-unused-parameter",
+                "-Wno-missing-field-initializers",
+                "-Wno-strict-overflow"
+            ],
+            "defines": [
+                "V8_DEPRECATION_WARNINGS",
+                "USE_NSS_CERTS=1",
+                "CHROMIUM_BUILD",
+                "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
+                "NDEBUG",
+                "NVALGRIND",
+                "DYNAMIC_ANNOTATIONS_ENABLED=0",
+                "WEBRTC_ENABLE_PROTOBUF=0",
+                "WEBRTC_RESTRICT_LOGGING",
+                "WEBRTC_MOZILLA_BUILD",
+                "WEBRTC_NON_STATIC_TRACE_EVENT_HANDLERS=0",
+                "WEBRTC_POSIX",
+                "WEBRTC_LINUX"
+            ],
+            "deps": [
+                "//:webrtc_common",
+                "//api:optional",
+                "//api/video_codecs:video_codecs_api",
+                "//common_video:common_video",
+                "//modules:module_api",
+                "//modules/rtp_rtcp:rtp_rtcp",
+                "//rtc_base:rtc_base_approved",
+                "//rtc_base:rtc_numerics",
+                "//rtc_base:rtc_task_queue",
+                "//rtc_base:sequenced_task_checker",
+                "//system_wrappers:system_wrappers"
+            ],
+            "include_dirs": [
+                "//",
+                "/tmp/objdir/media/webrtc/trunk/webrtc/gn-output/gen/",
+                "//common_video/include/",
+                "/media/libyuv/libyuv/include/"
+            ],
+            "libs": [
+                "rt"
+            ],
+            "sources": [
+                "//modules/video_coding/codecs/interface/video_codec_interface.h",
+                "//modules/video_coding/codecs/interface/video_error_codes.h",
+                "//modules/video_coding/utility/default_video_bitrate_allocator.cc",
+                "//modules/video_coding/utility/default_video_bitrate_allocator.h",
+                "//modules/video_coding/utility/frame_dropper.cc",
+                "//modules/video_coding/utility/frame_dropper.h",
+                "//modules/video_coding/utility/ivf_file_writer.cc",
+                "//modules/video_coding/utility/ivf_file_writer.h",
+                "//modules/video_coding/utility/moving_average.cc",
+                "//modules/video_coding/utility/moving_average.h",
+                "//modules/video_coding/utility/quality_scaler.cc",
+                "//modules/video_coding/utility/quality_scaler.h",
+                "//modules/video_coding/utility/vp8_header_parser.cc",
+                "//modules/video_coding/utility/vp8_header_parser.h",
+                "//modules/video_coding/utility/vp9_uncompressed_header_parser.cc",
+                "//modules/video_coding/utility/vp9_uncompressed_header_parser.h"
+            ],
+            "type": "source_set"
+        },
+        "//modules/video_coding:webrtc_h264": {
+            "cflags": [
+                "-fno-strict-aliasing",
+                "--param=ssp-buffer-size=4",
+                "-fstack-protector",
+                "-Wno-builtin-macro-redefined",
+                "-D__DATE__=",
+                "-D__TIME__=",
+                "-D__TIMESTAMP__=",
+                "-funwind-tables",
+                "-fPIC",
+                "-pipe",
+                "-B../../../../../../gecko-dev/media/webrtc/trunk/webrtc/third_party/binutils/Linux_x64/Release/bin",
+                "-m32",
+                "-msse2",
+                "-mfpmath=sse",
+                "-mmmx",
+                "-pthread",
+                "-Wall",
+                "-Werror",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
+                "-Wno-missing-field-initializers",
+                "-Wno-unused-parameter",
+                "-O2",
+                "-fno-ident",
+                "-fdata-sections",
+                "-ffunction-sections",
+                "-fomit-frame-pointer",
+                "-g0",
+                "-fvisibility=hidden",
+                "-Wextra",
+                "-Wno-unused-parameter",
+                "-Wno-missing-field-initializers",
+                "-Wno-strict-overflow"
+            ],
+            "defines": [
+                "V8_DEPRECATION_WARNINGS",
+                "USE_NSS_CERTS=1",
+                "CHROMIUM_BUILD",
+                "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
+                "NDEBUG",
+                "NVALGRIND",
+                "DYNAMIC_ANNOTATIONS_ENABLED=0",
+                "WEBRTC_ENABLE_PROTOBUF=0",
+                "WEBRTC_RESTRICT_LOGGING",
+                "WEBRTC_MOZILLA_BUILD",
+                "WEBRTC_NON_STATIC_TRACE_EVENT_HANDLERS=0",
+                "WEBRTC_POSIX",
+                "WEBRTC_LINUX"
+            ],
+            "deps": [
+                "//api:video_frame_api_i420",
+                "//api/video_codecs:video_codecs_api",
+                "//media:rtc_media_base",
+                "//modules/video_coding:video_coding_utility",
+                "//rtc_base:rtc_base_approved",
+                "//system_wrappers:system_wrappers"
+            ],
+            "include_dirs": [
+                "//",
+                "/tmp/objdir/media/webrtc/trunk/webrtc/gn-output/gen/"
+            ],
+            "libs": [
+                "rt"
+            ],
+            "sources": [
+                "//modules/video_coding/codecs/h264/h264.cc",
+                "//modules/video_coding/codecs/h264/include/h264.h"
+            ],
+            "type": "static_library"
+        },
+        "//modules/video_coding:webrtc_i420": {
+            "cflags": [
+                "-fno-strict-aliasing",
+                "--param=ssp-buffer-size=4",
+                "-fstack-protector",
+                "-Wno-builtin-macro-redefined",
+                "-D__DATE__=",
+                "-D__TIME__=",
+                "-D__TIMESTAMP__=",
+                "-funwind-tables",
+                "-fPIC",
+                "-pipe",
+                "-B../../../../../../gecko-dev/media/webrtc/trunk/webrtc/third_party/binutils/Linux_x64/Release/bin",
+                "-m32",
+                "-msse2",
+                "-mfpmath=sse",
+                "-mmmx",
+                "-pthread",
+                "-Wall",
+                "-Werror",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
+                "-Wno-missing-field-initializers",
+                "-Wno-unused-parameter",
+                "-O2",
+                "-fno-ident",
+                "-fdata-sections",
+                "-ffunction-sections",
+                "-fomit-frame-pointer",
+                "-g0",
+                "-fvisibility=hidden",
+                "-Wextra",
+                "-Wno-unused-parameter",
+                "-Wno-missing-field-initializers",
+                "-Wno-strict-overflow"
+            ],
+            "defines": [
+                "V8_DEPRECATION_WARNINGS",
+                "USE_NSS_CERTS=1",
+                "CHROMIUM_BUILD",
+                "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
+                "NDEBUG",
+                "NVALGRIND",
+                "DYNAMIC_ANNOTATIONS_ENABLED=0",
+                "WEBRTC_ENABLE_PROTOBUF=0",
+                "WEBRTC_RESTRICT_LOGGING",
+                "WEBRTC_MOZILLA_BUILD",
+                "WEBRTC_NON_STATIC_TRACE_EVENT_HANDLERS=0",
+                "WEBRTC_POSIX",
+                "WEBRTC_LINUX"
+            ],
+            "deps": [
+                "//:webrtc_common",
+                "//api:video_frame_api_i420",
+                "//common_video:common_video",
+                "//modules/video_coding:video_coding_utility",
+                "//rtc_base:rtc_base_approved",
+                "//system_wrappers:system_wrappers"
+            ],
+            "include_dirs": [
+                "//",
+                "/tmp/objdir/media/webrtc/trunk/webrtc/gn-output/gen/",
+                "//common_video/include/",
+                "/media/libyuv/libyuv/include/"
+            ],
+            "libs": [
+                "rt"
+            ],
+            "sources": [
+                "//modules/video_coding/codecs/i420/i420.cc",
+                "//modules/video_coding/codecs/i420/include/i420.h"
+            ],
+            "type": "static_library"
+        },
+        "//modules/video_coding:webrtc_stereo": {
+            "cflags": [
+                "-fno-strict-aliasing",
+                "--param=ssp-buffer-size=4",
+                "-fstack-protector",
+                "-Wno-builtin-macro-redefined",
+                "-D__DATE__=",
+                "-D__TIME__=",
+                "-D__TIMESTAMP__=",
+                "-funwind-tables",
+                "-fPIC",
+                "-pipe",
+                "-B../../../../../../gecko-dev/media/webrtc/trunk/webrtc/third_party/binutils/Linux_x64/Release/bin",
+                "-m32",
+                "-msse2",
+                "-mfpmath=sse",
+                "-mmmx",
+                "-pthread",
+                "-Wall",
+                "-Werror",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
+                "-Wno-missing-field-initializers",
+                "-Wno-unused-parameter",
+                "-O2",
+                "-fno-ident",
+                "-fdata-sections",
+                "-ffunction-sections",
+                "-fomit-frame-pointer",
+                "-g0",
+                "-fvisibility=hidden",
+                "-Wextra",
+                "-Wno-unused-parameter",
+                "-Wno-missing-field-initializers",
+                "-Wno-strict-overflow"
+            ],
+            "defines": [
+                "V8_DEPRECATION_WARNINGS",
+                "USE_NSS_CERTS=1",
+                "CHROMIUM_BUILD",
+                "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
+                "NDEBUG",
+                "NVALGRIND",
+                "DYNAMIC_ANNOTATIONS_ENABLED=0",
+                "WEBRTC_ENABLE_PROTOBUF=0",
+                "WEBRTC_RESTRICT_LOGGING",
+                "WEBRTC_MOZILLA_BUILD",
+                "WEBRTC_NON_STATIC_TRACE_EVENT_HANDLERS=0",
+                "WEBRTC_POSIX",
+                "WEBRTC_LINUX"
+            ],
+            "deps": [
+                "//:webrtc_common",
+                "//api:video_frame_api_i420",
+                "//api/video_codecs:video_codecs_api",
+                "//common_video:common_video",
+                "//modules:module_api",
+                "//modules/video_coding:video_coding_utility",
+                "//rtc_base:rtc_base_approved",
+                "//system_wrappers:system_wrappers"
+            ],
+            "include_dirs": [
+                "//",
+                "/tmp/objdir/media/webrtc/trunk/webrtc/gn-output/gen/",
+                "//common_video/include/",
+                "/media/libyuv/libyuv/include/"
+            ],
+            "libs": [
+                "rt"
+            ],
+            "sources": [
+                "//modules/video_coding/codecs/stereo/include/stereo_decoder_adapter.h",
+                "//modules/video_coding/codecs/stereo/include/stereo_encoder_adapter.h",
+                "//modules/video_coding/codecs/stereo/stereo_decoder_adapter.cc",
+                "//modules/video_coding/codecs/stereo/stereo_encoder_adapter.cc"
+            ],
+            "type": "static_library"
+        },
+        "//modules/video_coding:webrtc_vp8": {
+            "cflags": [
+                "-fno-strict-aliasing",
+                "--param=ssp-buffer-size=4",
+                "-fstack-protector",
+                "-Wno-builtin-macro-redefined",
+                "-D__DATE__=",
+                "-D__TIME__=",
+                "-D__TIMESTAMP__=",
+                "-funwind-tables",
+                "-fPIC",
+                "-pipe",
+                "-B../../../../../../gecko-dev/media/webrtc/trunk/webrtc/third_party/binutils/Linux_x64/Release/bin",
+                "-m32",
+                "-msse2",
+                "-mfpmath=sse",
+                "-mmmx",
+                "-pthread",
+                "-Wall",
+                "-Werror",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
+                "-Wno-missing-field-initializers",
+                "-Wno-unused-parameter",
+                "-O2",
+                "-fno-ident",
+                "-fdata-sections",
+                "-ffunction-sections",
+                "-fomit-frame-pointer",
+                "-g0",
+                "-fvisibility=hidden",
+                "-Wextra",
+                "-Wno-unused-parameter",
+                "-Wno-missing-field-initializers",
+                "-Wno-strict-overflow"
+            ],
+            "defines": [
+                "V8_DEPRECATION_WARNINGS",
+                "USE_NSS_CERTS=1",
+                "CHROMIUM_BUILD",
+                "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
+                "NDEBUG",
+                "NVALGRIND",
+                "DYNAMIC_ANNOTATIONS_ENABLED=0",
+                "WEBRTC_ENABLE_PROTOBUF=0",
+                "WEBRTC_RESTRICT_LOGGING",
+                "WEBRTC_MOZILLA_BUILD",
+                "WEBRTC_NON_STATIC_TRACE_EVENT_HANDLERS=0",
+                "WEBRTC_POSIX",
+                "WEBRTC_LINUX"
+            ],
+            "deps": [
+                "//:webrtc_common",
+                "//api:optional",
+                "//api/video_codecs:video_codecs_api",
+                "//common_video:common_video",
+                "//modules:module_api",
+                "//modules/video_coding:video_coding_utility",
+                "//rtc_base:rtc_base_approved",
+                "//rtc_base:rtc_numerics",
+                "//rtc_base:sequenced_task_checker",
+                "//system_wrappers:system_wrappers"
+            ],
+            "include_dirs": [
+                "//",
+                "/tmp/objdir/media/webrtc/trunk/webrtc/gn-output/gen/",
+                "//common_video/include/",
+                "/media/libyuv/libyuv/include/"
+            ],
+            "libs": [
+                "rt"
+            ],
+            "sources": [
+                "//modules/video_coding/codecs/vp8/default_temporal_layers.cc",
+                "//modules/video_coding/codecs/vp8/default_temporal_layers.h",
+                "//modules/video_coding/codecs/vp8/include/vp8.h",
+                "//modules/video_coding/codecs/vp8/include/vp8_common_types.h",
+                "//modules/video_coding/codecs/vp8/screenshare_layers.cc",
+                "//modules/video_coding/codecs/vp8/screenshare_layers.h",
+                "//modules/video_coding/codecs/vp8/simulcast_rate_allocator.cc",
+                "//modules/video_coding/codecs/vp8/simulcast_rate_allocator.h",
+                "//modules/video_coding/codecs/vp8/temporal_layers.cc",
+                "//modules/video_coding/codecs/vp8/temporal_layers.h",
+                "//modules/video_coding/codecs/vp8/vp8_impl.cc",
+                "//modules/video_coding/codecs/vp8/vp8_impl.h"
+            ],
+            "type": "static_library"
+        },
+        "//modules/video_coding:webrtc_vp9": {
+            "cflags": [
+                "-fno-strict-aliasing",
+                "--param=ssp-buffer-size=4",
+                "-fstack-protector",
+                "-Wno-builtin-macro-redefined",
+                "-D__DATE__=",
+                "-D__TIME__=",
+                "-D__TIMESTAMP__=",
+                "-funwind-tables",
+                "-fPIC",
+                "-pipe",
+                "-B../../../../../../gecko-dev/media/webrtc/trunk/webrtc/third_party/binutils/Linux_x64/Release/bin",
+                "-m32",
+                "-msse2",
+                "-mfpmath=sse",
+                "-mmmx",
+                "-pthread",
+                "-Wall",
+                "-Werror",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
+                "-Wno-missing-field-initializers",
+                "-Wno-unused-parameter",
+                "-O2",
+                "-fno-ident",
+                "-fdata-sections",
+                "-ffunction-sections",
+                "-fomit-frame-pointer",
+                "-g0",
+                "-fvisibility=hidden",
+                "-Wextra",
+                "-Wno-unused-parameter",
+                "-Wno-missing-field-initializers",
+                "-Wno-strict-overflow"
+            ],
+            "defines": [
+                "V8_DEPRECATION_WARNINGS",
+                "USE_NSS_CERTS=1",
+                "CHROMIUM_BUILD",
+                "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
+                "NDEBUG",
+                "NVALGRIND",
+                "DYNAMIC_ANNOTATIONS_ENABLED=0",
+                "WEBRTC_ENABLE_PROTOBUF=0",
+                "WEBRTC_RESTRICT_LOGGING",
+                "WEBRTC_MOZILLA_BUILD",
+                "WEBRTC_NON_STATIC_TRACE_EVENT_HANDLERS=0",
+                "WEBRTC_POSIX",
+                "WEBRTC_LINUX"
+            ],
+            "deps": [
+                "//common_video:common_video",
+                "//modules:module_api",
+                "//modules/video_coding:video_coding_utility",
+                "//rtc_base:rtc_base_approved",
+                "//system_wrappers:system_wrappers"
+            ],
+            "include_dirs": [
+                "//",
+                "/tmp/objdir/media/webrtc/trunk/webrtc/gn-output/gen/",
+                "//common_video/include/",
+                "/media/libyuv/libyuv/include/"
+            ],
+            "libs": [
+                "rt"
+            ],
+            "sources": [
+                "//modules/video_coding/codecs/vp9/include/vp9.h",
+                "//modules/video_coding/codecs/vp9/screenshare_layers.cc",
+                "//modules/video_coding/codecs/vp9/screenshare_layers.h",
+                "//modules/video_coding/codecs/vp9/vp9_frame_buffer_pool.cc",
+                "//modules/video_coding/codecs/vp9/vp9_frame_buffer_pool.h",
+                "//modules/video_coding/codecs/vp9/vp9_impl.cc",
+                "//modules/video_coding/codecs/vp9/vp9_impl.h"
+            ],
+            "type": "static_library"
+        },
+        "//modules/video_processing:denoiser_filter": {
+            "cflags": [
+                "-fno-strict-aliasing",
+                "--param=ssp-buffer-size=4",
+                "-fstack-protector",
+                "-Wno-builtin-macro-redefined",
+                "-D__DATE__=",
+                "-D__TIME__=",
+                "-D__TIMESTAMP__=",
+                "-funwind-tables",
+                "-fPIC",
+                "-pipe",
+                "-B../../../../../../gecko-dev/media/webrtc/trunk/webrtc/third_party/binutils/Linux_x64/Release/bin",
+                "-m32",
+                "-msse2",
+                "-mfpmath=sse",
+                "-mmmx",
+                "-pthread",
+                "-Wall",
+                "-Werror",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
+                "-Wno-missing-field-initializers",
+                "-Wno-unused-parameter",
+                "-O2",
+                "-fno-ident",
+                "-fdata-sections",
+                "-ffunction-sections",
+                "-fomit-frame-pointer",
+                "-g0",
+                "-fvisibility=hidden",
+                "-Wextra",
+                "-Wno-unused-parameter",
+                "-Wno-missing-field-initializers",
+                "-Wno-strict-overflow"
+            ],
+            "defines": [
+                "V8_DEPRECATION_WARNINGS",
+                "USE_NSS_CERTS=1",
+                "CHROMIUM_BUILD",
+                "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
+                "NDEBUG",
+                "NVALGRIND",
+                "DYNAMIC_ANNOTATIONS_ENABLED=0",
+                "WEBRTC_ENABLE_PROTOBUF=0",
+                "WEBRTC_RESTRICT_LOGGING",
+                "WEBRTC_MOZILLA_BUILD",
+                "WEBRTC_NON_STATIC_TRACE_EVENT_HANDLERS=0",
+                "WEBRTC_POSIX",
+                "WEBRTC_LINUX"
+            ],
+            "deps": [
+                "//modules:module_api"
+            ],
+            "include_dirs": [
+                "//",
+                "/tmp/objdir/media/webrtc/trunk/webrtc/gn-output/gen/"
+            ],
+            "libs": [
+                "rt"
+            ],
+            "sources": [
+                "//modules/video_processing/util/denoiser_filter.h"
+            ],
+            "type": "source_set"
+        },
+        "//modules/video_processing:video_processing": {
+            "cflags": [
+                "-fno-strict-aliasing",
+                "--param=ssp-buffer-size=4",
+                "-fstack-protector",
+                "-Wno-builtin-macro-redefined",
+                "-D__DATE__=",
+                "-D__TIME__=",
+                "-D__TIMESTAMP__=",
+                "-funwind-tables",
+                "-fPIC",
+                "-pipe",
+                "-B../../../../../../gecko-dev/media/webrtc/trunk/webrtc/third_party/binutils/Linux_x64/Release/bin",
+                "-m32",
+                "-msse2",
+                "-mfpmath=sse",
+                "-mmmx",
+                "-pthread",
+                "-Wall",
+                "-Werror",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
+                "-Wno-missing-field-initializers",
+                "-Wno-unused-parameter",
+                "-O2",
+                "-fno-ident",
+                "-fdata-sections",
+                "-ffunction-sections",
+                "-fomit-frame-pointer",
+                "-g0",
+                "-fvisibility=hidden",
+                "-Wextra",
+                "-Wno-unused-parameter",
+                "-Wno-missing-field-initializers",
+                "-Wno-strict-overflow"
+            ],
+            "defines": [
+                "V8_DEPRECATION_WARNINGS",
+                "USE_NSS_CERTS=1",
+                "CHROMIUM_BUILD",
+                "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
+                "NDEBUG",
+                "NVALGRIND",
+                "DYNAMIC_ANNOTATIONS_ENABLED=0",
+                "WEBRTC_ENABLE_PROTOBUF=0",
+                "WEBRTC_RESTRICT_LOGGING",
+                "WEBRTC_MOZILLA_BUILD",
+                "WEBRTC_NON_STATIC_TRACE_EVENT_HANDLERS=0",
+                "WEBRTC_POSIX",
+                "WEBRTC_LINUX"
+            ],
+            "deps": [
+                "//common_audio:common_audio",
+                "//common_video:common_video",
+                "//modules:module_api",
+                "//modules/utility:utility",
+                "//modules/video_processing:denoiser_filter",
+                "//modules/video_processing:video_processing_sse2",
+                "//rtc_base:rtc_base_approved",
+                "//system_wrappers:system_wrappers"
+            ],
+            "include_dirs": [
+                "/media/libyuv/libyuv/include/",
+                "//",
+                "/tmp/objdir/media/webrtc/trunk/webrtc/gn-output/gen/",
+                "//common_audio/resampler/include/",
+                "//common_audio/signal_processing/include/",
+                "//common_audio/vad/include/",
+                "//common_video/include/",
+                "/media/libyuv/libyuv/include/"
+            ],
+            "libs": [
+                "rt"
+            ],
+            "sources": [
+                "//modules/video_processing/util/denoiser_filter.cc",
+                "//modules/video_processing/util/denoiser_filter_c.cc",
+                "//modules/video_processing/util/denoiser_filter_c.h",
+                "//modules/video_processing/util/noise_estimation.cc",
+                "//modules/video_processing/util/noise_estimation.h",
+                "//modules/video_processing/util/skin_detection.cc",
+                "//modules/video_processing/util/skin_detection.h",
+                "//modules/video_processing/video_denoiser.cc",
+                "//modules/video_processing/video_denoiser.h"
+            ],
+            "type": "static_library"
+        },
+        "//modules/video_processing:video_processing_sse2": {
+            "cflags": [
+                "-msse2",
+                "-fno-strict-aliasing",
+                "--param=ssp-buffer-size=4",
+                "-fstack-protector",
+                "-Wno-builtin-macro-redefined",
+                "-D__DATE__=",
+                "-D__TIME__=",
+                "-D__TIMESTAMP__=",
+                "-funwind-tables",
+                "-fPIC",
+                "-pipe",
+                "-B../../../../../../gecko-dev/media/webrtc/trunk/webrtc/third_party/binutils/Linux_x64/Release/bin",
+                "-m32",
+                "-msse2",
+                "-mfpmath=sse",
+                "-mmmx",
+                "-pthread",
+                "-Wall",
+                "-Werror",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
+                "-Wno-missing-field-initializers",
+                "-Wno-unused-parameter",
+                "-O2",
+                "-fno-ident",
+                "-fdata-sections",
+                "-ffunction-sections",
+                "-fomit-frame-pointer",
+                "-g0",
+                "-fvisibility=hidden",
+                "-Wextra",
+                "-Wno-unused-parameter",
+                "-Wno-missing-field-initializers",
+                "-Wno-strict-overflow"
+            ],
+            "defines": [
+                "V8_DEPRECATION_WARNINGS",
+                "USE_NSS_CERTS=1",
+                "CHROMIUM_BUILD",
+                "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
+                "NDEBUG",
+                "NVALGRIND",
+                "DYNAMIC_ANNOTATIONS_ENABLED=0",
+                "WEBRTC_ENABLE_PROTOBUF=0",
+                "WEBRTC_RESTRICT_LOGGING",
+                "WEBRTC_MOZILLA_BUILD",
+                "WEBRTC_NON_STATIC_TRACE_EVENT_HANDLERS=0",
+                "WEBRTC_POSIX",
+                "WEBRTC_LINUX"
+            ],
+            "deps": [
+                "//modules/video_processing:denoiser_filter",
+                "//rtc_base:rtc_base_approved",
+                "//system_wrappers:system_wrappers"
+            ],
+            "include_dirs": [
+                "//",
+                "/tmp/objdir/media/webrtc/trunk/webrtc/gn-output/gen/"
+            ],
+            "libs": [
+                "rt"
+            ],
+            "sources": [
+                "//modules/video_processing/util/denoiser_filter_sse2.cc",
+                "//modules/video_processing/util/denoiser_filter_sse2.h"
+            ],
+            "type": "static_library"
+        },
+        "//modules:module_api": {
+            "cflags": [
+                "-fno-strict-aliasing",
+                "--param=ssp-buffer-size=4",
+                "-fstack-protector",
+                "-Wno-builtin-macro-redefined",
+                "-D__DATE__=",
+                "-D__TIME__=",
+                "-D__TIMESTAMP__=",
+                "-funwind-tables",
+                "-fPIC",
+                "-pipe",
+                "-B../../../../../../gecko-dev/media/webrtc/trunk/webrtc/third_party/binutils/Linux_x64/Release/bin",
+                "-m32",
+                "-msse2",
+                "-mfpmath=sse",
+                "-mmmx",
+                "-pthread",
+                "-Wall",
+                "-Werror",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
+                "-Wno-missing-field-initializers",
+                "-Wno-unused-parameter",
+                "-O2",
+                "-fno-ident",
+                "-fdata-sections",
+                "-ffunction-sections",
+                "-fomit-frame-pointer",
+                "-g0",
+                "-fvisibility=hidden",
+                "-Wextra",
+                "-Wno-unused-parameter",
+                "-Wno-missing-field-initializers",
+                "-Wno-strict-overflow"
+            ],
+            "defines": [
+                "V8_DEPRECATION_WARNINGS",
+                "USE_NSS_CERTS=1",
+                "CHROMIUM_BUILD",
+                "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
+                "NDEBUG",
+                "NVALGRIND",
+                "DYNAMIC_ANNOTATIONS_ENABLED=0",
+                "WEBRTC_ENABLE_PROTOBUF=0",
+                "WEBRTC_RESTRICT_LOGGING",
+                "WEBRTC_MOZILLA_BUILD",
+                "WEBRTC_NON_STATIC_TRACE_EVENT_HANDLERS=0",
+                "WEBRTC_POSIX",
+                "WEBRTC_LINUX"
+            ],
+            "deps": [
+                "//:webrtc_common",
+                "//api:optional",
+                "//api:video_frame_api",
+                "//api:video_frame_api_i420",
+                "//modules:module_api_public",
+                "//modules/video_coding:codec_globals_headers",
+                "//rtc_base:rtc_base_approved"
+            ],
+            "include_dirs": [
+                "//",
+                "/tmp/objdir/media/webrtc/trunk/webrtc/gn-output/gen/"
+            ],
+            "libs": [
+                "rt"
+            ],
+            "sources": [
+                "//modules/include/module.h",
+                "//modules/include/module_common_types.h"
+            ],
+            "type": "source_set"
+        },
+        "//modules:module_api_public": {
+            "cflags": [
+                "-fno-strict-aliasing",
+                "--param=ssp-buffer-size=4",
+                "-fstack-protector",
+                "-Wno-builtin-macro-redefined",
+                "-D__DATE__=",
+                "-D__TIME__=",
+                "-D__TIMESTAMP__=",
+                "-funwind-tables",
+                "-fPIC",
+                "-pipe",
+                "-B../../../../../../gecko-dev/media/webrtc/trunk/webrtc/third_party/binutils/Linux_x64/Release/bin",
+                "-m32",
+                "-msse2",
+                "-mfpmath=sse",
+                "-mmmx",
+                "-pthread",
+                "-Wall",
+                "-Werror",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
+                "-Wno-missing-field-initializers",
+                "-Wno-unused-parameter",
+                "-O2",
+                "-fno-ident",
+                "-fdata-sections",
+                "-ffunction-sections",
+                "-fomit-frame-pointer",
+                "-g0",
+                "-fvisibility=hidden",
+                "-Wextra",
+                "-Wno-unused-parameter",
+                "-Wno-missing-field-initializers",
+                "-Wno-strict-overflow"
+            ],
+            "defines": [
+                "V8_DEPRECATION_WARNINGS",
+                "USE_NSS_CERTS=1",
+                "CHROMIUM_BUILD",
+                "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
+                "NDEBUG",
+                "NVALGRIND",
+                "DYNAMIC_ANNOTATIONS_ENABLED=0",
+                "WEBRTC_ENABLE_PROTOBUF=0",
+                "WEBRTC_RESTRICT_LOGGING",
+                "WEBRTC_MOZILLA_BUILD",
+                "WEBRTC_NON_STATIC_TRACE_EVENT_HANDLERS=0",
+                "WEBRTC_POSIX",
+                "WEBRTC_LINUX"
+            ],
+            "deps": [
+                "//:webrtc_common",
+                "//api:optional"
+            ],
+            "include_dirs": [
+                "//",
+                "/tmp/objdir/media/webrtc/trunk/webrtc/gn-output/gen/"
+            ],
+            "libs": [],
+            "sources": [
+                "//modules/include/module_common_types_public.h"
+            ],
+            "type": "source_set"
+        },
+        "//rtc_base:compile_assert_c": {
+            "cflags": [
+                "-fno-strict-aliasing",
+                "--param=ssp-buffer-size=4",
+                "-fstack-protector",
+                "-Wno-builtin-macro-redefined",
+                "-D__DATE__=",
+                "-D__TIME__=",
+                "-D__TIMESTAMP__=",
+                "-funwind-tables",
+                "-fPIC",
+                "-pipe",
+                "-B../../../../../../gecko-dev/media/webrtc/trunk/webrtc/third_party/binutils/Linux_x64/Release/bin",
+                "-m32",
+                "-msse2",
+                "-mfpmath=sse",
+                "-mmmx",
+                "-pthread",
+                "-Wall",
+                "-Werror",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
+                "-Wno-missing-field-initializers",
+                "-Wno-unused-parameter",
+                "-O2",
+                "-fno-ident",
+                "-fdata-sections",
+                "-ffunction-sections",
+                "-fomit-frame-pointer",
+                "-g0",
+                "-fvisibility=hidden"
+            ],
+            "defines": [
+                "V8_DEPRECATION_WARNINGS",
+                "USE_NSS_CERTS=1",
+                "CHROMIUM_BUILD",
+                "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
+                "NDEBUG",
+                "NVALGRIND",
+                "DYNAMIC_ANNOTATIONS_ENABLED=0"
+            ],
+            "deps": [],
+            "include_dirs": [
+                "//",
+                "/tmp/objdir/media/webrtc/trunk/webrtc/gn-output/gen/"
+            ],
+            "libs": [],
+            "sources": [
+                "//rtc_base/compile_assert_c.h"
+            ],
+            "type": "source_set"
+        },
+        "//rtc_base:gtest_prod": {
+            "cflags": [
+                "-fno-strict-aliasing",
+                "--param=ssp-buffer-size=4",
+                "-fstack-protector",
+                "-Wno-builtin-macro-redefined",
+                "-D__DATE__=",
+                "-D__TIME__=",
+                "-D__TIMESTAMP__=",
+                "-funwind-tables",
+                "-fPIC",
+                "-pipe",
+                "-B../../../../../../gecko-dev/media/webrtc/trunk/webrtc/third_party/binutils/Linux_x64/Release/bin",
+                "-m32",
+                "-msse2",
+                "-mfpmath=sse",
+                "-mmmx",
+                "-pthread",
+                "-Wall",
+                "-Werror",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
+                "-Wno-missing-field-initializers",
+                "-Wno-unused-parameter",
+                "-O2",
+                "-fno-ident",
+                "-fdata-sections",
+                "-ffunction-sections",
+                "-fomit-frame-pointer",
+                "-g0",
+                "-fvisibility=hidden",
+                "-Wextra",
+                "-Wno-unused-parameter",
+                "-Wno-missing-field-initializers",
+                "-Wno-strict-overflow"
+            ],
+            "defines": [
+                "V8_DEPRECATION_WARNINGS",
+                "USE_NSS_CERTS=1",
+                "CHROMIUM_BUILD",
+                "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
+                "NDEBUG",
+                "NVALGRIND",
+                "DYNAMIC_ANNOTATIONS_ENABLED=0",
+                "WEBRTC_ENABLE_PROTOBUF=0",
+                "WEBRTC_RESTRICT_LOGGING",
+                "WEBRTC_MOZILLA_BUILD",
+                "WEBRTC_NON_STATIC_TRACE_EVENT_HANDLERS=0",
+                "WEBRTC_POSIX",
+                "WEBRTC_LINUX"
+            ],
+            "deps": [],
+            "include_dirs": [
+                "//",
+                "/tmp/objdir/media/webrtc/trunk/webrtc/gn-output/gen/"
+            ],
+            "libs": [],
+            "sources": [
+                "//rtc_base/gtest_prod_util.h"
+            ],
+            "type": "source_set"
+        },
+        "//rtc_base:protobuf_utils": {
+            "cflags": [
+                "-fno-strict-aliasing",
+                "--param=ssp-buffer-size=4",
+                "-fstack-protector",
+                "-Wno-builtin-macro-redefined",
+                "-D__DATE__=",
+                "-D__TIME__=",
+                "-D__TIMESTAMP__=",
+                "-funwind-tables",
+                "-fPIC",
+                "-pipe",
+                "-B../../../../../../gecko-dev/media/webrtc/trunk/webrtc/third_party/binutils/Linux_x64/Release/bin",
+                "-m32",
+                "-msse2",
+                "-mfpmath=sse",
+                "-mmmx",
+                "-pthread",
+                "-Wall",
+                "-Werror",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
+                "-Wno-missing-field-initializers",
+                "-Wno-unused-parameter",
+                "-O2",
+                "-fno-ident",
+                "-fdata-sections",
+                "-ffunction-sections",
+                "-fomit-frame-pointer",
+                "-g0",
+                "-fvisibility=hidden"
+            ],
+            "defines": [
+                "V8_DEPRECATION_WARNINGS",
+                "USE_NSS_CERTS=1",
+                "CHROMIUM_BUILD",
+                "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
+                "NDEBUG",
+                "NVALGRIND",
+                "DYNAMIC_ANNOTATIONS_ENABLED=0"
+            ],
+            "deps": [],
+            "include_dirs": [
+                "//",
+                "/tmp/objdir/media/webrtc/trunk/webrtc/gn-output/gen/"
+            ],
+            "libs": [],
+            "sources": [
+                "//rtc_base/protobuf_utils.h"
+            ],
+            "type": "source_set"
+        },
+        "//rtc_base:rtc_base": {
+            "cflags": [
+                "-fno-strict-aliasing",
+                "--param=ssp-buffer-size=4",
+                "-fstack-protector",
+                "-Wno-builtin-macro-redefined",
+                "-D__DATE__=",
+                "-D__TIME__=",
+                "-D__TIMESTAMP__=",
+                "-funwind-tables",
+                "-fPIC",
+                "-pipe",
+                "-B../../../../../../gecko-dev/media/webrtc/trunk/webrtc/third_party/binutils/Linux_x64/Release/bin",
+                "-m32",
+                "-msse2",
+                "-mfpmath=sse",
+                "-mmmx",
+                "-pthread",
+                "-Wall",
+                "-Werror",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
+                "-Wno-missing-field-initializers",
+                "-Wno-unused-parameter",
+                "-O2",
+                "-fno-ident",
+                "-fdata-sections",
+                "-ffunction-sections",
+                "-fomit-frame-pointer",
+                "-g0",
+                "-fvisibility=hidden",
+                "-Wextra",
+                "-Wno-unused-parameter",
+                "-Wno-missing-field-initializers",
+                "-Wno-strict-overflow"
+            ],
+            "defines": [
+                "V8_DEPRECATION_WARNINGS",
+                "USE_NSS_CERTS=1",
+                "CHROMIUM_BUILD",
+                "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
+                "NDEBUG",
+                "NVALGRIND",
+                "DYNAMIC_ANNOTATIONS_ENABLED=0",
+                "WEBRTC_ENABLE_PROTOBUF=0",
+                "WEBRTC_RESTRICT_LOGGING",
+                "WEBRTC_MOZILLA_BUILD",
+                "WEBRTC_NON_STATIC_TRACE_EVENT_HANDLERS=0",
+                "WEBRTC_POSIX",
+                "WEBRTC_LINUX"
+            ],
+            "deps": [],
+            "include_dirs": [
+                "//",
+                "/tmp/objdir/media/webrtc/trunk/webrtc/gn-output/gen/"
+            ],
+            "libs": [],
+            "sources": [],
+            "type": "static_library"
+        },
+        "//rtc_base:rtc_base_approved": {
+            "cflags": [
+                "-fno-strict-aliasing",
+                "--param=ssp-buffer-size=4",
+                "-fstack-protector",
+                "-Wno-builtin-macro-redefined",
+                "-D__DATE__=",
+                "-D__TIME__=",
+                "-D__TIMESTAMP__=",
+                "-funwind-tables",
+                "-fPIC",
+                "-pipe",
+                "-B../../../../../../gecko-dev/media/webrtc/trunk/webrtc/third_party/binutils/Linux_x64/Release/bin",
+                "-m32",
+                "-msse2",
+                "-mfpmath=sse",
+                "-mmmx",
+                "-pthread",
+                "-Wall",
+                "-Werror",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
+                "-Wno-missing-field-initializers",
+                "-Wno-unused-parameter",
+                "-O2",
+                "-fno-ident",
+                "-fdata-sections",
+                "-ffunction-sections",
+                "-fomit-frame-pointer",
+                "-g0",
+                "-fvisibility=hidden",
+                "-Wextra",
+                "-Wno-unused-parameter",
+                "-Wno-missing-field-initializers",
+                "-Wno-strict-overflow"
+            ],
+            "defines": [
+                "V8_DEPRECATION_WARNINGS",
+                "USE_NSS_CERTS=1",
+                "CHROMIUM_BUILD",
+                "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
+                "NDEBUG",
+                "NVALGRIND",
+                "DYNAMIC_ANNOTATIONS_ENABLED=0",
+                "WEBRTC_ENABLE_PROTOBUF=0",
+                "WEBRTC_RESTRICT_LOGGING",
+                "WEBRTC_MOZILLA_BUILD",
+                "WEBRTC_NON_STATIC_TRACE_EVENT_HANDLERS=0",
+                "WEBRTC_POSIX",
+                "WEBRTC_LINUX"
+            ],
+            "deps": [
+                "//rtc_base:rtc_base_approved_generic"
+            ],
+            "include_dirs": [
+                "//",
+                "/tmp/objdir/media/webrtc/trunk/webrtc/gn-output/gen/"
+            ],
+            "libs": [],
+            "sources": [],
+            "type": "source_set"
+        },
+        "//rtc_base:rtc_base_approved_generic": {
+            "cflags": [
+                "-fno-strict-aliasing",
+                "--param=ssp-buffer-size=4",
+                "-fstack-protector",
+                "-Wno-builtin-macro-redefined",
+                "-D__DATE__=",
+                "-D__TIME__=",
+                "-D__TIMESTAMP__=",
+                "-funwind-tables",
+                "-fPIC",
+                "-pipe",
+                "-B../../../../../../gecko-dev/media/webrtc/trunk/webrtc/third_party/binutils/Linux_x64/Release/bin",
+                "-m32",
+                "-msse2",
+                "-mfpmath=sse",
+                "-mmmx",
+                "-pthread",
+                "-Wall",
+                "-Werror",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
+                "-Wno-missing-field-initializers",
+                "-Wno-unused-parameter",
+                "-O2",
+                "-fno-ident",
+                "-fdata-sections",
+                "-ffunction-sections",
+                "-fomit-frame-pointer",
+                "-g0",
+                "-fvisibility=hidden",
+                "-Wextra",
+                "-Wno-unused-parameter",
+                "-Wno-missing-field-initializers",
+                "-Wno-strict-overflow"
+            ],
+            "defines": [
+                "V8_DEPRECATION_WARNINGS",
+                "USE_NSS_CERTS=1",
+                "CHROMIUM_BUILD",
+                "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
+                "NDEBUG",
+                "NVALGRIND",
+                "DYNAMIC_ANNOTATIONS_ENABLED=0",
+                "WEBRTC_ENABLE_PROTOBUF=0",
+                "WEBRTC_RESTRICT_LOGGING",
+                "WEBRTC_MOZILLA_BUILD",
+                "WEBRTC_NON_STATIC_TRACE_EVENT_HANDLERS=0",
+                "WEBRTC_POSIX",
+                "WEBRTC_LINUX"
+            ],
+            "deps": [
+                "//:webrtc_common"
+            ],
+            "include_dirs": [
+                "//",
+                "/tmp/objdir/media/webrtc/trunk/webrtc/gn-output/gen/"
+            ],
+            "libs": [],
+            "sources": [
+                "//rtc_base/arraysize.h",
+                "//rtc_base/atomicops.h",
+                "//rtc_base/base64.cc",
+                "//rtc_base/base64.h",
+                "//rtc_base/basictypes.h",
+                "//rtc_base/bind.h",
+                "//rtc_base/bitbuffer.cc",
+                "//rtc_base/bitbuffer.h",
+                "//rtc_base/bitrateallocationstrategy.cc",
+                "//rtc_base/bitrateallocationstrategy.h",
+                "//rtc_base/buffer.h",
+                "//rtc_base/bufferqueue.cc",
+                "//rtc_base/bufferqueue.h",
+                "//rtc_base/bytebuffer.cc",
+                "//rtc_base/bytebuffer.h",
+                "//rtc_base/byteorder.h",
+                "//rtc_base/checks.cc",
+                "//rtc_base/checks.h",
+                "//rtc_base/constructormagic.h",
+                "//rtc_base/copyonwritebuffer.cc",
+                "//rtc_base/copyonwritebuffer.h",
+                "//rtc_base/criticalsection.cc",
+                "//rtc_base/criticalsection.h",
+                "//rtc_base/deprecation.h",
+                "//rtc_base/event_tracer.cc",
+                "//rtc_base/event_tracer.h",
+                "//rtc_base/file.cc",
+                "//rtc_base/file.h",
+                "//rtc_base/flags.cc",
+                "//rtc_base/flags.h",
+                "//rtc_base/format_macros.h",
+                "//rtc_base/function_view.h",
+                "//rtc_base/ignore_wundef.h",
+                "//rtc_base/location.cc",
+                "//rtc_base/location.h",
+                "//rtc_base/numerics/histogram_percentile_counter.cc",
+                "//rtc_base/numerics/histogram_percentile_counter.h",
+                "//rtc_base/numerics/mod_ops.h",
+                "//rtc_base/numerics/moving_max_counter.h",
+                "//rtc_base/numerics/safe_compare.h",
+                "//rtc_base/numerics/safe_conversions.h",
+                "//rtc_base/numerics/safe_conversions_impl.h",
+                "//rtc_base/numerics/safe_minmax.h",
+                "//rtc_base/onetimeevent.h",
+                "//rtc_base/pathutils.cc",
+                "//rtc_base/pathutils.h",
+                "//rtc_base/platform_file.cc",
+                "//rtc_base/platform_file.h",
+                "//rtc_base/platform_thread.cc",
+                "//rtc_base/platform_thread.h",
+                "//rtc_base/platform_thread_types.h",
+                "//rtc_base/ptr_util.h",
+                "//rtc_base/race_checker.cc",
+                "//rtc_base/race_checker.h",
+                "//rtc_base/random.cc",
+                "//rtc_base/random.h",
+                "//rtc_base/rate_limiter.cc",
+                "//rtc_base/rate_limiter.h",
+                "//rtc_base/rate_statistics.cc",
+                "//rtc_base/rate_statistics.h",
+                "//rtc_base/ratetracker.cc",
+                "//rtc_base/ratetracker.h",
+                "//rtc_base/refcount.h",
+                "//rtc_base/refcountedobject.h",
+                "//rtc_base/refcounter.h",
+                "//rtc_base/sanitizer.h",
+                "//rtc_base/scoped_ref_ptr.h",
+                "//rtc_base/string_to_number.cc",
+                "//rtc_base/string_to_number.h",
+                "//rtc_base/stringencode.cc",
+                "//rtc_base/stringencode.h",
+                "//rtc_base/stringize_macros.h",
+                "//rtc_base/stringutils.cc",
+                "//rtc_base/stringutils.h",
+                "//rtc_base/swap_queue.h",
+                "//rtc_base/template_util.h",
+                "//rtc_base/thread_annotations.h",
+                "//rtc_base/thread_checker.h",
+                "//rtc_base/thread_checker_impl.cc",
+                "//rtc_base/thread_checker_impl.h",
+                "//rtc_base/timestampaligner.cc",
+                "//rtc_base/timestampaligner.h",
+                "//rtc_base/timeutils.cc",
+                "//rtc_base/timeutils.h",
+                "//rtc_base/trace_event.h",
+                "//rtc_base/type_traits.h",
+                "//rtc_base/file_posix.cc",
+                "//rtc_base/event.cc",
+                "//rtc_base/event.h",
+                "//rtc_base/logging.cc",
+                "//rtc_base/logging.h",
+                "//rtc_base/asyncresolverinterface.cc",
+                "//rtc_base/asyncresolverinterface.h",
+                "//rtc_base/asyncsocket.cc",
+                "//rtc_base/asyncsocket.h",
+                "//rtc_base/ipaddress.cc",
+                "//rtc_base/ipaddress.h",
+                "//rtc_base/messagehandler.cc",
+                "//rtc_base/messagehandler.h",
+                "//rtc_base/messagequeue.cc",
+                "//rtc_base/messagequeue.h",
+                "//rtc_base/nethelpers.cc",
+                "//rtc_base/nethelpers.h",
+                "//rtc_base/physicalsocketserver.cc",
+                "//rtc_base/physicalsocketserver.h",
+                "//rtc_base/nullsocketserver.cc",
+                "//rtc_base/nullsocketserver.h",
+                "//rtc_base/signalthread.cc",
+                "//rtc_base/signalthread.h",
+                "//rtc_base/socketaddress.cc",
+                "//rtc_base/socketaddress.h",
+                "//rtc_base/thread.cc",
+                "//rtc_base/thread.h"
+            ],
+            "type": "source_set"
+        },
+        "//rtc_base:rtc_numerics": {
+            "cflags": [
+                "-fno-strict-aliasing",
+                "--param=ssp-buffer-size=4",
+                "-fstack-protector",
+                "-Wno-builtin-macro-redefined",
+                "-D__DATE__=",
+                "-D__TIME__=",
+                "-D__TIMESTAMP__=",
+                "-funwind-tables",
+                "-fPIC",
+                "-pipe",
+                "-B../../../../../../gecko-dev/media/webrtc/trunk/webrtc/third_party/binutils/Linux_x64/Release/bin",
+                "-m32",
+                "-msse2",
+                "-mfpmath=sse",
+                "-mmmx",
+                "-pthread",
+                "-Wall",
+                "-Werror",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
+                "-Wno-missing-field-initializers",
+                "-Wno-unused-parameter",
+                "-O2",
+                "-fno-ident",
+                "-fdata-sections",
+                "-ffunction-sections",
+                "-fomit-frame-pointer",
+                "-g0",
+                "-fvisibility=hidden",
+                "-Wextra",
+                "-Wno-unused-parameter",
+                "-Wno-missing-field-initializers",
+                "-Wno-strict-overflow"
+            ],
+            "defines": [
+                "V8_DEPRECATION_WARNINGS",
+                "USE_NSS_CERTS=1",
+                "CHROMIUM_BUILD",
+                "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
+                "NDEBUG",
+                "NVALGRIND",
+                "DYNAMIC_ANNOTATIONS_ENABLED=0",
+                "WEBRTC_ENABLE_PROTOBUF=0",
+                "WEBRTC_RESTRICT_LOGGING",
+                "WEBRTC_MOZILLA_BUILD",
+                "WEBRTC_NON_STATIC_TRACE_EVENT_HANDLERS=0",
+                "WEBRTC_POSIX",
+                "WEBRTC_LINUX"
+            ],
+            "deps": [
+                "//api:optional",
+                "//rtc_base:rtc_base_approved"
+            ],
+            "include_dirs": [
+                "//",
+                "/tmp/objdir/media/webrtc/trunk/webrtc/gn-output/gen/"
+            ],
+            "libs": [],
+            "sources": [
+                "//rtc_base/numerics/exp_filter.cc",
+                "//rtc_base/numerics/exp_filter.h",
+                "//rtc_base/numerics/moving_median_filter.h",
+                "//rtc_base/numerics/percentile_filter.h",
+                "//rtc_base/numerics/sequence_number_util.h"
+            ],
+            "type": "static_library"
+        },
+        "//rtc_base:rtc_task_queue": {
+            "cflags": [
+                "-fno-strict-aliasing",
+                "--param=ssp-buffer-size=4",
+                "-fstack-protector",
+                "-Wno-builtin-macro-redefined",
+                "-D__DATE__=",
+                "-D__TIME__=",
+                "-D__TIMESTAMP__=",
+                "-funwind-tables",
+                "-fPIC",
+                "-pipe",
+                "-B../../../../../../gecko-dev/media/webrtc/trunk/webrtc/third_party/binutils/Linux_x64/Release/bin",
+                "-m32",
+                "-msse2",
+                "-mfpmath=sse",
+                "-mmmx",
+                "-pthread",
+                "-Wall",
+                "-Werror",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
+                "-Wno-missing-field-initializers",
+                "-Wno-unused-parameter",
+                "-O2",
+                "-fno-ident",
+                "-fdata-sections",
+                "-ffunction-sections",
+                "-fomit-frame-pointer",
+                "-g0",
+                "-fvisibility=hidden",
+                "-Wextra",
+                "-Wno-unused-parameter",
+                "-Wno-missing-field-initializers",
+                "-Wno-strict-overflow"
+            ],
+            "defines": [
+                "V8_DEPRECATION_WARNINGS",
+                "USE_NSS_CERTS=1",
+                "CHROMIUM_BUILD",
+                "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
+                "NDEBUG",
+                "NVALGRIND",
+                "DYNAMIC_ANNOTATIONS_ENABLED=0",
+                "WEBRTC_ENABLE_PROTOBUF=0",
+                "WEBRTC_RESTRICT_LOGGING",
+                "WEBRTC_MOZILLA_BUILD",
+                "WEBRTC_NON_STATIC_TRACE_EVENT_HANDLERS=0",
+                "WEBRTC_POSIX",
+                "WEBRTC_LINUX"
+            ],
+            "deps": [
+                "//rtc_base:rtc_base_approved",
+                "//rtc_base:rtc_task_queue_api",
+                "//rtc_base:rtc_task_queue_impl"
+            ],
+            "include_dirs": [
+                "//",
+                "/tmp/objdir/media/webrtc/trunk/webrtc/gn-output/gen/"
+            ],
+            "libs": [],
+            "sources": [],
+            "type": "source_set"
+        },
+        "//rtc_base:rtc_task_queue_api": {
+            "cflags": [
+                "-fno-strict-aliasing",
+                "--param=ssp-buffer-size=4",
+                "-fstack-protector",
+                "-Wno-builtin-macro-redefined",
+                "-D__DATE__=",
+                "-D__TIME__=",
+                "-D__TIMESTAMP__=",
+                "-funwind-tables",
+                "-fPIC",
+                "-pipe",
+                "-B../../../../../../gecko-dev/media/webrtc/trunk/webrtc/third_party/binutils/Linux_x64/Release/bin",
+                "-m32",
+                "-msse2",
+                "-mfpmath=sse",
+                "-mmmx",
+                "-pthread",
+                "-Wall",
+                "-Werror",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
+                "-Wno-missing-field-initializers",
+                "-Wno-unused-parameter",
+                "-O2",
+                "-fno-ident",
+                "-fdata-sections",
+                "-ffunction-sections",
+                "-fomit-frame-pointer",
+                "-g0",
+                "-fvisibility=hidden",
+                "-Wextra",
+                "-Wno-unused-parameter",
+                "-Wno-missing-field-initializers",
+                "-Wno-strict-overflow"
+            ],
+            "defines": [
+                "V8_DEPRECATION_WARNINGS",
+                "USE_NSS_CERTS=1",
+                "CHROMIUM_BUILD",
+                "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
+                "NDEBUG",
+                "NVALGRIND",
+                "DYNAMIC_ANNOTATIONS_ENABLED=0",
+                "WEBRTC_ENABLE_PROTOBUF=0",
+                "WEBRTC_RESTRICT_LOGGING",
+                "WEBRTC_MOZILLA_BUILD",
+                "WEBRTC_NON_STATIC_TRACE_EVENT_HANDLERS=0",
+                "WEBRTC_POSIX",
+                "WEBRTC_LINUX"
+            ],
+            "deps": [
+                "//rtc_base:rtc_base_approved"
+            ],
+            "include_dirs": [
+                "//",
+                "/tmp/objdir/media/webrtc/trunk/webrtc/gn-output/gen/"
+            ],
+            "libs": [],
+            "sources": [
+                "//rtc_base/task_queue.h"
+            ],
+            "type": "source_set"
+        },
+        "//rtc_base:rtc_task_queue_impl": {
+            "cflags": [
+                "-fno-strict-aliasing",
+                "--param=ssp-buffer-size=4",
+                "-fstack-protector",
+                "-Wno-builtin-macro-redefined",
+                "-D__DATE__=",
+                "-D__TIME__=",
+                "-D__TIMESTAMP__=",
+                "-funwind-tables",
+                "-fPIC",
+                "-pipe",
+                "-B../../../../../../gecko-dev/media/webrtc/trunk/webrtc/third_party/binutils/Linux_x64/Release/bin",
+                "-m32",
+                "-msse2",
+                "-mfpmath=sse",
+                "-mmmx",
+                "-pthread",
+                "-Wall",
+                "-Werror",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
+                "-Wno-missing-field-initializers",
+                "-Wno-unused-parameter",
+                "-O2",
+                "-fno-ident",
+                "-fdata-sections",
+                "-ffunction-sections",
+                "-fomit-frame-pointer",
+                "-g0",
+                "-fvisibility=hidden",
+                "-Wextra",
+                "-Wno-unused-parameter",
+                "-Wno-missing-field-initializers",
+                "-Wno-strict-overflow"
+            ],
+            "defines": [
+                "V8_DEPRECATION_WARNINGS",
+                "USE_NSS_CERTS=1",
+                "CHROMIUM_BUILD",
+                "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
+                "NDEBUG",
+                "NVALGRIND",
+                "DYNAMIC_ANNOTATIONS_ENABLED=0",
+                "WEBRTC_ENABLE_PROTOBUF=0",
+                "WEBRTC_RESTRICT_LOGGING",
+                "WEBRTC_MOZILLA_BUILD",
+                "WEBRTC_NON_STATIC_TRACE_EVENT_HANDLERS=0",
+                "WEBRTC_POSIX",
+                "WEBRTC_LINUX"
+            ],
+            "deps": [
+                "//rtc_base:rtc_base_approved",
+                "//rtc_base:rtc_task_queue_api"
+            ],
+            "include_dirs": [
+                "/ipc/chromium/src/third_party/libevent/include/",
+                "/ipc/chromium/src/third_party/libevent/linux/",
+                "//",
+                "/tmp/objdir/media/webrtc/trunk/webrtc/gn-output/gen/"
+            ],
+            "libs": [],
+            "sources": [
+                "//rtc_base/task_queue_libevent.cc",
+                "//rtc_base/task_queue_posix.cc",
+                "//rtc_base/task_queue_posix.h"
+            ],
+            "type": "source_set"
+        },
+        "//rtc_base:sequenced_task_checker": {
+            "cflags": [
+                "-fno-strict-aliasing",
+                "--param=ssp-buffer-size=4",
+                "-fstack-protector",
+                "-Wno-builtin-macro-redefined",
+                "-D__DATE__=",
+                "-D__TIME__=",
+                "-D__TIMESTAMP__=",
+                "-funwind-tables",
+                "-fPIC",
+                "-pipe",
+                "-B../../../../../../gecko-dev/media/webrtc/trunk/webrtc/third_party/binutils/Linux_x64/Release/bin",
+                "-m32",
+                "-msse2",
+                "-mfpmath=sse",
+                "-mmmx",
+                "-pthread",
+                "-Wall",
+                "-Werror",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
+                "-Wno-missing-field-initializers",
+                "-Wno-unused-parameter",
+                "-O2",
+                "-fno-ident",
+                "-fdata-sections",
+                "-ffunction-sections",
+                "-fomit-frame-pointer",
+                "-g0",
+                "-fvisibility=hidden",
+                "-Wextra",
+                "-Wno-unused-parameter",
+                "-Wno-missing-field-initializers",
+                "-Wno-strict-overflow"
+            ],
+            "defines": [
+                "V8_DEPRECATION_WARNINGS",
+                "USE_NSS_CERTS=1",
+                "CHROMIUM_BUILD",
+                "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
+                "NDEBUG",
+                "NVALGRIND",
+                "DYNAMIC_ANNOTATIONS_ENABLED=0",
+                "WEBRTC_ENABLE_PROTOBUF=0",
+                "WEBRTC_RESTRICT_LOGGING",
+                "WEBRTC_MOZILLA_BUILD",
+                "WEBRTC_NON_STATIC_TRACE_EVENT_HANDLERS=0",
+                "WEBRTC_POSIX",
+                "WEBRTC_LINUX"
+            ],
+            "deps": [
+                "//rtc_base:rtc_base_approved",
+                "//rtc_base:rtc_task_queue"
+            ],
+            "include_dirs": [
+                "//",
+                "/tmp/objdir/media/webrtc/trunk/webrtc/gn-output/gen/"
+            ],
+            "libs": [],
+            "sources": [
+                "//rtc_base/sequenced_task_checker.h",
+                "//rtc_base/sequenced_task_checker_impl.cc",
+                "//rtc_base/sequenced_task_checker_impl.h"
+            ],
+            "type": "static_library"
+        },
+        "//rtc_base:weak_ptr": {
+            "cflags": [
+                "-fno-strict-aliasing",
+                "--param=ssp-buffer-size=4",
+                "-fstack-protector",
+                "-Wno-builtin-macro-redefined",
+                "-D__DATE__=",
+                "-D__TIME__=",
+                "-D__TIMESTAMP__=",
+                "-funwind-tables",
+                "-fPIC",
+                "-pipe",
+                "-B../../../../../../gecko-dev/media/webrtc/trunk/webrtc/third_party/binutils/Linux_x64/Release/bin",
+                "-m32",
+                "-msse2",
+                "-mfpmath=sse",
+                "-mmmx",
+                "-pthread",
+                "-Wall",
+                "-Werror",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
+                "-Wno-missing-field-initializers",
+                "-Wno-unused-parameter",
+                "-O2",
+                "-fno-ident",
+                "-fdata-sections",
+                "-ffunction-sections",
+                "-fomit-frame-pointer",
+                "-g0",
+                "-fvisibility=hidden",
+                "-Wextra",
+                "-Wno-unused-parameter",
+                "-Wno-missing-field-initializers",
+                "-Wno-strict-overflow"
+            ],
+            "defines": [
+                "V8_DEPRECATION_WARNINGS",
+                "USE_NSS_CERTS=1",
+                "CHROMIUM_BUILD",
+                "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
+                "NDEBUG",
+                "NVALGRIND",
+                "DYNAMIC_ANNOTATIONS_ENABLED=0",
+                "WEBRTC_ENABLE_PROTOBUF=0",
+                "WEBRTC_RESTRICT_LOGGING",
+                "WEBRTC_MOZILLA_BUILD",
+                "WEBRTC_NON_STATIC_TRACE_EVENT_HANDLERS=0",
+                "WEBRTC_POSIX",
+                "WEBRTC_LINUX"
+            ],
+            "deps": [
+                "//rtc_base:rtc_base_approved",
+                "//rtc_base:sequenced_task_checker"
+            ],
+            "include_dirs": [
+                "//",
+                "/tmp/objdir/media/webrtc/trunk/webrtc/gn-output/gen/"
+            ],
+            "libs": [],
+            "sources": [
+                "//rtc_base/weak_ptr.cc",
+                "//rtc_base/weak_ptr.h"
+            ],
+            "type": "static_library"
+        },
+        "//system_wrappers:cpu_features_api": {
+            "cflags": [
+                "-fno-strict-aliasing",
+                "--param=ssp-buffer-size=4",
+                "-fstack-protector",
+                "-Wno-builtin-macro-redefined",
+                "-D__DATE__=",
+                "-D__TIME__=",
+                "-D__TIMESTAMP__=",
+                "-funwind-tables",
+                "-fPIC",
+                "-pipe",
+                "-B../../../../../../gecko-dev/media/webrtc/trunk/webrtc/third_party/binutils/Linux_x64/Release/bin",
+                "-m32",
+                "-msse2",
+                "-mfpmath=sse",
+                "-mmmx",
+                "-pthread",
+                "-Wall",
+                "-Werror",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
+                "-Wno-missing-field-initializers",
+                "-Wno-unused-parameter",
+                "-O2",
+                "-fno-ident",
+                "-fdata-sections",
+                "-ffunction-sections",
+                "-fomit-frame-pointer",
+                "-g0",
+                "-fvisibility=hidden",
+                "-Wextra",
+                "-Wno-unused-parameter",
+                "-Wno-missing-field-initializers",
+                "-Wno-strict-overflow"
+            ],
+            "defines": [
+                "V8_DEPRECATION_WARNINGS",
+                "USE_NSS_CERTS=1",
+                "CHROMIUM_BUILD",
+                "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
+                "NDEBUG",
+                "NVALGRIND",
+                "DYNAMIC_ANNOTATIONS_ENABLED=0",
+                "WEBRTC_ENABLE_PROTOBUF=0",
+                "WEBRTC_RESTRICT_LOGGING",
+                "WEBRTC_MOZILLA_BUILD",
+                "WEBRTC_NON_STATIC_TRACE_EVENT_HANDLERS=0",
+                "WEBRTC_POSIX",
+                "WEBRTC_LINUX"
+            ],
+            "deps": [
+                "//:webrtc_common"
+            ],
+            "include_dirs": [
+                "//",
+                "/tmp/objdir/media/webrtc/trunk/webrtc/gn-output/gen/"
+            ],
+            "libs": [],
+            "sources": [
+                "//system_wrappers/include/cpu_features_wrapper.h"
+            ],
+            "type": "source_set"
+        },
+        "//system_wrappers:cpu_features_linux": {
+            "cflags": [
+                "-fno-strict-aliasing",
+                "--param=ssp-buffer-size=4",
+                "-fstack-protector",
+                "-Wno-builtin-macro-redefined",
+                "-D__DATE__=",
+                "-D__TIME__=",
+                "-D__TIMESTAMP__=",
+                "-funwind-tables",
+                "-fPIC",
+                "-pipe",
+                "-B../../../../../../gecko-dev/media/webrtc/trunk/webrtc/third_party/binutils/Linux_x64/Release/bin",
+                "-m32",
+                "-msse2",
+                "-mfpmath=sse",
+                "-mmmx",
+                "-pthread",
+                "-Wall",
+                "-Werror",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
+                "-Wno-missing-field-initializers",
+                "-Wno-unused-parameter",
+                "-O2",
+                "-fno-ident",
+                "-fdata-sections",
+                "-ffunction-sections",
+                "-fomit-frame-pointer",
+                "-g0",
+                "-fvisibility=hidden",
+                "-Wextra",
+                "-Wno-unused-parameter",
+                "-Wno-missing-field-initializers",
+                "-Wno-strict-overflow"
+            ],
+            "defines": [
+                "V8_DEPRECATION_WARNINGS",
+                "USE_NSS_CERTS=1",
+                "CHROMIUM_BUILD",
+                "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
+                "NDEBUG",
+                "NVALGRIND",
+                "DYNAMIC_ANNOTATIONS_ENABLED=0",
+                "WEBRTC_ENABLE_PROTOBUF=0",
+                "WEBRTC_RESTRICT_LOGGING",
+                "WEBRTC_MOZILLA_BUILD",
+                "WEBRTC_NON_STATIC_TRACE_EVENT_HANDLERS=0",
+                "WEBRTC_POSIX",
+                "WEBRTC_LINUX"
+            ],
+            "deps": [
+                "//system_wrappers:cpu_features_api"
+            ],
+            "include_dirs": [
+                "//",
+                "/tmp/objdir/media/webrtc/trunk/webrtc/gn-output/gen/"
+            ],
+            "libs": [],
+            "sources": [
+                "//system_wrappers/source/cpu_features_linux.c"
+            ],
+            "type": "static_library"
+        },
+        "//system_wrappers:field_trial_api": {
+            "cflags": [
+                "-fno-strict-aliasing",
+                "--param=ssp-buffer-size=4",
+                "-fstack-protector",
+                "-Wno-builtin-macro-redefined",
+                "-D__DATE__=",
+                "-D__TIME__=",
+                "-D__TIMESTAMP__=",
+                "-funwind-tables",
+                "-fPIC",
+                "-pipe",
+                "-B../../../../../../gecko-dev/media/webrtc/trunk/webrtc/third_party/binutils/Linux_x64/Release/bin",
+                "-m32",
+                "-msse2",
+                "-mfpmath=sse",
+                "-mmmx",
+                "-pthread",
+                "-Wall",
+                "-Werror",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
+                "-Wno-missing-field-initializers",
+                "-Wno-unused-parameter",
+                "-O2",
+                "-fno-ident",
+                "-fdata-sections",
+                "-ffunction-sections",
+                "-fomit-frame-pointer",
+                "-g0",
+                "-fvisibility=hidden",
+                "-Wextra",
+                "-Wno-unused-parameter",
+                "-Wno-missing-field-initializers",
+                "-Wno-strict-overflow"
+            ],
+            "defines": [
+                "V8_DEPRECATION_WARNINGS",
+                "USE_NSS_CERTS=1",
+                "CHROMIUM_BUILD",
+                "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
+                "NDEBUG",
+                "NVALGRIND",
+                "DYNAMIC_ANNOTATIONS_ENABLED=0",
+                "WEBRTC_ENABLE_PROTOBUF=0",
+                "WEBRTC_RESTRICT_LOGGING",
+                "WEBRTC_MOZILLA_BUILD",
+                "WEBRTC_NON_STATIC_TRACE_EVENT_HANDLERS=0",
+                "WEBRTC_POSIX",
+                "WEBRTC_LINUX"
+            ],
+            "deps": [],
+            "include_dirs": [
+                "//",
+                "/tmp/objdir/media/webrtc/trunk/webrtc/gn-output/gen/"
+            ],
+            "libs": [],
+            "sources": [
+                "//system_wrappers/include/field_trial.h"
+            ],
+            "type": "source_set"
+        },
+        "//system_wrappers:field_trial_default": {
+            "cflags": [
+                "-fno-strict-aliasing",
+                "--param=ssp-buffer-size=4",
+                "-fstack-protector",
+                "-Wno-builtin-macro-redefined",
+                "-D__DATE__=",
+                "-D__TIME__=",
+                "-D__TIMESTAMP__=",
+                "-funwind-tables",
+                "-fPIC",
+                "-pipe",
+                "-B../../../../../../gecko-dev/media/webrtc/trunk/webrtc/third_party/binutils/Linux_x64/Release/bin",
+                "-m32",
+                "-msse2",
+                "-mfpmath=sse",
+                "-mmmx",
+                "-pthread",
+                "-Wall",
+                "-Werror",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
+                "-Wno-missing-field-initializers",
+                "-Wno-unused-parameter",
+                "-O2",
+                "-fno-ident",
+                "-fdata-sections",
+                "-ffunction-sections",
+                "-fomit-frame-pointer",
+                "-g0",
+                "-fvisibility=hidden",
+                "-Wextra",
+                "-Wno-unused-parameter",
+                "-Wno-missing-field-initializers",
+                "-Wno-strict-overflow"
+            ],
+            "defines": [
+                "V8_DEPRECATION_WARNINGS",
+                "USE_NSS_CERTS=1",
+                "CHROMIUM_BUILD",
+                "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
+                "NDEBUG",
+                "NVALGRIND",
+                "DYNAMIC_ANNOTATIONS_ENABLED=0",
+                "WEBRTC_ENABLE_PROTOBUF=0",
+                "WEBRTC_RESTRICT_LOGGING",
+                "WEBRTC_MOZILLA_BUILD",
+                "WEBRTC_NON_STATIC_TRACE_EVENT_HANDLERS=0",
+                "WEBRTC_POSIX",
+                "WEBRTC_LINUX"
+            ],
+            "deps": [
+                "//system_wrappers:field_trial_api"
+            ],
+            "include_dirs": [
+                "//",
+                "/tmp/objdir/media/webrtc/trunk/webrtc/gn-output/gen/"
+            ],
+            "libs": [],
+            "sources": [
+                "//system_wrappers/include/field_trial_default.h",
+                "//system_wrappers/source/field_trial_default.cc"
+            ],
+            "type": "source_set"
+        },
+        "//system_wrappers:metrics_api": {
+            "cflags": [
+                "-fno-strict-aliasing",
+                "--param=ssp-buffer-size=4",
+                "-fstack-protector",
+                "-Wno-builtin-macro-redefined",
+                "-D__DATE__=",
+                "-D__TIME__=",
+                "-D__TIMESTAMP__=",
+                "-funwind-tables",
+                "-fPIC",
+                "-pipe",
+                "-B../../../../../../gecko-dev/media/webrtc/trunk/webrtc/third_party/binutils/Linux_x64/Release/bin",
+                "-m32",
+                "-msse2",
+                "-mfpmath=sse",
+                "-mmmx",
+                "-pthread",
+                "-Wall",
+                "-Werror",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
+                "-Wno-missing-field-initializers",
+                "-Wno-unused-parameter",
+                "-O2",
+                "-fno-ident",
+                "-fdata-sections",
+                "-ffunction-sections",
+                "-fomit-frame-pointer",
+                "-g0",
+                "-fvisibility=hidden",
+                "-Wextra",
+                "-Wno-unused-parameter",
+                "-Wno-missing-field-initializers",
+                "-Wno-strict-overflow"
+            ],
+            "defines": [
+                "V8_DEPRECATION_WARNINGS",
+                "USE_NSS_CERTS=1",
+                "CHROMIUM_BUILD",
+                "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
+                "NDEBUG",
+                "NVALGRIND",
+                "DYNAMIC_ANNOTATIONS_ENABLED=0",
+                "WEBRTC_ENABLE_PROTOBUF=0",
+                "WEBRTC_RESTRICT_LOGGING",
+                "WEBRTC_MOZILLA_BUILD",
+                "WEBRTC_NON_STATIC_TRACE_EVENT_HANDLERS=0",
+                "WEBRTC_POSIX",
+                "WEBRTC_LINUX"
+            ],
+            "deps": [
+                "//:webrtc_common",
+                "//rtc_base:rtc_base_approved"
+            ],
+            "include_dirs": [
+                "//",
+                "/tmp/objdir/media/webrtc/trunk/webrtc/gn-output/gen/"
+            ],
+            "libs": [],
+            "sources": [
+                "//system_wrappers/include/metrics.h"
+            ],
+            "type": "source_set"
+        },
+        "//system_wrappers:metrics_default": {
+            "cflags": [
+                "-fno-strict-aliasing",
+                "--param=ssp-buffer-size=4",
+                "-fstack-protector",
+                "-Wno-builtin-macro-redefined",
+                "-D__DATE__=",
+                "-D__TIME__=",
+                "-D__TIMESTAMP__=",
+                "-funwind-tables",
+                "-fPIC",
+                "-pipe",
+                "-B../../../../../../gecko-dev/media/webrtc/trunk/webrtc/third_party/binutils/Linux_x64/Release/bin",
+                "-m32",
+                "-msse2",
+                "-mfpmath=sse",
+                "-mmmx",
+                "-pthread",
+                "-Wall",
+                "-Werror",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
+                "-Wno-missing-field-initializers",
+                "-Wno-unused-parameter",
+                "-O2",
+                "-fno-ident",
+                "-fdata-sections",
+                "-ffunction-sections",
+                "-fomit-frame-pointer",
+                "-g0",
+                "-fvisibility=hidden",
+                "-Wextra",
+                "-Wno-unused-parameter",
+                "-Wno-missing-field-initializers",
+                "-Wno-strict-overflow"
+            ],
+            "defines": [
+                "V8_DEPRECATION_WARNINGS",
+                "USE_NSS_CERTS=1",
+                "CHROMIUM_BUILD",
+                "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
+                "NDEBUG",
+                "NVALGRIND",
+                "DYNAMIC_ANNOTATIONS_ENABLED=0",
+                "WEBRTC_ENABLE_PROTOBUF=0",
+                "WEBRTC_RESTRICT_LOGGING",
+                "WEBRTC_MOZILLA_BUILD",
+                "WEBRTC_NON_STATIC_TRACE_EVENT_HANDLERS=0",
+                "WEBRTC_POSIX",
+                "WEBRTC_LINUX"
+            ],
+            "deps": [
+                "//rtc_base:rtc_base_approved",
+                "//system_wrappers:metrics_api"
+            ],
+            "include_dirs": [
+                "//",
+                "/tmp/objdir/media/webrtc/trunk/webrtc/gn-output/gen/"
+            ],
+            "libs": [],
+            "sources": [
+                "//system_wrappers/include/metrics_default.h",
+                "//system_wrappers/source/metrics_default.cc"
+            ],
+            "type": "source_set"
+        },
+        "//system_wrappers:system_wrappers": {
+            "cflags": [
+                "-fno-strict-aliasing",
+                "--param=ssp-buffer-size=4",
+                "-fstack-protector",
+                "-Wno-builtin-macro-redefined",
+                "-D__DATE__=",
+                "-D__TIME__=",
+                "-D__TIMESTAMP__=",
+                "-funwind-tables",
+                "-fPIC",
+                "-pipe",
+                "-B../../../../../../gecko-dev/media/webrtc/trunk/webrtc/third_party/binutils/Linux_x64/Release/bin",
+                "-m32",
+                "-msse2",
+                "-mfpmath=sse",
+                "-mmmx",
+                "-pthread",
+                "-Wall",
+                "-Werror",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
+                "-Wno-missing-field-initializers",
+                "-Wno-unused-parameter",
+                "-O2",
+                "-fno-ident",
+                "-fdata-sections",
+                "-ffunction-sections",
+                "-fomit-frame-pointer",
+                "-g0",
+                "-fvisibility=hidden",
+                "-Wextra",
+                "-Wno-unused-parameter",
+                "-Wno-missing-field-initializers",
+                "-Wno-strict-overflow"
+            ],
+            "defines": [
+                "WEBRTC_THREAD_RR",
+                "V8_DEPRECATION_WARNINGS",
+                "USE_NSS_CERTS=1",
+                "CHROMIUM_BUILD",
+                "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
+                "NDEBUG",
+                "NVALGRIND",
+                "DYNAMIC_ANNOTATIONS_ENABLED=0",
+                "WEBRTC_ENABLE_PROTOBUF=0",
+                "WEBRTC_RESTRICT_LOGGING",
+                "WEBRTC_MOZILLA_BUILD",
+                "WEBRTC_NON_STATIC_TRACE_EVENT_HANDLERS=0",
+                "WEBRTC_POSIX",
+                "WEBRTC_LINUX"
+            ],
+            "deps": [
+                "//:webrtc_common",
+                "//api:optional",
+                "//modules:module_api_public",
+                "//rtc_base:rtc_base_approved",
+                "//rtc_base:rtc_numerics",
+                "//system_wrappers:cpu_features_api",
+                "//system_wrappers:cpu_features_linux",
+                "//system_wrappers:field_trial_api",
+                "//system_wrappers:metrics_api"
+            ],
+            "include_dirs": [
+                "//",
+                "/tmp/objdir/media/webrtc/trunk/webrtc/gn-output/gen/"
+            ],
+            "libs": [
+                "rt"
+            ],
+            "sources": [
+                "//system_wrappers/include/aligned_array.h",
+                "//system_wrappers/include/aligned_malloc.h",
+                "//system_wrappers/include/atomic32.h",
+                "//system_wrappers/include/clock.h",
+                "//system_wrappers/include/cpu_info.h",
+                "//system_wrappers/include/event_wrapper.h",
+                "//system_wrappers/include/file_wrapper.h",
+                "//system_wrappers/include/ntp_time.h",
+                "//system_wrappers/include/rtp_to_ntp_estimator.h",
+                "//system_wrappers/include/rw_lock_wrapper.h",
+                "//system_wrappers/include/sleep.h",
+                "//system_wrappers/include/timestamp_extrapolator.h",
+                "//system_wrappers/source/aligned_malloc.cc",
+                "//system_wrappers/source/atomic32.cc",
+                "//system_wrappers/source/clock.cc",
+                "//system_wrappers/source/cpu_features.cc",
+                "//system_wrappers/source/cpu_info.cc",
+                "//system_wrappers/source/event.cc",
+                "//system_wrappers/source/event_timer_posix.cc",
+                "//system_wrappers/source/event_timer_posix.h",
+                "//system_wrappers/source/file_impl.cc",
+                "//system_wrappers/source/rtp_to_ntp_estimator.cc",
+                "//system_wrappers/source/rw_lock.cc",
+                "//system_wrappers/source/rw_lock_posix.cc",
+                "//system_wrappers/source/rw_lock_posix.h",
+                "//system_wrappers/source/sleep.cc",
+                "//system_wrappers/source/timestamp_extrapolator.cc"
+            ],
+            "type": "static_library"
+        },
+        "//video:video": {
+            "cflags": [
+                "-fno-strict-aliasing",
+                "--param=ssp-buffer-size=4",
+                "-fstack-protector",
+                "-Wno-builtin-macro-redefined",
+                "-D__DATE__=",
+                "-D__TIME__=",
+                "-D__TIMESTAMP__=",
+                "-funwind-tables",
+                "-fPIC",
+                "-pipe",
+                "-B../../../../../../gecko-dev/media/webrtc/trunk/webrtc/third_party/binutils/Linux_x64/Release/bin",
+                "-m32",
+                "-msse2",
+                "-mfpmath=sse",
+                "-mmmx",
+                "-pthread",
+                "-Wall",
+                "-Werror",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
+                "-Wno-missing-field-initializers",
+                "-Wno-unused-parameter",
+                "-O2",
+                "-fno-ident",
+                "-fdata-sections",
+                "-ffunction-sections",
+                "-fomit-frame-pointer",
+                "-g0",
+                "-fvisibility=hidden",
+                "-Wextra",
+                "-Wno-unused-parameter",
+                "-Wno-missing-field-initializers",
+                "-Wno-strict-overflow"
+            ],
+            "defines": [
+                "V8_DEPRECATION_WARNINGS",
+                "USE_NSS_CERTS=1",
+                "CHROMIUM_BUILD",
+                "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
+                "NDEBUG",
+                "NVALGRIND",
+                "DYNAMIC_ANNOTATIONS_ENABLED=0",
+                "WEBRTC_ENABLE_PROTOBUF=0",
+                "WEBRTC_RESTRICT_LOGGING",
+                "WEBRTC_MOZILLA_BUILD",
+                "WEBRTC_NON_STATIC_TRACE_EVENT_HANDLERS=0",
+                "WEBRTC_POSIX",
+                "WEBRTC_LINUX"
+            ],
+            "deps": [
+                "//:webrtc_common",
+                "//api:optional",
+                "//api:transport_api",
+                "//api:video_frame_api_i420",
+                "//api/video_codecs:video_codecs_api",
+                "//call:bitrate_allocator",
+                "//call:call_interfaces",
+                "//call:rtp_interfaces",
+                "//call:rtp_receiver",
+                "//call:video_stream_api",
+                "//common_video:common_video",
+                "//logging:rtc_event_log_api",
+                "//modules:module_api",
+                "//modules/bitrate_controller:bitrate_controller",
+                "//modules/congestion_controller:congestion_controller",
+                "//modules/pacing:pacing",
+                "//modules/remote_bitrate_estimator:remote_bitrate_estimator",
+                "//modules/rtp_rtcp:rtp_rtcp",
+                "//modules/utility:utility",
+                "//modules/video_coding:video_coding",
+                "//modules/video_coding:video_coding_utility",
+                "//modules/video_coding:webrtc_vp8",
+                "//modules/video_processing:video_processing",
+                "//rtc_base:rtc_base_approved",
+                "//rtc_base:rtc_numerics",
+                "//rtc_base:rtc_task_queue",
+                "//rtc_base:sequenced_task_checker",
+                "//rtc_base:weak_ptr",
+                "//system_wrappers:system_wrappers",
+                "//voice_engine:voice_engine"
+            ],
+            "include_dirs": [
+                "//",
+                "/tmp/objdir/media/webrtc/trunk/webrtc/gn-output/gen/",
+                "//common_video/include/",
+                "/media/libyuv/libyuv/include/",
+                "//modules/audio_coding/include/",
+                "//modules/include/"
+            ],
+            "libs": [
+                "rt",
+                "m"
+            ],
+            "sources": [
+                "//video/call_stats.cc",
+                "//video/call_stats.h",
+                "//video/encoder_rtcp_feedback.cc",
+                "//video/encoder_rtcp_feedback.h",
+                "//video/overuse_frame_detector.cc",
+                "//video/overuse_frame_detector.h",
+                "//video/payload_router.cc",
+                "//video/payload_router.h",
+                "//video/quality_threshold.cc",
+                "//video/quality_threshold.h",
+                "//video/receive_statistics_proxy.cc",
+                "//video/receive_statistics_proxy.h",
+                "//video/report_block_stats.cc",
+                "//video/report_block_stats.h",
+                "//video/rtp_streams_synchronizer.cc",
+                "//video/rtp_streams_synchronizer.h",
+                "//video/rtp_video_stream_receiver.cc",
+                "//video/rtp_video_stream_receiver.h",
+                "//video/send_delay_stats.cc",
+                "//video/send_delay_stats.h",
+                "//video/send_statistics_proxy.cc",
+                "//video/send_statistics_proxy.h",
+                "//video/stats_counter.cc",
+                "//video/stats_counter.h",
+                "//video/stream_synchronization.cc",
+                "//video/stream_synchronization.h",
+                "//video/transport_adapter.cc",
+                "//video/transport_adapter.h",
+                "//video/video_receive_stream.cc",
+                "//video/video_receive_stream.h",
+                "//video/video_send_stream.cc",
+                "//video/video_send_stream.h",
+                "//video/video_stream_decoder.cc",
+                "//video/video_stream_decoder.h",
+                "//video/video_stream_encoder.cc",
+                "//video/video_stream_encoder.h"
+            ],
+            "type": "static_library"
+        },
+        "//voice_engine:audio_level": {
+            "cflags": [
+                "-fno-strict-aliasing",
+                "--param=ssp-buffer-size=4",
+                "-fstack-protector",
+                "-Wno-builtin-macro-redefined",
+                "-D__DATE__=",
+                "-D__TIME__=",
+                "-D__TIMESTAMP__=",
+                "-funwind-tables",
+                "-fPIC",
+                "-pipe",
+                "-B../../../../../../gecko-dev/media/webrtc/trunk/webrtc/third_party/binutils/Linux_x64/Release/bin",
+                "-m32",
+                "-msse2",
+                "-mfpmath=sse",
+                "-mmmx",
+                "-pthread",
+                "-Wall",
+                "-Werror",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
+                "-Wno-missing-field-initializers",
+                "-Wno-unused-parameter",
+                "-O2",
+                "-fno-ident",
+                "-fdata-sections",
+                "-ffunction-sections",
+                "-fomit-frame-pointer",
+                "-g0",
+                "-fvisibility=hidden",
+                "-Wextra",
+                "-Wno-unused-parameter",
+                "-Wno-missing-field-initializers",
+                "-Wno-strict-overflow"
+            ],
+            "defines": [
+                "V8_DEPRECATION_WARNINGS",
+                "USE_NSS_CERTS=1",
+                "CHROMIUM_BUILD",
+                "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
+                "NDEBUG",
+                "NVALGRIND",
+                "DYNAMIC_ANNOTATIONS_ENABLED=0",
+                "WEBRTC_ENABLE_PROTOBUF=0",
+                "WEBRTC_RESTRICT_LOGGING",
+                "WEBRTC_MOZILLA_BUILD",
+                "WEBRTC_NON_STATIC_TRACE_EVENT_HANDLERS=0",
+                "WEBRTC_POSIX",
+                "WEBRTC_LINUX"
+            ],
+            "deps": [
+                "//:webrtc_common",
+                "//common_audio:common_audio",
+                "//modules:module_api",
+                "//rtc_base:rtc_base_approved"
+            ],
+            "include_dirs": [
+                "//",
+                "/tmp/objdir/media/webrtc/trunk/webrtc/gn-output/gen/",
+                "//common_audio/resampler/include/",
+                "//common_audio/signal_processing/include/",
+                "//common_audio/vad/include/"
+            ],
+            "libs": [
+                "rt"
+            ],
+            "sources": [
+                "//voice_engine/audio_level.cc",
+                "//voice_engine/audio_level.h"
+            ],
+            "type": "static_library"
+        },
+        "//voice_engine:voice_engine": {
+            "cflags": [
+                "-fno-strict-aliasing",
+                "--param=ssp-buffer-size=4",
+                "-fstack-protector",
+                "-Wno-builtin-macro-redefined",
+                "-D__DATE__=",
+                "-D__TIME__=",
+                "-D__TIMESTAMP__=",
+                "-funwind-tables",
+                "-fPIC",
+                "-pipe",
+                "-B../../../../../../gecko-dev/media/webrtc/trunk/webrtc/third_party/binutils/Linux_x64/Release/bin",
+                "-m32",
+                "-msse2",
+                "-mfpmath=sse",
+                "-mmmx",
+                "-pthread",
+                "-Wall",
+                "-Werror",
+                "-Wno-unused-local-typedefs",
+                "-Wno-maybe-uninitialized",
+                "-Wno-missing-field-initializers",
+                "-Wno-unused-parameter",
+                "-O2",
+                "-fno-ident",
+                "-fdata-sections",
+                "-ffunction-sections",
+                "-fomit-frame-pointer",
+                "-g0",
+                "-fvisibility=hidden",
+                "-Wextra",
+                "-Wno-unused-parameter",
+                "-Wno-missing-field-initializers",
+                "-Wno-strict-overflow"
+            ],
+            "defines": [
+                "V8_DEPRECATION_WARNINGS",
+                "USE_NSS_CERTS=1",
+                "CHROMIUM_BUILD",
+                "_FILE_OFFSET_BITS=64",
+                "_FORTIFY_SOURCE=2",
+                "NDEBUG",
+                "NVALGRIND",
+                "DYNAMIC_ANNOTATIONS_ENABLED=0",
+                "WEBRTC_ENABLE_PROTOBUF=0",
+                "WEBRTC_RESTRICT_LOGGING",
+                "WEBRTC_MOZILLA_BUILD",
+                "WEBRTC_NON_STATIC_TRACE_EVENT_HANDLERS=0",
+                "WEBRTC_POSIX",
+                "WEBRTC_LINUX"
+            ],
+            "deps": [
+                "//:webrtc_common",
+                "//api:array_view",
+                "//api:audio_mixer_api",
+                "//api:call_api",
+                "//api:optional",
+                "//api:refcountedbase",
+                "//api:transport_api",
+                "//api/audio_codecs:audio_codecs_api",
+                "//audio/utility:audio_frame_operations",
+                "//call:rtp_interfaces",
+                "//common_audio:common_audio",
+                "//logging:rtc_event_log_api",
+                "//modules:module_api",
+                "//modules/audio_coding:audio_coding",
+                "//modules/audio_coding:audio_format_conversion",
+                "//modules/audio_coding:audio_network_adaptor_config",
+                "//modules/audio_device:audio_device",
+                "//modules/audio_processing:audio_processing",
+                "//modules/bitrate_controller:bitrate_controller",
+                "//modules/media_file:media_file",
+                "//modules/pacing:pacing",
+                "//modules/rtp_rtcp:rtp_rtcp",
+                "//modules/utility:utility",
+                "//rtc_base:rtc_base_approved",
+                "//rtc_base:rtc_task_queue",
+                "//system_wrappers:system_wrappers",
+                "//voice_engine:audio_level"
+            ],
+            "include_dirs": [
+                "//",
+                "/tmp/objdir/media/webrtc/trunk/webrtc/gn-output/gen/",
+                "//modules/audio_coding/include/",
+                "//modules/include/",
+                "//common_audio/resampler/include/",
+                "//common_audio/signal_processing/include/",
+                "//common_audio/vad/include/",
+                "//modules/include/",
+                "//modules/audio_device/include/",
+                "//modules/audio_device/dummy/"
+            ],
+            "libs": [
+                "rt",
+                "m"
+            ],
+            "sources": [
+                "//voice_engine/channel.cc",
+                "//voice_engine/channel.h",
+                "//voice_engine/channel_manager.cc",
+                "//voice_engine/channel_manager.h",
+                "//voice_engine/channel_proxy.cc",
+                "//voice_engine/channel_proxy.h",
+                "//voice_engine/include/voe_base.h",
+                "//voice_engine/include/voe_errors.h",
+                "//voice_engine/shared_data.cc",
+                "//voice_engine/shared_data.h",
+                "//voice_engine/transmit_mixer.cc",
+                "//voice_engine/transmit_mixer.h",
+                "//voice_engine/transport_feedback_packet_loss_tracker.cc",
+                "//voice_engine/transport_feedback_packet_loss_tracker.h",
+                "//voice_engine/utility.cc",
+                "//voice_engine/utility.h",
+                "//voice_engine/voe_base_impl.cc",
+                "//voice_engine/voe_base_impl.h",
+                "//voice_engine/voice_engine_impl.cc",
+                "//voice_engine/voice_engine_impl.h"
+            ],
+            "type": "static_library"
+        }
+    }
+}
diff --git a/media/webrtc/trunk/webrtc/api/array_view_gn/moz.build b/media/webrtc/trunk/webrtc/api/array_view_gn/moz.build
index 1e357d405213..b4ddf4b146e2 100644
--- a/media/webrtc/trunk/webrtc/api/array_view_gn/moz.build
+++ b/media/webrtc/trunk/webrtc/api/array_view_gn/moz.build
@@ -26,56 +26,18 @@ LOCAL_INCLUDES += [
     "/media/webrtc/trunk/webrtc/"
 ]
 
-if not CONFIG["MOZ_DEBUG"]:
-
-    DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "0"
-    DEFINES["NDEBUG"] = True
-    DEFINES["NVALGRIND"] = True
-
 if CONFIG["MOZ_DEBUG"] == "1":
 
     DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "1"
     DEFINES["WTF_USE_DYNAMIC_ANNOTATIONS"] = "1"
 
-if CONFIG["OS_TARGET"] == "Android":
-
-    DEFINES["ANDROID"] = True
-    DEFINES["ANDROID_NDK_VERSION"] = "r12b"
-    DEFINES["DISABLE_NACL"] = True
-    DEFINES["HAVE_SYS_UIO_H"] = True
-    DEFINES["NO_TCMALLOC"] = True
-    DEFINES["USE_OPENSSL_CERTS"] = "1"
-    DEFINES["WEBRTC_ANDROID"] = True
-    DEFINES["WEBRTC_ANDROID_OPENSLES"] = True
-    DEFINES["WEBRTC_LINUX"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
-    DEFINES["__GNU_SOURCE"] = "1"
-
-    OS_LIBS += [
-        "log"
-    ]
-
-if CONFIG["OS_TARGET"] == "Darwin":
-
-    DEFINES["CR_XCODE_VERSION"] = "0920"
-    DEFINES["NO_TCMALLOC"] = True
-    DEFINES["WEBRTC_MAC"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["__ASSERT_MACROS_DEFINE_VERSIONS_WITHOUT_UNDERSCORE"] = "0"
-
-    OS_LIBS += [
-        "-framework Foundation"
-    ]
-
-if CONFIG["OS_TARGET"] == "DragonFly":
+if not CONFIG["MOZ_DEBUG"]:
 
-    DEFINES["USE_X11"] = "1"
-    DEFINES["WEBRTC_BSD"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
+    DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "0"
+    DEFINES["NDEBUG"] = True
+    DEFINES["NVALGRIND"] = True
 
-if CONFIG["OS_TARGET"] == "FreeBSD":
+if CONFIG["OS_TARGET"] == "NetBSD":
 
     DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_BSD"] = True
@@ -85,19 +47,11 @@ if CONFIG["OS_TARGET"] == "FreeBSD":
 if CONFIG["OS_TARGET"] == "Linux":
 
     DEFINES["USE_NSS_CERTS"] = "1"
-    DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_LINUX"] = True
     DEFINES["WEBRTC_POSIX"] = True
     DEFINES["_FILE_OFFSET_BITS"] = "64"
 
-if CONFIG["OS_TARGET"] == "NetBSD":
-
-    DEFINES["USE_X11"] = "1"
-    DEFINES["WEBRTC_BSD"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
-
-if CONFIG["OS_TARGET"] == "OpenBSD":
+if CONFIG["OS_TARGET"] == "DragonFly":
 
     DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_BSD"] = True
@@ -129,10 +83,50 @@ if CONFIG["OS_TARGET"] == "WINNT":
     DEFINES["_WINDOWS"] = True
     DEFINES["__STD_C"] = True
 
-if CONFIG["CPU_ARCH"] == "aarch64":
+if CONFIG["OS_TARGET"] == "Darwin":
 
-    DEFINES["WEBRTC_ARCH_ARM64"] = True
-    DEFINES["WEBRTC_HAS_NEON"] = True
+    DEFINES["CR_XCODE_VERSION"] = "0920"
+    DEFINES["NO_TCMALLOC"] = True
+    DEFINES["WEBRTC_MAC"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["__ASSERT_MACROS_DEFINE_VERSIONS_WITHOUT_UNDERSCORE"] = "0"
+
+    OS_LIBS += [
+        "-framework Foundation"
+    ]
+
+if CONFIG["OS_TARGET"] == "OpenBSD":
+
+    DEFINES["USE_X11"] = "1"
+    DEFINES["WEBRTC_BSD"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+
+if CONFIG["OS_TARGET"] == "FreeBSD":
+
+    DEFINES["USE_X11"] = "1"
+    DEFINES["WEBRTC_BSD"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+
+if CONFIG["OS_TARGET"] == "Android":
+
+    DEFINES["ANDROID"] = True
+    DEFINES["ANDROID_NDK_VERSION"] = "r12b"
+    DEFINES["DISABLE_NACL"] = True
+    DEFINES["HAVE_SYS_UIO_H"] = True
+    DEFINES["NO_TCMALLOC"] = True
+    DEFINES["USE_OPENSSL_CERTS"] = "1"
+    DEFINES["WEBRTC_ANDROID"] = True
+    DEFINES["WEBRTC_ANDROID_OPENSLES"] = True
+    DEFINES["WEBRTC_LINUX"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+    DEFINES["__GNU_SOURCE"] = "1"
+
+    OS_LIBS += [
+        "log"
+    ]
 
 if CONFIG["CPU_ARCH"] == "arm":
 
@@ -140,15 +134,24 @@ if CONFIG["CPU_ARCH"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Android":
+if CONFIG["CPU_ARCH"] == "ppc64":
 
-    DEFINES["_FORTIFY_SOURCE"] = "2"
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "mips64":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "aarch64":
+
+    DEFINES["WEBRTC_ARCH_ARM64"] = True
+    DEFINES["WEBRTC_HAS_NEON"] = True
 
 if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Darwin":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "DragonFly":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "OpenBSD":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
@@ -156,17 +159,53 @@ if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "FreeBSD":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "NetBSD":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Android":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "OpenBSD":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "DragonFly":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "NetBSD":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
+if CONFIG["CPU_ARCH"] == "x86_64" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
 if CONFIG["CPU_ARCH"] == "aarch64" and CONFIG["OS_TARGET"] == "Linux":
 
     DEFINES["DISABLE_NACL"] = True
     DEFINES["NO_TCMALLOC"] = True
 
+if CONFIG["CPU_ARCH"] == "arm" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "aarch64" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "arm" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "aarch64" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["HOST_CPU_ARCH"] == "x86_64" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["HOST_CPU_ARCH"] == "x86" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
 Library("array_view_gn")
diff --git a/media/webrtc/trunk/webrtc/api/audio_codecs/L16/audio_decoder_L16_gn/moz.build b/media/webrtc/trunk/webrtc/api/audio_codecs/L16/audio_decoder_L16_gn/moz.build
index 45f7604ca313..2f22a9ce8752 100644
--- a/media/webrtc/trunk/webrtc/api/audio_codecs/L16/audio_decoder_L16_gn/moz.build
+++ b/media/webrtc/trunk/webrtc/api/audio_codecs/L16/audio_decoder_L16_gn/moz.build
@@ -30,56 +30,18 @@ UNIFIED_SOURCES += [
     "/media/webrtc/trunk/webrtc/api/audio_codecs/L16/audio_decoder_L16.cc"
 ]
 
-if not CONFIG["MOZ_DEBUG"]:
-
-    DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "0"
-    DEFINES["NDEBUG"] = True
-    DEFINES["NVALGRIND"] = True
-
 if CONFIG["MOZ_DEBUG"] == "1":
 
     DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "1"
     DEFINES["WTF_USE_DYNAMIC_ANNOTATIONS"] = "1"
 
-if CONFIG["OS_TARGET"] == "Android":
-
-    DEFINES["ANDROID"] = True
-    DEFINES["ANDROID_NDK_VERSION"] = "r12b"
-    DEFINES["DISABLE_NACL"] = True
-    DEFINES["HAVE_SYS_UIO_H"] = True
-    DEFINES["NO_TCMALLOC"] = True
-    DEFINES["USE_OPENSSL_CERTS"] = "1"
-    DEFINES["WEBRTC_ANDROID"] = True
-    DEFINES["WEBRTC_ANDROID_OPENSLES"] = True
-    DEFINES["WEBRTC_LINUX"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
-    DEFINES["__GNU_SOURCE"] = "1"
-
-    OS_LIBS += [
-        "log"
-    ]
-
-if CONFIG["OS_TARGET"] == "Darwin":
-
-    DEFINES["CR_XCODE_VERSION"] = "0920"
-    DEFINES["NO_TCMALLOC"] = True
-    DEFINES["WEBRTC_MAC"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["__ASSERT_MACROS_DEFINE_VERSIONS_WITHOUT_UNDERSCORE"] = "0"
-
-    OS_LIBS += [
-        "-framework Foundation"
-    ]
-
-if CONFIG["OS_TARGET"] == "DragonFly":
+if not CONFIG["MOZ_DEBUG"]:
 
-    DEFINES["USE_X11"] = "1"
-    DEFINES["WEBRTC_BSD"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
+    DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "0"
+    DEFINES["NDEBUG"] = True
+    DEFINES["NVALGRIND"] = True
 
-if CONFIG["OS_TARGET"] == "FreeBSD":
+if CONFIG["OS_TARGET"] == "NetBSD":
 
     DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_BSD"] = True
@@ -89,19 +51,11 @@ if CONFIG["OS_TARGET"] == "FreeBSD":
 if CONFIG["OS_TARGET"] == "Linux":
 
     DEFINES["USE_NSS_CERTS"] = "1"
-    DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_LINUX"] = True
     DEFINES["WEBRTC_POSIX"] = True
     DEFINES["_FILE_OFFSET_BITS"] = "64"
 
-if CONFIG["OS_TARGET"] == "NetBSD":
-
-    DEFINES["USE_X11"] = "1"
-    DEFINES["WEBRTC_BSD"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
-
-if CONFIG["OS_TARGET"] == "OpenBSD":
+if CONFIG["OS_TARGET"] == "DragonFly":
 
     DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_BSD"] = True
@@ -133,10 +87,50 @@ if CONFIG["OS_TARGET"] == "WINNT":
     DEFINES["_WINDOWS"] = True
     DEFINES["__STD_C"] = True
 
-if CONFIG["CPU_ARCH"] == "aarch64":
+if CONFIG["OS_TARGET"] == "Darwin":
 
-    DEFINES["WEBRTC_ARCH_ARM64"] = True
-    DEFINES["WEBRTC_HAS_NEON"] = True
+    DEFINES["CR_XCODE_VERSION"] = "0920"
+    DEFINES["NO_TCMALLOC"] = True
+    DEFINES["WEBRTC_MAC"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["__ASSERT_MACROS_DEFINE_VERSIONS_WITHOUT_UNDERSCORE"] = "0"
+
+    OS_LIBS += [
+        "-framework Foundation"
+    ]
+
+if CONFIG["OS_TARGET"] == "OpenBSD":
+
+    DEFINES["USE_X11"] = "1"
+    DEFINES["WEBRTC_BSD"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+
+if CONFIG["OS_TARGET"] == "FreeBSD":
+
+    DEFINES["USE_X11"] = "1"
+    DEFINES["WEBRTC_BSD"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+
+if CONFIG["OS_TARGET"] == "Android":
+
+    DEFINES["ANDROID"] = True
+    DEFINES["ANDROID_NDK_VERSION"] = "r12b"
+    DEFINES["DISABLE_NACL"] = True
+    DEFINES["HAVE_SYS_UIO_H"] = True
+    DEFINES["NO_TCMALLOC"] = True
+    DEFINES["USE_OPENSSL_CERTS"] = "1"
+    DEFINES["WEBRTC_ANDROID"] = True
+    DEFINES["WEBRTC_ANDROID_OPENSLES"] = True
+    DEFINES["WEBRTC_LINUX"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+    DEFINES["__GNU_SOURCE"] = "1"
+
+    OS_LIBS += [
+        "log"
+    ]
 
 if CONFIG["CPU_ARCH"] == "arm":
 
@@ -148,15 +142,24 @@ if CONFIG["CPU_ARCH"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Android":
+if CONFIG["CPU_ARCH"] == "ppc64":
 
-    DEFINES["_FORTIFY_SOURCE"] = "2"
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "mips64":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "aarch64":
+
+    DEFINES["WEBRTC_ARCH_ARM64"] = True
+    DEFINES["WEBRTC_HAS_NEON"] = True
 
 if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Darwin":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "DragonFly":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "OpenBSD":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
@@ -164,20 +167,28 @@ if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "FreeBSD":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "NetBSD":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Android":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "OpenBSD":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "DragonFly":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "Android":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "NetBSD":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "NetBSD":
 
     CXXFLAGS += [
         "-msse2"
     ]
 
+if CONFIG["CPU_ARCH"] == "x86_64" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
 if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "FreeBSD":
 
     CXXFLAGS += [
@@ -195,7 +206,7 @@ if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "Linux":
         "-msse2"
     ]
 
-if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "NetBSD":
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "Android":
 
     CXXFLAGS += [
         "-msse2"
@@ -207,4 +218,32 @@ if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "OpenBSD":
         "-msse2"
     ]
 
+if CONFIG["CPU_ARCH"] == "arm" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "aarch64" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "arm" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "aarch64" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["HOST_CPU_ARCH"] == "x86_64" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["HOST_CPU_ARCH"] == "x86" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
 Library("audio_decoder_L16_gn")
diff --git a/media/webrtc/trunk/webrtc/api/audio_codecs/L16/audio_encoder_L16_gn/moz.build b/media/webrtc/trunk/webrtc/api/audio_codecs/L16/audio_encoder_L16_gn/moz.build
index b84b117c4803..021924da055c 100644
--- a/media/webrtc/trunk/webrtc/api/audio_codecs/L16/audio_encoder_L16_gn/moz.build
+++ b/media/webrtc/trunk/webrtc/api/audio_codecs/L16/audio_encoder_L16_gn/moz.build
@@ -30,56 +30,18 @@ UNIFIED_SOURCES += [
     "/media/webrtc/trunk/webrtc/api/audio_codecs/L16/audio_encoder_L16.cc"
 ]
 
-if not CONFIG["MOZ_DEBUG"]:
-
-    DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "0"
-    DEFINES["NDEBUG"] = True
-    DEFINES["NVALGRIND"] = True
-
 if CONFIG["MOZ_DEBUG"] == "1":
 
     DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "1"
     DEFINES["WTF_USE_DYNAMIC_ANNOTATIONS"] = "1"
 
-if CONFIG["OS_TARGET"] == "Android":
-
-    DEFINES["ANDROID"] = True
-    DEFINES["ANDROID_NDK_VERSION"] = "r12b"
-    DEFINES["DISABLE_NACL"] = True
-    DEFINES["HAVE_SYS_UIO_H"] = True
-    DEFINES["NO_TCMALLOC"] = True
-    DEFINES["USE_OPENSSL_CERTS"] = "1"
-    DEFINES["WEBRTC_ANDROID"] = True
-    DEFINES["WEBRTC_ANDROID_OPENSLES"] = True
-    DEFINES["WEBRTC_LINUX"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
-    DEFINES["__GNU_SOURCE"] = "1"
-
-    OS_LIBS += [
-        "log"
-    ]
-
-if CONFIG["OS_TARGET"] == "Darwin":
-
-    DEFINES["CR_XCODE_VERSION"] = "0920"
-    DEFINES["NO_TCMALLOC"] = True
-    DEFINES["WEBRTC_MAC"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["__ASSERT_MACROS_DEFINE_VERSIONS_WITHOUT_UNDERSCORE"] = "0"
-
-    OS_LIBS += [
-        "-framework Foundation"
-    ]
-
-if CONFIG["OS_TARGET"] == "DragonFly":
+if not CONFIG["MOZ_DEBUG"]:
 
-    DEFINES["USE_X11"] = "1"
-    DEFINES["WEBRTC_BSD"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
+    DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "0"
+    DEFINES["NDEBUG"] = True
+    DEFINES["NVALGRIND"] = True
 
-if CONFIG["OS_TARGET"] == "FreeBSD":
+if CONFIG["OS_TARGET"] == "NetBSD":
 
     DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_BSD"] = True
@@ -89,19 +51,11 @@ if CONFIG["OS_TARGET"] == "FreeBSD":
 if CONFIG["OS_TARGET"] == "Linux":
 
     DEFINES["USE_NSS_CERTS"] = "1"
-    DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_LINUX"] = True
     DEFINES["WEBRTC_POSIX"] = True
     DEFINES["_FILE_OFFSET_BITS"] = "64"
 
-if CONFIG["OS_TARGET"] == "NetBSD":
-
-    DEFINES["USE_X11"] = "1"
-    DEFINES["WEBRTC_BSD"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
-
-if CONFIG["OS_TARGET"] == "OpenBSD":
+if CONFIG["OS_TARGET"] == "DragonFly":
 
     DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_BSD"] = True
@@ -133,10 +87,50 @@ if CONFIG["OS_TARGET"] == "WINNT":
     DEFINES["_WINDOWS"] = True
     DEFINES["__STD_C"] = True
 
-if CONFIG["CPU_ARCH"] == "aarch64":
+if CONFIG["OS_TARGET"] == "Darwin":
 
-    DEFINES["WEBRTC_ARCH_ARM64"] = True
-    DEFINES["WEBRTC_HAS_NEON"] = True
+    DEFINES["CR_XCODE_VERSION"] = "0920"
+    DEFINES["NO_TCMALLOC"] = True
+    DEFINES["WEBRTC_MAC"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["__ASSERT_MACROS_DEFINE_VERSIONS_WITHOUT_UNDERSCORE"] = "0"
+
+    OS_LIBS += [
+        "-framework Foundation"
+    ]
+
+if CONFIG["OS_TARGET"] == "OpenBSD":
+
+    DEFINES["USE_X11"] = "1"
+    DEFINES["WEBRTC_BSD"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+
+if CONFIG["OS_TARGET"] == "FreeBSD":
+
+    DEFINES["USE_X11"] = "1"
+    DEFINES["WEBRTC_BSD"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+
+if CONFIG["OS_TARGET"] == "Android":
+
+    DEFINES["ANDROID"] = True
+    DEFINES["ANDROID_NDK_VERSION"] = "r12b"
+    DEFINES["DISABLE_NACL"] = True
+    DEFINES["HAVE_SYS_UIO_H"] = True
+    DEFINES["NO_TCMALLOC"] = True
+    DEFINES["USE_OPENSSL_CERTS"] = "1"
+    DEFINES["WEBRTC_ANDROID"] = True
+    DEFINES["WEBRTC_ANDROID_OPENSLES"] = True
+    DEFINES["WEBRTC_LINUX"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+    DEFINES["__GNU_SOURCE"] = "1"
+
+    OS_LIBS += [
+        "log"
+    ]
 
 if CONFIG["CPU_ARCH"] == "arm":
 
@@ -148,15 +142,24 @@ if CONFIG["CPU_ARCH"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Android":
+if CONFIG["CPU_ARCH"] == "ppc64":
 
-    DEFINES["_FORTIFY_SOURCE"] = "2"
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "mips64":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "aarch64":
+
+    DEFINES["WEBRTC_ARCH_ARM64"] = True
+    DEFINES["WEBRTC_HAS_NEON"] = True
 
 if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Darwin":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "DragonFly":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "OpenBSD":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
@@ -164,20 +167,28 @@ if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "FreeBSD":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "NetBSD":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Android":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "OpenBSD":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "DragonFly":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "Android":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "NetBSD":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "NetBSD":
 
     CXXFLAGS += [
         "-msse2"
     ]
 
+if CONFIG["CPU_ARCH"] == "x86_64" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
 if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "FreeBSD":
 
     CXXFLAGS += [
@@ -195,7 +206,7 @@ if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "Linux":
         "-msse2"
     ]
 
-if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "NetBSD":
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "Android":
 
     CXXFLAGS += [
         "-msse2"
@@ -207,4 +218,32 @@ if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "OpenBSD":
         "-msse2"
     ]
 
+if CONFIG["CPU_ARCH"] == "arm" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "aarch64" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "arm" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "aarch64" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["HOST_CPU_ARCH"] == "x86_64" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["HOST_CPU_ARCH"] == "x86" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
 Library("audio_encoder_L16_gn")
diff --git a/media/webrtc/trunk/webrtc/api/audio_codecs/audio_codecs_api_gn/moz.build b/media/webrtc/trunk/webrtc/api/audio_codecs/audio_codecs_api_gn/moz.build
index 67b58299af8b..99ed4456009a 100644
--- a/media/webrtc/trunk/webrtc/api/audio_codecs/audio_codecs_api_gn/moz.build
+++ b/media/webrtc/trunk/webrtc/api/audio_codecs/audio_codecs_api_gn/moz.build
@@ -32,56 +32,18 @@ UNIFIED_SOURCES += [
     "/media/webrtc/trunk/webrtc/api/audio_codecs/audio_format.cc"
 ]
 
-if not CONFIG["MOZ_DEBUG"]:
-
-    DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "0"
-    DEFINES["NDEBUG"] = True
-    DEFINES["NVALGRIND"] = True
-
 if CONFIG["MOZ_DEBUG"] == "1":
 
     DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "1"
     DEFINES["WTF_USE_DYNAMIC_ANNOTATIONS"] = "1"
 
-if CONFIG["OS_TARGET"] == "Android":
-
-    DEFINES["ANDROID"] = True
-    DEFINES["ANDROID_NDK_VERSION"] = "r12b"
-    DEFINES["DISABLE_NACL"] = True
-    DEFINES["HAVE_SYS_UIO_H"] = True
-    DEFINES["NO_TCMALLOC"] = True
-    DEFINES["USE_OPENSSL_CERTS"] = "1"
-    DEFINES["WEBRTC_ANDROID"] = True
-    DEFINES["WEBRTC_ANDROID_OPENSLES"] = True
-    DEFINES["WEBRTC_LINUX"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
-    DEFINES["__GNU_SOURCE"] = "1"
-
-    OS_LIBS += [
-        "log"
-    ]
-
-if CONFIG["OS_TARGET"] == "Darwin":
-
-    DEFINES["CR_XCODE_VERSION"] = "0920"
-    DEFINES["NO_TCMALLOC"] = True
-    DEFINES["WEBRTC_MAC"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["__ASSERT_MACROS_DEFINE_VERSIONS_WITHOUT_UNDERSCORE"] = "0"
-
-    OS_LIBS += [
-        "-framework Foundation"
-    ]
-
-if CONFIG["OS_TARGET"] == "DragonFly":
+if not CONFIG["MOZ_DEBUG"]:
 
-    DEFINES["USE_X11"] = "1"
-    DEFINES["WEBRTC_BSD"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
+    DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "0"
+    DEFINES["NDEBUG"] = True
+    DEFINES["NVALGRIND"] = True
 
-if CONFIG["OS_TARGET"] == "FreeBSD":
+if CONFIG["OS_TARGET"] == "NetBSD":
 
     DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_BSD"] = True
@@ -91,19 +53,11 @@ if CONFIG["OS_TARGET"] == "FreeBSD":
 if CONFIG["OS_TARGET"] == "Linux":
 
     DEFINES["USE_NSS_CERTS"] = "1"
-    DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_LINUX"] = True
     DEFINES["WEBRTC_POSIX"] = True
     DEFINES["_FILE_OFFSET_BITS"] = "64"
 
-if CONFIG["OS_TARGET"] == "NetBSD":
-
-    DEFINES["USE_X11"] = "1"
-    DEFINES["WEBRTC_BSD"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
-
-if CONFIG["OS_TARGET"] == "OpenBSD":
+if CONFIG["OS_TARGET"] == "DragonFly":
 
     DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_BSD"] = True
@@ -135,10 +89,50 @@ if CONFIG["OS_TARGET"] == "WINNT":
     DEFINES["_WINDOWS"] = True
     DEFINES["__STD_C"] = True
 
-if CONFIG["CPU_ARCH"] == "aarch64":
+if CONFIG["OS_TARGET"] == "Darwin":
 
-    DEFINES["WEBRTC_ARCH_ARM64"] = True
-    DEFINES["WEBRTC_HAS_NEON"] = True
+    DEFINES["CR_XCODE_VERSION"] = "0920"
+    DEFINES["NO_TCMALLOC"] = True
+    DEFINES["WEBRTC_MAC"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["__ASSERT_MACROS_DEFINE_VERSIONS_WITHOUT_UNDERSCORE"] = "0"
+
+    OS_LIBS += [
+        "-framework Foundation"
+    ]
+
+if CONFIG["OS_TARGET"] == "OpenBSD":
+
+    DEFINES["USE_X11"] = "1"
+    DEFINES["WEBRTC_BSD"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+
+if CONFIG["OS_TARGET"] == "FreeBSD":
+
+    DEFINES["USE_X11"] = "1"
+    DEFINES["WEBRTC_BSD"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+
+if CONFIG["OS_TARGET"] == "Android":
+
+    DEFINES["ANDROID"] = True
+    DEFINES["ANDROID_NDK_VERSION"] = "r12b"
+    DEFINES["DISABLE_NACL"] = True
+    DEFINES["HAVE_SYS_UIO_H"] = True
+    DEFINES["NO_TCMALLOC"] = True
+    DEFINES["USE_OPENSSL_CERTS"] = "1"
+    DEFINES["WEBRTC_ANDROID"] = True
+    DEFINES["WEBRTC_ANDROID_OPENSLES"] = True
+    DEFINES["WEBRTC_LINUX"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+    DEFINES["__GNU_SOURCE"] = "1"
+
+    OS_LIBS += [
+        "log"
+    ]
 
 if CONFIG["CPU_ARCH"] == "arm":
 
@@ -150,15 +144,24 @@ if CONFIG["CPU_ARCH"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Android":
+if CONFIG["CPU_ARCH"] == "ppc64":
 
-    DEFINES["_FORTIFY_SOURCE"] = "2"
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "mips64":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "aarch64":
+
+    DEFINES["WEBRTC_ARCH_ARM64"] = True
+    DEFINES["WEBRTC_HAS_NEON"] = True
 
 if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Darwin":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "DragonFly":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "OpenBSD":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
@@ -166,20 +169,28 @@ if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "FreeBSD":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "NetBSD":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Android":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "OpenBSD":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "DragonFly":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "Android":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "NetBSD":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "NetBSD":
 
     CXXFLAGS += [
         "-msse2"
     ]
 
+if CONFIG["CPU_ARCH"] == "x86_64" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
 if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "FreeBSD":
 
     CXXFLAGS += [
@@ -197,7 +208,7 @@ if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "Linux":
         "-msse2"
     ]
 
-if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "NetBSD":
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "Android":
 
     CXXFLAGS += [
         "-msse2"
@@ -209,4 +220,32 @@ if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "OpenBSD":
         "-msse2"
     ]
 
+if CONFIG["CPU_ARCH"] == "arm" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "aarch64" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "arm" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "aarch64" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["HOST_CPU_ARCH"] == "x86_64" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["HOST_CPU_ARCH"] == "x86" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
 Library("audio_codecs_api_gn")
diff --git a/media/webrtc/trunk/webrtc/api/audio_codecs/builtin_audio_decoder_factory_gn/moz.build b/media/webrtc/trunk/webrtc/api/audio_codecs/builtin_audio_decoder_factory_gn/moz.build
index bdf47264b0a6..33832a55d74a 100644
--- a/media/webrtc/trunk/webrtc/api/audio_codecs/builtin_audio_decoder_factory_gn/moz.build
+++ b/media/webrtc/trunk/webrtc/api/audio_codecs/builtin_audio_decoder_factory_gn/moz.build
@@ -32,60 +32,18 @@ UNIFIED_SOURCES += [
     "/media/webrtc/trunk/webrtc/api/audio_codecs/builtin_audio_decoder_factory.cc"
 ]
 
-if not CONFIG["MOZ_DEBUG"]:
-
-    DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "0"
-    DEFINES["NDEBUG"] = True
-    DEFINES["NVALGRIND"] = True
-
 if CONFIG["MOZ_DEBUG"] == "1":
 
     DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "1"
     DEFINES["WTF_USE_DYNAMIC_ANNOTATIONS"] = "1"
 
-if CONFIG["OS_TARGET"] == "Android":
-
-    DEFINES["ANDROID"] = True
-    DEFINES["ANDROID_NDK_VERSION"] = "r12b"
-    DEFINES["DISABLE_NACL"] = True
-    DEFINES["HAVE_SYS_UIO_H"] = True
-    DEFINES["NO_TCMALLOC"] = True
-    DEFINES["USE_OPENSSL_CERTS"] = "1"
-    DEFINES["WEBRTC_ANDROID"] = True
-    DEFINES["WEBRTC_ANDROID_OPENSLES"] = True
-    DEFINES["WEBRTC_LINUX"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
-    DEFINES["__GNU_SOURCE"] = "1"
-
-    OS_LIBS += [
-        "log"
-    ]
-
-if CONFIG["OS_TARGET"] == "Darwin":
-
-    DEFINES["CR_XCODE_VERSION"] = "0920"
-    DEFINES["NO_TCMALLOC"] = True
-    DEFINES["WEBRTC_MAC"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["WEBRTC_USE_BUILTIN_ISAC_FIX"] = "0"
-    DEFINES["WEBRTC_USE_BUILTIN_ISAC_FLOAT"] = "1"
-    DEFINES["__ASSERT_MACROS_DEFINE_VERSIONS_WITHOUT_UNDERSCORE"] = "0"
-
-    OS_LIBS += [
-        "-framework Foundation"
-    ]
-
-if CONFIG["OS_TARGET"] == "DragonFly":
+if not CONFIG["MOZ_DEBUG"]:
 
-    DEFINES["USE_X11"] = "1"
-    DEFINES["WEBRTC_BSD"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["WEBRTC_USE_BUILTIN_ISAC_FIX"] = "0"
-    DEFINES["WEBRTC_USE_BUILTIN_ISAC_FLOAT"] = "1"
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
+    DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "0"
+    DEFINES["NDEBUG"] = True
+    DEFINES["NVALGRIND"] = True
 
-if CONFIG["OS_TARGET"] == "FreeBSD":
+if CONFIG["OS_TARGET"] == "NetBSD":
 
     DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_BSD"] = True
@@ -95,7 +53,6 @@ if CONFIG["OS_TARGET"] == "FreeBSD":
 if CONFIG["OS_TARGET"] == "Linux":
 
     DEFINES["USE_NSS_CERTS"] = "1"
-    DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_LINUX"] = True
     DEFINES["WEBRTC_POSIX"] = True
     DEFINES["_FILE_OFFSET_BITS"] = "64"
@@ -104,18 +61,13 @@ if CONFIG["OS_TARGET"] == "Linux":
         "rt"
     ]
 
-if CONFIG["OS_TARGET"] == "NetBSD":
-
-    DEFINES["USE_X11"] = "1"
-    DEFINES["WEBRTC_BSD"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
-
-if CONFIG["OS_TARGET"] == "OpenBSD":
+if CONFIG["OS_TARGET"] == "DragonFly":
 
     DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_BSD"] = True
     DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["WEBRTC_USE_BUILTIN_ISAC_FIX"] = "0"
+    DEFINES["WEBRTC_USE_BUILTIN_ISAC_FLOAT"] = "1"
     DEFINES["_FILE_OFFSET_BITS"] = "64"
 
 if CONFIG["OS_TARGET"] == "WINNT":
@@ -149,10 +101,52 @@ if CONFIG["OS_TARGET"] == "WINNT":
         "winmm"
     ]
 
-if CONFIG["CPU_ARCH"] == "aarch64":
+if CONFIG["OS_TARGET"] == "Darwin":
 
-    DEFINES["WEBRTC_ARCH_ARM64"] = True
-    DEFINES["WEBRTC_HAS_NEON"] = True
+    DEFINES["CR_XCODE_VERSION"] = "0920"
+    DEFINES["NO_TCMALLOC"] = True
+    DEFINES["WEBRTC_MAC"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["WEBRTC_USE_BUILTIN_ISAC_FIX"] = "0"
+    DEFINES["WEBRTC_USE_BUILTIN_ISAC_FLOAT"] = "1"
+    DEFINES["__ASSERT_MACROS_DEFINE_VERSIONS_WITHOUT_UNDERSCORE"] = "0"
+
+    OS_LIBS += [
+        "-framework Foundation"
+    ]
+
+if CONFIG["OS_TARGET"] == "OpenBSD":
+
+    DEFINES["USE_X11"] = "1"
+    DEFINES["WEBRTC_BSD"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+
+if CONFIG["OS_TARGET"] == "FreeBSD":
+
+    DEFINES["USE_X11"] = "1"
+    DEFINES["WEBRTC_BSD"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+
+if CONFIG["OS_TARGET"] == "Android":
+
+    DEFINES["ANDROID"] = True
+    DEFINES["ANDROID_NDK_VERSION"] = "r12b"
+    DEFINES["DISABLE_NACL"] = True
+    DEFINES["HAVE_SYS_UIO_H"] = True
+    DEFINES["NO_TCMALLOC"] = True
+    DEFINES["USE_OPENSSL_CERTS"] = "1"
+    DEFINES["WEBRTC_ANDROID"] = True
+    DEFINES["WEBRTC_ANDROID_OPENSLES"] = True
+    DEFINES["WEBRTC_LINUX"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+    DEFINES["__GNU_SOURCE"] = "1"
+
+    OS_LIBS += [
+        "log"
+    ]
 
 if CONFIG["CPU_ARCH"] == "arm":
 
@@ -166,8 +160,9 @@ if CONFIG["CPU_ARCH"] == "arm":
     DEFINES["WEBRTC_USE_BUILTIN_ISAC_FIX"] = "1"
     DEFINES["WEBRTC_USE_BUILTIN_ISAC_FLOAT"] = "0"
 
-if CONFIG["CPU_ARCH"] == "mips64":
+if CONFIG["CPU_ARCH"] == "ppc64":
 
+    DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_USE_BUILTIN_ISAC_FIX"] = "0"
     DEFINES["WEBRTC_USE_BUILTIN_ISAC_FLOAT"] = "1"
 
@@ -175,8 +170,9 @@ if CONFIG["CPU_ARCH"] == "mips64":
         "m"
     ]
 
-if CONFIG["CPU_ARCH"] == "ppc64":
+if CONFIG["CPU_ARCH"] == "mips64":
 
+    DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_USE_BUILTIN_ISAC_FIX"] = "0"
     DEFINES["WEBRTC_USE_BUILTIN_ISAC_FLOAT"] = "1"
 
@@ -184,15 +180,16 @@ if CONFIG["CPU_ARCH"] == "ppc64":
         "m"
     ]
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Android":
+if CONFIG["CPU_ARCH"] == "aarch64":
 
-    DEFINES["_FORTIFY_SOURCE"] = "2"
+    DEFINES["WEBRTC_ARCH_ARM64"] = True
+    DEFINES["WEBRTC_HAS_NEON"] = True
 
 if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Darwin":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "DragonFly":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "OpenBSD":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
@@ -200,20 +197,19 @@ if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "FreeBSD":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "NetBSD":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Android":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "OpenBSD":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "DragonFly":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if CONFIG["CPU_ARCH"] == "aarch64" and CONFIG["OS_TARGET"] == "Android":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "NetBSD":
 
-    DEFINES["WEBRTC_USE_BUILTIN_ISAC_FIX"] = "0"
-    DEFINES["WEBRTC_USE_BUILTIN_ISAC_FLOAT"] = "1"
+    DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "Android":
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "NetBSD":
 
     CXXFLAGS += [
         "-msse2"
@@ -222,16 +218,21 @@ if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "Android":
     DEFINES["WEBRTC_USE_BUILTIN_ISAC_FIX"] = "0"
     DEFINES["WEBRTC_USE_BUILTIN_ISAC_FLOAT"] = "1"
 
-if CONFIG["CPU_ARCH"] == "x86_64" and CONFIG["OS_TARGET"] == "Android":
+if CONFIG["CPU_ARCH"] == "aarch64" and CONFIG["OS_TARGET"] == "FreeBSD":
 
     DEFINES["WEBRTC_USE_BUILTIN_ISAC_FIX"] = "0"
     DEFINES["WEBRTC_USE_BUILTIN_ISAC_FLOAT"] = "1"
 
-if CONFIG["CPU_ARCH"] == "aarch64" and CONFIG["OS_TARGET"] == "FreeBSD":
+if CONFIG["CPU_ARCH"] == "x86_64" and CONFIG["OS_TARGET"] == "Linux":
 
+    DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_USE_BUILTIN_ISAC_FIX"] = "0"
     DEFINES["WEBRTC_USE_BUILTIN_ISAC_FLOAT"] = "1"
 
+    OS_LIBS += [
+        "m"
+    ]
+
 if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "FreeBSD":
 
     CXXFLAGS += [
@@ -241,11 +242,6 @@ if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "FreeBSD":
     DEFINES["WEBRTC_USE_BUILTIN_ISAC_FIX"] = "0"
     DEFINES["WEBRTC_USE_BUILTIN_ISAC_FLOAT"] = "1"
 
-if CONFIG["CPU_ARCH"] == "x86_64" and CONFIG["OS_TARGET"] == "FreeBSD":
-
-    DEFINES["WEBRTC_USE_BUILTIN_ISAC_FIX"] = "0"
-    DEFINES["WEBRTC_USE_BUILTIN_ISAC_FLOAT"] = "1"
-
 if CONFIG["CPU_ARCH"] == "aarch64" and CONFIG["OS_TARGET"] == "Linux":
 
     DEFINES["DISABLE_NACL"] = True
@@ -257,6 +253,26 @@ if CONFIG["CPU_ARCH"] == "aarch64" and CONFIG["OS_TARGET"] == "Linux":
         "m"
     ]
 
+if CONFIG["CPU_ARCH"] == "aarch64" and CONFIG["OS_TARGET"] == "Android":
+
+    DEFINES["WEBRTC_USE_BUILTIN_ISAC_FIX"] = "0"
+    DEFINES["WEBRTC_USE_BUILTIN_ISAC_FLOAT"] = "1"
+
+if CONFIG["CPU_ARCH"] == "aarch64" and CONFIG["OS_TARGET"] == "OpenBSD":
+
+    DEFINES["WEBRTC_USE_BUILTIN_ISAC_FIX"] = "0"
+    DEFINES["WEBRTC_USE_BUILTIN_ISAC_FLOAT"] = "1"
+
+if CONFIG["CPU_ARCH"] == "x86_64" and CONFIG["OS_TARGET"] == "Android":
+
+    DEFINES["WEBRTC_USE_BUILTIN_ISAC_FIX"] = "0"
+    DEFINES["WEBRTC_USE_BUILTIN_ISAC_FLOAT"] = "1"
+
+if CONFIG["CPU_ARCH"] == "x86_64" and CONFIG["OS_TARGET"] == "OpenBSD":
+
+    DEFINES["WEBRTC_USE_BUILTIN_ISAC_FIX"] = "0"
+    DEFINES["WEBRTC_USE_BUILTIN_ISAC_FLOAT"] = "1"
+
 if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "Linux":
 
     CXXFLAGS += [
@@ -270,21 +286,16 @@ if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "Linux":
         "m"
     ]
 
-if CONFIG["CPU_ARCH"] == "x86_64" and CONFIG["OS_TARGET"] == "Linux":
-
-    DEFINES["WEBRTC_USE_BUILTIN_ISAC_FIX"] = "0"
-    DEFINES["WEBRTC_USE_BUILTIN_ISAC_FLOAT"] = "1"
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "Android":
 
-    OS_LIBS += [
-        "m"
+    CXXFLAGS += [
+        "-msse2"
     ]
 
-if CONFIG["CPU_ARCH"] == "aarch64" and CONFIG["OS_TARGET"] == "NetBSD":
-
     DEFINES["WEBRTC_USE_BUILTIN_ISAC_FIX"] = "0"
     DEFINES["WEBRTC_USE_BUILTIN_ISAC_FLOAT"] = "1"
 
-if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "NetBSD":
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "OpenBSD":
 
     CXXFLAGS += [
         "-msse2"
@@ -293,28 +304,47 @@ if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "NetBSD":
     DEFINES["WEBRTC_USE_BUILTIN_ISAC_FIX"] = "0"
     DEFINES["WEBRTC_USE_BUILTIN_ISAC_FLOAT"] = "1"
 
-if CONFIG["CPU_ARCH"] == "x86_64" and CONFIG["OS_TARGET"] == "NetBSD":
+if CONFIG["CPU_ARCH"] == "x86_64" and CONFIG["OS_TARGET"] == "FreeBSD":
 
     DEFINES["WEBRTC_USE_BUILTIN_ISAC_FIX"] = "0"
     DEFINES["WEBRTC_USE_BUILTIN_ISAC_FLOAT"] = "1"
 
-if CONFIG["CPU_ARCH"] == "aarch64" and CONFIG["OS_TARGET"] == "OpenBSD":
+if CONFIG["CPU_ARCH"] == "aarch64" and CONFIG["OS_TARGET"] == "NetBSD":
 
     DEFINES["WEBRTC_USE_BUILTIN_ISAC_FIX"] = "0"
     DEFINES["WEBRTC_USE_BUILTIN_ISAC_FLOAT"] = "1"
 
-if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "OpenBSD":
-
-    CXXFLAGS += [
-        "-msse2"
-    ]
+if CONFIG["CPU_ARCH"] == "x86_64" and CONFIG["OS_TARGET"] == "NetBSD":
 
     DEFINES["WEBRTC_USE_BUILTIN_ISAC_FIX"] = "0"
     DEFINES["WEBRTC_USE_BUILTIN_ISAC_FLOAT"] = "1"
 
-if CONFIG["CPU_ARCH"] == "x86_64" and CONFIG["OS_TARGET"] == "OpenBSD":
+if CONFIG["CPU_ARCH"] == "arm" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
 
-    DEFINES["WEBRTC_USE_BUILTIN_ISAC_FIX"] = "0"
-    DEFINES["WEBRTC_USE_BUILTIN_ISAC_FLOAT"] = "1"
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "aarch64" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "arm" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "aarch64" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["HOST_CPU_ARCH"] == "x86_64" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["HOST_CPU_ARCH"] == "x86" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
 
 Library("builtin_audio_decoder_factory_gn")
diff --git a/media/webrtc/trunk/webrtc/api/audio_codecs/builtin_audio_encoder_factory_gn/moz.build b/media/webrtc/trunk/webrtc/api/audio_codecs/builtin_audio_encoder_factory_gn/moz.build
index a4a534571da6..61447797fae1 100644
--- a/media/webrtc/trunk/webrtc/api/audio_codecs/builtin_audio_encoder_factory_gn/moz.build
+++ b/media/webrtc/trunk/webrtc/api/audio_codecs/builtin_audio_encoder_factory_gn/moz.build
@@ -32,60 +32,18 @@ UNIFIED_SOURCES += [
     "/media/webrtc/trunk/webrtc/api/audio_codecs/builtin_audio_encoder_factory.cc"
 ]
 
-if not CONFIG["MOZ_DEBUG"]:
-
-    DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "0"
-    DEFINES["NDEBUG"] = True
-    DEFINES["NVALGRIND"] = True
-
 if CONFIG["MOZ_DEBUG"] == "1":
 
     DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "1"
     DEFINES["WTF_USE_DYNAMIC_ANNOTATIONS"] = "1"
 
-if CONFIG["OS_TARGET"] == "Android":
-
-    DEFINES["ANDROID"] = True
-    DEFINES["ANDROID_NDK_VERSION"] = "r12b"
-    DEFINES["DISABLE_NACL"] = True
-    DEFINES["HAVE_SYS_UIO_H"] = True
-    DEFINES["NO_TCMALLOC"] = True
-    DEFINES["USE_OPENSSL_CERTS"] = "1"
-    DEFINES["WEBRTC_ANDROID"] = True
-    DEFINES["WEBRTC_ANDROID_OPENSLES"] = True
-    DEFINES["WEBRTC_LINUX"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
-    DEFINES["__GNU_SOURCE"] = "1"
-
-    OS_LIBS += [
-        "log"
-    ]
-
-if CONFIG["OS_TARGET"] == "Darwin":
-
-    DEFINES["CR_XCODE_VERSION"] = "0920"
-    DEFINES["NO_TCMALLOC"] = True
-    DEFINES["WEBRTC_MAC"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["WEBRTC_USE_BUILTIN_ISAC_FIX"] = "0"
-    DEFINES["WEBRTC_USE_BUILTIN_ISAC_FLOAT"] = "1"
-    DEFINES["__ASSERT_MACROS_DEFINE_VERSIONS_WITHOUT_UNDERSCORE"] = "0"
-
-    OS_LIBS += [
-        "-framework Foundation"
-    ]
-
-if CONFIG["OS_TARGET"] == "DragonFly":
+if not CONFIG["MOZ_DEBUG"]:
 
-    DEFINES["USE_X11"] = "1"
-    DEFINES["WEBRTC_BSD"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["WEBRTC_USE_BUILTIN_ISAC_FIX"] = "0"
-    DEFINES["WEBRTC_USE_BUILTIN_ISAC_FLOAT"] = "1"
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
+    DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "0"
+    DEFINES["NDEBUG"] = True
+    DEFINES["NVALGRIND"] = True
 
-if CONFIG["OS_TARGET"] == "FreeBSD":
+if CONFIG["OS_TARGET"] == "NetBSD":
 
     DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_BSD"] = True
@@ -95,7 +53,6 @@ if CONFIG["OS_TARGET"] == "FreeBSD":
 if CONFIG["OS_TARGET"] == "Linux":
 
     DEFINES["USE_NSS_CERTS"] = "1"
-    DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_LINUX"] = True
     DEFINES["WEBRTC_POSIX"] = True
     DEFINES["_FILE_OFFSET_BITS"] = "64"
@@ -104,18 +61,13 @@ if CONFIG["OS_TARGET"] == "Linux":
         "rt"
     ]
 
-if CONFIG["OS_TARGET"] == "NetBSD":
-
-    DEFINES["USE_X11"] = "1"
-    DEFINES["WEBRTC_BSD"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
-
-if CONFIG["OS_TARGET"] == "OpenBSD":
+if CONFIG["OS_TARGET"] == "DragonFly":
 
     DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_BSD"] = True
     DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["WEBRTC_USE_BUILTIN_ISAC_FIX"] = "0"
+    DEFINES["WEBRTC_USE_BUILTIN_ISAC_FLOAT"] = "1"
     DEFINES["_FILE_OFFSET_BITS"] = "64"
 
 if CONFIG["OS_TARGET"] == "WINNT":
@@ -149,10 +101,52 @@ if CONFIG["OS_TARGET"] == "WINNT":
         "winmm"
     ]
 
-if CONFIG["CPU_ARCH"] == "aarch64":
+if CONFIG["OS_TARGET"] == "Darwin":
 
-    DEFINES["WEBRTC_ARCH_ARM64"] = True
-    DEFINES["WEBRTC_HAS_NEON"] = True
+    DEFINES["CR_XCODE_VERSION"] = "0920"
+    DEFINES["NO_TCMALLOC"] = True
+    DEFINES["WEBRTC_MAC"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["WEBRTC_USE_BUILTIN_ISAC_FIX"] = "0"
+    DEFINES["WEBRTC_USE_BUILTIN_ISAC_FLOAT"] = "1"
+    DEFINES["__ASSERT_MACROS_DEFINE_VERSIONS_WITHOUT_UNDERSCORE"] = "0"
+
+    OS_LIBS += [
+        "-framework Foundation"
+    ]
+
+if CONFIG["OS_TARGET"] == "OpenBSD":
+
+    DEFINES["USE_X11"] = "1"
+    DEFINES["WEBRTC_BSD"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+
+if CONFIG["OS_TARGET"] == "FreeBSD":
+
+    DEFINES["USE_X11"] = "1"
+    DEFINES["WEBRTC_BSD"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+
+if CONFIG["OS_TARGET"] == "Android":
+
+    DEFINES["ANDROID"] = True
+    DEFINES["ANDROID_NDK_VERSION"] = "r12b"
+    DEFINES["DISABLE_NACL"] = True
+    DEFINES["HAVE_SYS_UIO_H"] = True
+    DEFINES["NO_TCMALLOC"] = True
+    DEFINES["USE_OPENSSL_CERTS"] = "1"
+    DEFINES["WEBRTC_ANDROID"] = True
+    DEFINES["WEBRTC_ANDROID_OPENSLES"] = True
+    DEFINES["WEBRTC_LINUX"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+    DEFINES["__GNU_SOURCE"] = "1"
+
+    OS_LIBS += [
+        "log"
+    ]
 
 if CONFIG["CPU_ARCH"] == "arm":
 
@@ -166,8 +160,9 @@ if CONFIG["CPU_ARCH"] == "arm":
     DEFINES["WEBRTC_USE_BUILTIN_ISAC_FIX"] = "1"
     DEFINES["WEBRTC_USE_BUILTIN_ISAC_FLOAT"] = "0"
 
-if CONFIG["CPU_ARCH"] == "mips64":
+if CONFIG["CPU_ARCH"] == "ppc64":
 
+    DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_USE_BUILTIN_ISAC_FIX"] = "0"
     DEFINES["WEBRTC_USE_BUILTIN_ISAC_FLOAT"] = "1"
 
@@ -175,8 +170,9 @@ if CONFIG["CPU_ARCH"] == "mips64":
         "m"
     ]
 
-if CONFIG["CPU_ARCH"] == "ppc64":
+if CONFIG["CPU_ARCH"] == "mips64":
 
+    DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_USE_BUILTIN_ISAC_FIX"] = "0"
     DEFINES["WEBRTC_USE_BUILTIN_ISAC_FLOAT"] = "1"
 
@@ -184,15 +180,16 @@ if CONFIG["CPU_ARCH"] == "ppc64":
         "m"
     ]
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Android":
+if CONFIG["CPU_ARCH"] == "aarch64":
 
-    DEFINES["_FORTIFY_SOURCE"] = "2"
+    DEFINES["WEBRTC_ARCH_ARM64"] = True
+    DEFINES["WEBRTC_HAS_NEON"] = True
 
 if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Darwin":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "DragonFly":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "OpenBSD":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
@@ -200,20 +197,19 @@ if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "FreeBSD":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "NetBSD":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Android":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "OpenBSD":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "DragonFly":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if CONFIG["CPU_ARCH"] == "aarch64" and CONFIG["OS_TARGET"] == "Android":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "NetBSD":
 
-    DEFINES["WEBRTC_USE_BUILTIN_ISAC_FIX"] = "0"
-    DEFINES["WEBRTC_USE_BUILTIN_ISAC_FLOAT"] = "1"
+    DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "Android":
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "NetBSD":
 
     CXXFLAGS += [
         "-msse2"
@@ -222,16 +218,21 @@ if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "Android":
     DEFINES["WEBRTC_USE_BUILTIN_ISAC_FIX"] = "0"
     DEFINES["WEBRTC_USE_BUILTIN_ISAC_FLOAT"] = "1"
 
-if CONFIG["CPU_ARCH"] == "x86_64" and CONFIG["OS_TARGET"] == "Android":
+if CONFIG["CPU_ARCH"] == "aarch64" and CONFIG["OS_TARGET"] == "FreeBSD":
 
     DEFINES["WEBRTC_USE_BUILTIN_ISAC_FIX"] = "0"
     DEFINES["WEBRTC_USE_BUILTIN_ISAC_FLOAT"] = "1"
 
-if CONFIG["CPU_ARCH"] == "aarch64" and CONFIG["OS_TARGET"] == "FreeBSD":
+if CONFIG["CPU_ARCH"] == "x86_64" and CONFIG["OS_TARGET"] == "Linux":
 
+    DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_USE_BUILTIN_ISAC_FIX"] = "0"
     DEFINES["WEBRTC_USE_BUILTIN_ISAC_FLOAT"] = "1"
 
+    OS_LIBS += [
+        "m"
+    ]
+
 if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "FreeBSD":
 
     CXXFLAGS += [
@@ -241,11 +242,6 @@ if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "FreeBSD":
     DEFINES["WEBRTC_USE_BUILTIN_ISAC_FIX"] = "0"
     DEFINES["WEBRTC_USE_BUILTIN_ISAC_FLOAT"] = "1"
 
-if CONFIG["CPU_ARCH"] == "x86_64" and CONFIG["OS_TARGET"] == "FreeBSD":
-
-    DEFINES["WEBRTC_USE_BUILTIN_ISAC_FIX"] = "0"
-    DEFINES["WEBRTC_USE_BUILTIN_ISAC_FLOAT"] = "1"
-
 if CONFIG["CPU_ARCH"] == "aarch64" and CONFIG["OS_TARGET"] == "Linux":
 
     DEFINES["DISABLE_NACL"] = True
@@ -257,6 +253,26 @@ if CONFIG["CPU_ARCH"] == "aarch64" and CONFIG["OS_TARGET"] == "Linux":
         "m"
     ]
 
+if CONFIG["CPU_ARCH"] == "aarch64" and CONFIG["OS_TARGET"] == "Android":
+
+    DEFINES["WEBRTC_USE_BUILTIN_ISAC_FIX"] = "0"
+    DEFINES["WEBRTC_USE_BUILTIN_ISAC_FLOAT"] = "1"
+
+if CONFIG["CPU_ARCH"] == "aarch64" and CONFIG["OS_TARGET"] == "OpenBSD":
+
+    DEFINES["WEBRTC_USE_BUILTIN_ISAC_FIX"] = "0"
+    DEFINES["WEBRTC_USE_BUILTIN_ISAC_FLOAT"] = "1"
+
+if CONFIG["CPU_ARCH"] == "x86_64" and CONFIG["OS_TARGET"] == "Android":
+
+    DEFINES["WEBRTC_USE_BUILTIN_ISAC_FIX"] = "0"
+    DEFINES["WEBRTC_USE_BUILTIN_ISAC_FLOAT"] = "1"
+
+if CONFIG["CPU_ARCH"] == "x86_64" and CONFIG["OS_TARGET"] == "OpenBSD":
+
+    DEFINES["WEBRTC_USE_BUILTIN_ISAC_FIX"] = "0"
+    DEFINES["WEBRTC_USE_BUILTIN_ISAC_FLOAT"] = "1"
+
 if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "Linux":
 
     CXXFLAGS += [
@@ -270,21 +286,16 @@ if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "Linux":
         "m"
     ]
 
-if CONFIG["CPU_ARCH"] == "x86_64" and CONFIG["OS_TARGET"] == "Linux":
-
-    DEFINES["WEBRTC_USE_BUILTIN_ISAC_FIX"] = "0"
-    DEFINES["WEBRTC_USE_BUILTIN_ISAC_FLOAT"] = "1"
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "Android":
 
-    OS_LIBS += [
-        "m"
+    CXXFLAGS += [
+        "-msse2"
     ]
 
-if CONFIG["CPU_ARCH"] == "aarch64" and CONFIG["OS_TARGET"] == "NetBSD":
-
     DEFINES["WEBRTC_USE_BUILTIN_ISAC_FIX"] = "0"
     DEFINES["WEBRTC_USE_BUILTIN_ISAC_FLOAT"] = "1"
 
-if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "NetBSD":
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "OpenBSD":
 
     CXXFLAGS += [
         "-msse2"
@@ -293,28 +304,47 @@ if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "NetBSD":
     DEFINES["WEBRTC_USE_BUILTIN_ISAC_FIX"] = "0"
     DEFINES["WEBRTC_USE_BUILTIN_ISAC_FLOAT"] = "1"
 
-if CONFIG["CPU_ARCH"] == "x86_64" and CONFIG["OS_TARGET"] == "NetBSD":
+if CONFIG["CPU_ARCH"] == "x86_64" and CONFIG["OS_TARGET"] == "FreeBSD":
 
     DEFINES["WEBRTC_USE_BUILTIN_ISAC_FIX"] = "0"
     DEFINES["WEBRTC_USE_BUILTIN_ISAC_FLOAT"] = "1"
 
-if CONFIG["CPU_ARCH"] == "aarch64" and CONFIG["OS_TARGET"] == "OpenBSD":
+if CONFIG["CPU_ARCH"] == "aarch64" and CONFIG["OS_TARGET"] == "NetBSD":
 
     DEFINES["WEBRTC_USE_BUILTIN_ISAC_FIX"] = "0"
     DEFINES["WEBRTC_USE_BUILTIN_ISAC_FLOAT"] = "1"
 
-if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "OpenBSD":
-
-    CXXFLAGS += [
-        "-msse2"
-    ]
+if CONFIG["CPU_ARCH"] == "x86_64" and CONFIG["OS_TARGET"] == "NetBSD":
 
     DEFINES["WEBRTC_USE_BUILTIN_ISAC_FIX"] = "0"
     DEFINES["WEBRTC_USE_BUILTIN_ISAC_FLOAT"] = "1"
 
-if CONFIG["CPU_ARCH"] == "x86_64" and CONFIG["OS_TARGET"] == "OpenBSD":
+if CONFIG["CPU_ARCH"] == "arm" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
 
-    DEFINES["WEBRTC_USE_BUILTIN_ISAC_FIX"] = "0"
-    DEFINES["WEBRTC_USE_BUILTIN_ISAC_FLOAT"] = "1"
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "aarch64" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "arm" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "aarch64" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["HOST_CPU_ARCH"] == "x86_64" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["HOST_CPU_ARCH"] == "x86" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
 
 Library("builtin_audio_encoder_factory_gn")
diff --git a/media/webrtc/trunk/webrtc/api/audio_codecs/g711/audio_decoder_g711_gn/moz.build b/media/webrtc/trunk/webrtc/api/audio_codecs/g711/audio_decoder_g711_gn/moz.build
index b8a8e1aa709d..843832f70b85 100644
--- a/media/webrtc/trunk/webrtc/api/audio_codecs/g711/audio_decoder_g711_gn/moz.build
+++ b/media/webrtc/trunk/webrtc/api/audio_codecs/g711/audio_decoder_g711_gn/moz.build
@@ -30,56 +30,18 @@ UNIFIED_SOURCES += [
     "/media/webrtc/trunk/webrtc/api/audio_codecs/g711/audio_decoder_g711.cc"
 ]
 
-if not CONFIG["MOZ_DEBUG"]:
-
-    DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "0"
-    DEFINES["NDEBUG"] = True
-    DEFINES["NVALGRIND"] = True
-
 if CONFIG["MOZ_DEBUG"] == "1":
 
     DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "1"
     DEFINES["WTF_USE_DYNAMIC_ANNOTATIONS"] = "1"
 
-if CONFIG["OS_TARGET"] == "Android":
-
-    DEFINES["ANDROID"] = True
-    DEFINES["ANDROID_NDK_VERSION"] = "r12b"
-    DEFINES["DISABLE_NACL"] = True
-    DEFINES["HAVE_SYS_UIO_H"] = True
-    DEFINES["NO_TCMALLOC"] = True
-    DEFINES["USE_OPENSSL_CERTS"] = "1"
-    DEFINES["WEBRTC_ANDROID"] = True
-    DEFINES["WEBRTC_ANDROID_OPENSLES"] = True
-    DEFINES["WEBRTC_LINUX"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
-    DEFINES["__GNU_SOURCE"] = "1"
-
-    OS_LIBS += [
-        "log"
-    ]
-
-if CONFIG["OS_TARGET"] == "Darwin":
-
-    DEFINES["CR_XCODE_VERSION"] = "0920"
-    DEFINES["NO_TCMALLOC"] = True
-    DEFINES["WEBRTC_MAC"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["__ASSERT_MACROS_DEFINE_VERSIONS_WITHOUT_UNDERSCORE"] = "0"
-
-    OS_LIBS += [
-        "-framework Foundation"
-    ]
-
-if CONFIG["OS_TARGET"] == "DragonFly":
+if not CONFIG["MOZ_DEBUG"]:
 
-    DEFINES["USE_X11"] = "1"
-    DEFINES["WEBRTC_BSD"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
+    DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "0"
+    DEFINES["NDEBUG"] = True
+    DEFINES["NVALGRIND"] = True
 
-if CONFIG["OS_TARGET"] == "FreeBSD":
+if CONFIG["OS_TARGET"] == "NetBSD":
 
     DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_BSD"] = True
@@ -89,19 +51,11 @@ if CONFIG["OS_TARGET"] == "FreeBSD":
 if CONFIG["OS_TARGET"] == "Linux":
 
     DEFINES["USE_NSS_CERTS"] = "1"
-    DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_LINUX"] = True
     DEFINES["WEBRTC_POSIX"] = True
     DEFINES["_FILE_OFFSET_BITS"] = "64"
 
-if CONFIG["OS_TARGET"] == "NetBSD":
-
-    DEFINES["USE_X11"] = "1"
-    DEFINES["WEBRTC_BSD"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
-
-if CONFIG["OS_TARGET"] == "OpenBSD":
+if CONFIG["OS_TARGET"] == "DragonFly":
 
     DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_BSD"] = True
@@ -133,10 +87,50 @@ if CONFIG["OS_TARGET"] == "WINNT":
     DEFINES["_WINDOWS"] = True
     DEFINES["__STD_C"] = True
 
-if CONFIG["CPU_ARCH"] == "aarch64":
+if CONFIG["OS_TARGET"] == "Darwin":
 
-    DEFINES["WEBRTC_ARCH_ARM64"] = True
-    DEFINES["WEBRTC_HAS_NEON"] = True
+    DEFINES["CR_XCODE_VERSION"] = "0920"
+    DEFINES["NO_TCMALLOC"] = True
+    DEFINES["WEBRTC_MAC"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["__ASSERT_MACROS_DEFINE_VERSIONS_WITHOUT_UNDERSCORE"] = "0"
+
+    OS_LIBS += [
+        "-framework Foundation"
+    ]
+
+if CONFIG["OS_TARGET"] == "OpenBSD":
+
+    DEFINES["USE_X11"] = "1"
+    DEFINES["WEBRTC_BSD"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+
+if CONFIG["OS_TARGET"] == "FreeBSD":
+
+    DEFINES["USE_X11"] = "1"
+    DEFINES["WEBRTC_BSD"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+
+if CONFIG["OS_TARGET"] == "Android":
+
+    DEFINES["ANDROID"] = True
+    DEFINES["ANDROID_NDK_VERSION"] = "r12b"
+    DEFINES["DISABLE_NACL"] = True
+    DEFINES["HAVE_SYS_UIO_H"] = True
+    DEFINES["NO_TCMALLOC"] = True
+    DEFINES["USE_OPENSSL_CERTS"] = "1"
+    DEFINES["WEBRTC_ANDROID"] = True
+    DEFINES["WEBRTC_ANDROID_OPENSLES"] = True
+    DEFINES["WEBRTC_LINUX"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+    DEFINES["__GNU_SOURCE"] = "1"
+
+    OS_LIBS += [
+        "log"
+    ]
 
 if CONFIG["CPU_ARCH"] == "arm":
 
@@ -148,15 +142,24 @@ if CONFIG["CPU_ARCH"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Android":
+if CONFIG["CPU_ARCH"] == "ppc64":
 
-    DEFINES["_FORTIFY_SOURCE"] = "2"
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "mips64":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "aarch64":
+
+    DEFINES["WEBRTC_ARCH_ARM64"] = True
+    DEFINES["WEBRTC_HAS_NEON"] = True
 
 if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Darwin":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "DragonFly":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "OpenBSD":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
@@ -164,20 +167,28 @@ if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "FreeBSD":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "NetBSD":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Android":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "OpenBSD":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "DragonFly":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "Android":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "NetBSD":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "NetBSD":
 
     CXXFLAGS += [
         "-msse2"
     ]
 
+if CONFIG["CPU_ARCH"] == "x86_64" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
 if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "FreeBSD":
 
     CXXFLAGS += [
@@ -195,7 +206,7 @@ if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "Linux":
         "-msse2"
     ]
 
-if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "NetBSD":
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "Android":
 
     CXXFLAGS += [
         "-msse2"
@@ -207,4 +218,32 @@ if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "OpenBSD":
         "-msse2"
     ]
 
+if CONFIG["CPU_ARCH"] == "arm" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "aarch64" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "arm" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "aarch64" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["HOST_CPU_ARCH"] == "x86_64" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["HOST_CPU_ARCH"] == "x86" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
 Library("audio_decoder_g711_gn")
diff --git a/media/webrtc/trunk/webrtc/api/audio_codecs/g711/audio_encoder_g711_gn/moz.build b/media/webrtc/trunk/webrtc/api/audio_codecs/g711/audio_encoder_g711_gn/moz.build
index 33e35333a30a..f988d436105e 100644
--- a/media/webrtc/trunk/webrtc/api/audio_codecs/g711/audio_encoder_g711_gn/moz.build
+++ b/media/webrtc/trunk/webrtc/api/audio_codecs/g711/audio_encoder_g711_gn/moz.build
@@ -30,56 +30,18 @@ UNIFIED_SOURCES += [
     "/media/webrtc/trunk/webrtc/api/audio_codecs/g711/audio_encoder_g711.cc"
 ]
 
-if not CONFIG["MOZ_DEBUG"]:
-
-    DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "0"
-    DEFINES["NDEBUG"] = True
-    DEFINES["NVALGRIND"] = True
-
 if CONFIG["MOZ_DEBUG"] == "1":
 
     DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "1"
     DEFINES["WTF_USE_DYNAMIC_ANNOTATIONS"] = "1"
 
-if CONFIG["OS_TARGET"] == "Android":
-
-    DEFINES["ANDROID"] = True
-    DEFINES["ANDROID_NDK_VERSION"] = "r12b"
-    DEFINES["DISABLE_NACL"] = True
-    DEFINES["HAVE_SYS_UIO_H"] = True
-    DEFINES["NO_TCMALLOC"] = True
-    DEFINES["USE_OPENSSL_CERTS"] = "1"
-    DEFINES["WEBRTC_ANDROID"] = True
-    DEFINES["WEBRTC_ANDROID_OPENSLES"] = True
-    DEFINES["WEBRTC_LINUX"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
-    DEFINES["__GNU_SOURCE"] = "1"
-
-    OS_LIBS += [
-        "log"
-    ]
-
-if CONFIG["OS_TARGET"] == "Darwin":
-
-    DEFINES["CR_XCODE_VERSION"] = "0920"
-    DEFINES["NO_TCMALLOC"] = True
-    DEFINES["WEBRTC_MAC"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["__ASSERT_MACROS_DEFINE_VERSIONS_WITHOUT_UNDERSCORE"] = "0"
-
-    OS_LIBS += [
-        "-framework Foundation"
-    ]
-
-if CONFIG["OS_TARGET"] == "DragonFly":
+if not CONFIG["MOZ_DEBUG"]:
 
-    DEFINES["USE_X11"] = "1"
-    DEFINES["WEBRTC_BSD"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
+    DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "0"
+    DEFINES["NDEBUG"] = True
+    DEFINES["NVALGRIND"] = True
 
-if CONFIG["OS_TARGET"] == "FreeBSD":
+if CONFIG["OS_TARGET"] == "NetBSD":
 
     DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_BSD"] = True
@@ -89,19 +51,11 @@ if CONFIG["OS_TARGET"] == "FreeBSD":
 if CONFIG["OS_TARGET"] == "Linux":
 
     DEFINES["USE_NSS_CERTS"] = "1"
-    DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_LINUX"] = True
     DEFINES["WEBRTC_POSIX"] = True
     DEFINES["_FILE_OFFSET_BITS"] = "64"
 
-if CONFIG["OS_TARGET"] == "NetBSD":
-
-    DEFINES["USE_X11"] = "1"
-    DEFINES["WEBRTC_BSD"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
-
-if CONFIG["OS_TARGET"] == "OpenBSD":
+if CONFIG["OS_TARGET"] == "DragonFly":
 
     DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_BSD"] = True
@@ -133,10 +87,50 @@ if CONFIG["OS_TARGET"] == "WINNT":
     DEFINES["_WINDOWS"] = True
     DEFINES["__STD_C"] = True
 
-if CONFIG["CPU_ARCH"] == "aarch64":
+if CONFIG["OS_TARGET"] == "Darwin":
 
-    DEFINES["WEBRTC_ARCH_ARM64"] = True
-    DEFINES["WEBRTC_HAS_NEON"] = True
+    DEFINES["CR_XCODE_VERSION"] = "0920"
+    DEFINES["NO_TCMALLOC"] = True
+    DEFINES["WEBRTC_MAC"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["__ASSERT_MACROS_DEFINE_VERSIONS_WITHOUT_UNDERSCORE"] = "0"
+
+    OS_LIBS += [
+        "-framework Foundation"
+    ]
+
+if CONFIG["OS_TARGET"] == "OpenBSD":
+
+    DEFINES["USE_X11"] = "1"
+    DEFINES["WEBRTC_BSD"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+
+if CONFIG["OS_TARGET"] == "FreeBSD":
+
+    DEFINES["USE_X11"] = "1"
+    DEFINES["WEBRTC_BSD"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+
+if CONFIG["OS_TARGET"] == "Android":
+
+    DEFINES["ANDROID"] = True
+    DEFINES["ANDROID_NDK_VERSION"] = "r12b"
+    DEFINES["DISABLE_NACL"] = True
+    DEFINES["HAVE_SYS_UIO_H"] = True
+    DEFINES["NO_TCMALLOC"] = True
+    DEFINES["USE_OPENSSL_CERTS"] = "1"
+    DEFINES["WEBRTC_ANDROID"] = True
+    DEFINES["WEBRTC_ANDROID_OPENSLES"] = True
+    DEFINES["WEBRTC_LINUX"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+    DEFINES["__GNU_SOURCE"] = "1"
+
+    OS_LIBS += [
+        "log"
+    ]
 
 if CONFIG["CPU_ARCH"] == "arm":
 
@@ -148,15 +142,24 @@ if CONFIG["CPU_ARCH"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Android":
+if CONFIG["CPU_ARCH"] == "ppc64":
 
-    DEFINES["_FORTIFY_SOURCE"] = "2"
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "mips64":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "aarch64":
+
+    DEFINES["WEBRTC_ARCH_ARM64"] = True
+    DEFINES["WEBRTC_HAS_NEON"] = True
 
 if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Darwin":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "DragonFly":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "OpenBSD":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
@@ -164,20 +167,28 @@ if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "FreeBSD":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "NetBSD":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Android":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "OpenBSD":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "DragonFly":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "Android":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "NetBSD":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "NetBSD":
 
     CXXFLAGS += [
         "-msse2"
     ]
 
+if CONFIG["CPU_ARCH"] == "x86_64" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
 if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "FreeBSD":
 
     CXXFLAGS += [
@@ -195,7 +206,7 @@ if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "Linux":
         "-msse2"
     ]
 
-if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "NetBSD":
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "Android":
 
     CXXFLAGS += [
         "-msse2"
@@ -207,4 +218,32 @@ if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "OpenBSD":
         "-msse2"
     ]
 
+if CONFIG["CPU_ARCH"] == "arm" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "aarch64" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "arm" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "aarch64" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["HOST_CPU_ARCH"] == "x86_64" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["HOST_CPU_ARCH"] == "x86" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
 Library("audio_encoder_g711_gn")
diff --git a/media/webrtc/trunk/webrtc/api/audio_codecs/g722/audio_decoder_g722_gn/moz.build b/media/webrtc/trunk/webrtc/api/audio_codecs/g722/audio_decoder_g722_gn/moz.build
index 84de6d08172e..66eb01c55547 100644
--- a/media/webrtc/trunk/webrtc/api/audio_codecs/g722/audio_decoder_g722_gn/moz.build
+++ b/media/webrtc/trunk/webrtc/api/audio_codecs/g722/audio_decoder_g722_gn/moz.build
@@ -30,56 +30,18 @@ UNIFIED_SOURCES += [
     "/media/webrtc/trunk/webrtc/api/audio_codecs/g722/audio_decoder_g722.cc"
 ]
 
-if not CONFIG["MOZ_DEBUG"]:
-
-    DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "0"
-    DEFINES["NDEBUG"] = True
-    DEFINES["NVALGRIND"] = True
-
 if CONFIG["MOZ_DEBUG"] == "1":
 
     DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "1"
     DEFINES["WTF_USE_DYNAMIC_ANNOTATIONS"] = "1"
 
-if CONFIG["OS_TARGET"] == "Android":
-
-    DEFINES["ANDROID"] = True
-    DEFINES["ANDROID_NDK_VERSION"] = "r12b"
-    DEFINES["DISABLE_NACL"] = True
-    DEFINES["HAVE_SYS_UIO_H"] = True
-    DEFINES["NO_TCMALLOC"] = True
-    DEFINES["USE_OPENSSL_CERTS"] = "1"
-    DEFINES["WEBRTC_ANDROID"] = True
-    DEFINES["WEBRTC_ANDROID_OPENSLES"] = True
-    DEFINES["WEBRTC_LINUX"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
-    DEFINES["__GNU_SOURCE"] = "1"
-
-    OS_LIBS += [
-        "log"
-    ]
-
-if CONFIG["OS_TARGET"] == "Darwin":
-
-    DEFINES["CR_XCODE_VERSION"] = "0920"
-    DEFINES["NO_TCMALLOC"] = True
-    DEFINES["WEBRTC_MAC"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["__ASSERT_MACROS_DEFINE_VERSIONS_WITHOUT_UNDERSCORE"] = "0"
-
-    OS_LIBS += [
-        "-framework Foundation"
-    ]
-
-if CONFIG["OS_TARGET"] == "DragonFly":
+if not CONFIG["MOZ_DEBUG"]:
 
-    DEFINES["USE_X11"] = "1"
-    DEFINES["WEBRTC_BSD"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
+    DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "0"
+    DEFINES["NDEBUG"] = True
+    DEFINES["NVALGRIND"] = True
 
-if CONFIG["OS_TARGET"] == "FreeBSD":
+if CONFIG["OS_TARGET"] == "NetBSD":
 
     DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_BSD"] = True
@@ -89,19 +51,11 @@ if CONFIG["OS_TARGET"] == "FreeBSD":
 if CONFIG["OS_TARGET"] == "Linux":
 
     DEFINES["USE_NSS_CERTS"] = "1"
-    DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_LINUX"] = True
     DEFINES["WEBRTC_POSIX"] = True
     DEFINES["_FILE_OFFSET_BITS"] = "64"
 
-if CONFIG["OS_TARGET"] == "NetBSD":
-
-    DEFINES["USE_X11"] = "1"
-    DEFINES["WEBRTC_BSD"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
-
-if CONFIG["OS_TARGET"] == "OpenBSD":
+if CONFIG["OS_TARGET"] == "DragonFly":
 
     DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_BSD"] = True
@@ -133,10 +87,50 @@ if CONFIG["OS_TARGET"] == "WINNT":
     DEFINES["_WINDOWS"] = True
     DEFINES["__STD_C"] = True
 
-if CONFIG["CPU_ARCH"] == "aarch64":
+if CONFIG["OS_TARGET"] == "Darwin":
 
-    DEFINES["WEBRTC_ARCH_ARM64"] = True
-    DEFINES["WEBRTC_HAS_NEON"] = True
+    DEFINES["CR_XCODE_VERSION"] = "0920"
+    DEFINES["NO_TCMALLOC"] = True
+    DEFINES["WEBRTC_MAC"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["__ASSERT_MACROS_DEFINE_VERSIONS_WITHOUT_UNDERSCORE"] = "0"
+
+    OS_LIBS += [
+        "-framework Foundation"
+    ]
+
+if CONFIG["OS_TARGET"] == "OpenBSD":
+
+    DEFINES["USE_X11"] = "1"
+    DEFINES["WEBRTC_BSD"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+
+if CONFIG["OS_TARGET"] == "FreeBSD":
+
+    DEFINES["USE_X11"] = "1"
+    DEFINES["WEBRTC_BSD"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+
+if CONFIG["OS_TARGET"] == "Android":
+
+    DEFINES["ANDROID"] = True
+    DEFINES["ANDROID_NDK_VERSION"] = "r12b"
+    DEFINES["DISABLE_NACL"] = True
+    DEFINES["HAVE_SYS_UIO_H"] = True
+    DEFINES["NO_TCMALLOC"] = True
+    DEFINES["USE_OPENSSL_CERTS"] = "1"
+    DEFINES["WEBRTC_ANDROID"] = True
+    DEFINES["WEBRTC_ANDROID_OPENSLES"] = True
+    DEFINES["WEBRTC_LINUX"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+    DEFINES["__GNU_SOURCE"] = "1"
+
+    OS_LIBS += [
+        "log"
+    ]
 
 if CONFIG["CPU_ARCH"] == "arm":
 
@@ -148,15 +142,24 @@ if CONFIG["CPU_ARCH"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Android":
+if CONFIG["CPU_ARCH"] == "ppc64":
 
-    DEFINES["_FORTIFY_SOURCE"] = "2"
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "mips64":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "aarch64":
+
+    DEFINES["WEBRTC_ARCH_ARM64"] = True
+    DEFINES["WEBRTC_HAS_NEON"] = True
 
 if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Darwin":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "DragonFly":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "OpenBSD":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
@@ -164,20 +167,28 @@ if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "FreeBSD":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "NetBSD":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Android":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "OpenBSD":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "DragonFly":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "Android":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "NetBSD":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "NetBSD":
 
     CXXFLAGS += [
         "-msse2"
     ]
 
+if CONFIG["CPU_ARCH"] == "x86_64" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
 if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "FreeBSD":
 
     CXXFLAGS += [
@@ -195,7 +206,7 @@ if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "Linux":
         "-msse2"
     ]
 
-if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "NetBSD":
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "Android":
 
     CXXFLAGS += [
         "-msse2"
@@ -207,4 +218,32 @@ if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "OpenBSD":
         "-msse2"
     ]
 
+if CONFIG["CPU_ARCH"] == "arm" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "aarch64" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "arm" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "aarch64" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["HOST_CPU_ARCH"] == "x86_64" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["HOST_CPU_ARCH"] == "x86" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
 Library("audio_decoder_g722_gn")
diff --git a/media/webrtc/trunk/webrtc/api/audio_codecs/g722/audio_encoder_g722_config_gn/moz.build b/media/webrtc/trunk/webrtc/api/audio_codecs/g722/audio_encoder_g722_config_gn/moz.build
index 969903393e91..9fa5fdca73ae 100644
--- a/media/webrtc/trunk/webrtc/api/audio_codecs/g722/audio_encoder_g722_config_gn/moz.build
+++ b/media/webrtc/trunk/webrtc/api/audio_codecs/g722/audio_encoder_g722_config_gn/moz.build
@@ -26,48 +26,18 @@ LOCAL_INCLUDES += [
     "/media/webrtc/trunk/webrtc/"
 ]
 
-if not CONFIG["MOZ_DEBUG"]:
-
-    DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "0"
-    DEFINES["NDEBUG"] = True
-    DEFINES["NVALGRIND"] = True
-
 if CONFIG["MOZ_DEBUG"] == "1":
 
     DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "1"
     DEFINES["WTF_USE_DYNAMIC_ANNOTATIONS"] = "1"
 
-if CONFIG["OS_TARGET"] == "Android":
-
-    DEFINES["ANDROID"] = True
-    DEFINES["ANDROID_NDK_VERSION"] = "r12b"
-    DEFINES["DISABLE_NACL"] = True
-    DEFINES["HAVE_SYS_UIO_H"] = True
-    DEFINES["NO_TCMALLOC"] = True
-    DEFINES["USE_OPENSSL_CERTS"] = "1"
-    DEFINES["WEBRTC_ANDROID"] = True
-    DEFINES["WEBRTC_ANDROID_OPENSLES"] = True
-    DEFINES["WEBRTC_LINUX"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
-    DEFINES["__GNU_SOURCE"] = "1"
-
-if CONFIG["OS_TARGET"] == "Darwin":
-
-    DEFINES["CR_XCODE_VERSION"] = "0920"
-    DEFINES["NO_TCMALLOC"] = True
-    DEFINES["WEBRTC_MAC"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["__ASSERT_MACROS_DEFINE_VERSIONS_WITHOUT_UNDERSCORE"] = "0"
-
-if CONFIG["OS_TARGET"] == "DragonFly":
+if not CONFIG["MOZ_DEBUG"]:
 
-    DEFINES["USE_X11"] = "1"
-    DEFINES["WEBRTC_BSD"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
+    DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "0"
+    DEFINES["NDEBUG"] = True
+    DEFINES["NVALGRIND"] = True
 
-if CONFIG["OS_TARGET"] == "FreeBSD":
+if CONFIG["OS_TARGET"] == "NetBSD":
 
     DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_BSD"] = True
@@ -77,19 +47,11 @@ if CONFIG["OS_TARGET"] == "FreeBSD":
 if CONFIG["OS_TARGET"] == "Linux":
 
     DEFINES["USE_NSS_CERTS"] = "1"
-    DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_LINUX"] = True
     DEFINES["WEBRTC_POSIX"] = True
     DEFINES["_FILE_OFFSET_BITS"] = "64"
 
-if CONFIG["OS_TARGET"] == "NetBSD":
-
-    DEFINES["USE_X11"] = "1"
-    DEFINES["WEBRTC_BSD"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
-
-if CONFIG["OS_TARGET"] == "OpenBSD":
+if CONFIG["OS_TARGET"] == "DragonFly":
 
     DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_BSD"] = True
@@ -121,10 +83,42 @@ if CONFIG["OS_TARGET"] == "WINNT":
     DEFINES["_WINDOWS"] = True
     DEFINES["__STD_C"] = True
 
-if CONFIG["CPU_ARCH"] == "aarch64":
+if CONFIG["OS_TARGET"] == "Darwin":
 
-    DEFINES["WEBRTC_ARCH_ARM64"] = True
-    DEFINES["WEBRTC_HAS_NEON"] = True
+    DEFINES["CR_XCODE_VERSION"] = "0920"
+    DEFINES["NO_TCMALLOC"] = True
+    DEFINES["WEBRTC_MAC"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["__ASSERT_MACROS_DEFINE_VERSIONS_WITHOUT_UNDERSCORE"] = "0"
+
+if CONFIG["OS_TARGET"] == "OpenBSD":
+
+    DEFINES["USE_X11"] = "1"
+    DEFINES["WEBRTC_BSD"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+
+if CONFIG["OS_TARGET"] == "FreeBSD":
+
+    DEFINES["USE_X11"] = "1"
+    DEFINES["WEBRTC_BSD"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+
+if CONFIG["OS_TARGET"] == "Android":
+
+    DEFINES["ANDROID"] = True
+    DEFINES["ANDROID_NDK_VERSION"] = "r12b"
+    DEFINES["DISABLE_NACL"] = True
+    DEFINES["HAVE_SYS_UIO_H"] = True
+    DEFINES["NO_TCMALLOC"] = True
+    DEFINES["USE_OPENSSL_CERTS"] = "1"
+    DEFINES["WEBRTC_ANDROID"] = True
+    DEFINES["WEBRTC_ANDROID_OPENSLES"] = True
+    DEFINES["WEBRTC_LINUX"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+    DEFINES["__GNU_SOURCE"] = "1"
 
 if CONFIG["CPU_ARCH"] == "arm":
 
@@ -132,15 +126,24 @@ if CONFIG["CPU_ARCH"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Android":
+if CONFIG["CPU_ARCH"] == "ppc64":
 
-    DEFINES["_FORTIFY_SOURCE"] = "2"
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "mips64":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "aarch64":
+
+    DEFINES["WEBRTC_ARCH_ARM64"] = True
+    DEFINES["WEBRTC_HAS_NEON"] = True
 
 if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Darwin":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "DragonFly":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "OpenBSD":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
@@ -148,17 +151,53 @@ if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "FreeBSD":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "NetBSD":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Android":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "OpenBSD":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "DragonFly":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "NetBSD":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
+if CONFIG["CPU_ARCH"] == "x86_64" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
 if CONFIG["CPU_ARCH"] == "aarch64" and CONFIG["OS_TARGET"] == "Linux":
 
     DEFINES["DISABLE_NACL"] = True
     DEFINES["NO_TCMALLOC"] = True
 
+if CONFIG["CPU_ARCH"] == "arm" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "aarch64" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "arm" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "aarch64" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["HOST_CPU_ARCH"] == "x86_64" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["HOST_CPU_ARCH"] == "x86" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
 Library("audio_encoder_g722_config_gn")
diff --git a/media/webrtc/trunk/webrtc/api/audio_codecs/g722/audio_encoder_g722_gn/moz.build b/media/webrtc/trunk/webrtc/api/audio_codecs/g722/audio_encoder_g722_gn/moz.build
index 38f8767e7033..c2099b533ae1 100644
--- a/media/webrtc/trunk/webrtc/api/audio_codecs/g722/audio_encoder_g722_gn/moz.build
+++ b/media/webrtc/trunk/webrtc/api/audio_codecs/g722/audio_encoder_g722_gn/moz.build
@@ -30,56 +30,18 @@ UNIFIED_SOURCES += [
     "/media/webrtc/trunk/webrtc/api/audio_codecs/g722/audio_encoder_g722.cc"
 ]
 
-if not CONFIG["MOZ_DEBUG"]:
-
-    DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "0"
-    DEFINES["NDEBUG"] = True
-    DEFINES["NVALGRIND"] = True
-
 if CONFIG["MOZ_DEBUG"] == "1":
 
     DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "1"
     DEFINES["WTF_USE_DYNAMIC_ANNOTATIONS"] = "1"
 
-if CONFIG["OS_TARGET"] == "Android":
-
-    DEFINES["ANDROID"] = True
-    DEFINES["ANDROID_NDK_VERSION"] = "r12b"
-    DEFINES["DISABLE_NACL"] = True
-    DEFINES["HAVE_SYS_UIO_H"] = True
-    DEFINES["NO_TCMALLOC"] = True
-    DEFINES["USE_OPENSSL_CERTS"] = "1"
-    DEFINES["WEBRTC_ANDROID"] = True
-    DEFINES["WEBRTC_ANDROID_OPENSLES"] = True
-    DEFINES["WEBRTC_LINUX"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
-    DEFINES["__GNU_SOURCE"] = "1"
-
-    OS_LIBS += [
-        "log"
-    ]
-
-if CONFIG["OS_TARGET"] == "Darwin":
-
-    DEFINES["CR_XCODE_VERSION"] = "0920"
-    DEFINES["NO_TCMALLOC"] = True
-    DEFINES["WEBRTC_MAC"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["__ASSERT_MACROS_DEFINE_VERSIONS_WITHOUT_UNDERSCORE"] = "0"
-
-    OS_LIBS += [
-        "-framework Foundation"
-    ]
-
-if CONFIG["OS_TARGET"] == "DragonFly":
+if not CONFIG["MOZ_DEBUG"]:
 
-    DEFINES["USE_X11"] = "1"
-    DEFINES["WEBRTC_BSD"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
+    DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "0"
+    DEFINES["NDEBUG"] = True
+    DEFINES["NVALGRIND"] = True
 
-if CONFIG["OS_TARGET"] == "FreeBSD":
+if CONFIG["OS_TARGET"] == "NetBSD":
 
     DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_BSD"] = True
@@ -89,19 +51,11 @@ if CONFIG["OS_TARGET"] == "FreeBSD":
 if CONFIG["OS_TARGET"] == "Linux":
 
     DEFINES["USE_NSS_CERTS"] = "1"
-    DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_LINUX"] = True
     DEFINES["WEBRTC_POSIX"] = True
     DEFINES["_FILE_OFFSET_BITS"] = "64"
 
-if CONFIG["OS_TARGET"] == "NetBSD":
-
-    DEFINES["USE_X11"] = "1"
-    DEFINES["WEBRTC_BSD"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
-
-if CONFIG["OS_TARGET"] == "OpenBSD":
+if CONFIG["OS_TARGET"] == "DragonFly":
 
     DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_BSD"] = True
@@ -133,10 +87,50 @@ if CONFIG["OS_TARGET"] == "WINNT":
     DEFINES["_WINDOWS"] = True
     DEFINES["__STD_C"] = True
 
-if CONFIG["CPU_ARCH"] == "aarch64":
+if CONFIG["OS_TARGET"] == "Darwin":
 
-    DEFINES["WEBRTC_ARCH_ARM64"] = True
-    DEFINES["WEBRTC_HAS_NEON"] = True
+    DEFINES["CR_XCODE_VERSION"] = "0920"
+    DEFINES["NO_TCMALLOC"] = True
+    DEFINES["WEBRTC_MAC"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["__ASSERT_MACROS_DEFINE_VERSIONS_WITHOUT_UNDERSCORE"] = "0"
+
+    OS_LIBS += [
+        "-framework Foundation"
+    ]
+
+if CONFIG["OS_TARGET"] == "OpenBSD":
+
+    DEFINES["USE_X11"] = "1"
+    DEFINES["WEBRTC_BSD"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+
+if CONFIG["OS_TARGET"] == "FreeBSD":
+
+    DEFINES["USE_X11"] = "1"
+    DEFINES["WEBRTC_BSD"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+
+if CONFIG["OS_TARGET"] == "Android":
+
+    DEFINES["ANDROID"] = True
+    DEFINES["ANDROID_NDK_VERSION"] = "r12b"
+    DEFINES["DISABLE_NACL"] = True
+    DEFINES["HAVE_SYS_UIO_H"] = True
+    DEFINES["NO_TCMALLOC"] = True
+    DEFINES["USE_OPENSSL_CERTS"] = "1"
+    DEFINES["WEBRTC_ANDROID"] = True
+    DEFINES["WEBRTC_ANDROID_OPENSLES"] = True
+    DEFINES["WEBRTC_LINUX"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+    DEFINES["__GNU_SOURCE"] = "1"
+
+    OS_LIBS += [
+        "log"
+    ]
 
 if CONFIG["CPU_ARCH"] == "arm":
 
@@ -148,15 +142,24 @@ if CONFIG["CPU_ARCH"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Android":
+if CONFIG["CPU_ARCH"] == "ppc64":
 
-    DEFINES["_FORTIFY_SOURCE"] = "2"
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "mips64":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "aarch64":
+
+    DEFINES["WEBRTC_ARCH_ARM64"] = True
+    DEFINES["WEBRTC_HAS_NEON"] = True
 
 if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Darwin":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "DragonFly":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "OpenBSD":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
@@ -164,20 +167,28 @@ if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "FreeBSD":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "NetBSD":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Android":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "OpenBSD":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "DragonFly":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "Android":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "NetBSD":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "NetBSD":
 
     CXXFLAGS += [
         "-msse2"
     ]
 
+if CONFIG["CPU_ARCH"] == "x86_64" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
 if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "FreeBSD":
 
     CXXFLAGS += [
@@ -195,7 +206,7 @@ if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "Linux":
         "-msse2"
     ]
 
-if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "NetBSD":
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "Android":
 
     CXXFLAGS += [
         "-msse2"
@@ -207,4 +218,32 @@ if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "OpenBSD":
         "-msse2"
     ]
 
+if CONFIG["CPU_ARCH"] == "arm" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "aarch64" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "arm" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "aarch64" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["HOST_CPU_ARCH"] == "x86_64" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["HOST_CPU_ARCH"] == "x86" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
 Library("audio_encoder_g722_gn")
diff --git a/media/webrtc/trunk/webrtc/api/audio_codecs/ilbc/audio_decoder_ilbc_gn/moz.build b/media/webrtc/trunk/webrtc/api/audio_codecs/ilbc/audio_decoder_ilbc_gn/moz.build
index 2a77c7a7350d..85a7be34321f 100644
--- a/media/webrtc/trunk/webrtc/api/audio_codecs/ilbc/audio_decoder_ilbc_gn/moz.build
+++ b/media/webrtc/trunk/webrtc/api/audio_codecs/ilbc/audio_decoder_ilbc_gn/moz.build
@@ -30,56 +30,18 @@ UNIFIED_SOURCES += [
     "/media/webrtc/trunk/webrtc/api/audio_codecs/ilbc/audio_decoder_ilbc.cc"
 ]
 
-if not CONFIG["MOZ_DEBUG"]:
-
-    DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "0"
-    DEFINES["NDEBUG"] = True
-    DEFINES["NVALGRIND"] = True
-
 if CONFIG["MOZ_DEBUG"] == "1":
 
     DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "1"
     DEFINES["WTF_USE_DYNAMIC_ANNOTATIONS"] = "1"
 
-if CONFIG["OS_TARGET"] == "Android":
-
-    DEFINES["ANDROID"] = True
-    DEFINES["ANDROID_NDK_VERSION"] = "r12b"
-    DEFINES["DISABLE_NACL"] = True
-    DEFINES["HAVE_SYS_UIO_H"] = True
-    DEFINES["NO_TCMALLOC"] = True
-    DEFINES["USE_OPENSSL_CERTS"] = "1"
-    DEFINES["WEBRTC_ANDROID"] = True
-    DEFINES["WEBRTC_ANDROID_OPENSLES"] = True
-    DEFINES["WEBRTC_LINUX"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
-    DEFINES["__GNU_SOURCE"] = "1"
-
-    OS_LIBS += [
-        "log"
-    ]
-
-if CONFIG["OS_TARGET"] == "Darwin":
-
-    DEFINES["CR_XCODE_VERSION"] = "0920"
-    DEFINES["NO_TCMALLOC"] = True
-    DEFINES["WEBRTC_MAC"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["__ASSERT_MACROS_DEFINE_VERSIONS_WITHOUT_UNDERSCORE"] = "0"
-
-    OS_LIBS += [
-        "-framework Foundation"
-    ]
-
-if CONFIG["OS_TARGET"] == "DragonFly":
+if not CONFIG["MOZ_DEBUG"]:
 
-    DEFINES["USE_X11"] = "1"
-    DEFINES["WEBRTC_BSD"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
+    DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "0"
+    DEFINES["NDEBUG"] = True
+    DEFINES["NVALGRIND"] = True
 
-if CONFIG["OS_TARGET"] == "FreeBSD":
+if CONFIG["OS_TARGET"] == "NetBSD":
 
     DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_BSD"] = True
@@ -89,7 +51,6 @@ if CONFIG["OS_TARGET"] == "FreeBSD":
 if CONFIG["OS_TARGET"] == "Linux":
 
     DEFINES["USE_NSS_CERTS"] = "1"
-    DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_LINUX"] = True
     DEFINES["WEBRTC_POSIX"] = True
     DEFINES["_FILE_OFFSET_BITS"] = "64"
@@ -98,14 +59,7 @@ if CONFIG["OS_TARGET"] == "Linux":
         "rt"
     ]
 
-if CONFIG["OS_TARGET"] == "NetBSD":
-
-    DEFINES["USE_X11"] = "1"
-    DEFINES["WEBRTC_BSD"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
-
-if CONFIG["OS_TARGET"] == "OpenBSD":
+if CONFIG["OS_TARGET"] == "DragonFly":
 
     DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_BSD"] = True
@@ -141,10 +95,50 @@ if CONFIG["OS_TARGET"] == "WINNT":
         "winmm"
     ]
 
-if CONFIG["CPU_ARCH"] == "aarch64":
+if CONFIG["OS_TARGET"] == "Darwin":
 
-    DEFINES["WEBRTC_ARCH_ARM64"] = True
-    DEFINES["WEBRTC_HAS_NEON"] = True
+    DEFINES["CR_XCODE_VERSION"] = "0920"
+    DEFINES["NO_TCMALLOC"] = True
+    DEFINES["WEBRTC_MAC"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["__ASSERT_MACROS_DEFINE_VERSIONS_WITHOUT_UNDERSCORE"] = "0"
+
+    OS_LIBS += [
+        "-framework Foundation"
+    ]
+
+if CONFIG["OS_TARGET"] == "OpenBSD":
+
+    DEFINES["USE_X11"] = "1"
+    DEFINES["WEBRTC_BSD"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+
+if CONFIG["OS_TARGET"] == "FreeBSD":
+
+    DEFINES["USE_X11"] = "1"
+    DEFINES["WEBRTC_BSD"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+
+if CONFIG["OS_TARGET"] == "Android":
+
+    DEFINES["ANDROID"] = True
+    DEFINES["ANDROID_NDK_VERSION"] = "r12b"
+    DEFINES["DISABLE_NACL"] = True
+    DEFINES["HAVE_SYS_UIO_H"] = True
+    DEFINES["NO_TCMALLOC"] = True
+    DEFINES["USE_OPENSSL_CERTS"] = "1"
+    DEFINES["WEBRTC_ANDROID"] = True
+    DEFINES["WEBRTC_ANDROID_OPENSLES"] = True
+    DEFINES["WEBRTC_LINUX"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+    DEFINES["__GNU_SOURCE"] = "1"
+
+    OS_LIBS += [
+        "log"
+    ]
 
 if CONFIG["CPU_ARCH"] == "arm":
 
@@ -156,15 +150,24 @@ if CONFIG["CPU_ARCH"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Android":
+if CONFIG["CPU_ARCH"] == "ppc64":
 
-    DEFINES["_FORTIFY_SOURCE"] = "2"
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "mips64":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "aarch64":
+
+    DEFINES["WEBRTC_ARCH_ARM64"] = True
+    DEFINES["WEBRTC_HAS_NEON"] = True
 
 if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Darwin":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "DragonFly":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "OpenBSD":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
@@ -172,20 +175,28 @@ if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "FreeBSD":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "NetBSD":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Android":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "OpenBSD":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "DragonFly":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "Android":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "NetBSD":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "NetBSD":
 
     CXXFLAGS += [
         "-msse2"
     ]
 
+if CONFIG["CPU_ARCH"] == "x86_64" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
 if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "FreeBSD":
 
     CXXFLAGS += [
@@ -203,7 +214,7 @@ if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "Linux":
         "-msse2"
     ]
 
-if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "NetBSD":
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "Android":
 
     CXXFLAGS += [
         "-msse2"
@@ -215,4 +226,32 @@ if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "OpenBSD":
         "-msse2"
     ]
 
+if CONFIG["CPU_ARCH"] == "arm" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "aarch64" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "arm" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "aarch64" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["HOST_CPU_ARCH"] == "x86_64" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["HOST_CPU_ARCH"] == "x86" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
 Library("audio_decoder_ilbc_gn")
diff --git a/media/webrtc/trunk/webrtc/api/audio_codecs/ilbc/audio_encoder_ilbc_config_gn/moz.build b/media/webrtc/trunk/webrtc/api/audio_codecs/ilbc/audio_encoder_ilbc_config_gn/moz.build
index 20e2ba71ff9c..4673f7b13d9f 100644
--- a/media/webrtc/trunk/webrtc/api/audio_codecs/ilbc/audio_encoder_ilbc_config_gn/moz.build
+++ b/media/webrtc/trunk/webrtc/api/audio_codecs/ilbc/audio_encoder_ilbc_config_gn/moz.build
@@ -26,48 +26,18 @@ LOCAL_INCLUDES += [
     "/media/webrtc/trunk/webrtc/"
 ]
 
-if not CONFIG["MOZ_DEBUG"]:
-
-    DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "0"
-    DEFINES["NDEBUG"] = True
-    DEFINES["NVALGRIND"] = True
-
 if CONFIG["MOZ_DEBUG"] == "1":
 
     DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "1"
     DEFINES["WTF_USE_DYNAMIC_ANNOTATIONS"] = "1"
 
-if CONFIG["OS_TARGET"] == "Android":
-
-    DEFINES["ANDROID"] = True
-    DEFINES["ANDROID_NDK_VERSION"] = "r12b"
-    DEFINES["DISABLE_NACL"] = True
-    DEFINES["HAVE_SYS_UIO_H"] = True
-    DEFINES["NO_TCMALLOC"] = True
-    DEFINES["USE_OPENSSL_CERTS"] = "1"
-    DEFINES["WEBRTC_ANDROID"] = True
-    DEFINES["WEBRTC_ANDROID_OPENSLES"] = True
-    DEFINES["WEBRTC_LINUX"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
-    DEFINES["__GNU_SOURCE"] = "1"
-
-if CONFIG["OS_TARGET"] == "Darwin":
-
-    DEFINES["CR_XCODE_VERSION"] = "0920"
-    DEFINES["NO_TCMALLOC"] = True
-    DEFINES["WEBRTC_MAC"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["__ASSERT_MACROS_DEFINE_VERSIONS_WITHOUT_UNDERSCORE"] = "0"
-
-if CONFIG["OS_TARGET"] == "DragonFly":
+if not CONFIG["MOZ_DEBUG"]:
 
-    DEFINES["USE_X11"] = "1"
-    DEFINES["WEBRTC_BSD"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
+    DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "0"
+    DEFINES["NDEBUG"] = True
+    DEFINES["NVALGRIND"] = True
 
-if CONFIG["OS_TARGET"] == "FreeBSD":
+if CONFIG["OS_TARGET"] == "NetBSD":
 
     DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_BSD"] = True
@@ -77,19 +47,11 @@ if CONFIG["OS_TARGET"] == "FreeBSD":
 if CONFIG["OS_TARGET"] == "Linux":
 
     DEFINES["USE_NSS_CERTS"] = "1"
-    DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_LINUX"] = True
     DEFINES["WEBRTC_POSIX"] = True
     DEFINES["_FILE_OFFSET_BITS"] = "64"
 
-if CONFIG["OS_TARGET"] == "NetBSD":
-
-    DEFINES["USE_X11"] = "1"
-    DEFINES["WEBRTC_BSD"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
-
-if CONFIG["OS_TARGET"] == "OpenBSD":
+if CONFIG["OS_TARGET"] == "DragonFly":
 
     DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_BSD"] = True
@@ -121,10 +83,42 @@ if CONFIG["OS_TARGET"] == "WINNT":
     DEFINES["_WINDOWS"] = True
     DEFINES["__STD_C"] = True
 
-if CONFIG["CPU_ARCH"] == "aarch64":
+if CONFIG["OS_TARGET"] == "Darwin":
 
-    DEFINES["WEBRTC_ARCH_ARM64"] = True
-    DEFINES["WEBRTC_HAS_NEON"] = True
+    DEFINES["CR_XCODE_VERSION"] = "0920"
+    DEFINES["NO_TCMALLOC"] = True
+    DEFINES["WEBRTC_MAC"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["__ASSERT_MACROS_DEFINE_VERSIONS_WITHOUT_UNDERSCORE"] = "0"
+
+if CONFIG["OS_TARGET"] == "OpenBSD":
+
+    DEFINES["USE_X11"] = "1"
+    DEFINES["WEBRTC_BSD"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+
+if CONFIG["OS_TARGET"] == "FreeBSD":
+
+    DEFINES["USE_X11"] = "1"
+    DEFINES["WEBRTC_BSD"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+
+if CONFIG["OS_TARGET"] == "Android":
+
+    DEFINES["ANDROID"] = True
+    DEFINES["ANDROID_NDK_VERSION"] = "r12b"
+    DEFINES["DISABLE_NACL"] = True
+    DEFINES["HAVE_SYS_UIO_H"] = True
+    DEFINES["NO_TCMALLOC"] = True
+    DEFINES["USE_OPENSSL_CERTS"] = "1"
+    DEFINES["WEBRTC_ANDROID"] = True
+    DEFINES["WEBRTC_ANDROID_OPENSLES"] = True
+    DEFINES["WEBRTC_LINUX"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+    DEFINES["__GNU_SOURCE"] = "1"
 
 if CONFIG["CPU_ARCH"] == "arm":
 
@@ -132,15 +126,24 @@ if CONFIG["CPU_ARCH"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Android":
+if CONFIG["CPU_ARCH"] == "ppc64":
 
-    DEFINES["_FORTIFY_SOURCE"] = "2"
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "mips64":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "aarch64":
+
+    DEFINES["WEBRTC_ARCH_ARM64"] = True
+    DEFINES["WEBRTC_HAS_NEON"] = True
 
 if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Darwin":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "DragonFly":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "OpenBSD":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
@@ -148,17 +151,53 @@ if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "FreeBSD":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "NetBSD":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Android":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "OpenBSD":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "DragonFly":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "NetBSD":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
+if CONFIG["CPU_ARCH"] == "x86_64" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
 if CONFIG["CPU_ARCH"] == "aarch64" and CONFIG["OS_TARGET"] == "Linux":
 
     DEFINES["DISABLE_NACL"] = True
     DEFINES["NO_TCMALLOC"] = True
 
+if CONFIG["CPU_ARCH"] == "arm" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "aarch64" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "arm" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "aarch64" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["HOST_CPU_ARCH"] == "x86_64" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["HOST_CPU_ARCH"] == "x86" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
 Library("audio_encoder_ilbc_config_gn")
diff --git a/media/webrtc/trunk/webrtc/api/audio_codecs/ilbc/audio_encoder_ilbc_gn/moz.build b/media/webrtc/trunk/webrtc/api/audio_codecs/ilbc/audio_encoder_ilbc_gn/moz.build
index 73abe2404d3a..8390a08b4018 100644
--- a/media/webrtc/trunk/webrtc/api/audio_codecs/ilbc/audio_encoder_ilbc_gn/moz.build
+++ b/media/webrtc/trunk/webrtc/api/audio_codecs/ilbc/audio_encoder_ilbc_gn/moz.build
@@ -30,56 +30,18 @@ UNIFIED_SOURCES += [
     "/media/webrtc/trunk/webrtc/api/audio_codecs/ilbc/audio_encoder_ilbc.cc"
 ]
 
-if not CONFIG["MOZ_DEBUG"]:
-
-    DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "0"
-    DEFINES["NDEBUG"] = True
-    DEFINES["NVALGRIND"] = True
-
 if CONFIG["MOZ_DEBUG"] == "1":
 
     DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "1"
     DEFINES["WTF_USE_DYNAMIC_ANNOTATIONS"] = "1"
 
-if CONFIG["OS_TARGET"] == "Android":
-
-    DEFINES["ANDROID"] = True
-    DEFINES["ANDROID_NDK_VERSION"] = "r12b"
-    DEFINES["DISABLE_NACL"] = True
-    DEFINES["HAVE_SYS_UIO_H"] = True
-    DEFINES["NO_TCMALLOC"] = True
-    DEFINES["USE_OPENSSL_CERTS"] = "1"
-    DEFINES["WEBRTC_ANDROID"] = True
-    DEFINES["WEBRTC_ANDROID_OPENSLES"] = True
-    DEFINES["WEBRTC_LINUX"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
-    DEFINES["__GNU_SOURCE"] = "1"
-
-    OS_LIBS += [
-        "log"
-    ]
-
-if CONFIG["OS_TARGET"] == "Darwin":
-
-    DEFINES["CR_XCODE_VERSION"] = "0920"
-    DEFINES["NO_TCMALLOC"] = True
-    DEFINES["WEBRTC_MAC"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["__ASSERT_MACROS_DEFINE_VERSIONS_WITHOUT_UNDERSCORE"] = "0"
-
-    OS_LIBS += [
-        "-framework Foundation"
-    ]
-
-if CONFIG["OS_TARGET"] == "DragonFly":
+if not CONFIG["MOZ_DEBUG"]:
 
-    DEFINES["USE_X11"] = "1"
-    DEFINES["WEBRTC_BSD"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
+    DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "0"
+    DEFINES["NDEBUG"] = True
+    DEFINES["NVALGRIND"] = True
 
-if CONFIG["OS_TARGET"] == "FreeBSD":
+if CONFIG["OS_TARGET"] == "NetBSD":
 
     DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_BSD"] = True
@@ -89,7 +51,6 @@ if CONFIG["OS_TARGET"] == "FreeBSD":
 if CONFIG["OS_TARGET"] == "Linux":
 
     DEFINES["USE_NSS_CERTS"] = "1"
-    DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_LINUX"] = True
     DEFINES["WEBRTC_POSIX"] = True
     DEFINES["_FILE_OFFSET_BITS"] = "64"
@@ -98,14 +59,7 @@ if CONFIG["OS_TARGET"] == "Linux":
         "rt"
     ]
 
-if CONFIG["OS_TARGET"] == "NetBSD":
-
-    DEFINES["USE_X11"] = "1"
-    DEFINES["WEBRTC_BSD"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
-
-if CONFIG["OS_TARGET"] == "OpenBSD":
+if CONFIG["OS_TARGET"] == "DragonFly":
 
     DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_BSD"] = True
@@ -141,10 +95,50 @@ if CONFIG["OS_TARGET"] == "WINNT":
         "winmm"
     ]
 
-if CONFIG["CPU_ARCH"] == "aarch64":
+if CONFIG["OS_TARGET"] == "Darwin":
 
-    DEFINES["WEBRTC_ARCH_ARM64"] = True
-    DEFINES["WEBRTC_HAS_NEON"] = True
+    DEFINES["CR_XCODE_VERSION"] = "0920"
+    DEFINES["NO_TCMALLOC"] = True
+    DEFINES["WEBRTC_MAC"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["__ASSERT_MACROS_DEFINE_VERSIONS_WITHOUT_UNDERSCORE"] = "0"
+
+    OS_LIBS += [
+        "-framework Foundation"
+    ]
+
+if CONFIG["OS_TARGET"] == "OpenBSD":
+
+    DEFINES["USE_X11"] = "1"
+    DEFINES["WEBRTC_BSD"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+
+if CONFIG["OS_TARGET"] == "FreeBSD":
+
+    DEFINES["USE_X11"] = "1"
+    DEFINES["WEBRTC_BSD"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+
+if CONFIG["OS_TARGET"] == "Android":
+
+    DEFINES["ANDROID"] = True
+    DEFINES["ANDROID_NDK_VERSION"] = "r12b"
+    DEFINES["DISABLE_NACL"] = True
+    DEFINES["HAVE_SYS_UIO_H"] = True
+    DEFINES["NO_TCMALLOC"] = True
+    DEFINES["USE_OPENSSL_CERTS"] = "1"
+    DEFINES["WEBRTC_ANDROID"] = True
+    DEFINES["WEBRTC_ANDROID_OPENSLES"] = True
+    DEFINES["WEBRTC_LINUX"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+    DEFINES["__GNU_SOURCE"] = "1"
+
+    OS_LIBS += [
+        "log"
+    ]
 
 if CONFIG["CPU_ARCH"] == "arm":
 
@@ -156,15 +150,24 @@ if CONFIG["CPU_ARCH"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Android":
+if CONFIG["CPU_ARCH"] == "ppc64":
 
-    DEFINES["_FORTIFY_SOURCE"] = "2"
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "mips64":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "aarch64":
+
+    DEFINES["WEBRTC_ARCH_ARM64"] = True
+    DEFINES["WEBRTC_HAS_NEON"] = True
 
 if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Darwin":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "DragonFly":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "OpenBSD":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
@@ -172,20 +175,28 @@ if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "FreeBSD":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "NetBSD":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Android":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "OpenBSD":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "DragonFly":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "Android":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "NetBSD":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "NetBSD":
 
     CXXFLAGS += [
         "-msse2"
     ]
 
+if CONFIG["CPU_ARCH"] == "x86_64" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
 if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "FreeBSD":
 
     CXXFLAGS += [
@@ -203,7 +214,7 @@ if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "Linux":
         "-msse2"
     ]
 
-if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "NetBSD":
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "Android":
 
     CXXFLAGS += [
         "-msse2"
@@ -215,4 +226,32 @@ if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "OpenBSD":
         "-msse2"
     ]
 
+if CONFIG["CPU_ARCH"] == "arm" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "aarch64" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "arm" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "aarch64" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["HOST_CPU_ARCH"] == "x86_64" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["HOST_CPU_ARCH"] == "x86" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
 Library("audio_encoder_ilbc_gn")
diff --git a/media/webrtc/trunk/webrtc/api/audio_codecs/isac/audio_decoder_isac_fix_gn/moz.build b/media/webrtc/trunk/webrtc/api/audio_codecs/isac/audio_decoder_isac_fix_gn/moz.build
index 0a60bffa6ede..19a101a21228 100644
--- a/media/webrtc/trunk/webrtc/api/audio_codecs/isac/audio_decoder_isac_fix_gn/moz.build
+++ b/media/webrtc/trunk/webrtc/api/audio_codecs/isac/audio_decoder_isac_fix_gn/moz.build
@@ -40,35 +40,19 @@ UNIFIED_SOURCES += [
     "/media/webrtc/trunk/webrtc/api/audio_codecs/isac/audio_decoder_isac_fix.cc"
 ]
 
-if not CONFIG["MOZ_DEBUG"]:
-
-    DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "0"
-    DEFINES["NDEBUG"] = True
-    DEFINES["NVALGRIND"] = True
-
 if CONFIG["MOZ_DEBUG"] == "1":
 
     DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "1"
     DEFINES["WTF_USE_DYNAMIC_ANNOTATIONS"] = "1"
 
-if CONFIG["OS_TARGET"] == "Android":
-
-    DEFINES["ANDROID"] = True
-    DEFINES["ANDROID_NDK_VERSION"] = "r12b"
-    DEFINES["DISABLE_NACL"] = True
-    DEFINES["HAVE_SYS_UIO_H"] = True
-    DEFINES["NO_TCMALLOC"] = True
-    DEFINES["USE_OPENSSL_CERTS"] = "1"
-    DEFINES["WEBRTC_ANDROID"] = True
-    DEFINES["WEBRTC_ANDROID_OPENSLES"] = True
-    DEFINES["WEBRTC_LINUX"] = True
-    DEFINES["__GNU_SOURCE"] = "1"
+if not CONFIG["MOZ_DEBUG"]:
 
-    OS_LIBS += [
-        "log"
-    ]
+    DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "0"
+    DEFINES["NDEBUG"] = True
+    DEFINES["NVALGRIND"] = True
+    DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if CONFIG["OS_TARGET"] == "FreeBSD":
+if CONFIG["OS_TARGET"] == "NetBSD":
 
     DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_BSD"] = True
@@ -76,37 +60,41 @@ if CONFIG["OS_TARGET"] == "FreeBSD":
 if CONFIG["OS_TARGET"] == "Linux":
 
     DEFINES["USE_NSS_CERTS"] = "1"
-    DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_LINUX"] = True
 
     OS_LIBS += [
         "rt"
     ]
 
-if CONFIG["OS_TARGET"] == "NetBSD":
+if CONFIG["OS_TARGET"] == "OpenBSD":
 
     DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_BSD"] = True
 
-if CONFIG["OS_TARGET"] == "OpenBSD":
+if CONFIG["OS_TARGET"] == "FreeBSD":
 
     DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_BSD"] = True
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Android":
-
-    DEFINES["_FORTIFY_SOURCE"] = "2"
-
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "FreeBSD":
-
-    DEFINES["_FORTIFY_SOURCE"] = "2"
+if CONFIG["OS_TARGET"] == "Android":
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "NetBSD":
+    DEFINES["ANDROID"] = True
+    DEFINES["ANDROID_NDK_VERSION"] = "r12b"
+    DEFINES["DISABLE_NACL"] = True
+    DEFINES["HAVE_SYS_UIO_H"] = True
+    DEFINES["NO_TCMALLOC"] = True
+    DEFINES["USE_OPENSSL_CERTS"] = "1"
+    DEFINES["WEBRTC_ANDROID"] = True
+    DEFINES["WEBRTC_ANDROID_OPENSLES"] = True
+    DEFINES["WEBRTC_LINUX"] = True
+    DEFINES["__GNU_SOURCE"] = "1"
 
-    DEFINES["_FORTIFY_SOURCE"] = "2"
+    OS_LIBS += [
+        "log"
+    ]
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "OpenBSD":
+if CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
 
-    DEFINES["_FORTIFY_SOURCE"] = "2"
+    DEFINES["USE_X11"] = "1"
 
 Library("audio_decoder_isac_fix_gn")
diff --git a/media/webrtc/trunk/webrtc/api/audio_codecs/isac/audio_decoder_isac_float_gn/moz.build b/media/webrtc/trunk/webrtc/api/audio_codecs/isac/audio_decoder_isac_float_gn/moz.build
index 165f834e6606..a7a9227223b5 100644
--- a/media/webrtc/trunk/webrtc/api/audio_codecs/isac/audio_decoder_isac_float_gn/moz.build
+++ b/media/webrtc/trunk/webrtc/api/audio_codecs/isac/audio_decoder_isac_float_gn/moz.build
@@ -31,56 +31,25 @@ UNIFIED_SOURCES += [
     "/media/webrtc/trunk/webrtc/api/audio_codecs/isac/audio_decoder_isac_float.cc"
 ]
 
-if not CONFIG["MOZ_DEBUG"]:
-
-    DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "0"
-    DEFINES["NDEBUG"] = True
-    DEFINES["NVALGRIND"] = True
-
 if CONFIG["MOZ_DEBUG"] == "1":
 
     DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "1"
     DEFINES["WTF_USE_DYNAMIC_ANNOTATIONS"] = "1"
 
-if CONFIG["OS_TARGET"] == "Android":
-
-    DEFINES["ANDROID"] = True
-    DEFINES["ANDROID_NDK_VERSION"] = "r12b"
-    DEFINES["DISABLE_NACL"] = True
-    DEFINES["HAVE_SYS_UIO_H"] = True
-    DEFINES["NO_TCMALLOC"] = True
-    DEFINES["USE_OPENSSL_CERTS"] = "1"
-    DEFINES["WEBRTC_ANDROID"] = True
-    DEFINES["WEBRTC_ANDROID_OPENSLES"] = True
-    DEFINES["WEBRTC_LINUX"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
-    DEFINES["__GNU_SOURCE"] = "1"
-
-    OS_LIBS += [
-        "log"
-    ]
-
-if CONFIG["OS_TARGET"] == "Darwin":
-
-    DEFINES["CR_XCODE_VERSION"] = "0920"
-    DEFINES["NO_TCMALLOC"] = True
-    DEFINES["WEBRTC_MAC"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["__ASSERT_MACROS_DEFINE_VERSIONS_WITHOUT_UNDERSCORE"] = "0"
+if not CONFIG["MOZ_DEBUG"]:
 
-    OS_LIBS += [
-        "-framework Foundation"
-    ]
+    DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "0"
+    DEFINES["NDEBUG"] = True
+    DEFINES["NVALGRIND"] = True
 
-if CONFIG["OS_TARGET"] == "DragonFly":
+if CONFIG["OS_TARGET"] == "NetBSD":
 
     DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_BSD"] = True
     DEFINES["WEBRTC_POSIX"] = True
     DEFINES["_FILE_OFFSET_BITS"] = "64"
 
-if CONFIG["OS_TARGET"] == "FreeBSD":
+if CONFIG["OS_TARGET"] == "DragonFly":
 
     DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_BSD"] = True
@@ -90,7 +59,6 @@ if CONFIG["OS_TARGET"] == "FreeBSD":
 if CONFIG["OS_TARGET"] == "Linux":
 
     DEFINES["USE_NSS_CERTS"] = "1"
-    DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_LINUX"] = True
     DEFINES["WEBRTC_POSIX"] = True
     DEFINES["_FILE_OFFSET_BITS"] = "64"
@@ -100,20 +68,6 @@ if CONFIG["OS_TARGET"] == "Linux":
         "rt"
     ]
 
-if CONFIG["OS_TARGET"] == "NetBSD":
-
-    DEFINES["USE_X11"] = "1"
-    DEFINES["WEBRTC_BSD"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
-
-if CONFIG["OS_TARGET"] == "OpenBSD":
-
-    DEFINES["USE_X11"] = "1"
-    DEFINES["WEBRTC_BSD"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
-
 if CONFIG["OS_TARGET"] == "WINNT":
 
     DEFINES["CERT_CHAIN_PARA_HAS_EXTRA_FIELDS"] = True
@@ -143,41 +97,98 @@ if CONFIG["OS_TARGET"] == "WINNT":
         "winmm"
     ]
 
+if CONFIG["OS_TARGET"] == "Darwin":
+
+    DEFINES["CR_XCODE_VERSION"] = "0920"
+    DEFINES["NO_TCMALLOC"] = True
+    DEFINES["WEBRTC_MAC"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["__ASSERT_MACROS_DEFINE_VERSIONS_WITHOUT_UNDERSCORE"] = "0"
+
+    OS_LIBS += [
+        "-framework Foundation"
+    ]
+
+if CONFIG["OS_TARGET"] == "OpenBSD":
+
+    DEFINES["USE_X11"] = "1"
+    DEFINES["WEBRTC_BSD"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+
+if CONFIG["OS_TARGET"] == "FreeBSD":
+
+    DEFINES["USE_X11"] = "1"
+    DEFINES["WEBRTC_BSD"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+
+if CONFIG["OS_TARGET"] == "Android":
+
+    DEFINES["ANDROID"] = True
+    DEFINES["ANDROID_NDK_VERSION"] = "r12b"
+    DEFINES["DISABLE_NACL"] = True
+    DEFINES["HAVE_SYS_UIO_H"] = True
+    DEFINES["NO_TCMALLOC"] = True
+    DEFINES["USE_OPENSSL_CERTS"] = "1"
+    DEFINES["WEBRTC_ANDROID"] = True
+    DEFINES["WEBRTC_ANDROID_OPENSLES"] = True
+    DEFINES["WEBRTC_LINUX"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+    DEFINES["__GNU_SOURCE"] = "1"
+
+    OS_LIBS += [
+        "log"
+    ]
+
+if CONFIG["CPU_ARCH"] == "ppc64":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "mips64":
+
+    DEFINES["USE_X11"] = "1"
+
 if CONFIG["CPU_ARCH"] == "aarch64":
 
     DEFINES["WEBRTC_ARCH_ARM64"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Android":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Darwin":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Darwin":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "OpenBSD":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "DragonFly":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "FreeBSD":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "FreeBSD":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Android":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "NetBSD":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "DragonFly":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "OpenBSD":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "NetBSD":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "Android":
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "NetBSD":
 
     CXXFLAGS += [
         "-msse2"
     ]
 
+if CONFIG["CPU_ARCH"] == "x86_64" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
 if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "FreeBSD":
 
     CXXFLAGS += [
@@ -195,7 +206,7 @@ if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "Linux":
         "-msse2"
     ]
 
-if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "NetBSD":
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "Android":
 
     CXXFLAGS += [
         "-msse2"
@@ -207,4 +218,24 @@ if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "OpenBSD":
         "-msse2"
     ]
 
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "aarch64" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "aarch64" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["HOST_CPU_ARCH"] == "x86_64" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["HOST_CPU_ARCH"] == "x86" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
 Library("audio_decoder_isac_float_gn")
diff --git a/media/webrtc/trunk/webrtc/api/audio_codecs/isac/audio_decoder_isac_gn/moz.build b/media/webrtc/trunk/webrtc/api/audio_codecs/isac/audio_decoder_isac_gn/moz.build
index f15237616cc0..db2ea2515b45 100644
--- a/media/webrtc/trunk/webrtc/api/audio_codecs/isac/audio_decoder_isac_gn/moz.build
+++ b/media/webrtc/trunk/webrtc/api/audio_codecs/isac/audio_decoder_isac_gn/moz.build
@@ -26,60 +26,18 @@ LOCAL_INCLUDES += [
     "/media/webrtc/trunk/webrtc/"
 ]
 
-if not CONFIG["MOZ_DEBUG"]:
-
-    DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "0"
-    DEFINES["NDEBUG"] = True
-    DEFINES["NVALGRIND"] = True
-
 if CONFIG["MOZ_DEBUG"] == "1":
 
     DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "1"
     DEFINES["WTF_USE_DYNAMIC_ANNOTATIONS"] = "1"
 
-if CONFIG["OS_TARGET"] == "Android":
-
-    DEFINES["ANDROID"] = True
-    DEFINES["ANDROID_NDK_VERSION"] = "r12b"
-    DEFINES["DISABLE_NACL"] = True
-    DEFINES["HAVE_SYS_UIO_H"] = True
-    DEFINES["NO_TCMALLOC"] = True
-    DEFINES["USE_OPENSSL_CERTS"] = "1"
-    DEFINES["WEBRTC_ANDROID"] = True
-    DEFINES["WEBRTC_ANDROID_OPENSLES"] = True
-    DEFINES["WEBRTC_LINUX"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
-    DEFINES["__GNU_SOURCE"] = "1"
-
-    OS_LIBS += [
-        "log"
-    ]
-
-if CONFIG["OS_TARGET"] == "Darwin":
-
-    DEFINES["CR_XCODE_VERSION"] = "0920"
-    DEFINES["NO_TCMALLOC"] = True
-    DEFINES["WEBRTC_MAC"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["WEBRTC_USE_BUILTIN_ISAC_FIX"] = "0"
-    DEFINES["WEBRTC_USE_BUILTIN_ISAC_FLOAT"] = "1"
-    DEFINES["__ASSERT_MACROS_DEFINE_VERSIONS_WITHOUT_UNDERSCORE"] = "0"
-
-    OS_LIBS += [
-        "-framework Foundation"
-    ]
-
-if CONFIG["OS_TARGET"] == "DragonFly":
+if not CONFIG["MOZ_DEBUG"]:
 
-    DEFINES["USE_X11"] = "1"
-    DEFINES["WEBRTC_BSD"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["WEBRTC_USE_BUILTIN_ISAC_FIX"] = "0"
-    DEFINES["WEBRTC_USE_BUILTIN_ISAC_FLOAT"] = "1"
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
+    DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "0"
+    DEFINES["NDEBUG"] = True
+    DEFINES["NVALGRIND"] = True
 
-if CONFIG["OS_TARGET"] == "FreeBSD":
+if CONFIG["OS_TARGET"] == "NetBSD":
 
     DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_BSD"] = True
@@ -89,7 +47,6 @@ if CONFIG["OS_TARGET"] == "FreeBSD":
 if CONFIG["OS_TARGET"] == "Linux":
 
     DEFINES["USE_NSS_CERTS"] = "1"
-    DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_LINUX"] = True
     DEFINES["WEBRTC_POSIX"] = True
     DEFINES["_FILE_OFFSET_BITS"] = "64"
@@ -98,18 +55,13 @@ if CONFIG["OS_TARGET"] == "Linux":
         "rt"
     ]
 
-if CONFIG["OS_TARGET"] == "NetBSD":
-
-    DEFINES["USE_X11"] = "1"
-    DEFINES["WEBRTC_BSD"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
-
-if CONFIG["OS_TARGET"] == "OpenBSD":
+if CONFIG["OS_TARGET"] == "DragonFly":
 
     DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_BSD"] = True
     DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["WEBRTC_USE_BUILTIN_ISAC_FIX"] = "0"
+    DEFINES["WEBRTC_USE_BUILTIN_ISAC_FLOAT"] = "1"
     DEFINES["_FILE_OFFSET_BITS"] = "64"
 
 if CONFIG["OS_TARGET"] == "WINNT":
@@ -143,10 +95,52 @@ if CONFIG["OS_TARGET"] == "WINNT":
         "winmm"
     ]
 
-if CONFIG["CPU_ARCH"] == "aarch64":
+if CONFIG["OS_TARGET"] == "Darwin":
 
-    DEFINES["WEBRTC_ARCH_ARM64"] = True
-    DEFINES["WEBRTC_HAS_NEON"] = True
+    DEFINES["CR_XCODE_VERSION"] = "0920"
+    DEFINES["NO_TCMALLOC"] = True
+    DEFINES["WEBRTC_MAC"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["WEBRTC_USE_BUILTIN_ISAC_FIX"] = "0"
+    DEFINES["WEBRTC_USE_BUILTIN_ISAC_FLOAT"] = "1"
+    DEFINES["__ASSERT_MACROS_DEFINE_VERSIONS_WITHOUT_UNDERSCORE"] = "0"
+
+    OS_LIBS += [
+        "-framework Foundation"
+    ]
+
+if CONFIG["OS_TARGET"] == "OpenBSD":
+
+    DEFINES["USE_X11"] = "1"
+    DEFINES["WEBRTC_BSD"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+
+if CONFIG["OS_TARGET"] == "FreeBSD":
+
+    DEFINES["USE_X11"] = "1"
+    DEFINES["WEBRTC_BSD"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+
+if CONFIG["OS_TARGET"] == "Android":
+
+    DEFINES["ANDROID"] = True
+    DEFINES["ANDROID_NDK_VERSION"] = "r12b"
+    DEFINES["DISABLE_NACL"] = True
+    DEFINES["HAVE_SYS_UIO_H"] = True
+    DEFINES["NO_TCMALLOC"] = True
+    DEFINES["USE_OPENSSL_CERTS"] = "1"
+    DEFINES["WEBRTC_ANDROID"] = True
+    DEFINES["WEBRTC_ANDROID_OPENSLES"] = True
+    DEFINES["WEBRTC_LINUX"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+    DEFINES["__GNU_SOURCE"] = "1"
+
+    OS_LIBS += [
+        "log"
+    ]
 
 if CONFIG["CPU_ARCH"] == "arm":
 
@@ -156,8 +150,9 @@ if CONFIG["CPU_ARCH"] == "arm":
     DEFINES["WEBRTC_USE_BUILTIN_ISAC_FIX"] = "1"
     DEFINES["WEBRTC_USE_BUILTIN_ISAC_FLOAT"] = "0"
 
-if CONFIG["CPU_ARCH"] == "mips64":
+if CONFIG["CPU_ARCH"] == "ppc64":
 
+    DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_USE_BUILTIN_ISAC_FIX"] = "0"
     DEFINES["WEBRTC_USE_BUILTIN_ISAC_FLOAT"] = "1"
 
@@ -165,8 +160,9 @@ if CONFIG["CPU_ARCH"] == "mips64":
         "m"
     ]
 
-if CONFIG["CPU_ARCH"] == "ppc64":
+if CONFIG["CPU_ARCH"] == "mips64":
 
+    DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_USE_BUILTIN_ISAC_FIX"] = "0"
     DEFINES["WEBRTC_USE_BUILTIN_ISAC_FLOAT"] = "1"
 
@@ -174,15 +170,16 @@ if CONFIG["CPU_ARCH"] == "ppc64":
         "m"
     ]
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Android":
+if CONFIG["CPU_ARCH"] == "aarch64":
 
-    DEFINES["_FORTIFY_SOURCE"] = "2"
+    DEFINES["WEBRTC_ARCH_ARM64"] = True
+    DEFINES["WEBRTC_HAS_NEON"] = True
 
 if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Darwin":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "DragonFly":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "OpenBSD":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
@@ -190,25 +187,19 @@ if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "FreeBSD":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "NetBSD":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Android":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "OpenBSD":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "DragonFly":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if CONFIG["CPU_ARCH"] == "aarch64" and CONFIG["OS_TARGET"] == "Android":
-
-    DEFINES["WEBRTC_USE_BUILTIN_ISAC_FIX"] = "0"
-    DEFINES["WEBRTC_USE_BUILTIN_ISAC_FLOAT"] = "1"
-
-if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "Android":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "NetBSD":
 
-    DEFINES["WEBRTC_USE_BUILTIN_ISAC_FIX"] = "0"
-    DEFINES["WEBRTC_USE_BUILTIN_ISAC_FLOAT"] = "1"
+    DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if CONFIG["CPU_ARCH"] == "x86_64" and CONFIG["OS_TARGET"] == "Android":
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "NetBSD":
 
     DEFINES["WEBRTC_USE_BUILTIN_ISAC_FIX"] = "0"
     DEFINES["WEBRTC_USE_BUILTIN_ISAC_FLOAT"] = "1"
@@ -218,12 +209,17 @@ if CONFIG["CPU_ARCH"] == "aarch64" and CONFIG["OS_TARGET"] == "FreeBSD":
     DEFINES["WEBRTC_USE_BUILTIN_ISAC_FIX"] = "0"
     DEFINES["WEBRTC_USE_BUILTIN_ISAC_FLOAT"] = "1"
 
-if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "FreeBSD":
+if CONFIG["CPU_ARCH"] == "x86_64" and CONFIG["OS_TARGET"] == "Linux":
 
+    DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_USE_BUILTIN_ISAC_FIX"] = "0"
     DEFINES["WEBRTC_USE_BUILTIN_ISAC_FLOAT"] = "1"
 
-if CONFIG["CPU_ARCH"] == "x86_64" and CONFIG["OS_TARGET"] == "FreeBSD":
+    OS_LIBS += [
+        "m"
+    ]
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "FreeBSD":
 
     DEFINES["WEBRTC_USE_BUILTIN_ISAC_FIX"] = "0"
     DEFINES["WEBRTC_USE_BUILTIN_ISAC_FLOAT"] = "1"
@@ -239,16 +235,27 @@ if CONFIG["CPU_ARCH"] == "aarch64" and CONFIG["OS_TARGET"] == "Linux":
         "m"
     ]
 
-if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "Linux":
+if CONFIG["CPU_ARCH"] == "aarch64" and CONFIG["OS_TARGET"] == "Android":
 
     DEFINES["WEBRTC_USE_BUILTIN_ISAC_FIX"] = "0"
     DEFINES["WEBRTC_USE_BUILTIN_ISAC_FLOAT"] = "1"
 
-    OS_LIBS += [
-        "m"
-    ]
+if CONFIG["CPU_ARCH"] == "aarch64" and CONFIG["OS_TARGET"] == "OpenBSD":
 
-if CONFIG["CPU_ARCH"] == "x86_64" and CONFIG["OS_TARGET"] == "Linux":
+    DEFINES["WEBRTC_USE_BUILTIN_ISAC_FIX"] = "0"
+    DEFINES["WEBRTC_USE_BUILTIN_ISAC_FLOAT"] = "1"
+
+if CONFIG["CPU_ARCH"] == "x86_64" and CONFIG["OS_TARGET"] == "Android":
+
+    DEFINES["WEBRTC_USE_BUILTIN_ISAC_FIX"] = "0"
+    DEFINES["WEBRTC_USE_BUILTIN_ISAC_FLOAT"] = "1"
+
+if CONFIG["CPU_ARCH"] == "x86_64" and CONFIG["OS_TARGET"] == "OpenBSD":
+
+    DEFINES["WEBRTC_USE_BUILTIN_ISAC_FIX"] = "0"
+    DEFINES["WEBRTC_USE_BUILTIN_ISAC_FLOAT"] = "1"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "Linux":
 
     DEFINES["WEBRTC_USE_BUILTIN_ISAC_FIX"] = "0"
     DEFINES["WEBRTC_USE_BUILTIN_ISAC_FLOAT"] = "1"
@@ -257,34 +264,57 @@ if CONFIG["CPU_ARCH"] == "x86_64" and CONFIG["OS_TARGET"] == "Linux":
         "m"
     ]
 
-if CONFIG["CPU_ARCH"] == "aarch64" and CONFIG["OS_TARGET"] == "NetBSD":
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "Android":
 
     DEFINES["WEBRTC_USE_BUILTIN_ISAC_FIX"] = "0"
     DEFINES["WEBRTC_USE_BUILTIN_ISAC_FLOAT"] = "1"
 
-if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "NetBSD":
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "OpenBSD":
 
     DEFINES["WEBRTC_USE_BUILTIN_ISAC_FIX"] = "0"
     DEFINES["WEBRTC_USE_BUILTIN_ISAC_FLOAT"] = "1"
 
-if CONFIG["CPU_ARCH"] == "x86_64" and CONFIG["OS_TARGET"] == "NetBSD":
+if CONFIG["CPU_ARCH"] == "x86_64" and CONFIG["OS_TARGET"] == "FreeBSD":
 
     DEFINES["WEBRTC_USE_BUILTIN_ISAC_FIX"] = "0"
     DEFINES["WEBRTC_USE_BUILTIN_ISAC_FLOAT"] = "1"
 
-if CONFIG["CPU_ARCH"] == "aarch64" and CONFIG["OS_TARGET"] == "OpenBSD":
+if CONFIG["CPU_ARCH"] == "aarch64" and CONFIG["OS_TARGET"] == "NetBSD":
 
     DEFINES["WEBRTC_USE_BUILTIN_ISAC_FIX"] = "0"
     DEFINES["WEBRTC_USE_BUILTIN_ISAC_FLOAT"] = "1"
 
-if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "OpenBSD":
+if CONFIG["CPU_ARCH"] == "x86_64" and CONFIG["OS_TARGET"] == "NetBSD":
 
     DEFINES["WEBRTC_USE_BUILTIN_ISAC_FIX"] = "0"
     DEFINES["WEBRTC_USE_BUILTIN_ISAC_FLOAT"] = "1"
 
-if CONFIG["CPU_ARCH"] == "x86_64" and CONFIG["OS_TARGET"] == "OpenBSD":
+if CONFIG["CPU_ARCH"] == "arm" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
 
-    DEFINES["WEBRTC_USE_BUILTIN_ISAC_FIX"] = "0"
-    DEFINES["WEBRTC_USE_BUILTIN_ISAC_FLOAT"] = "1"
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "aarch64" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "arm" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "aarch64" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["HOST_CPU_ARCH"] == "x86_64" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["HOST_CPU_ARCH"] == "x86" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
 
 Library("audio_decoder_isac_gn")
diff --git a/media/webrtc/trunk/webrtc/api/audio_codecs/isac/audio_encoder_isac_fix_gn/moz.build b/media/webrtc/trunk/webrtc/api/audio_codecs/isac/audio_encoder_isac_fix_gn/moz.build
index f04553e5a1f7..2c32e53e5348 100644
--- a/media/webrtc/trunk/webrtc/api/audio_codecs/isac/audio_encoder_isac_fix_gn/moz.build
+++ b/media/webrtc/trunk/webrtc/api/audio_codecs/isac/audio_encoder_isac_fix_gn/moz.build
@@ -40,35 +40,19 @@ UNIFIED_SOURCES += [
     "/media/webrtc/trunk/webrtc/api/audio_codecs/isac/audio_encoder_isac_fix.cc"
 ]
 
-if not CONFIG["MOZ_DEBUG"]:
-
-    DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "0"
-    DEFINES["NDEBUG"] = True
-    DEFINES["NVALGRIND"] = True
-
 if CONFIG["MOZ_DEBUG"] == "1":
 
     DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "1"
     DEFINES["WTF_USE_DYNAMIC_ANNOTATIONS"] = "1"
 
-if CONFIG["OS_TARGET"] == "Android":
-
-    DEFINES["ANDROID"] = True
-    DEFINES["ANDROID_NDK_VERSION"] = "r12b"
-    DEFINES["DISABLE_NACL"] = True
-    DEFINES["HAVE_SYS_UIO_H"] = True
-    DEFINES["NO_TCMALLOC"] = True
-    DEFINES["USE_OPENSSL_CERTS"] = "1"
-    DEFINES["WEBRTC_ANDROID"] = True
-    DEFINES["WEBRTC_ANDROID_OPENSLES"] = True
-    DEFINES["WEBRTC_LINUX"] = True
-    DEFINES["__GNU_SOURCE"] = "1"
+if not CONFIG["MOZ_DEBUG"]:
 
-    OS_LIBS += [
-        "log"
-    ]
+    DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "0"
+    DEFINES["NDEBUG"] = True
+    DEFINES["NVALGRIND"] = True
+    DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if CONFIG["OS_TARGET"] == "FreeBSD":
+if CONFIG["OS_TARGET"] == "NetBSD":
 
     DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_BSD"] = True
@@ -76,37 +60,41 @@ if CONFIG["OS_TARGET"] == "FreeBSD":
 if CONFIG["OS_TARGET"] == "Linux":
 
     DEFINES["USE_NSS_CERTS"] = "1"
-    DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_LINUX"] = True
 
     OS_LIBS += [
         "rt"
     ]
 
-if CONFIG["OS_TARGET"] == "NetBSD":
+if CONFIG["OS_TARGET"] == "OpenBSD":
 
     DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_BSD"] = True
 
-if CONFIG["OS_TARGET"] == "OpenBSD":
+if CONFIG["OS_TARGET"] == "FreeBSD":
 
     DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_BSD"] = True
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Android":
-
-    DEFINES["_FORTIFY_SOURCE"] = "2"
-
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "FreeBSD":
-
-    DEFINES["_FORTIFY_SOURCE"] = "2"
+if CONFIG["OS_TARGET"] == "Android":
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "NetBSD":
+    DEFINES["ANDROID"] = True
+    DEFINES["ANDROID_NDK_VERSION"] = "r12b"
+    DEFINES["DISABLE_NACL"] = True
+    DEFINES["HAVE_SYS_UIO_H"] = True
+    DEFINES["NO_TCMALLOC"] = True
+    DEFINES["USE_OPENSSL_CERTS"] = "1"
+    DEFINES["WEBRTC_ANDROID"] = True
+    DEFINES["WEBRTC_ANDROID_OPENSLES"] = True
+    DEFINES["WEBRTC_LINUX"] = True
+    DEFINES["__GNU_SOURCE"] = "1"
 
-    DEFINES["_FORTIFY_SOURCE"] = "2"
+    OS_LIBS += [
+        "log"
+    ]
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "OpenBSD":
+if CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
 
-    DEFINES["_FORTIFY_SOURCE"] = "2"
+    DEFINES["USE_X11"] = "1"
 
 Library("audio_encoder_isac_fix_gn")
diff --git a/media/webrtc/trunk/webrtc/api/audio_codecs/isac/audio_encoder_isac_float_gn/moz.build b/media/webrtc/trunk/webrtc/api/audio_codecs/isac/audio_encoder_isac_float_gn/moz.build
index d6170b70b4e3..fee6fe3ab2d2 100644
--- a/media/webrtc/trunk/webrtc/api/audio_codecs/isac/audio_encoder_isac_float_gn/moz.build
+++ b/media/webrtc/trunk/webrtc/api/audio_codecs/isac/audio_encoder_isac_float_gn/moz.build
@@ -31,56 +31,25 @@ UNIFIED_SOURCES += [
     "/media/webrtc/trunk/webrtc/api/audio_codecs/isac/audio_encoder_isac_float.cc"
 ]
 
-if not CONFIG["MOZ_DEBUG"]:
-
-    DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "0"
-    DEFINES["NDEBUG"] = True
-    DEFINES["NVALGRIND"] = True
-
 if CONFIG["MOZ_DEBUG"] == "1":
 
     DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "1"
     DEFINES["WTF_USE_DYNAMIC_ANNOTATIONS"] = "1"
 
-if CONFIG["OS_TARGET"] == "Android":
-
-    DEFINES["ANDROID"] = True
-    DEFINES["ANDROID_NDK_VERSION"] = "r12b"
-    DEFINES["DISABLE_NACL"] = True
-    DEFINES["HAVE_SYS_UIO_H"] = True
-    DEFINES["NO_TCMALLOC"] = True
-    DEFINES["USE_OPENSSL_CERTS"] = "1"
-    DEFINES["WEBRTC_ANDROID"] = True
-    DEFINES["WEBRTC_ANDROID_OPENSLES"] = True
-    DEFINES["WEBRTC_LINUX"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
-    DEFINES["__GNU_SOURCE"] = "1"
-
-    OS_LIBS += [
-        "log"
-    ]
-
-if CONFIG["OS_TARGET"] == "Darwin":
-
-    DEFINES["CR_XCODE_VERSION"] = "0920"
-    DEFINES["NO_TCMALLOC"] = True
-    DEFINES["WEBRTC_MAC"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["__ASSERT_MACROS_DEFINE_VERSIONS_WITHOUT_UNDERSCORE"] = "0"
+if not CONFIG["MOZ_DEBUG"]:
 
-    OS_LIBS += [
-        "-framework Foundation"
-    ]
+    DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "0"
+    DEFINES["NDEBUG"] = True
+    DEFINES["NVALGRIND"] = True
 
-if CONFIG["OS_TARGET"] == "DragonFly":
+if CONFIG["OS_TARGET"] == "NetBSD":
 
     DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_BSD"] = True
     DEFINES["WEBRTC_POSIX"] = True
     DEFINES["_FILE_OFFSET_BITS"] = "64"
 
-if CONFIG["OS_TARGET"] == "FreeBSD":
+if CONFIG["OS_TARGET"] == "DragonFly":
 
     DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_BSD"] = True
@@ -90,7 +59,6 @@ if CONFIG["OS_TARGET"] == "FreeBSD":
 if CONFIG["OS_TARGET"] == "Linux":
 
     DEFINES["USE_NSS_CERTS"] = "1"
-    DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_LINUX"] = True
     DEFINES["WEBRTC_POSIX"] = True
     DEFINES["_FILE_OFFSET_BITS"] = "64"
@@ -100,20 +68,6 @@ if CONFIG["OS_TARGET"] == "Linux":
         "rt"
     ]
 
-if CONFIG["OS_TARGET"] == "NetBSD":
-
-    DEFINES["USE_X11"] = "1"
-    DEFINES["WEBRTC_BSD"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
-
-if CONFIG["OS_TARGET"] == "OpenBSD":
-
-    DEFINES["USE_X11"] = "1"
-    DEFINES["WEBRTC_BSD"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
-
 if CONFIG["OS_TARGET"] == "WINNT":
 
     DEFINES["CERT_CHAIN_PARA_HAS_EXTRA_FIELDS"] = True
@@ -143,41 +97,98 @@ if CONFIG["OS_TARGET"] == "WINNT":
         "winmm"
     ]
 
+if CONFIG["OS_TARGET"] == "Darwin":
+
+    DEFINES["CR_XCODE_VERSION"] = "0920"
+    DEFINES["NO_TCMALLOC"] = True
+    DEFINES["WEBRTC_MAC"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["__ASSERT_MACROS_DEFINE_VERSIONS_WITHOUT_UNDERSCORE"] = "0"
+
+    OS_LIBS += [
+        "-framework Foundation"
+    ]
+
+if CONFIG["OS_TARGET"] == "OpenBSD":
+
+    DEFINES["USE_X11"] = "1"
+    DEFINES["WEBRTC_BSD"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+
+if CONFIG["OS_TARGET"] == "FreeBSD":
+
+    DEFINES["USE_X11"] = "1"
+    DEFINES["WEBRTC_BSD"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+
+if CONFIG["OS_TARGET"] == "Android":
+
+    DEFINES["ANDROID"] = True
+    DEFINES["ANDROID_NDK_VERSION"] = "r12b"
+    DEFINES["DISABLE_NACL"] = True
+    DEFINES["HAVE_SYS_UIO_H"] = True
+    DEFINES["NO_TCMALLOC"] = True
+    DEFINES["USE_OPENSSL_CERTS"] = "1"
+    DEFINES["WEBRTC_ANDROID"] = True
+    DEFINES["WEBRTC_ANDROID_OPENSLES"] = True
+    DEFINES["WEBRTC_LINUX"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+    DEFINES["__GNU_SOURCE"] = "1"
+
+    OS_LIBS += [
+        "log"
+    ]
+
+if CONFIG["CPU_ARCH"] == "ppc64":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "mips64":
+
+    DEFINES["USE_X11"] = "1"
+
 if CONFIG["CPU_ARCH"] == "aarch64":
 
     DEFINES["WEBRTC_ARCH_ARM64"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Android":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Darwin":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Darwin":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "OpenBSD":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "DragonFly":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "FreeBSD":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "FreeBSD":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Android":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "NetBSD":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "DragonFly":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "OpenBSD":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "NetBSD":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "Android":
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "NetBSD":
 
     CXXFLAGS += [
         "-msse2"
     ]
 
+if CONFIG["CPU_ARCH"] == "x86_64" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
 if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "FreeBSD":
 
     CXXFLAGS += [
@@ -195,7 +206,7 @@ if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "Linux":
         "-msse2"
     ]
 
-if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "NetBSD":
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "Android":
 
     CXXFLAGS += [
         "-msse2"
@@ -207,4 +218,24 @@ if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "OpenBSD":
         "-msse2"
     ]
 
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "aarch64" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "aarch64" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["HOST_CPU_ARCH"] == "x86_64" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["HOST_CPU_ARCH"] == "x86" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
 Library("audio_encoder_isac_float_gn")
diff --git a/media/webrtc/trunk/webrtc/api/audio_codecs/isac/audio_encoder_isac_gn/moz.build b/media/webrtc/trunk/webrtc/api/audio_codecs/isac/audio_encoder_isac_gn/moz.build
index 8430573b3737..2392d4ba00d1 100644
--- a/media/webrtc/trunk/webrtc/api/audio_codecs/isac/audio_encoder_isac_gn/moz.build
+++ b/media/webrtc/trunk/webrtc/api/audio_codecs/isac/audio_encoder_isac_gn/moz.build
@@ -26,60 +26,18 @@ LOCAL_INCLUDES += [
     "/media/webrtc/trunk/webrtc/"
 ]
 
-if not CONFIG["MOZ_DEBUG"]:
-
-    DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "0"
-    DEFINES["NDEBUG"] = True
-    DEFINES["NVALGRIND"] = True
-
 if CONFIG["MOZ_DEBUG"] == "1":
 
     DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "1"
     DEFINES["WTF_USE_DYNAMIC_ANNOTATIONS"] = "1"
 
-if CONFIG["OS_TARGET"] == "Android":
-
-    DEFINES["ANDROID"] = True
-    DEFINES["ANDROID_NDK_VERSION"] = "r12b"
-    DEFINES["DISABLE_NACL"] = True
-    DEFINES["HAVE_SYS_UIO_H"] = True
-    DEFINES["NO_TCMALLOC"] = True
-    DEFINES["USE_OPENSSL_CERTS"] = "1"
-    DEFINES["WEBRTC_ANDROID"] = True
-    DEFINES["WEBRTC_ANDROID_OPENSLES"] = True
-    DEFINES["WEBRTC_LINUX"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
-    DEFINES["__GNU_SOURCE"] = "1"
-
-    OS_LIBS += [
-        "log"
-    ]
-
-if CONFIG["OS_TARGET"] == "Darwin":
-
-    DEFINES["CR_XCODE_VERSION"] = "0920"
-    DEFINES["NO_TCMALLOC"] = True
-    DEFINES["WEBRTC_MAC"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["WEBRTC_USE_BUILTIN_ISAC_FIX"] = "0"
-    DEFINES["WEBRTC_USE_BUILTIN_ISAC_FLOAT"] = "1"
-    DEFINES["__ASSERT_MACROS_DEFINE_VERSIONS_WITHOUT_UNDERSCORE"] = "0"
-
-    OS_LIBS += [
-        "-framework Foundation"
-    ]
-
-if CONFIG["OS_TARGET"] == "DragonFly":
+if not CONFIG["MOZ_DEBUG"]:
 
-    DEFINES["USE_X11"] = "1"
-    DEFINES["WEBRTC_BSD"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["WEBRTC_USE_BUILTIN_ISAC_FIX"] = "0"
-    DEFINES["WEBRTC_USE_BUILTIN_ISAC_FLOAT"] = "1"
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
+    DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "0"
+    DEFINES["NDEBUG"] = True
+    DEFINES["NVALGRIND"] = True
 
-if CONFIG["OS_TARGET"] == "FreeBSD":
+if CONFIG["OS_TARGET"] == "NetBSD":
 
     DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_BSD"] = True
@@ -89,7 +47,6 @@ if CONFIG["OS_TARGET"] == "FreeBSD":
 if CONFIG["OS_TARGET"] == "Linux":
 
     DEFINES["USE_NSS_CERTS"] = "1"
-    DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_LINUX"] = True
     DEFINES["WEBRTC_POSIX"] = True
     DEFINES["_FILE_OFFSET_BITS"] = "64"
@@ -98,18 +55,13 @@ if CONFIG["OS_TARGET"] == "Linux":
         "rt"
     ]
 
-if CONFIG["OS_TARGET"] == "NetBSD":
-
-    DEFINES["USE_X11"] = "1"
-    DEFINES["WEBRTC_BSD"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
-
-if CONFIG["OS_TARGET"] == "OpenBSD":
+if CONFIG["OS_TARGET"] == "DragonFly":
 
     DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_BSD"] = True
     DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["WEBRTC_USE_BUILTIN_ISAC_FIX"] = "0"
+    DEFINES["WEBRTC_USE_BUILTIN_ISAC_FLOAT"] = "1"
     DEFINES["_FILE_OFFSET_BITS"] = "64"
 
 if CONFIG["OS_TARGET"] == "WINNT":
@@ -143,10 +95,52 @@ if CONFIG["OS_TARGET"] == "WINNT":
         "winmm"
     ]
 
-if CONFIG["CPU_ARCH"] == "aarch64":
+if CONFIG["OS_TARGET"] == "Darwin":
 
-    DEFINES["WEBRTC_ARCH_ARM64"] = True
-    DEFINES["WEBRTC_HAS_NEON"] = True
+    DEFINES["CR_XCODE_VERSION"] = "0920"
+    DEFINES["NO_TCMALLOC"] = True
+    DEFINES["WEBRTC_MAC"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["WEBRTC_USE_BUILTIN_ISAC_FIX"] = "0"
+    DEFINES["WEBRTC_USE_BUILTIN_ISAC_FLOAT"] = "1"
+    DEFINES["__ASSERT_MACROS_DEFINE_VERSIONS_WITHOUT_UNDERSCORE"] = "0"
+
+    OS_LIBS += [
+        "-framework Foundation"
+    ]
+
+if CONFIG["OS_TARGET"] == "OpenBSD":
+
+    DEFINES["USE_X11"] = "1"
+    DEFINES["WEBRTC_BSD"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+
+if CONFIG["OS_TARGET"] == "FreeBSD":
+
+    DEFINES["USE_X11"] = "1"
+    DEFINES["WEBRTC_BSD"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+
+if CONFIG["OS_TARGET"] == "Android":
+
+    DEFINES["ANDROID"] = True
+    DEFINES["ANDROID_NDK_VERSION"] = "r12b"
+    DEFINES["DISABLE_NACL"] = True
+    DEFINES["HAVE_SYS_UIO_H"] = True
+    DEFINES["NO_TCMALLOC"] = True
+    DEFINES["USE_OPENSSL_CERTS"] = "1"
+    DEFINES["WEBRTC_ANDROID"] = True
+    DEFINES["WEBRTC_ANDROID_OPENSLES"] = True
+    DEFINES["WEBRTC_LINUX"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+    DEFINES["__GNU_SOURCE"] = "1"
+
+    OS_LIBS += [
+        "log"
+    ]
 
 if CONFIG["CPU_ARCH"] == "arm":
 
@@ -156,8 +150,9 @@ if CONFIG["CPU_ARCH"] == "arm":
     DEFINES["WEBRTC_USE_BUILTIN_ISAC_FIX"] = "1"
     DEFINES["WEBRTC_USE_BUILTIN_ISAC_FLOAT"] = "0"
 
-if CONFIG["CPU_ARCH"] == "mips64":
+if CONFIG["CPU_ARCH"] == "ppc64":
 
+    DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_USE_BUILTIN_ISAC_FIX"] = "0"
     DEFINES["WEBRTC_USE_BUILTIN_ISAC_FLOAT"] = "1"
 
@@ -165,8 +160,9 @@ if CONFIG["CPU_ARCH"] == "mips64":
         "m"
     ]
 
-if CONFIG["CPU_ARCH"] == "ppc64":
+if CONFIG["CPU_ARCH"] == "mips64":
 
+    DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_USE_BUILTIN_ISAC_FIX"] = "0"
     DEFINES["WEBRTC_USE_BUILTIN_ISAC_FLOAT"] = "1"
 
@@ -174,15 +170,16 @@ if CONFIG["CPU_ARCH"] == "ppc64":
         "m"
     ]
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Android":
+if CONFIG["CPU_ARCH"] == "aarch64":
 
-    DEFINES["_FORTIFY_SOURCE"] = "2"
+    DEFINES["WEBRTC_ARCH_ARM64"] = True
+    DEFINES["WEBRTC_HAS_NEON"] = True
 
 if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Darwin":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "DragonFly":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "OpenBSD":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
@@ -190,25 +187,19 @@ if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "FreeBSD":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "NetBSD":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Android":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "OpenBSD":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "DragonFly":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if CONFIG["CPU_ARCH"] == "aarch64" and CONFIG["OS_TARGET"] == "Android":
-
-    DEFINES["WEBRTC_USE_BUILTIN_ISAC_FIX"] = "0"
-    DEFINES["WEBRTC_USE_BUILTIN_ISAC_FLOAT"] = "1"
-
-if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "Android":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "NetBSD":
 
-    DEFINES["WEBRTC_USE_BUILTIN_ISAC_FIX"] = "0"
-    DEFINES["WEBRTC_USE_BUILTIN_ISAC_FLOAT"] = "1"
+    DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if CONFIG["CPU_ARCH"] == "x86_64" and CONFIG["OS_TARGET"] == "Android":
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "NetBSD":
 
     DEFINES["WEBRTC_USE_BUILTIN_ISAC_FIX"] = "0"
     DEFINES["WEBRTC_USE_BUILTIN_ISAC_FLOAT"] = "1"
@@ -218,12 +209,17 @@ if CONFIG["CPU_ARCH"] == "aarch64" and CONFIG["OS_TARGET"] == "FreeBSD":
     DEFINES["WEBRTC_USE_BUILTIN_ISAC_FIX"] = "0"
     DEFINES["WEBRTC_USE_BUILTIN_ISAC_FLOAT"] = "1"
 
-if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "FreeBSD":
+if CONFIG["CPU_ARCH"] == "x86_64" and CONFIG["OS_TARGET"] == "Linux":
 
+    DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_USE_BUILTIN_ISAC_FIX"] = "0"
     DEFINES["WEBRTC_USE_BUILTIN_ISAC_FLOAT"] = "1"
 
-if CONFIG["CPU_ARCH"] == "x86_64" and CONFIG["OS_TARGET"] == "FreeBSD":
+    OS_LIBS += [
+        "m"
+    ]
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "FreeBSD":
 
     DEFINES["WEBRTC_USE_BUILTIN_ISAC_FIX"] = "0"
     DEFINES["WEBRTC_USE_BUILTIN_ISAC_FLOAT"] = "1"
@@ -239,16 +235,27 @@ if CONFIG["CPU_ARCH"] == "aarch64" and CONFIG["OS_TARGET"] == "Linux":
         "m"
     ]
 
-if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "Linux":
+if CONFIG["CPU_ARCH"] == "aarch64" and CONFIG["OS_TARGET"] == "Android":
 
     DEFINES["WEBRTC_USE_BUILTIN_ISAC_FIX"] = "0"
     DEFINES["WEBRTC_USE_BUILTIN_ISAC_FLOAT"] = "1"
 
-    OS_LIBS += [
-        "m"
-    ]
+if CONFIG["CPU_ARCH"] == "aarch64" and CONFIG["OS_TARGET"] == "OpenBSD":
 
-if CONFIG["CPU_ARCH"] == "x86_64" and CONFIG["OS_TARGET"] == "Linux":
+    DEFINES["WEBRTC_USE_BUILTIN_ISAC_FIX"] = "0"
+    DEFINES["WEBRTC_USE_BUILTIN_ISAC_FLOAT"] = "1"
+
+if CONFIG["CPU_ARCH"] == "x86_64" and CONFIG["OS_TARGET"] == "Android":
+
+    DEFINES["WEBRTC_USE_BUILTIN_ISAC_FIX"] = "0"
+    DEFINES["WEBRTC_USE_BUILTIN_ISAC_FLOAT"] = "1"
+
+if CONFIG["CPU_ARCH"] == "x86_64" and CONFIG["OS_TARGET"] == "OpenBSD":
+
+    DEFINES["WEBRTC_USE_BUILTIN_ISAC_FIX"] = "0"
+    DEFINES["WEBRTC_USE_BUILTIN_ISAC_FLOAT"] = "1"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "Linux":
 
     DEFINES["WEBRTC_USE_BUILTIN_ISAC_FIX"] = "0"
     DEFINES["WEBRTC_USE_BUILTIN_ISAC_FLOAT"] = "1"
@@ -257,34 +264,57 @@ if CONFIG["CPU_ARCH"] == "x86_64" and CONFIG["OS_TARGET"] == "Linux":
         "m"
     ]
 
-if CONFIG["CPU_ARCH"] == "aarch64" and CONFIG["OS_TARGET"] == "NetBSD":
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "Android":
 
     DEFINES["WEBRTC_USE_BUILTIN_ISAC_FIX"] = "0"
     DEFINES["WEBRTC_USE_BUILTIN_ISAC_FLOAT"] = "1"
 
-if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "NetBSD":
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "OpenBSD":
 
     DEFINES["WEBRTC_USE_BUILTIN_ISAC_FIX"] = "0"
     DEFINES["WEBRTC_USE_BUILTIN_ISAC_FLOAT"] = "1"
 
-if CONFIG["CPU_ARCH"] == "x86_64" and CONFIG["OS_TARGET"] == "NetBSD":
+if CONFIG["CPU_ARCH"] == "x86_64" and CONFIG["OS_TARGET"] == "FreeBSD":
 
     DEFINES["WEBRTC_USE_BUILTIN_ISAC_FIX"] = "0"
     DEFINES["WEBRTC_USE_BUILTIN_ISAC_FLOAT"] = "1"
 
-if CONFIG["CPU_ARCH"] == "aarch64" and CONFIG["OS_TARGET"] == "OpenBSD":
+if CONFIG["CPU_ARCH"] == "aarch64" and CONFIG["OS_TARGET"] == "NetBSD":
 
     DEFINES["WEBRTC_USE_BUILTIN_ISAC_FIX"] = "0"
     DEFINES["WEBRTC_USE_BUILTIN_ISAC_FLOAT"] = "1"
 
-if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "OpenBSD":
+if CONFIG["CPU_ARCH"] == "x86_64" and CONFIG["OS_TARGET"] == "NetBSD":
 
     DEFINES["WEBRTC_USE_BUILTIN_ISAC_FIX"] = "0"
     DEFINES["WEBRTC_USE_BUILTIN_ISAC_FLOAT"] = "1"
 
-if CONFIG["CPU_ARCH"] == "x86_64" and CONFIG["OS_TARGET"] == "OpenBSD":
+if CONFIG["CPU_ARCH"] == "arm" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
 
-    DEFINES["WEBRTC_USE_BUILTIN_ISAC_FIX"] = "0"
-    DEFINES["WEBRTC_USE_BUILTIN_ISAC_FLOAT"] = "1"
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "aarch64" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "arm" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "aarch64" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["HOST_CPU_ARCH"] == "x86_64" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["HOST_CPU_ARCH"] == "x86" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
 
 Library("audio_encoder_isac_gn")
diff --git a/media/webrtc/trunk/webrtc/api/audio_codecs/opus/audio_decoder_opus_gn/moz.build b/media/webrtc/trunk/webrtc/api/audio_codecs/opus/audio_decoder_opus_gn/moz.build
index 0c290b22b52d..9518dcc8f0bf 100644
--- a/media/webrtc/trunk/webrtc/api/audio_codecs/opus/audio_decoder_opus_gn/moz.build
+++ b/media/webrtc/trunk/webrtc/api/audio_codecs/opus/audio_decoder_opus_gn/moz.build
@@ -31,56 +31,18 @@ UNIFIED_SOURCES += [
     "/media/webrtc/trunk/webrtc/api/audio_codecs/opus/audio_decoder_opus.cc"
 ]
 
-if not CONFIG["MOZ_DEBUG"]:
-
-    DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "0"
-    DEFINES["NDEBUG"] = True
-    DEFINES["NVALGRIND"] = True
-
 if CONFIG["MOZ_DEBUG"] == "1":
 
     DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "1"
     DEFINES["WTF_USE_DYNAMIC_ANNOTATIONS"] = "1"
 
-if CONFIG["OS_TARGET"] == "Android":
-
-    DEFINES["ANDROID"] = True
-    DEFINES["ANDROID_NDK_VERSION"] = "r12b"
-    DEFINES["DISABLE_NACL"] = True
-    DEFINES["HAVE_SYS_UIO_H"] = True
-    DEFINES["NO_TCMALLOC"] = True
-    DEFINES["USE_OPENSSL_CERTS"] = "1"
-    DEFINES["WEBRTC_ANDROID"] = True
-    DEFINES["WEBRTC_ANDROID_OPENSLES"] = True
-    DEFINES["WEBRTC_LINUX"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
-    DEFINES["__GNU_SOURCE"] = "1"
-
-    OS_LIBS += [
-        "log"
-    ]
-
-if CONFIG["OS_TARGET"] == "Darwin":
-
-    DEFINES["CR_XCODE_VERSION"] = "0920"
-    DEFINES["NO_TCMALLOC"] = True
-    DEFINES["WEBRTC_MAC"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["__ASSERT_MACROS_DEFINE_VERSIONS_WITHOUT_UNDERSCORE"] = "0"
-
-    OS_LIBS += [
-        "-framework Foundation"
-    ]
-
-if CONFIG["OS_TARGET"] == "DragonFly":
+if not CONFIG["MOZ_DEBUG"]:
 
-    DEFINES["USE_X11"] = "1"
-    DEFINES["WEBRTC_BSD"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
+    DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "0"
+    DEFINES["NDEBUG"] = True
+    DEFINES["NVALGRIND"] = True
 
-if CONFIG["OS_TARGET"] == "FreeBSD":
+if CONFIG["OS_TARGET"] == "NetBSD":
 
     DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_BSD"] = True
@@ -90,7 +52,6 @@ if CONFIG["OS_TARGET"] == "FreeBSD":
 if CONFIG["OS_TARGET"] == "Linux":
 
     DEFINES["USE_NSS_CERTS"] = "1"
-    DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_LINUX"] = True
     DEFINES["WEBRTC_POSIX"] = True
     DEFINES["_FILE_OFFSET_BITS"] = "64"
@@ -99,14 +60,7 @@ if CONFIG["OS_TARGET"] == "Linux":
         "rt"
     ]
 
-if CONFIG["OS_TARGET"] == "NetBSD":
-
-    DEFINES["USE_X11"] = "1"
-    DEFINES["WEBRTC_BSD"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
-
-if CONFIG["OS_TARGET"] == "OpenBSD":
+if CONFIG["OS_TARGET"] == "DragonFly":
 
     DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_BSD"] = True
@@ -142,10 +96,50 @@ if CONFIG["OS_TARGET"] == "WINNT":
         "winmm"
     ]
 
-if CONFIG["CPU_ARCH"] == "aarch64":
+if CONFIG["OS_TARGET"] == "Darwin":
 
-    DEFINES["WEBRTC_ARCH_ARM64"] = True
-    DEFINES["WEBRTC_HAS_NEON"] = True
+    DEFINES["CR_XCODE_VERSION"] = "0920"
+    DEFINES["NO_TCMALLOC"] = True
+    DEFINES["WEBRTC_MAC"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["__ASSERT_MACROS_DEFINE_VERSIONS_WITHOUT_UNDERSCORE"] = "0"
+
+    OS_LIBS += [
+        "-framework Foundation"
+    ]
+
+if CONFIG["OS_TARGET"] == "OpenBSD":
+
+    DEFINES["USE_X11"] = "1"
+    DEFINES["WEBRTC_BSD"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+
+if CONFIG["OS_TARGET"] == "FreeBSD":
+
+    DEFINES["USE_X11"] = "1"
+    DEFINES["WEBRTC_BSD"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+
+if CONFIG["OS_TARGET"] == "Android":
+
+    DEFINES["ANDROID"] = True
+    DEFINES["ANDROID_NDK_VERSION"] = "r12b"
+    DEFINES["DISABLE_NACL"] = True
+    DEFINES["HAVE_SYS_UIO_H"] = True
+    DEFINES["NO_TCMALLOC"] = True
+    DEFINES["USE_OPENSSL_CERTS"] = "1"
+    DEFINES["WEBRTC_ANDROID"] = True
+    DEFINES["WEBRTC_ANDROID_OPENSLES"] = True
+    DEFINES["WEBRTC_LINUX"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+    DEFINES["__GNU_SOURCE"] = "1"
+
+    OS_LIBS += [
+        "log"
+    ]
 
 if CONFIG["CPU_ARCH"] == "arm":
 
@@ -157,15 +151,24 @@ if CONFIG["CPU_ARCH"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Android":
+if CONFIG["CPU_ARCH"] == "ppc64":
 
-    DEFINES["_FORTIFY_SOURCE"] = "2"
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "mips64":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "aarch64":
+
+    DEFINES["WEBRTC_ARCH_ARM64"] = True
+    DEFINES["WEBRTC_HAS_NEON"] = True
 
 if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Darwin":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "DragonFly":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "OpenBSD":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
@@ -173,20 +176,28 @@ if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "FreeBSD":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "NetBSD":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Android":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "OpenBSD":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "DragonFly":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "Android":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "NetBSD":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "NetBSD":
 
     CXXFLAGS += [
         "-msse2"
     ]
 
+if CONFIG["CPU_ARCH"] == "x86_64" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
 if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "FreeBSD":
 
     CXXFLAGS += [
@@ -204,7 +215,7 @@ if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "Linux":
         "-msse2"
     ]
 
-if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "NetBSD":
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "Android":
 
     CXXFLAGS += [
         "-msse2"
@@ -216,4 +227,32 @@ if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "OpenBSD":
         "-msse2"
     ]
 
+if CONFIG["CPU_ARCH"] == "arm" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "aarch64" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "arm" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "aarch64" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["HOST_CPU_ARCH"] == "x86_64" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["HOST_CPU_ARCH"] == "x86" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
 Library("audio_decoder_opus_gn")
diff --git a/media/webrtc/trunk/webrtc/api/audio_codecs/opus/audio_encoder_opus_config_gn/moz.build b/media/webrtc/trunk/webrtc/api/audio_codecs/opus/audio_encoder_opus_config_gn/moz.build
index 3ad85a9cca87..b67c7da02823 100644
--- a/media/webrtc/trunk/webrtc/api/audio_codecs/opus/audio_encoder_opus_config_gn/moz.build
+++ b/media/webrtc/trunk/webrtc/api/audio_codecs/opus/audio_encoder_opus_config_gn/moz.build
@@ -32,56 +32,18 @@ UNIFIED_SOURCES += [
     "/media/webrtc/trunk/webrtc/api/audio_codecs/opus/audio_encoder_opus_config.cc"
 ]
 
-if not CONFIG["MOZ_DEBUG"]:
-
-    DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "0"
-    DEFINES["NDEBUG"] = True
-    DEFINES["NVALGRIND"] = True
-
 if CONFIG["MOZ_DEBUG"] == "1":
 
     DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "1"
     DEFINES["WTF_USE_DYNAMIC_ANNOTATIONS"] = "1"
 
-if CONFIG["OS_TARGET"] == "Android":
-
-    DEFINES["ANDROID"] = True
-    DEFINES["ANDROID_NDK_VERSION"] = "r12b"
-    DEFINES["DISABLE_NACL"] = True
-    DEFINES["HAVE_SYS_UIO_H"] = True
-    DEFINES["NO_TCMALLOC"] = True
-    DEFINES["USE_OPENSSL_CERTS"] = "1"
-    DEFINES["WEBRTC_ANDROID"] = True
-    DEFINES["WEBRTC_ANDROID_OPENSLES"] = True
-    DEFINES["WEBRTC_LINUX"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
-    DEFINES["__GNU_SOURCE"] = "1"
-
-    OS_LIBS += [
-        "log"
-    ]
-
-if CONFIG["OS_TARGET"] == "Darwin":
-
-    DEFINES["CR_XCODE_VERSION"] = "0920"
-    DEFINES["NO_TCMALLOC"] = True
-    DEFINES["WEBRTC_MAC"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["__ASSERT_MACROS_DEFINE_VERSIONS_WITHOUT_UNDERSCORE"] = "0"
-
-    OS_LIBS += [
-        "-framework Foundation"
-    ]
-
-if CONFIG["OS_TARGET"] == "DragonFly":
+if not CONFIG["MOZ_DEBUG"]:
 
-    DEFINES["USE_X11"] = "1"
-    DEFINES["WEBRTC_BSD"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
+    DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "0"
+    DEFINES["NDEBUG"] = True
+    DEFINES["NVALGRIND"] = True
 
-if CONFIG["OS_TARGET"] == "FreeBSD":
+if CONFIG["OS_TARGET"] == "NetBSD":
 
     DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_BSD"] = True
@@ -91,19 +53,11 @@ if CONFIG["OS_TARGET"] == "FreeBSD":
 if CONFIG["OS_TARGET"] == "Linux":
 
     DEFINES["USE_NSS_CERTS"] = "1"
-    DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_LINUX"] = True
     DEFINES["WEBRTC_POSIX"] = True
     DEFINES["_FILE_OFFSET_BITS"] = "64"
 
-if CONFIG["OS_TARGET"] == "NetBSD":
-
-    DEFINES["USE_X11"] = "1"
-    DEFINES["WEBRTC_BSD"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
-
-if CONFIG["OS_TARGET"] == "OpenBSD":
+if CONFIG["OS_TARGET"] == "DragonFly":
 
     DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_BSD"] = True
@@ -135,10 +89,50 @@ if CONFIG["OS_TARGET"] == "WINNT":
     DEFINES["_WINDOWS"] = True
     DEFINES["__STD_C"] = True
 
-if CONFIG["CPU_ARCH"] == "aarch64":
+if CONFIG["OS_TARGET"] == "Darwin":
 
-    DEFINES["WEBRTC_ARCH_ARM64"] = True
-    DEFINES["WEBRTC_HAS_NEON"] = True
+    DEFINES["CR_XCODE_VERSION"] = "0920"
+    DEFINES["NO_TCMALLOC"] = True
+    DEFINES["WEBRTC_MAC"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["__ASSERT_MACROS_DEFINE_VERSIONS_WITHOUT_UNDERSCORE"] = "0"
+
+    OS_LIBS += [
+        "-framework Foundation"
+    ]
+
+if CONFIG["OS_TARGET"] == "OpenBSD":
+
+    DEFINES["USE_X11"] = "1"
+    DEFINES["WEBRTC_BSD"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+
+if CONFIG["OS_TARGET"] == "FreeBSD":
+
+    DEFINES["USE_X11"] = "1"
+    DEFINES["WEBRTC_BSD"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+
+if CONFIG["OS_TARGET"] == "Android":
+
+    DEFINES["ANDROID"] = True
+    DEFINES["ANDROID_NDK_VERSION"] = "r12b"
+    DEFINES["DISABLE_NACL"] = True
+    DEFINES["HAVE_SYS_UIO_H"] = True
+    DEFINES["NO_TCMALLOC"] = True
+    DEFINES["USE_OPENSSL_CERTS"] = "1"
+    DEFINES["WEBRTC_ANDROID"] = True
+    DEFINES["WEBRTC_ANDROID_OPENSLES"] = True
+    DEFINES["WEBRTC_LINUX"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+    DEFINES["__GNU_SOURCE"] = "1"
+
+    OS_LIBS += [
+        "log"
+    ]
 
 if CONFIG["CPU_ARCH"] == "arm":
 
@@ -150,15 +144,24 @@ if CONFIG["CPU_ARCH"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Android":
+if CONFIG["CPU_ARCH"] == "ppc64":
 
-    DEFINES["_FORTIFY_SOURCE"] = "2"
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "mips64":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "aarch64":
+
+    DEFINES["WEBRTC_ARCH_ARM64"] = True
+    DEFINES["WEBRTC_HAS_NEON"] = True
 
 if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Darwin":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "DragonFly":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "OpenBSD":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
@@ -166,20 +169,28 @@ if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "FreeBSD":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "NetBSD":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Android":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "OpenBSD":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "DragonFly":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "Android":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "NetBSD":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "NetBSD":
 
     CXXFLAGS += [
         "-msse2"
     ]
 
+if CONFIG["CPU_ARCH"] == "x86_64" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
 if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "FreeBSD":
 
     CXXFLAGS += [
@@ -197,7 +208,7 @@ if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "Linux":
         "-msse2"
     ]
 
-if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "NetBSD":
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "Android":
 
     CXXFLAGS += [
         "-msse2"
@@ -209,4 +220,32 @@ if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "OpenBSD":
         "-msse2"
     ]
 
+if CONFIG["CPU_ARCH"] == "arm" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "aarch64" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "arm" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "aarch64" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["HOST_CPU_ARCH"] == "x86_64" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["HOST_CPU_ARCH"] == "x86" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
 Library("audio_encoder_opus_config_gn")
diff --git a/media/webrtc/trunk/webrtc/api/audio_codecs/opus/audio_encoder_opus_gn/moz.build b/media/webrtc/trunk/webrtc/api/audio_codecs/opus/audio_encoder_opus_gn/moz.build
index 98a361f1033a..8f6625aa5b6e 100644
--- a/media/webrtc/trunk/webrtc/api/audio_codecs/opus/audio_encoder_opus_gn/moz.build
+++ b/media/webrtc/trunk/webrtc/api/audio_codecs/opus/audio_encoder_opus_gn/moz.build
@@ -31,56 +31,18 @@ UNIFIED_SOURCES += [
     "/media/webrtc/trunk/webrtc/api/audio_codecs/opus/audio_encoder_opus.cc"
 ]
 
-if not CONFIG["MOZ_DEBUG"]:
-
-    DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "0"
-    DEFINES["NDEBUG"] = True
-    DEFINES["NVALGRIND"] = True
-
 if CONFIG["MOZ_DEBUG"] == "1":
 
     DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "1"
     DEFINES["WTF_USE_DYNAMIC_ANNOTATIONS"] = "1"
 
-if CONFIG["OS_TARGET"] == "Android":
-
-    DEFINES["ANDROID"] = True
-    DEFINES["ANDROID_NDK_VERSION"] = "r12b"
-    DEFINES["DISABLE_NACL"] = True
-    DEFINES["HAVE_SYS_UIO_H"] = True
-    DEFINES["NO_TCMALLOC"] = True
-    DEFINES["USE_OPENSSL_CERTS"] = "1"
-    DEFINES["WEBRTC_ANDROID"] = True
-    DEFINES["WEBRTC_ANDROID_OPENSLES"] = True
-    DEFINES["WEBRTC_LINUX"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
-    DEFINES["__GNU_SOURCE"] = "1"
-
-    OS_LIBS += [
-        "log"
-    ]
-
-if CONFIG["OS_TARGET"] == "Darwin":
-
-    DEFINES["CR_XCODE_VERSION"] = "0920"
-    DEFINES["NO_TCMALLOC"] = True
-    DEFINES["WEBRTC_MAC"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["__ASSERT_MACROS_DEFINE_VERSIONS_WITHOUT_UNDERSCORE"] = "0"
-
-    OS_LIBS += [
-        "-framework Foundation"
-    ]
-
-if CONFIG["OS_TARGET"] == "DragonFly":
+if not CONFIG["MOZ_DEBUG"]:
 
-    DEFINES["USE_X11"] = "1"
-    DEFINES["WEBRTC_BSD"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
+    DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "0"
+    DEFINES["NDEBUG"] = True
+    DEFINES["NVALGRIND"] = True
 
-if CONFIG["OS_TARGET"] == "FreeBSD":
+if CONFIG["OS_TARGET"] == "NetBSD":
 
     DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_BSD"] = True
@@ -90,7 +52,6 @@ if CONFIG["OS_TARGET"] == "FreeBSD":
 if CONFIG["OS_TARGET"] == "Linux":
 
     DEFINES["USE_NSS_CERTS"] = "1"
-    DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_LINUX"] = True
     DEFINES["WEBRTC_POSIX"] = True
     DEFINES["_FILE_OFFSET_BITS"] = "64"
@@ -99,14 +60,7 @@ if CONFIG["OS_TARGET"] == "Linux":
         "rt"
     ]
 
-if CONFIG["OS_TARGET"] == "NetBSD":
-
-    DEFINES["USE_X11"] = "1"
-    DEFINES["WEBRTC_BSD"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
-
-if CONFIG["OS_TARGET"] == "OpenBSD":
+if CONFIG["OS_TARGET"] == "DragonFly":
 
     DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_BSD"] = True
@@ -142,10 +96,50 @@ if CONFIG["OS_TARGET"] == "WINNT":
         "winmm"
     ]
 
-if CONFIG["CPU_ARCH"] == "aarch64":
+if CONFIG["OS_TARGET"] == "Darwin":
 
-    DEFINES["WEBRTC_ARCH_ARM64"] = True
-    DEFINES["WEBRTC_HAS_NEON"] = True
+    DEFINES["CR_XCODE_VERSION"] = "0920"
+    DEFINES["NO_TCMALLOC"] = True
+    DEFINES["WEBRTC_MAC"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["__ASSERT_MACROS_DEFINE_VERSIONS_WITHOUT_UNDERSCORE"] = "0"
+
+    OS_LIBS += [
+        "-framework Foundation"
+    ]
+
+if CONFIG["OS_TARGET"] == "OpenBSD":
+
+    DEFINES["USE_X11"] = "1"
+    DEFINES["WEBRTC_BSD"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+
+if CONFIG["OS_TARGET"] == "FreeBSD":
+
+    DEFINES["USE_X11"] = "1"
+    DEFINES["WEBRTC_BSD"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+
+if CONFIG["OS_TARGET"] == "Android":
+
+    DEFINES["ANDROID"] = True
+    DEFINES["ANDROID_NDK_VERSION"] = "r12b"
+    DEFINES["DISABLE_NACL"] = True
+    DEFINES["HAVE_SYS_UIO_H"] = True
+    DEFINES["NO_TCMALLOC"] = True
+    DEFINES["USE_OPENSSL_CERTS"] = "1"
+    DEFINES["WEBRTC_ANDROID"] = True
+    DEFINES["WEBRTC_ANDROID_OPENSLES"] = True
+    DEFINES["WEBRTC_LINUX"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+    DEFINES["__GNU_SOURCE"] = "1"
+
+    OS_LIBS += [
+        "log"
+    ]
 
 if CONFIG["CPU_ARCH"] == "arm":
 
@@ -157,15 +151,24 @@ if CONFIG["CPU_ARCH"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Android":
+if CONFIG["CPU_ARCH"] == "ppc64":
 
-    DEFINES["_FORTIFY_SOURCE"] = "2"
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "mips64":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "aarch64":
+
+    DEFINES["WEBRTC_ARCH_ARM64"] = True
+    DEFINES["WEBRTC_HAS_NEON"] = True
 
 if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Darwin":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "DragonFly":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "OpenBSD":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
@@ -173,20 +176,28 @@ if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "FreeBSD":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "NetBSD":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Android":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "OpenBSD":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "DragonFly":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "Android":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "NetBSD":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "NetBSD":
 
     CXXFLAGS += [
         "-msse2"
     ]
 
+if CONFIG["CPU_ARCH"] == "x86_64" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
 if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "FreeBSD":
 
     CXXFLAGS += [
@@ -204,7 +215,7 @@ if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "Linux":
         "-msse2"
     ]
 
-if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "NetBSD":
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "Android":
 
     CXXFLAGS += [
         "-msse2"
@@ -216,4 +227,32 @@ if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "OpenBSD":
         "-msse2"
     ]
 
+if CONFIG["CPU_ARCH"] == "arm" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "aarch64" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "arm" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "aarch64" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["HOST_CPU_ARCH"] == "x86_64" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["HOST_CPU_ARCH"] == "x86" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
 Library("audio_encoder_opus_gn")
diff --git a/media/webrtc/trunk/webrtc/api/audio_mixer_api_gn/moz.build b/media/webrtc/trunk/webrtc/api/audio_mixer_api_gn/moz.build
index 4e6276142f5e..c92c8f302867 100644
--- a/media/webrtc/trunk/webrtc/api/audio_mixer_api_gn/moz.build
+++ b/media/webrtc/trunk/webrtc/api/audio_mixer_api_gn/moz.build
@@ -26,56 +26,18 @@ LOCAL_INCLUDES += [
     "/media/webrtc/trunk/webrtc/"
 ]
 
-if not CONFIG["MOZ_DEBUG"]:
-
-    DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "0"
-    DEFINES["NDEBUG"] = True
-    DEFINES["NVALGRIND"] = True
-
 if CONFIG["MOZ_DEBUG"] == "1":
 
     DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "1"
     DEFINES["WTF_USE_DYNAMIC_ANNOTATIONS"] = "1"
 
-if CONFIG["OS_TARGET"] == "Android":
-
-    DEFINES["ANDROID"] = True
-    DEFINES["ANDROID_NDK_VERSION"] = "r12b"
-    DEFINES["DISABLE_NACL"] = True
-    DEFINES["HAVE_SYS_UIO_H"] = True
-    DEFINES["NO_TCMALLOC"] = True
-    DEFINES["USE_OPENSSL_CERTS"] = "1"
-    DEFINES["WEBRTC_ANDROID"] = True
-    DEFINES["WEBRTC_ANDROID_OPENSLES"] = True
-    DEFINES["WEBRTC_LINUX"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
-    DEFINES["__GNU_SOURCE"] = "1"
-
-    OS_LIBS += [
-        "log"
-    ]
-
-if CONFIG["OS_TARGET"] == "Darwin":
-
-    DEFINES["CR_XCODE_VERSION"] = "0920"
-    DEFINES["NO_TCMALLOC"] = True
-    DEFINES["WEBRTC_MAC"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["__ASSERT_MACROS_DEFINE_VERSIONS_WITHOUT_UNDERSCORE"] = "0"
-
-    OS_LIBS += [
-        "-framework Foundation"
-    ]
-
-if CONFIG["OS_TARGET"] == "DragonFly":
+if not CONFIG["MOZ_DEBUG"]:
 
-    DEFINES["USE_X11"] = "1"
-    DEFINES["WEBRTC_BSD"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
+    DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "0"
+    DEFINES["NDEBUG"] = True
+    DEFINES["NVALGRIND"] = True
 
-if CONFIG["OS_TARGET"] == "FreeBSD":
+if CONFIG["OS_TARGET"] == "NetBSD":
 
     DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_BSD"] = True
@@ -85,7 +47,6 @@ if CONFIG["OS_TARGET"] == "FreeBSD":
 if CONFIG["OS_TARGET"] == "Linux":
 
     DEFINES["USE_NSS_CERTS"] = "1"
-    DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_LINUX"] = True
     DEFINES["WEBRTC_POSIX"] = True
     DEFINES["_FILE_OFFSET_BITS"] = "64"
@@ -94,14 +55,7 @@ if CONFIG["OS_TARGET"] == "Linux":
         "rt"
     ]
 
-if CONFIG["OS_TARGET"] == "NetBSD":
-
-    DEFINES["USE_X11"] = "1"
-    DEFINES["WEBRTC_BSD"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
-
-if CONFIG["OS_TARGET"] == "OpenBSD":
+if CONFIG["OS_TARGET"] == "DragonFly":
 
     DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_BSD"] = True
@@ -137,10 +91,50 @@ if CONFIG["OS_TARGET"] == "WINNT":
         "winmm"
     ]
 
-if CONFIG["CPU_ARCH"] == "aarch64":
+if CONFIG["OS_TARGET"] == "Darwin":
 
-    DEFINES["WEBRTC_ARCH_ARM64"] = True
-    DEFINES["WEBRTC_HAS_NEON"] = True
+    DEFINES["CR_XCODE_VERSION"] = "0920"
+    DEFINES["NO_TCMALLOC"] = True
+    DEFINES["WEBRTC_MAC"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["__ASSERT_MACROS_DEFINE_VERSIONS_WITHOUT_UNDERSCORE"] = "0"
+
+    OS_LIBS += [
+        "-framework Foundation"
+    ]
+
+if CONFIG["OS_TARGET"] == "OpenBSD":
+
+    DEFINES["USE_X11"] = "1"
+    DEFINES["WEBRTC_BSD"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+
+if CONFIG["OS_TARGET"] == "FreeBSD":
+
+    DEFINES["USE_X11"] = "1"
+    DEFINES["WEBRTC_BSD"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+
+if CONFIG["OS_TARGET"] == "Android":
+
+    DEFINES["ANDROID"] = True
+    DEFINES["ANDROID_NDK_VERSION"] = "r12b"
+    DEFINES["DISABLE_NACL"] = True
+    DEFINES["HAVE_SYS_UIO_H"] = True
+    DEFINES["NO_TCMALLOC"] = True
+    DEFINES["USE_OPENSSL_CERTS"] = "1"
+    DEFINES["WEBRTC_ANDROID"] = True
+    DEFINES["WEBRTC_ANDROID_OPENSLES"] = True
+    DEFINES["WEBRTC_LINUX"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+    DEFINES["__GNU_SOURCE"] = "1"
+
+    OS_LIBS += [
+        "log"
+    ]
 
 if CONFIG["CPU_ARCH"] == "arm":
 
@@ -148,15 +142,24 @@ if CONFIG["CPU_ARCH"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Android":
+if CONFIG["CPU_ARCH"] == "ppc64":
 
-    DEFINES["_FORTIFY_SOURCE"] = "2"
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "mips64":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "aarch64":
+
+    DEFINES["WEBRTC_ARCH_ARM64"] = True
+    DEFINES["WEBRTC_HAS_NEON"] = True
 
 if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Darwin":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "DragonFly":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "OpenBSD":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
@@ -164,17 +167,53 @@ if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "FreeBSD":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "NetBSD":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Android":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "OpenBSD":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "DragonFly":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "NetBSD":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
+if CONFIG["CPU_ARCH"] == "x86_64" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
 if CONFIG["CPU_ARCH"] == "aarch64" and CONFIG["OS_TARGET"] == "Linux":
 
     DEFINES["DISABLE_NACL"] = True
     DEFINES["NO_TCMALLOC"] = True
 
+if CONFIG["CPU_ARCH"] == "arm" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "aarch64" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "arm" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "aarch64" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["HOST_CPU_ARCH"] == "x86_64" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["HOST_CPU_ARCH"] == "x86" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
 Library("audio_mixer_api_gn")
diff --git a/media/webrtc/trunk/webrtc/api/base_peerconnection_api_gn/moz.build b/media/webrtc/trunk/webrtc/api/base_peerconnection_api_gn/moz.build
index bae68c011ae9..0c8f34645865 100644
--- a/media/webrtc/trunk/webrtc/api/base_peerconnection_api_gn/moz.build
+++ b/media/webrtc/trunk/webrtc/api/base_peerconnection_api_gn/moz.build
@@ -30,48 +30,18 @@ UNIFIED_SOURCES += [
     "/media/webrtc/trunk/webrtc/api/rtpparameters.cc"
 ]
 
-if not CONFIG["MOZ_DEBUG"]:
-
-    DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "0"
-    DEFINES["NDEBUG"] = True
-    DEFINES["NVALGRIND"] = True
-
 if CONFIG["MOZ_DEBUG"] == "1":
 
     DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "1"
     DEFINES["WTF_USE_DYNAMIC_ANNOTATIONS"] = "1"
 
-if CONFIG["OS_TARGET"] == "Android":
-
-    DEFINES["ANDROID"] = True
-    DEFINES["ANDROID_NDK_VERSION"] = "r12b"
-    DEFINES["DISABLE_NACL"] = True
-    DEFINES["HAVE_SYS_UIO_H"] = True
-    DEFINES["NO_TCMALLOC"] = True
-    DEFINES["USE_OPENSSL_CERTS"] = "1"
-    DEFINES["WEBRTC_ANDROID"] = True
-    DEFINES["WEBRTC_ANDROID_OPENSLES"] = True
-    DEFINES["WEBRTC_LINUX"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
-    DEFINES["__GNU_SOURCE"] = "1"
-
-if CONFIG["OS_TARGET"] == "Darwin":
-
-    DEFINES["CR_XCODE_VERSION"] = "0920"
-    DEFINES["NO_TCMALLOC"] = True
-    DEFINES["WEBRTC_MAC"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["__ASSERT_MACROS_DEFINE_VERSIONS_WITHOUT_UNDERSCORE"] = "0"
-
-if CONFIG["OS_TARGET"] == "DragonFly":
+if not CONFIG["MOZ_DEBUG"]:
 
-    DEFINES["USE_X11"] = "1"
-    DEFINES["WEBRTC_BSD"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
+    DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "0"
+    DEFINES["NDEBUG"] = True
+    DEFINES["NVALGRIND"] = True
 
-if CONFIG["OS_TARGET"] == "FreeBSD":
+if CONFIG["OS_TARGET"] == "NetBSD":
 
     DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_BSD"] = True
@@ -81,19 +51,11 @@ if CONFIG["OS_TARGET"] == "FreeBSD":
 if CONFIG["OS_TARGET"] == "Linux":
 
     DEFINES["USE_NSS_CERTS"] = "1"
-    DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_LINUX"] = True
     DEFINES["WEBRTC_POSIX"] = True
     DEFINES["_FILE_OFFSET_BITS"] = "64"
 
-if CONFIG["OS_TARGET"] == "NetBSD":
-
-    DEFINES["USE_X11"] = "1"
-    DEFINES["WEBRTC_BSD"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
-
-if CONFIG["OS_TARGET"] == "OpenBSD":
+if CONFIG["OS_TARGET"] == "DragonFly":
 
     DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_BSD"] = True
@@ -125,10 +87,42 @@ if CONFIG["OS_TARGET"] == "WINNT":
     DEFINES["_WINDOWS"] = True
     DEFINES["__STD_C"] = True
 
-if CONFIG["CPU_ARCH"] == "aarch64":
+if CONFIG["OS_TARGET"] == "Darwin":
 
-    DEFINES["WEBRTC_ARCH_ARM64"] = True
-    DEFINES["WEBRTC_HAS_NEON"] = True
+    DEFINES["CR_XCODE_VERSION"] = "0920"
+    DEFINES["NO_TCMALLOC"] = True
+    DEFINES["WEBRTC_MAC"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["__ASSERT_MACROS_DEFINE_VERSIONS_WITHOUT_UNDERSCORE"] = "0"
+
+if CONFIG["OS_TARGET"] == "OpenBSD":
+
+    DEFINES["USE_X11"] = "1"
+    DEFINES["WEBRTC_BSD"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+
+if CONFIG["OS_TARGET"] == "FreeBSD":
+
+    DEFINES["USE_X11"] = "1"
+    DEFINES["WEBRTC_BSD"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+
+if CONFIG["OS_TARGET"] == "Android":
+
+    DEFINES["ANDROID"] = True
+    DEFINES["ANDROID_NDK_VERSION"] = "r12b"
+    DEFINES["DISABLE_NACL"] = True
+    DEFINES["HAVE_SYS_UIO_H"] = True
+    DEFINES["NO_TCMALLOC"] = True
+    DEFINES["USE_OPENSSL_CERTS"] = "1"
+    DEFINES["WEBRTC_ANDROID"] = True
+    DEFINES["WEBRTC_ANDROID_OPENSLES"] = True
+    DEFINES["WEBRTC_LINUX"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+    DEFINES["__GNU_SOURCE"] = "1"
 
 if CONFIG["CPU_ARCH"] == "arm":
 
@@ -140,15 +134,24 @@ if CONFIG["CPU_ARCH"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Android":
+if CONFIG["CPU_ARCH"] == "ppc64":
 
-    DEFINES["_FORTIFY_SOURCE"] = "2"
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "mips64":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "aarch64":
+
+    DEFINES["WEBRTC_ARCH_ARM64"] = True
+    DEFINES["WEBRTC_HAS_NEON"] = True
 
 if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Darwin":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "DragonFly":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "OpenBSD":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
@@ -156,20 +159,28 @@ if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "FreeBSD":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "NetBSD":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Android":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "OpenBSD":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "DragonFly":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "Android":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "NetBSD":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "NetBSD":
 
     CXXFLAGS += [
         "-msse2"
     ]
 
+if CONFIG["CPU_ARCH"] == "x86_64" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
 if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "FreeBSD":
 
     CXXFLAGS += [
@@ -187,7 +198,7 @@ if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "Linux":
         "-msse2"
     ]
 
-if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "NetBSD":
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "Android":
 
     CXXFLAGS += [
         "-msse2"
@@ -199,4 +210,32 @@ if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "OpenBSD":
         "-msse2"
     ]
 
+if CONFIG["CPU_ARCH"] == "arm" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "aarch64" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "arm" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "aarch64" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["HOST_CPU_ARCH"] == "x86_64" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["HOST_CPU_ARCH"] == "x86" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
 Library("base_peerconnection_api_gn")
diff --git a/media/webrtc/trunk/webrtc/api/call_api_gn/moz.build b/media/webrtc/trunk/webrtc/api/call_api_gn/moz.build
index 4b62863ba248..5b5316c31105 100644
--- a/media/webrtc/trunk/webrtc/api/call_api_gn/moz.build
+++ b/media/webrtc/trunk/webrtc/api/call_api_gn/moz.build
@@ -26,56 +26,18 @@ LOCAL_INCLUDES += [
     "/media/webrtc/trunk/webrtc/"
 ]
 
-if not CONFIG["MOZ_DEBUG"]:
-
-    DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "0"
-    DEFINES["NDEBUG"] = True
-    DEFINES["NVALGRIND"] = True
-
 if CONFIG["MOZ_DEBUG"] == "1":
 
     DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "1"
     DEFINES["WTF_USE_DYNAMIC_ANNOTATIONS"] = "1"
 
-if CONFIG["OS_TARGET"] == "Android":
-
-    DEFINES["ANDROID"] = True
-    DEFINES["ANDROID_NDK_VERSION"] = "r12b"
-    DEFINES["DISABLE_NACL"] = True
-    DEFINES["HAVE_SYS_UIO_H"] = True
-    DEFINES["NO_TCMALLOC"] = True
-    DEFINES["USE_OPENSSL_CERTS"] = "1"
-    DEFINES["WEBRTC_ANDROID"] = True
-    DEFINES["WEBRTC_ANDROID_OPENSLES"] = True
-    DEFINES["WEBRTC_LINUX"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
-    DEFINES["__GNU_SOURCE"] = "1"
-
-    OS_LIBS += [
-        "log"
-    ]
-
-if CONFIG["OS_TARGET"] == "Darwin":
-
-    DEFINES["CR_XCODE_VERSION"] = "0920"
-    DEFINES["NO_TCMALLOC"] = True
-    DEFINES["WEBRTC_MAC"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["__ASSERT_MACROS_DEFINE_VERSIONS_WITHOUT_UNDERSCORE"] = "0"
-
-    OS_LIBS += [
-        "-framework Foundation"
-    ]
-
-if CONFIG["OS_TARGET"] == "DragonFly":
+if not CONFIG["MOZ_DEBUG"]:
 
-    DEFINES["USE_X11"] = "1"
-    DEFINES["WEBRTC_BSD"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
+    DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "0"
+    DEFINES["NDEBUG"] = True
+    DEFINES["NVALGRIND"] = True
 
-if CONFIG["OS_TARGET"] == "FreeBSD":
+if CONFIG["OS_TARGET"] == "NetBSD":
 
     DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_BSD"] = True
@@ -85,7 +47,6 @@ if CONFIG["OS_TARGET"] == "FreeBSD":
 if CONFIG["OS_TARGET"] == "Linux":
 
     DEFINES["USE_NSS_CERTS"] = "1"
-    DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_LINUX"] = True
     DEFINES["WEBRTC_POSIX"] = True
     DEFINES["_FILE_OFFSET_BITS"] = "64"
@@ -94,14 +55,7 @@ if CONFIG["OS_TARGET"] == "Linux":
         "rt"
     ]
 
-if CONFIG["OS_TARGET"] == "NetBSD":
-
-    DEFINES["USE_X11"] = "1"
-    DEFINES["WEBRTC_BSD"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
-
-if CONFIG["OS_TARGET"] == "OpenBSD":
+if CONFIG["OS_TARGET"] == "DragonFly":
 
     DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_BSD"] = True
@@ -137,10 +91,50 @@ if CONFIG["OS_TARGET"] == "WINNT":
         "winmm"
     ]
 
-if CONFIG["CPU_ARCH"] == "aarch64":
+if CONFIG["OS_TARGET"] == "Darwin":
 
-    DEFINES["WEBRTC_ARCH_ARM64"] = True
-    DEFINES["WEBRTC_HAS_NEON"] = True
+    DEFINES["CR_XCODE_VERSION"] = "0920"
+    DEFINES["NO_TCMALLOC"] = True
+    DEFINES["WEBRTC_MAC"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["__ASSERT_MACROS_DEFINE_VERSIONS_WITHOUT_UNDERSCORE"] = "0"
+
+    OS_LIBS += [
+        "-framework Foundation"
+    ]
+
+if CONFIG["OS_TARGET"] == "OpenBSD":
+
+    DEFINES["USE_X11"] = "1"
+    DEFINES["WEBRTC_BSD"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+
+if CONFIG["OS_TARGET"] == "FreeBSD":
+
+    DEFINES["USE_X11"] = "1"
+    DEFINES["WEBRTC_BSD"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+
+if CONFIG["OS_TARGET"] == "Android":
+
+    DEFINES["ANDROID"] = True
+    DEFINES["ANDROID_NDK_VERSION"] = "r12b"
+    DEFINES["DISABLE_NACL"] = True
+    DEFINES["HAVE_SYS_UIO_H"] = True
+    DEFINES["NO_TCMALLOC"] = True
+    DEFINES["USE_OPENSSL_CERTS"] = "1"
+    DEFINES["WEBRTC_ANDROID"] = True
+    DEFINES["WEBRTC_ANDROID_OPENSLES"] = True
+    DEFINES["WEBRTC_LINUX"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+    DEFINES["__GNU_SOURCE"] = "1"
+
+    OS_LIBS += [
+        "log"
+    ]
 
 if CONFIG["CPU_ARCH"] == "arm":
 
@@ -148,15 +142,24 @@ if CONFIG["CPU_ARCH"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Android":
+if CONFIG["CPU_ARCH"] == "ppc64":
 
-    DEFINES["_FORTIFY_SOURCE"] = "2"
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "mips64":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "aarch64":
+
+    DEFINES["WEBRTC_ARCH_ARM64"] = True
+    DEFINES["WEBRTC_HAS_NEON"] = True
 
 if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Darwin":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "DragonFly":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "OpenBSD":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
@@ -164,17 +167,53 @@ if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "FreeBSD":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "NetBSD":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Android":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "OpenBSD":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "DragonFly":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "NetBSD":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
+if CONFIG["CPU_ARCH"] == "x86_64" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
 if CONFIG["CPU_ARCH"] == "aarch64" and CONFIG["OS_TARGET"] == "Linux":
 
     DEFINES["DISABLE_NACL"] = True
     DEFINES["NO_TCMALLOC"] = True
 
+if CONFIG["CPU_ARCH"] == "arm" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "aarch64" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "arm" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "aarch64" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["HOST_CPU_ARCH"] == "x86_64" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["HOST_CPU_ARCH"] == "x86" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
 Library("call_api_gn")
diff --git a/media/webrtc/trunk/webrtc/api/optional_gn/moz.build b/media/webrtc/trunk/webrtc/api/optional_gn/moz.build
index f04a0deabe37..44416e85bdb1 100644
--- a/media/webrtc/trunk/webrtc/api/optional_gn/moz.build
+++ b/media/webrtc/trunk/webrtc/api/optional_gn/moz.build
@@ -30,56 +30,18 @@ UNIFIED_SOURCES += [
     "/media/webrtc/trunk/webrtc/api/optional.cc"
 ]
 
-if not CONFIG["MOZ_DEBUG"]:
-
-    DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "0"
-    DEFINES["NDEBUG"] = True
-    DEFINES["NVALGRIND"] = True
-
 if CONFIG["MOZ_DEBUG"] == "1":
 
     DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "1"
     DEFINES["WTF_USE_DYNAMIC_ANNOTATIONS"] = "1"
 
-if CONFIG["OS_TARGET"] == "Android":
-
-    DEFINES["ANDROID"] = True
-    DEFINES["ANDROID_NDK_VERSION"] = "r12b"
-    DEFINES["DISABLE_NACL"] = True
-    DEFINES["HAVE_SYS_UIO_H"] = True
-    DEFINES["NO_TCMALLOC"] = True
-    DEFINES["USE_OPENSSL_CERTS"] = "1"
-    DEFINES["WEBRTC_ANDROID"] = True
-    DEFINES["WEBRTC_ANDROID_OPENSLES"] = True
-    DEFINES["WEBRTC_LINUX"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
-    DEFINES["__GNU_SOURCE"] = "1"
-
-    OS_LIBS += [
-        "log"
-    ]
-
-if CONFIG["OS_TARGET"] == "Darwin":
-
-    DEFINES["CR_XCODE_VERSION"] = "0920"
-    DEFINES["NO_TCMALLOC"] = True
-    DEFINES["WEBRTC_MAC"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["__ASSERT_MACROS_DEFINE_VERSIONS_WITHOUT_UNDERSCORE"] = "0"
-
-    OS_LIBS += [
-        "-framework Foundation"
-    ]
-
-if CONFIG["OS_TARGET"] == "DragonFly":
+if not CONFIG["MOZ_DEBUG"]:
 
-    DEFINES["USE_X11"] = "1"
-    DEFINES["WEBRTC_BSD"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
+    DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "0"
+    DEFINES["NDEBUG"] = True
+    DEFINES["NVALGRIND"] = True
 
-if CONFIG["OS_TARGET"] == "FreeBSD":
+if CONFIG["OS_TARGET"] == "NetBSD":
 
     DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_BSD"] = True
@@ -89,19 +51,11 @@ if CONFIG["OS_TARGET"] == "FreeBSD":
 if CONFIG["OS_TARGET"] == "Linux":
 
     DEFINES["USE_NSS_CERTS"] = "1"
-    DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_LINUX"] = True
     DEFINES["WEBRTC_POSIX"] = True
     DEFINES["_FILE_OFFSET_BITS"] = "64"
 
-if CONFIG["OS_TARGET"] == "NetBSD":
-
-    DEFINES["USE_X11"] = "1"
-    DEFINES["WEBRTC_BSD"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
-
-if CONFIG["OS_TARGET"] == "OpenBSD":
+if CONFIG["OS_TARGET"] == "DragonFly":
 
     DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_BSD"] = True
@@ -133,10 +87,50 @@ if CONFIG["OS_TARGET"] == "WINNT":
     DEFINES["_WINDOWS"] = True
     DEFINES["__STD_C"] = True
 
-if CONFIG["CPU_ARCH"] == "aarch64":
+if CONFIG["OS_TARGET"] == "Darwin":
 
-    DEFINES["WEBRTC_ARCH_ARM64"] = True
-    DEFINES["WEBRTC_HAS_NEON"] = True
+    DEFINES["CR_XCODE_VERSION"] = "0920"
+    DEFINES["NO_TCMALLOC"] = True
+    DEFINES["WEBRTC_MAC"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["__ASSERT_MACROS_DEFINE_VERSIONS_WITHOUT_UNDERSCORE"] = "0"
+
+    OS_LIBS += [
+        "-framework Foundation"
+    ]
+
+if CONFIG["OS_TARGET"] == "OpenBSD":
+
+    DEFINES["USE_X11"] = "1"
+    DEFINES["WEBRTC_BSD"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+
+if CONFIG["OS_TARGET"] == "FreeBSD":
+
+    DEFINES["USE_X11"] = "1"
+    DEFINES["WEBRTC_BSD"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+
+if CONFIG["OS_TARGET"] == "Android":
+
+    DEFINES["ANDROID"] = True
+    DEFINES["ANDROID_NDK_VERSION"] = "r12b"
+    DEFINES["DISABLE_NACL"] = True
+    DEFINES["HAVE_SYS_UIO_H"] = True
+    DEFINES["NO_TCMALLOC"] = True
+    DEFINES["USE_OPENSSL_CERTS"] = "1"
+    DEFINES["WEBRTC_ANDROID"] = True
+    DEFINES["WEBRTC_ANDROID_OPENSLES"] = True
+    DEFINES["WEBRTC_LINUX"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+    DEFINES["__GNU_SOURCE"] = "1"
+
+    OS_LIBS += [
+        "log"
+    ]
 
 if CONFIG["CPU_ARCH"] == "arm":
 
@@ -148,15 +142,24 @@ if CONFIG["CPU_ARCH"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Android":
+if CONFIG["CPU_ARCH"] == "ppc64":
 
-    DEFINES["_FORTIFY_SOURCE"] = "2"
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "mips64":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "aarch64":
+
+    DEFINES["WEBRTC_ARCH_ARM64"] = True
+    DEFINES["WEBRTC_HAS_NEON"] = True
 
 if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Darwin":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "DragonFly":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "OpenBSD":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
@@ -164,20 +167,28 @@ if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "FreeBSD":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "NetBSD":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Android":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "OpenBSD":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "DragonFly":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "Android":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "NetBSD":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "NetBSD":
 
     CXXFLAGS += [
         "-msse2"
     ]
 
+if CONFIG["CPU_ARCH"] == "x86_64" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
 if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "FreeBSD":
 
     CXXFLAGS += [
@@ -195,7 +206,7 @@ if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "Linux":
         "-msse2"
     ]
 
-if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "NetBSD":
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "Android":
 
     CXXFLAGS += [
         "-msse2"
@@ -207,4 +218,32 @@ if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "OpenBSD":
         "-msse2"
     ]
 
+if CONFIG["CPU_ARCH"] == "arm" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "aarch64" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "arm" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "aarch64" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["HOST_CPU_ARCH"] == "x86_64" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["HOST_CPU_ARCH"] == "x86" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
 Library("optional_gn")
diff --git a/media/webrtc/trunk/webrtc/api/refcountedbase_gn/moz.build b/media/webrtc/trunk/webrtc/api/refcountedbase_gn/moz.build
index 67f28462b143..4d72f25d9439 100644
--- a/media/webrtc/trunk/webrtc/api/refcountedbase_gn/moz.build
+++ b/media/webrtc/trunk/webrtc/api/refcountedbase_gn/moz.build
@@ -26,56 +26,18 @@ LOCAL_INCLUDES += [
     "/media/webrtc/trunk/webrtc/"
 ]
 
-if not CONFIG["MOZ_DEBUG"]:
-
-    DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "0"
-    DEFINES["NDEBUG"] = True
-    DEFINES["NVALGRIND"] = True
-
 if CONFIG["MOZ_DEBUG"] == "1":
 
     DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "1"
     DEFINES["WTF_USE_DYNAMIC_ANNOTATIONS"] = "1"
 
-if CONFIG["OS_TARGET"] == "Android":
-
-    DEFINES["ANDROID"] = True
-    DEFINES["ANDROID_NDK_VERSION"] = "r12b"
-    DEFINES["DISABLE_NACL"] = True
-    DEFINES["HAVE_SYS_UIO_H"] = True
-    DEFINES["NO_TCMALLOC"] = True
-    DEFINES["USE_OPENSSL_CERTS"] = "1"
-    DEFINES["WEBRTC_ANDROID"] = True
-    DEFINES["WEBRTC_ANDROID_OPENSLES"] = True
-    DEFINES["WEBRTC_LINUX"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
-    DEFINES["__GNU_SOURCE"] = "1"
-
-    OS_LIBS += [
-        "log"
-    ]
-
-if CONFIG["OS_TARGET"] == "Darwin":
-
-    DEFINES["CR_XCODE_VERSION"] = "0920"
-    DEFINES["NO_TCMALLOC"] = True
-    DEFINES["WEBRTC_MAC"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["__ASSERT_MACROS_DEFINE_VERSIONS_WITHOUT_UNDERSCORE"] = "0"
-
-    OS_LIBS += [
-        "-framework Foundation"
-    ]
-
-if CONFIG["OS_TARGET"] == "DragonFly":
+if not CONFIG["MOZ_DEBUG"]:
 
-    DEFINES["USE_X11"] = "1"
-    DEFINES["WEBRTC_BSD"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
+    DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "0"
+    DEFINES["NDEBUG"] = True
+    DEFINES["NVALGRIND"] = True
 
-if CONFIG["OS_TARGET"] == "FreeBSD":
+if CONFIG["OS_TARGET"] == "NetBSD":
 
     DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_BSD"] = True
@@ -85,19 +47,11 @@ if CONFIG["OS_TARGET"] == "FreeBSD":
 if CONFIG["OS_TARGET"] == "Linux":
 
     DEFINES["USE_NSS_CERTS"] = "1"
-    DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_LINUX"] = True
     DEFINES["WEBRTC_POSIX"] = True
     DEFINES["_FILE_OFFSET_BITS"] = "64"
 
-if CONFIG["OS_TARGET"] == "NetBSD":
-
-    DEFINES["USE_X11"] = "1"
-    DEFINES["WEBRTC_BSD"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
-
-if CONFIG["OS_TARGET"] == "OpenBSD":
+if CONFIG["OS_TARGET"] == "DragonFly":
 
     DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_BSD"] = True
@@ -129,10 +83,50 @@ if CONFIG["OS_TARGET"] == "WINNT":
     DEFINES["_WINDOWS"] = True
     DEFINES["__STD_C"] = True
 
-if CONFIG["CPU_ARCH"] == "aarch64":
+if CONFIG["OS_TARGET"] == "Darwin":
 
-    DEFINES["WEBRTC_ARCH_ARM64"] = True
-    DEFINES["WEBRTC_HAS_NEON"] = True
+    DEFINES["CR_XCODE_VERSION"] = "0920"
+    DEFINES["NO_TCMALLOC"] = True
+    DEFINES["WEBRTC_MAC"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["__ASSERT_MACROS_DEFINE_VERSIONS_WITHOUT_UNDERSCORE"] = "0"
+
+    OS_LIBS += [
+        "-framework Foundation"
+    ]
+
+if CONFIG["OS_TARGET"] == "OpenBSD":
+
+    DEFINES["USE_X11"] = "1"
+    DEFINES["WEBRTC_BSD"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+
+if CONFIG["OS_TARGET"] == "FreeBSD":
+
+    DEFINES["USE_X11"] = "1"
+    DEFINES["WEBRTC_BSD"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+
+if CONFIG["OS_TARGET"] == "Android":
+
+    DEFINES["ANDROID"] = True
+    DEFINES["ANDROID_NDK_VERSION"] = "r12b"
+    DEFINES["DISABLE_NACL"] = True
+    DEFINES["HAVE_SYS_UIO_H"] = True
+    DEFINES["NO_TCMALLOC"] = True
+    DEFINES["USE_OPENSSL_CERTS"] = "1"
+    DEFINES["WEBRTC_ANDROID"] = True
+    DEFINES["WEBRTC_ANDROID_OPENSLES"] = True
+    DEFINES["WEBRTC_LINUX"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+    DEFINES["__GNU_SOURCE"] = "1"
+
+    OS_LIBS += [
+        "log"
+    ]
 
 if CONFIG["CPU_ARCH"] == "arm":
 
@@ -140,15 +134,24 @@ if CONFIG["CPU_ARCH"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Android":
+if CONFIG["CPU_ARCH"] == "ppc64":
 
-    DEFINES["_FORTIFY_SOURCE"] = "2"
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "mips64":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "aarch64":
+
+    DEFINES["WEBRTC_ARCH_ARM64"] = True
+    DEFINES["WEBRTC_HAS_NEON"] = True
 
 if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Darwin":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "DragonFly":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "OpenBSD":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
@@ -156,17 +159,53 @@ if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "FreeBSD":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "NetBSD":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Android":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "OpenBSD":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "DragonFly":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "NetBSD":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
+if CONFIG["CPU_ARCH"] == "x86_64" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
 if CONFIG["CPU_ARCH"] == "aarch64" and CONFIG["OS_TARGET"] == "Linux":
 
     DEFINES["DISABLE_NACL"] = True
     DEFINES["NO_TCMALLOC"] = True
 
+if CONFIG["CPU_ARCH"] == "arm" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "aarch64" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "arm" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "aarch64" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["HOST_CPU_ARCH"] == "x86_64" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["HOST_CPU_ARCH"] == "x86" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
 Library("refcountedbase_gn")
diff --git a/media/webrtc/trunk/webrtc/api/transport_api_gn/moz.build b/media/webrtc/trunk/webrtc/api/transport_api_gn/moz.build
index 74450066f2f6..95d6bee92870 100644
--- a/media/webrtc/trunk/webrtc/api/transport_api_gn/moz.build
+++ b/media/webrtc/trunk/webrtc/api/transport_api_gn/moz.build
@@ -26,48 +26,18 @@ LOCAL_INCLUDES += [
     "/media/webrtc/trunk/webrtc/"
 ]
 
-if not CONFIG["MOZ_DEBUG"]:
-
-    DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "0"
-    DEFINES["NDEBUG"] = True
-    DEFINES["NVALGRIND"] = True
-
 if CONFIG["MOZ_DEBUG"] == "1":
 
     DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "1"
     DEFINES["WTF_USE_DYNAMIC_ANNOTATIONS"] = "1"
 
-if CONFIG["OS_TARGET"] == "Android":
-
-    DEFINES["ANDROID"] = True
-    DEFINES["ANDROID_NDK_VERSION"] = "r12b"
-    DEFINES["DISABLE_NACL"] = True
-    DEFINES["HAVE_SYS_UIO_H"] = True
-    DEFINES["NO_TCMALLOC"] = True
-    DEFINES["USE_OPENSSL_CERTS"] = "1"
-    DEFINES["WEBRTC_ANDROID"] = True
-    DEFINES["WEBRTC_ANDROID_OPENSLES"] = True
-    DEFINES["WEBRTC_LINUX"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
-    DEFINES["__GNU_SOURCE"] = "1"
-
-if CONFIG["OS_TARGET"] == "Darwin":
-
-    DEFINES["CR_XCODE_VERSION"] = "0920"
-    DEFINES["NO_TCMALLOC"] = True
-    DEFINES["WEBRTC_MAC"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["__ASSERT_MACROS_DEFINE_VERSIONS_WITHOUT_UNDERSCORE"] = "0"
-
-if CONFIG["OS_TARGET"] == "DragonFly":
+if not CONFIG["MOZ_DEBUG"]:
 
-    DEFINES["USE_X11"] = "1"
-    DEFINES["WEBRTC_BSD"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
+    DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "0"
+    DEFINES["NDEBUG"] = True
+    DEFINES["NVALGRIND"] = True
 
-if CONFIG["OS_TARGET"] == "FreeBSD":
+if CONFIG["OS_TARGET"] == "NetBSD":
 
     DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_BSD"] = True
@@ -77,19 +47,11 @@ if CONFIG["OS_TARGET"] == "FreeBSD":
 if CONFIG["OS_TARGET"] == "Linux":
 
     DEFINES["USE_NSS_CERTS"] = "1"
-    DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_LINUX"] = True
     DEFINES["WEBRTC_POSIX"] = True
     DEFINES["_FILE_OFFSET_BITS"] = "64"
 
-if CONFIG["OS_TARGET"] == "NetBSD":
-
-    DEFINES["USE_X11"] = "1"
-    DEFINES["WEBRTC_BSD"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
-
-if CONFIG["OS_TARGET"] == "OpenBSD":
+if CONFIG["OS_TARGET"] == "DragonFly":
 
     DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_BSD"] = True
@@ -121,10 +83,42 @@ if CONFIG["OS_TARGET"] == "WINNT":
     DEFINES["_WINDOWS"] = True
     DEFINES["__STD_C"] = True
 
-if CONFIG["CPU_ARCH"] == "aarch64":
+if CONFIG["OS_TARGET"] == "Darwin":
 
-    DEFINES["WEBRTC_ARCH_ARM64"] = True
-    DEFINES["WEBRTC_HAS_NEON"] = True
+    DEFINES["CR_XCODE_VERSION"] = "0920"
+    DEFINES["NO_TCMALLOC"] = True
+    DEFINES["WEBRTC_MAC"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["__ASSERT_MACROS_DEFINE_VERSIONS_WITHOUT_UNDERSCORE"] = "0"
+
+if CONFIG["OS_TARGET"] == "OpenBSD":
+
+    DEFINES["USE_X11"] = "1"
+    DEFINES["WEBRTC_BSD"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+
+if CONFIG["OS_TARGET"] == "FreeBSD":
+
+    DEFINES["USE_X11"] = "1"
+    DEFINES["WEBRTC_BSD"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+
+if CONFIG["OS_TARGET"] == "Android":
+
+    DEFINES["ANDROID"] = True
+    DEFINES["ANDROID_NDK_VERSION"] = "r12b"
+    DEFINES["DISABLE_NACL"] = True
+    DEFINES["HAVE_SYS_UIO_H"] = True
+    DEFINES["NO_TCMALLOC"] = True
+    DEFINES["USE_OPENSSL_CERTS"] = "1"
+    DEFINES["WEBRTC_ANDROID"] = True
+    DEFINES["WEBRTC_ANDROID_OPENSLES"] = True
+    DEFINES["WEBRTC_LINUX"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+    DEFINES["__GNU_SOURCE"] = "1"
 
 if CONFIG["CPU_ARCH"] == "arm":
 
@@ -132,15 +126,24 @@ if CONFIG["CPU_ARCH"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Android":
+if CONFIG["CPU_ARCH"] == "ppc64":
 
-    DEFINES["_FORTIFY_SOURCE"] = "2"
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "mips64":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "aarch64":
+
+    DEFINES["WEBRTC_ARCH_ARM64"] = True
+    DEFINES["WEBRTC_HAS_NEON"] = True
 
 if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Darwin":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "DragonFly":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "OpenBSD":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
@@ -148,17 +151,53 @@ if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "FreeBSD":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "NetBSD":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Android":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "OpenBSD":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "DragonFly":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "NetBSD":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
+if CONFIG["CPU_ARCH"] == "x86_64" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
 if CONFIG["CPU_ARCH"] == "aarch64" and CONFIG["OS_TARGET"] == "Linux":
 
     DEFINES["DISABLE_NACL"] = True
     DEFINES["NO_TCMALLOC"] = True
 
+if CONFIG["CPU_ARCH"] == "arm" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "aarch64" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "arm" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "aarch64" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["HOST_CPU_ARCH"] == "x86_64" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["HOST_CPU_ARCH"] == "x86" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
 Library("transport_api_gn")
diff --git a/media/webrtc/trunk/webrtc/api/video_codecs/video_codecs_api_gn/moz.build b/media/webrtc/trunk/webrtc/api/video_codecs/video_codecs_api_gn/moz.build
index a8c011a61e88..774b514ec22e 100644
--- a/media/webrtc/trunk/webrtc/api/video_codecs/video_codecs_api_gn/moz.build
+++ b/media/webrtc/trunk/webrtc/api/video_codecs/video_codecs_api_gn/moz.build
@@ -32,56 +32,18 @@ UNIFIED_SOURCES += [
     "/media/webrtc/trunk/webrtc/api/video_codecs/video_encoder.cc"
 ]
 
-if not CONFIG["MOZ_DEBUG"]:
-
-    DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "0"
-    DEFINES["NDEBUG"] = True
-    DEFINES["NVALGRIND"] = True
-
 if CONFIG["MOZ_DEBUG"] == "1":
 
     DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "1"
     DEFINES["WTF_USE_DYNAMIC_ANNOTATIONS"] = "1"
 
-if CONFIG["OS_TARGET"] == "Android":
-
-    DEFINES["ANDROID"] = True
-    DEFINES["ANDROID_NDK_VERSION"] = "r12b"
-    DEFINES["DISABLE_NACL"] = True
-    DEFINES["HAVE_SYS_UIO_H"] = True
-    DEFINES["NO_TCMALLOC"] = True
-    DEFINES["USE_OPENSSL_CERTS"] = "1"
-    DEFINES["WEBRTC_ANDROID"] = True
-    DEFINES["WEBRTC_ANDROID_OPENSLES"] = True
-    DEFINES["WEBRTC_LINUX"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
-    DEFINES["__GNU_SOURCE"] = "1"
-
-    OS_LIBS += [
-        "log"
-    ]
-
-if CONFIG["OS_TARGET"] == "Darwin":
-
-    DEFINES["CR_XCODE_VERSION"] = "0920"
-    DEFINES["NO_TCMALLOC"] = True
-    DEFINES["WEBRTC_MAC"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["__ASSERT_MACROS_DEFINE_VERSIONS_WITHOUT_UNDERSCORE"] = "0"
-
-    OS_LIBS += [
-        "-framework Foundation"
-    ]
-
-if CONFIG["OS_TARGET"] == "DragonFly":
+if not CONFIG["MOZ_DEBUG"]:
 
-    DEFINES["USE_X11"] = "1"
-    DEFINES["WEBRTC_BSD"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
+    DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "0"
+    DEFINES["NDEBUG"] = True
+    DEFINES["NVALGRIND"] = True
 
-if CONFIG["OS_TARGET"] == "FreeBSD":
+if CONFIG["OS_TARGET"] == "NetBSD":
 
     DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_BSD"] = True
@@ -91,7 +53,6 @@ if CONFIG["OS_TARGET"] == "FreeBSD":
 if CONFIG["OS_TARGET"] == "Linux":
 
     DEFINES["USE_NSS_CERTS"] = "1"
-    DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_LINUX"] = True
     DEFINES["WEBRTC_POSIX"] = True
     DEFINES["_FILE_OFFSET_BITS"] = "64"
@@ -100,14 +61,7 @@ if CONFIG["OS_TARGET"] == "Linux":
         "rt"
     ]
 
-if CONFIG["OS_TARGET"] == "NetBSD":
-
-    DEFINES["USE_X11"] = "1"
-    DEFINES["WEBRTC_BSD"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
-
-if CONFIG["OS_TARGET"] == "OpenBSD":
+if CONFIG["OS_TARGET"] == "DragonFly":
 
     DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_BSD"] = True
@@ -143,10 +97,50 @@ if CONFIG["OS_TARGET"] == "WINNT":
         "winmm"
     ]
 
-if CONFIG["CPU_ARCH"] == "aarch64":
+if CONFIG["OS_TARGET"] == "Darwin":
 
-    DEFINES["WEBRTC_ARCH_ARM64"] = True
-    DEFINES["WEBRTC_HAS_NEON"] = True
+    DEFINES["CR_XCODE_VERSION"] = "0920"
+    DEFINES["NO_TCMALLOC"] = True
+    DEFINES["WEBRTC_MAC"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["__ASSERT_MACROS_DEFINE_VERSIONS_WITHOUT_UNDERSCORE"] = "0"
+
+    OS_LIBS += [
+        "-framework Foundation"
+    ]
+
+if CONFIG["OS_TARGET"] == "OpenBSD":
+
+    DEFINES["USE_X11"] = "1"
+    DEFINES["WEBRTC_BSD"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+
+if CONFIG["OS_TARGET"] == "FreeBSD":
+
+    DEFINES["USE_X11"] = "1"
+    DEFINES["WEBRTC_BSD"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+
+if CONFIG["OS_TARGET"] == "Android":
+
+    DEFINES["ANDROID"] = True
+    DEFINES["ANDROID_NDK_VERSION"] = "r12b"
+    DEFINES["DISABLE_NACL"] = True
+    DEFINES["HAVE_SYS_UIO_H"] = True
+    DEFINES["NO_TCMALLOC"] = True
+    DEFINES["USE_OPENSSL_CERTS"] = "1"
+    DEFINES["WEBRTC_ANDROID"] = True
+    DEFINES["WEBRTC_ANDROID_OPENSLES"] = True
+    DEFINES["WEBRTC_LINUX"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+    DEFINES["__GNU_SOURCE"] = "1"
+
+    OS_LIBS += [
+        "log"
+    ]
 
 if CONFIG["CPU_ARCH"] == "arm":
 
@@ -158,15 +152,24 @@ if CONFIG["CPU_ARCH"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Android":
+if CONFIG["CPU_ARCH"] == "ppc64":
 
-    DEFINES["_FORTIFY_SOURCE"] = "2"
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "mips64":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "aarch64":
+
+    DEFINES["WEBRTC_ARCH_ARM64"] = True
+    DEFINES["WEBRTC_HAS_NEON"] = True
 
 if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Darwin":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "DragonFly":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "OpenBSD":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
@@ -174,20 +177,28 @@ if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "FreeBSD":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "NetBSD":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Android":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "OpenBSD":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "DragonFly":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "Android":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "NetBSD":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "NetBSD":
 
     CXXFLAGS += [
         "-msse2"
     ]
 
+if CONFIG["CPU_ARCH"] == "x86_64" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
 if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "FreeBSD":
 
     CXXFLAGS += [
@@ -205,7 +216,7 @@ if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "Linux":
         "-msse2"
     ]
 
-if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "NetBSD":
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "Android":
 
     CXXFLAGS += [
         "-msse2"
@@ -217,4 +228,32 @@ if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "OpenBSD":
         "-msse2"
     ]
 
+if CONFIG["CPU_ARCH"] == "arm" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "aarch64" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "arm" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "aarch64" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["HOST_CPU_ARCH"] == "x86_64" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["HOST_CPU_ARCH"] == "x86" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
 Library("video_codecs_api_gn")
diff --git a/media/webrtc/trunk/webrtc/api/video_frame_api_gn/moz.build b/media/webrtc/trunk/webrtc/api/video_frame_api_gn/moz.build
index f0713ba13f08..a9c026345699 100644
--- a/media/webrtc/trunk/webrtc/api/video_frame_api_gn/moz.build
+++ b/media/webrtc/trunk/webrtc/api/video_frame_api_gn/moz.build
@@ -34,56 +34,18 @@ UNIFIED_SOURCES += [
     "/media/webrtc/trunk/webrtc/api/video/video_timing.cc"
 ]
 
-if not CONFIG["MOZ_DEBUG"]:
-
-    DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "0"
-    DEFINES["NDEBUG"] = True
-    DEFINES["NVALGRIND"] = True
-
 if CONFIG["MOZ_DEBUG"] == "1":
 
     DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "1"
     DEFINES["WTF_USE_DYNAMIC_ANNOTATIONS"] = "1"
 
-if CONFIG["OS_TARGET"] == "Android":
-
-    DEFINES["ANDROID"] = True
-    DEFINES["ANDROID_NDK_VERSION"] = "r12b"
-    DEFINES["DISABLE_NACL"] = True
-    DEFINES["HAVE_SYS_UIO_H"] = True
-    DEFINES["NO_TCMALLOC"] = True
-    DEFINES["USE_OPENSSL_CERTS"] = "1"
-    DEFINES["WEBRTC_ANDROID"] = True
-    DEFINES["WEBRTC_ANDROID_OPENSLES"] = True
-    DEFINES["WEBRTC_LINUX"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
-    DEFINES["__GNU_SOURCE"] = "1"
-
-    OS_LIBS += [
-        "log"
-    ]
-
-if CONFIG["OS_TARGET"] == "Darwin":
-
-    DEFINES["CR_XCODE_VERSION"] = "0920"
-    DEFINES["NO_TCMALLOC"] = True
-    DEFINES["WEBRTC_MAC"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["__ASSERT_MACROS_DEFINE_VERSIONS_WITHOUT_UNDERSCORE"] = "0"
-
-    OS_LIBS += [
-        "-framework Foundation"
-    ]
-
-if CONFIG["OS_TARGET"] == "DragonFly":
+if not CONFIG["MOZ_DEBUG"]:
 
-    DEFINES["USE_X11"] = "1"
-    DEFINES["WEBRTC_BSD"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
+    DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "0"
+    DEFINES["NDEBUG"] = True
+    DEFINES["NVALGRIND"] = True
 
-if CONFIG["OS_TARGET"] == "FreeBSD":
+if CONFIG["OS_TARGET"] == "NetBSD":
 
     DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_BSD"] = True
@@ -93,19 +55,11 @@ if CONFIG["OS_TARGET"] == "FreeBSD":
 if CONFIG["OS_TARGET"] == "Linux":
 
     DEFINES["USE_NSS_CERTS"] = "1"
-    DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_LINUX"] = True
     DEFINES["WEBRTC_POSIX"] = True
     DEFINES["_FILE_OFFSET_BITS"] = "64"
 
-if CONFIG["OS_TARGET"] == "NetBSD":
-
-    DEFINES["USE_X11"] = "1"
-    DEFINES["WEBRTC_BSD"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
-
-if CONFIG["OS_TARGET"] == "OpenBSD":
+if CONFIG["OS_TARGET"] == "DragonFly":
 
     DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_BSD"] = True
@@ -137,10 +91,50 @@ if CONFIG["OS_TARGET"] == "WINNT":
     DEFINES["_WINDOWS"] = True
     DEFINES["__STD_C"] = True
 
-if CONFIG["CPU_ARCH"] == "aarch64":
+if CONFIG["OS_TARGET"] == "Darwin":
 
-    DEFINES["WEBRTC_ARCH_ARM64"] = True
-    DEFINES["WEBRTC_HAS_NEON"] = True
+    DEFINES["CR_XCODE_VERSION"] = "0920"
+    DEFINES["NO_TCMALLOC"] = True
+    DEFINES["WEBRTC_MAC"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["__ASSERT_MACROS_DEFINE_VERSIONS_WITHOUT_UNDERSCORE"] = "0"
+
+    OS_LIBS += [
+        "-framework Foundation"
+    ]
+
+if CONFIG["OS_TARGET"] == "OpenBSD":
+
+    DEFINES["USE_X11"] = "1"
+    DEFINES["WEBRTC_BSD"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+
+if CONFIG["OS_TARGET"] == "FreeBSD":
+
+    DEFINES["USE_X11"] = "1"
+    DEFINES["WEBRTC_BSD"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+
+if CONFIG["OS_TARGET"] == "Android":
+
+    DEFINES["ANDROID"] = True
+    DEFINES["ANDROID_NDK_VERSION"] = "r12b"
+    DEFINES["DISABLE_NACL"] = True
+    DEFINES["HAVE_SYS_UIO_H"] = True
+    DEFINES["NO_TCMALLOC"] = True
+    DEFINES["USE_OPENSSL_CERTS"] = "1"
+    DEFINES["WEBRTC_ANDROID"] = True
+    DEFINES["WEBRTC_ANDROID_OPENSLES"] = True
+    DEFINES["WEBRTC_LINUX"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+    DEFINES["__GNU_SOURCE"] = "1"
+
+    OS_LIBS += [
+        "log"
+    ]
 
 if CONFIG["CPU_ARCH"] == "arm":
 
@@ -152,15 +146,24 @@ if CONFIG["CPU_ARCH"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Android":
+if CONFIG["CPU_ARCH"] == "ppc64":
 
-    DEFINES["_FORTIFY_SOURCE"] = "2"
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "mips64":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "aarch64":
+
+    DEFINES["WEBRTC_ARCH_ARM64"] = True
+    DEFINES["WEBRTC_HAS_NEON"] = True
 
 if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Darwin":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "DragonFly":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "OpenBSD":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
@@ -168,20 +171,28 @@ if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "FreeBSD":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "NetBSD":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Android":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "OpenBSD":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "DragonFly":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "Android":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "NetBSD":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "NetBSD":
 
     CXXFLAGS += [
         "-msse2"
     ]
 
+if CONFIG["CPU_ARCH"] == "x86_64" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
 if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "FreeBSD":
 
     CXXFLAGS += [
@@ -199,7 +210,7 @@ if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "Linux":
         "-msse2"
     ]
 
-if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "NetBSD":
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "Android":
 
     CXXFLAGS += [
         "-msse2"
@@ -211,4 +222,32 @@ if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "OpenBSD":
         "-msse2"
     ]
 
+if CONFIG["CPU_ARCH"] == "arm" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "aarch64" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "arm" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "aarch64" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["HOST_CPU_ARCH"] == "x86_64" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["HOST_CPU_ARCH"] == "x86" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
 Library("video_frame_api_gn")
diff --git a/media/webrtc/trunk/webrtc/api/video_frame_api_i420_gn/moz.build b/media/webrtc/trunk/webrtc/api/video_frame_api_i420_gn/moz.build
index 3dc52cfb5f8b..499a14caeb47 100644
--- a/media/webrtc/trunk/webrtc/api/video_frame_api_i420_gn/moz.build
+++ b/media/webrtc/trunk/webrtc/api/video_frame_api_i420_gn/moz.build
@@ -31,56 +31,18 @@ UNIFIED_SOURCES += [
     "/media/webrtc/trunk/webrtc/api/video/i420_buffer.cc"
 ]
 
-if not CONFIG["MOZ_DEBUG"]:
-
-    DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "0"
-    DEFINES["NDEBUG"] = True
-    DEFINES["NVALGRIND"] = True
-
 if CONFIG["MOZ_DEBUG"] == "1":
 
     DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "1"
     DEFINES["WTF_USE_DYNAMIC_ANNOTATIONS"] = "1"
 
-if CONFIG["OS_TARGET"] == "Android":
-
-    DEFINES["ANDROID"] = True
-    DEFINES["ANDROID_NDK_VERSION"] = "r12b"
-    DEFINES["DISABLE_NACL"] = True
-    DEFINES["HAVE_SYS_UIO_H"] = True
-    DEFINES["NO_TCMALLOC"] = True
-    DEFINES["USE_OPENSSL_CERTS"] = "1"
-    DEFINES["WEBRTC_ANDROID"] = True
-    DEFINES["WEBRTC_ANDROID_OPENSLES"] = True
-    DEFINES["WEBRTC_LINUX"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
-    DEFINES["__GNU_SOURCE"] = "1"
-
-    OS_LIBS += [
-        "log"
-    ]
-
-if CONFIG["OS_TARGET"] == "Darwin":
-
-    DEFINES["CR_XCODE_VERSION"] = "0920"
-    DEFINES["NO_TCMALLOC"] = True
-    DEFINES["WEBRTC_MAC"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["__ASSERT_MACROS_DEFINE_VERSIONS_WITHOUT_UNDERSCORE"] = "0"
-
-    OS_LIBS += [
-        "-framework Foundation"
-    ]
-
-if CONFIG["OS_TARGET"] == "DragonFly":
+if not CONFIG["MOZ_DEBUG"]:
 
-    DEFINES["USE_X11"] = "1"
-    DEFINES["WEBRTC_BSD"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
+    DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "0"
+    DEFINES["NDEBUG"] = True
+    DEFINES["NVALGRIND"] = True
 
-if CONFIG["OS_TARGET"] == "FreeBSD":
+if CONFIG["OS_TARGET"] == "NetBSD":
 
     DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_BSD"] = True
@@ -90,7 +52,6 @@ if CONFIG["OS_TARGET"] == "FreeBSD":
 if CONFIG["OS_TARGET"] == "Linux":
 
     DEFINES["USE_NSS_CERTS"] = "1"
-    DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_LINUX"] = True
     DEFINES["WEBRTC_POSIX"] = True
     DEFINES["_FILE_OFFSET_BITS"] = "64"
@@ -99,14 +60,7 @@ if CONFIG["OS_TARGET"] == "Linux":
         "rt"
     ]
 
-if CONFIG["OS_TARGET"] == "NetBSD":
-
-    DEFINES["USE_X11"] = "1"
-    DEFINES["WEBRTC_BSD"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
-
-if CONFIG["OS_TARGET"] == "OpenBSD":
+if CONFIG["OS_TARGET"] == "DragonFly":
 
     DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_BSD"] = True
@@ -142,10 +96,50 @@ if CONFIG["OS_TARGET"] == "WINNT":
         "winmm"
     ]
 
-if CONFIG["CPU_ARCH"] == "aarch64":
+if CONFIG["OS_TARGET"] == "Darwin":
 
-    DEFINES["WEBRTC_ARCH_ARM64"] = True
-    DEFINES["WEBRTC_HAS_NEON"] = True
+    DEFINES["CR_XCODE_VERSION"] = "0920"
+    DEFINES["NO_TCMALLOC"] = True
+    DEFINES["WEBRTC_MAC"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["__ASSERT_MACROS_DEFINE_VERSIONS_WITHOUT_UNDERSCORE"] = "0"
+
+    OS_LIBS += [
+        "-framework Foundation"
+    ]
+
+if CONFIG["OS_TARGET"] == "OpenBSD":
+
+    DEFINES["USE_X11"] = "1"
+    DEFINES["WEBRTC_BSD"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+
+if CONFIG["OS_TARGET"] == "FreeBSD":
+
+    DEFINES["USE_X11"] = "1"
+    DEFINES["WEBRTC_BSD"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+
+if CONFIG["OS_TARGET"] == "Android":
+
+    DEFINES["ANDROID"] = True
+    DEFINES["ANDROID_NDK_VERSION"] = "r12b"
+    DEFINES["DISABLE_NACL"] = True
+    DEFINES["HAVE_SYS_UIO_H"] = True
+    DEFINES["NO_TCMALLOC"] = True
+    DEFINES["USE_OPENSSL_CERTS"] = "1"
+    DEFINES["WEBRTC_ANDROID"] = True
+    DEFINES["WEBRTC_ANDROID_OPENSLES"] = True
+    DEFINES["WEBRTC_LINUX"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+    DEFINES["__GNU_SOURCE"] = "1"
+
+    OS_LIBS += [
+        "log"
+    ]
 
 if CONFIG["CPU_ARCH"] == "arm":
 
@@ -157,15 +151,24 @@ if CONFIG["CPU_ARCH"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Android":
+if CONFIG["CPU_ARCH"] == "ppc64":
 
-    DEFINES["_FORTIFY_SOURCE"] = "2"
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "mips64":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "aarch64":
+
+    DEFINES["WEBRTC_ARCH_ARM64"] = True
+    DEFINES["WEBRTC_HAS_NEON"] = True
 
 if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Darwin":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "DragonFly":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "OpenBSD":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
@@ -173,20 +176,28 @@ if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "FreeBSD":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "NetBSD":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Android":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "OpenBSD":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "DragonFly":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "Android":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "NetBSD":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "NetBSD":
 
     CXXFLAGS += [
         "-msse2"
     ]
 
+if CONFIG["CPU_ARCH"] == "x86_64" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
 if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "FreeBSD":
 
     CXXFLAGS += [
@@ -204,7 +215,7 @@ if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "Linux":
         "-msse2"
     ]
 
-if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "NetBSD":
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "Android":
 
     CXXFLAGS += [
         "-msse2"
@@ -216,4 +227,32 @@ if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "OpenBSD":
         "-msse2"
     ]
 
+if CONFIG["CPU_ARCH"] == "arm" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "aarch64" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "arm" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "aarch64" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["HOST_CPU_ARCH"] == "x86_64" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["HOST_CPU_ARCH"] == "x86" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
 Library("video_frame_api_i420_gn")
diff --git a/media/webrtc/trunk/webrtc/audio/audio_gn/moz.build b/media/webrtc/trunk/webrtc/audio/audio_gn/moz.build
index 7141a6deb762..543b6f9770e5 100644
--- a/media/webrtc/trunk/webrtc/audio/audio_gn/moz.build
+++ b/media/webrtc/trunk/webrtc/audio/audio_gn/moz.build
@@ -43,56 +43,18 @@ UNIFIED_SOURCES += [
     "/media/webrtc/trunk/webrtc/audio/time_interval.cc"
 ]
 
-if not CONFIG["MOZ_DEBUG"]:
-
-    DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "0"
-    DEFINES["NDEBUG"] = True
-    DEFINES["NVALGRIND"] = True
-
 if CONFIG["MOZ_DEBUG"] == "1":
 
     DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "1"
     DEFINES["WTF_USE_DYNAMIC_ANNOTATIONS"] = "1"
 
-if CONFIG["OS_TARGET"] == "Android":
-
-    DEFINES["ANDROID"] = True
-    DEFINES["ANDROID_NDK_VERSION"] = "r12b"
-    DEFINES["DISABLE_NACL"] = True
-    DEFINES["HAVE_SYS_UIO_H"] = True
-    DEFINES["NO_TCMALLOC"] = True
-    DEFINES["USE_OPENSSL_CERTS"] = "1"
-    DEFINES["WEBRTC_ANDROID"] = True
-    DEFINES["WEBRTC_ANDROID_OPENSLES"] = True
-    DEFINES["WEBRTC_LINUX"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
-    DEFINES["__GNU_SOURCE"] = "1"
-
-    OS_LIBS += [
-        "log"
-    ]
-
-if CONFIG["OS_TARGET"] == "Darwin":
-
-    DEFINES["CR_XCODE_VERSION"] = "0920"
-    DEFINES["NO_TCMALLOC"] = True
-    DEFINES["WEBRTC_MAC"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["__ASSERT_MACROS_DEFINE_VERSIONS_WITHOUT_UNDERSCORE"] = "0"
-
-    OS_LIBS += [
-        "-framework Foundation"
-    ]
-
-if CONFIG["OS_TARGET"] == "DragonFly":
+if not CONFIG["MOZ_DEBUG"]:
 
-    DEFINES["USE_X11"] = "1"
-    DEFINES["WEBRTC_BSD"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
+    DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "0"
+    DEFINES["NDEBUG"] = True
+    DEFINES["NVALGRIND"] = True
 
-if CONFIG["OS_TARGET"] == "FreeBSD":
+if CONFIG["OS_TARGET"] == "NetBSD":
 
     DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_BSD"] = True
@@ -102,7 +64,6 @@ if CONFIG["OS_TARGET"] == "FreeBSD":
 if CONFIG["OS_TARGET"] == "Linux":
 
     DEFINES["USE_NSS_CERTS"] = "1"
-    DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_LINUX"] = True
     DEFINES["WEBRTC_POSIX"] = True
     DEFINES["_FILE_OFFSET_BITS"] = "64"
@@ -112,14 +73,7 @@ if CONFIG["OS_TARGET"] == "Linux":
         "rt"
     ]
 
-if CONFIG["OS_TARGET"] == "NetBSD":
-
-    DEFINES["USE_X11"] = "1"
-    DEFINES["WEBRTC_BSD"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
-
-if CONFIG["OS_TARGET"] == "OpenBSD":
+if CONFIG["OS_TARGET"] == "DragonFly":
 
     DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_BSD"] = True
@@ -155,10 +109,50 @@ if CONFIG["OS_TARGET"] == "WINNT":
         "winmm"
     ]
 
-if CONFIG["CPU_ARCH"] == "aarch64":
+if CONFIG["OS_TARGET"] == "Darwin":
 
-    DEFINES["WEBRTC_ARCH_ARM64"] = True
-    DEFINES["WEBRTC_HAS_NEON"] = True
+    DEFINES["CR_XCODE_VERSION"] = "0920"
+    DEFINES["NO_TCMALLOC"] = True
+    DEFINES["WEBRTC_MAC"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["__ASSERT_MACROS_DEFINE_VERSIONS_WITHOUT_UNDERSCORE"] = "0"
+
+    OS_LIBS += [
+        "-framework Foundation"
+    ]
+
+if CONFIG["OS_TARGET"] == "OpenBSD":
+
+    DEFINES["USE_X11"] = "1"
+    DEFINES["WEBRTC_BSD"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+
+if CONFIG["OS_TARGET"] == "FreeBSD":
+
+    DEFINES["USE_X11"] = "1"
+    DEFINES["WEBRTC_BSD"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+
+if CONFIG["OS_TARGET"] == "Android":
+
+    DEFINES["ANDROID"] = True
+    DEFINES["ANDROID_NDK_VERSION"] = "r12b"
+    DEFINES["DISABLE_NACL"] = True
+    DEFINES["HAVE_SYS_UIO_H"] = True
+    DEFINES["NO_TCMALLOC"] = True
+    DEFINES["USE_OPENSSL_CERTS"] = "1"
+    DEFINES["WEBRTC_ANDROID"] = True
+    DEFINES["WEBRTC_ANDROID_OPENSLES"] = True
+    DEFINES["WEBRTC_LINUX"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+    DEFINES["__GNU_SOURCE"] = "1"
+
+    OS_LIBS += [
+        "log"
+    ]
 
 if CONFIG["CPU_ARCH"] == "arm":
 
@@ -170,15 +164,24 @@ if CONFIG["CPU_ARCH"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Android":
+if CONFIG["CPU_ARCH"] == "ppc64":
 
-    DEFINES["_FORTIFY_SOURCE"] = "2"
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "mips64":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "aarch64":
+
+    DEFINES["WEBRTC_ARCH_ARM64"] = True
+    DEFINES["WEBRTC_HAS_NEON"] = True
 
 if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Darwin":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "DragonFly":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "OpenBSD":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
@@ -186,20 +189,28 @@ if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "FreeBSD":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "NetBSD":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Android":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "OpenBSD":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "DragonFly":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "Android":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "NetBSD":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "NetBSD":
 
     CXXFLAGS += [
         "-msse2"
     ]
 
+if CONFIG["CPU_ARCH"] == "x86_64" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
 if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "FreeBSD":
 
     CXXFLAGS += [
@@ -217,7 +228,7 @@ if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "Linux":
         "-msse2"
     ]
 
-if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "NetBSD":
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "Android":
 
     CXXFLAGS += [
         "-msse2"
@@ -229,4 +240,32 @@ if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "OpenBSD":
         "-msse2"
     ]
 
+if CONFIG["CPU_ARCH"] == "arm" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "aarch64" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "arm" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "aarch64" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["HOST_CPU_ARCH"] == "x86_64" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["HOST_CPU_ARCH"] == "x86" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
 Library("audio_gn")
diff --git a/media/webrtc/trunk/webrtc/audio/utility/audio_frame_operations_gn/moz.build b/media/webrtc/trunk/webrtc/audio/utility/audio_frame_operations_gn/moz.build
index 8efeb46113be..4ac34d399323 100644
--- a/media/webrtc/trunk/webrtc/audio/utility/audio_frame_operations_gn/moz.build
+++ b/media/webrtc/trunk/webrtc/audio/utility/audio_frame_operations_gn/moz.build
@@ -30,56 +30,18 @@ UNIFIED_SOURCES += [
     "/media/webrtc/trunk/webrtc/audio/utility/audio_frame_operations.cc"
 ]
 
-if not CONFIG["MOZ_DEBUG"]:
-
-    DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "0"
-    DEFINES["NDEBUG"] = True
-    DEFINES["NVALGRIND"] = True
-
 if CONFIG["MOZ_DEBUG"] == "1":
 
     DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "1"
     DEFINES["WTF_USE_DYNAMIC_ANNOTATIONS"] = "1"
 
-if CONFIG["OS_TARGET"] == "Android":
-
-    DEFINES["ANDROID"] = True
-    DEFINES["ANDROID_NDK_VERSION"] = "r12b"
-    DEFINES["DISABLE_NACL"] = True
-    DEFINES["HAVE_SYS_UIO_H"] = True
-    DEFINES["NO_TCMALLOC"] = True
-    DEFINES["USE_OPENSSL_CERTS"] = "1"
-    DEFINES["WEBRTC_ANDROID"] = True
-    DEFINES["WEBRTC_ANDROID_OPENSLES"] = True
-    DEFINES["WEBRTC_LINUX"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
-    DEFINES["__GNU_SOURCE"] = "1"
-
-    OS_LIBS += [
-        "log"
-    ]
-
-if CONFIG["OS_TARGET"] == "Darwin":
-
-    DEFINES["CR_XCODE_VERSION"] = "0920"
-    DEFINES["NO_TCMALLOC"] = True
-    DEFINES["WEBRTC_MAC"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["__ASSERT_MACROS_DEFINE_VERSIONS_WITHOUT_UNDERSCORE"] = "0"
-
-    OS_LIBS += [
-        "-framework Foundation"
-    ]
-
-if CONFIG["OS_TARGET"] == "DragonFly":
+if not CONFIG["MOZ_DEBUG"]:
 
-    DEFINES["USE_X11"] = "1"
-    DEFINES["WEBRTC_BSD"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
+    DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "0"
+    DEFINES["NDEBUG"] = True
+    DEFINES["NVALGRIND"] = True
 
-if CONFIG["OS_TARGET"] == "FreeBSD":
+if CONFIG["OS_TARGET"] == "NetBSD":
 
     DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_BSD"] = True
@@ -89,7 +51,6 @@ if CONFIG["OS_TARGET"] == "FreeBSD":
 if CONFIG["OS_TARGET"] == "Linux":
 
     DEFINES["USE_NSS_CERTS"] = "1"
-    DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_LINUX"] = True
     DEFINES["WEBRTC_POSIX"] = True
     DEFINES["_FILE_OFFSET_BITS"] = "64"
@@ -98,14 +59,7 @@ if CONFIG["OS_TARGET"] == "Linux":
         "rt"
     ]
 
-if CONFIG["OS_TARGET"] == "NetBSD":
-
-    DEFINES["USE_X11"] = "1"
-    DEFINES["WEBRTC_BSD"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
-
-if CONFIG["OS_TARGET"] == "OpenBSD":
+if CONFIG["OS_TARGET"] == "DragonFly":
 
     DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_BSD"] = True
@@ -141,10 +95,50 @@ if CONFIG["OS_TARGET"] == "WINNT":
         "winmm"
     ]
 
-if CONFIG["CPU_ARCH"] == "aarch64":
+if CONFIG["OS_TARGET"] == "Darwin":
 
-    DEFINES["WEBRTC_ARCH_ARM64"] = True
-    DEFINES["WEBRTC_HAS_NEON"] = True
+    DEFINES["CR_XCODE_VERSION"] = "0920"
+    DEFINES["NO_TCMALLOC"] = True
+    DEFINES["WEBRTC_MAC"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["__ASSERT_MACROS_DEFINE_VERSIONS_WITHOUT_UNDERSCORE"] = "0"
+
+    OS_LIBS += [
+        "-framework Foundation"
+    ]
+
+if CONFIG["OS_TARGET"] == "OpenBSD":
+
+    DEFINES["USE_X11"] = "1"
+    DEFINES["WEBRTC_BSD"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+
+if CONFIG["OS_TARGET"] == "FreeBSD":
+
+    DEFINES["USE_X11"] = "1"
+    DEFINES["WEBRTC_BSD"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+
+if CONFIG["OS_TARGET"] == "Android":
+
+    DEFINES["ANDROID"] = True
+    DEFINES["ANDROID_NDK_VERSION"] = "r12b"
+    DEFINES["DISABLE_NACL"] = True
+    DEFINES["HAVE_SYS_UIO_H"] = True
+    DEFINES["NO_TCMALLOC"] = True
+    DEFINES["USE_OPENSSL_CERTS"] = "1"
+    DEFINES["WEBRTC_ANDROID"] = True
+    DEFINES["WEBRTC_ANDROID_OPENSLES"] = True
+    DEFINES["WEBRTC_LINUX"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+    DEFINES["__GNU_SOURCE"] = "1"
+
+    OS_LIBS += [
+        "log"
+    ]
 
 if CONFIG["CPU_ARCH"] == "arm":
 
@@ -156,15 +150,24 @@ if CONFIG["CPU_ARCH"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Android":
+if CONFIG["CPU_ARCH"] == "ppc64":
 
-    DEFINES["_FORTIFY_SOURCE"] = "2"
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "mips64":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "aarch64":
+
+    DEFINES["WEBRTC_ARCH_ARM64"] = True
+    DEFINES["WEBRTC_HAS_NEON"] = True
 
 if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Darwin":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "DragonFly":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "OpenBSD":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
@@ -172,20 +175,28 @@ if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "FreeBSD":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "NetBSD":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Android":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "OpenBSD":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "DragonFly":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "Android":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "NetBSD":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "NetBSD":
 
     CXXFLAGS += [
         "-msse2"
     ]
 
+if CONFIG["CPU_ARCH"] == "x86_64" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
 if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "FreeBSD":
 
     CXXFLAGS += [
@@ -203,7 +214,7 @@ if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "Linux":
         "-msse2"
     ]
 
-if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "NetBSD":
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "Android":
 
     CXXFLAGS += [
         "-msse2"
@@ -215,4 +226,32 @@ if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "OpenBSD":
         "-msse2"
     ]
 
+if CONFIG["CPU_ARCH"] == "arm" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "aarch64" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "arm" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "aarch64" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["HOST_CPU_ARCH"] == "x86_64" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["HOST_CPU_ARCH"] == "x86" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
 Library("audio_frame_operations_gn")
diff --git a/media/webrtc/trunk/webrtc/call/bitrate_allocator_gn/moz.build b/media/webrtc/trunk/webrtc/call/bitrate_allocator_gn/moz.build
index 5bf893ba3e64..661b7885675a 100644
--- a/media/webrtc/trunk/webrtc/call/bitrate_allocator_gn/moz.build
+++ b/media/webrtc/trunk/webrtc/call/bitrate_allocator_gn/moz.build
@@ -30,56 +30,18 @@ UNIFIED_SOURCES += [
     "/media/webrtc/trunk/webrtc/call/bitrate_allocator.cc"
 ]
 
-if not CONFIG["MOZ_DEBUG"]:
-
-    DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "0"
-    DEFINES["NDEBUG"] = True
-    DEFINES["NVALGRIND"] = True
-
 if CONFIG["MOZ_DEBUG"] == "1":
 
     DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "1"
     DEFINES["WTF_USE_DYNAMIC_ANNOTATIONS"] = "1"
 
-if CONFIG["OS_TARGET"] == "Android":
-
-    DEFINES["ANDROID"] = True
-    DEFINES["ANDROID_NDK_VERSION"] = "r12b"
-    DEFINES["DISABLE_NACL"] = True
-    DEFINES["HAVE_SYS_UIO_H"] = True
-    DEFINES["NO_TCMALLOC"] = True
-    DEFINES["USE_OPENSSL_CERTS"] = "1"
-    DEFINES["WEBRTC_ANDROID"] = True
-    DEFINES["WEBRTC_ANDROID_OPENSLES"] = True
-    DEFINES["WEBRTC_LINUX"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
-    DEFINES["__GNU_SOURCE"] = "1"
-
-    OS_LIBS += [
-        "log"
-    ]
-
-if CONFIG["OS_TARGET"] == "Darwin":
-
-    DEFINES["CR_XCODE_VERSION"] = "0920"
-    DEFINES["NO_TCMALLOC"] = True
-    DEFINES["WEBRTC_MAC"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["__ASSERT_MACROS_DEFINE_VERSIONS_WITHOUT_UNDERSCORE"] = "0"
-
-    OS_LIBS += [
-        "-framework Foundation"
-    ]
-
-if CONFIG["OS_TARGET"] == "DragonFly":
+if not CONFIG["MOZ_DEBUG"]:
 
-    DEFINES["USE_X11"] = "1"
-    DEFINES["WEBRTC_BSD"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
+    DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "0"
+    DEFINES["NDEBUG"] = True
+    DEFINES["NVALGRIND"] = True
 
-if CONFIG["OS_TARGET"] == "FreeBSD":
+if CONFIG["OS_TARGET"] == "NetBSD":
 
     DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_BSD"] = True
@@ -89,7 +51,6 @@ if CONFIG["OS_TARGET"] == "FreeBSD":
 if CONFIG["OS_TARGET"] == "Linux":
 
     DEFINES["USE_NSS_CERTS"] = "1"
-    DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_LINUX"] = True
     DEFINES["WEBRTC_POSIX"] = True
     DEFINES["_FILE_OFFSET_BITS"] = "64"
@@ -98,14 +59,7 @@ if CONFIG["OS_TARGET"] == "Linux":
         "rt"
     ]
 
-if CONFIG["OS_TARGET"] == "NetBSD":
-
-    DEFINES["USE_X11"] = "1"
-    DEFINES["WEBRTC_BSD"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
-
-if CONFIG["OS_TARGET"] == "OpenBSD":
+if CONFIG["OS_TARGET"] == "DragonFly":
 
     DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_BSD"] = True
@@ -141,10 +95,50 @@ if CONFIG["OS_TARGET"] == "WINNT":
         "winmm"
     ]
 
-if CONFIG["CPU_ARCH"] == "aarch64":
+if CONFIG["OS_TARGET"] == "Darwin":
 
-    DEFINES["WEBRTC_ARCH_ARM64"] = True
-    DEFINES["WEBRTC_HAS_NEON"] = True
+    DEFINES["CR_XCODE_VERSION"] = "0920"
+    DEFINES["NO_TCMALLOC"] = True
+    DEFINES["WEBRTC_MAC"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["__ASSERT_MACROS_DEFINE_VERSIONS_WITHOUT_UNDERSCORE"] = "0"
+
+    OS_LIBS += [
+        "-framework Foundation"
+    ]
+
+if CONFIG["OS_TARGET"] == "OpenBSD":
+
+    DEFINES["USE_X11"] = "1"
+    DEFINES["WEBRTC_BSD"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+
+if CONFIG["OS_TARGET"] == "FreeBSD":
+
+    DEFINES["USE_X11"] = "1"
+    DEFINES["WEBRTC_BSD"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+
+if CONFIG["OS_TARGET"] == "Android":
+
+    DEFINES["ANDROID"] = True
+    DEFINES["ANDROID_NDK_VERSION"] = "r12b"
+    DEFINES["DISABLE_NACL"] = True
+    DEFINES["HAVE_SYS_UIO_H"] = True
+    DEFINES["NO_TCMALLOC"] = True
+    DEFINES["USE_OPENSSL_CERTS"] = "1"
+    DEFINES["WEBRTC_ANDROID"] = True
+    DEFINES["WEBRTC_ANDROID_OPENSLES"] = True
+    DEFINES["WEBRTC_LINUX"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+    DEFINES["__GNU_SOURCE"] = "1"
+
+    OS_LIBS += [
+        "log"
+    ]
 
 if CONFIG["CPU_ARCH"] == "arm":
 
@@ -156,15 +150,24 @@ if CONFIG["CPU_ARCH"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Android":
+if CONFIG["CPU_ARCH"] == "ppc64":
 
-    DEFINES["_FORTIFY_SOURCE"] = "2"
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "mips64":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "aarch64":
+
+    DEFINES["WEBRTC_ARCH_ARM64"] = True
+    DEFINES["WEBRTC_HAS_NEON"] = True
 
 if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Darwin":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "DragonFly":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "OpenBSD":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
@@ -172,20 +175,28 @@ if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "FreeBSD":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "NetBSD":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Android":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "OpenBSD":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "DragonFly":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "Android":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "NetBSD":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "NetBSD":
 
     CXXFLAGS += [
         "-msse2"
     ]
 
+if CONFIG["CPU_ARCH"] == "x86_64" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
 if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "FreeBSD":
 
     CXXFLAGS += [
@@ -203,7 +214,7 @@ if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "Linux":
         "-msse2"
     ]
 
-if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "NetBSD":
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "Android":
 
     CXXFLAGS += [
         "-msse2"
@@ -215,4 +226,32 @@ if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "OpenBSD":
         "-msse2"
     ]
 
+if CONFIG["CPU_ARCH"] == "arm" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "aarch64" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "arm" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "aarch64" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["HOST_CPU_ARCH"] == "x86_64" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["HOST_CPU_ARCH"] == "x86" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
 Library("bitrate_allocator_gn")
diff --git a/media/webrtc/trunk/webrtc/call/call_gn/moz.build b/media/webrtc/trunk/webrtc/call/call_gn/moz.build
index 75d523f16b63..b88774be0f5e 100644
--- a/media/webrtc/trunk/webrtc/call/call_gn/moz.build
+++ b/media/webrtc/trunk/webrtc/call/call_gn/moz.build
@@ -32,56 +32,18 @@ UNIFIED_SOURCES += [
     "/media/webrtc/trunk/webrtc/call/flexfec_receive_stream_impl.cc"
 ]
 
-if not CONFIG["MOZ_DEBUG"]:
-
-    DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "0"
-    DEFINES["NDEBUG"] = True
-    DEFINES["NVALGRIND"] = True
-
 if CONFIG["MOZ_DEBUG"] == "1":
 
     DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "1"
     DEFINES["WTF_USE_DYNAMIC_ANNOTATIONS"] = "1"
 
-if CONFIG["OS_TARGET"] == "Android":
-
-    DEFINES["ANDROID"] = True
-    DEFINES["ANDROID_NDK_VERSION"] = "r12b"
-    DEFINES["DISABLE_NACL"] = True
-    DEFINES["HAVE_SYS_UIO_H"] = True
-    DEFINES["NO_TCMALLOC"] = True
-    DEFINES["USE_OPENSSL_CERTS"] = "1"
-    DEFINES["WEBRTC_ANDROID"] = True
-    DEFINES["WEBRTC_ANDROID_OPENSLES"] = True
-    DEFINES["WEBRTC_LINUX"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
-    DEFINES["__GNU_SOURCE"] = "1"
-
-    OS_LIBS += [
-        "log"
-    ]
-
-if CONFIG["OS_TARGET"] == "Darwin":
-
-    DEFINES["CR_XCODE_VERSION"] = "0920"
-    DEFINES["NO_TCMALLOC"] = True
-    DEFINES["WEBRTC_MAC"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["__ASSERT_MACROS_DEFINE_VERSIONS_WITHOUT_UNDERSCORE"] = "0"
-
-    OS_LIBS += [
-        "-framework Foundation"
-    ]
-
-if CONFIG["OS_TARGET"] == "DragonFly":
+if not CONFIG["MOZ_DEBUG"]:
 
-    DEFINES["USE_X11"] = "1"
-    DEFINES["WEBRTC_BSD"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
+    DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "0"
+    DEFINES["NDEBUG"] = True
+    DEFINES["NVALGRIND"] = True
 
-if CONFIG["OS_TARGET"] == "FreeBSD":
+if CONFIG["OS_TARGET"] == "NetBSD":
 
     DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_BSD"] = True
@@ -91,7 +53,6 @@ if CONFIG["OS_TARGET"] == "FreeBSD":
 if CONFIG["OS_TARGET"] == "Linux":
 
     DEFINES["USE_NSS_CERTS"] = "1"
-    DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_LINUX"] = True
     DEFINES["WEBRTC_POSIX"] = True
     DEFINES["_FILE_OFFSET_BITS"] = "64"
@@ -101,14 +62,7 @@ if CONFIG["OS_TARGET"] == "Linux":
         "rt"
     ]
 
-if CONFIG["OS_TARGET"] == "NetBSD":
-
-    DEFINES["USE_X11"] = "1"
-    DEFINES["WEBRTC_BSD"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
-
-if CONFIG["OS_TARGET"] == "OpenBSD":
+if CONFIG["OS_TARGET"] == "DragonFly":
 
     DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_BSD"] = True
@@ -144,10 +98,50 @@ if CONFIG["OS_TARGET"] == "WINNT":
         "winmm"
     ]
 
-if CONFIG["CPU_ARCH"] == "aarch64":
+if CONFIG["OS_TARGET"] == "Darwin":
 
-    DEFINES["WEBRTC_ARCH_ARM64"] = True
-    DEFINES["WEBRTC_HAS_NEON"] = True
+    DEFINES["CR_XCODE_VERSION"] = "0920"
+    DEFINES["NO_TCMALLOC"] = True
+    DEFINES["WEBRTC_MAC"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["__ASSERT_MACROS_DEFINE_VERSIONS_WITHOUT_UNDERSCORE"] = "0"
+
+    OS_LIBS += [
+        "-framework Foundation"
+    ]
+
+if CONFIG["OS_TARGET"] == "OpenBSD":
+
+    DEFINES["USE_X11"] = "1"
+    DEFINES["WEBRTC_BSD"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+
+if CONFIG["OS_TARGET"] == "FreeBSD":
+
+    DEFINES["USE_X11"] = "1"
+    DEFINES["WEBRTC_BSD"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+
+if CONFIG["OS_TARGET"] == "Android":
+
+    DEFINES["ANDROID"] = True
+    DEFINES["ANDROID_NDK_VERSION"] = "r12b"
+    DEFINES["DISABLE_NACL"] = True
+    DEFINES["HAVE_SYS_UIO_H"] = True
+    DEFINES["NO_TCMALLOC"] = True
+    DEFINES["USE_OPENSSL_CERTS"] = "1"
+    DEFINES["WEBRTC_ANDROID"] = True
+    DEFINES["WEBRTC_ANDROID_OPENSLES"] = True
+    DEFINES["WEBRTC_LINUX"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+    DEFINES["__GNU_SOURCE"] = "1"
+
+    OS_LIBS += [
+        "log"
+    ]
 
 if CONFIG["CPU_ARCH"] == "arm":
 
@@ -159,15 +153,24 @@ if CONFIG["CPU_ARCH"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Android":
+if CONFIG["CPU_ARCH"] == "ppc64":
 
-    DEFINES["_FORTIFY_SOURCE"] = "2"
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "mips64":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "aarch64":
+
+    DEFINES["WEBRTC_ARCH_ARM64"] = True
+    DEFINES["WEBRTC_HAS_NEON"] = True
 
 if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Darwin":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "DragonFly":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "OpenBSD":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
@@ -175,20 +178,28 @@ if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "FreeBSD":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "NetBSD":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Android":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "OpenBSD":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "DragonFly":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "Android":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "NetBSD":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "NetBSD":
 
     CXXFLAGS += [
         "-msse2"
     ]
 
+if CONFIG["CPU_ARCH"] == "x86_64" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
 if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "FreeBSD":
 
     CXXFLAGS += [
@@ -206,7 +217,7 @@ if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "Linux":
         "-msse2"
     ]
 
-if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "NetBSD":
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "Android":
 
     CXXFLAGS += [
         "-msse2"
@@ -218,4 +229,32 @@ if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "OpenBSD":
         "-msse2"
     ]
 
+if CONFIG["CPU_ARCH"] == "arm" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "aarch64" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "arm" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "aarch64" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["HOST_CPU_ARCH"] == "x86_64" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["HOST_CPU_ARCH"] == "x86" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
 Library("call_gn")
diff --git a/media/webrtc/trunk/webrtc/call/call_interfaces_gn/moz.build b/media/webrtc/trunk/webrtc/call/call_interfaces_gn/moz.build
index 972ae4df2036..13a324fc9cc1 100644
--- a/media/webrtc/trunk/webrtc/call/call_interfaces_gn/moz.build
+++ b/media/webrtc/trunk/webrtc/call/call_interfaces_gn/moz.build
@@ -31,56 +31,18 @@ UNIFIED_SOURCES += [
     "/media/webrtc/trunk/webrtc/call/syncable.cc"
 ]
 
-if not CONFIG["MOZ_DEBUG"]:
-
-    DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "0"
-    DEFINES["NDEBUG"] = True
-    DEFINES["NVALGRIND"] = True
-
 if CONFIG["MOZ_DEBUG"] == "1":
 
     DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "1"
     DEFINES["WTF_USE_DYNAMIC_ANNOTATIONS"] = "1"
 
-if CONFIG["OS_TARGET"] == "Android":
-
-    DEFINES["ANDROID"] = True
-    DEFINES["ANDROID_NDK_VERSION"] = "r12b"
-    DEFINES["DISABLE_NACL"] = True
-    DEFINES["HAVE_SYS_UIO_H"] = True
-    DEFINES["NO_TCMALLOC"] = True
-    DEFINES["USE_OPENSSL_CERTS"] = "1"
-    DEFINES["WEBRTC_ANDROID"] = True
-    DEFINES["WEBRTC_ANDROID_OPENSLES"] = True
-    DEFINES["WEBRTC_LINUX"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
-    DEFINES["__GNU_SOURCE"] = "1"
-
-    OS_LIBS += [
-        "log"
-    ]
-
-if CONFIG["OS_TARGET"] == "Darwin":
-
-    DEFINES["CR_XCODE_VERSION"] = "0920"
-    DEFINES["NO_TCMALLOC"] = True
-    DEFINES["WEBRTC_MAC"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["__ASSERT_MACROS_DEFINE_VERSIONS_WITHOUT_UNDERSCORE"] = "0"
-
-    OS_LIBS += [
-        "-framework Foundation"
-    ]
-
-if CONFIG["OS_TARGET"] == "DragonFly":
+if not CONFIG["MOZ_DEBUG"]:
 
-    DEFINES["USE_X11"] = "1"
-    DEFINES["WEBRTC_BSD"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
+    DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "0"
+    DEFINES["NDEBUG"] = True
+    DEFINES["NVALGRIND"] = True
 
-if CONFIG["OS_TARGET"] == "FreeBSD":
+if CONFIG["OS_TARGET"] == "NetBSD":
 
     DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_BSD"] = True
@@ -90,7 +52,6 @@ if CONFIG["OS_TARGET"] == "FreeBSD":
 if CONFIG["OS_TARGET"] == "Linux":
 
     DEFINES["USE_NSS_CERTS"] = "1"
-    DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_LINUX"] = True
     DEFINES["WEBRTC_POSIX"] = True
     DEFINES["_FILE_OFFSET_BITS"] = "64"
@@ -99,14 +60,7 @@ if CONFIG["OS_TARGET"] == "Linux":
         "rt"
     ]
 
-if CONFIG["OS_TARGET"] == "NetBSD":
-
-    DEFINES["USE_X11"] = "1"
-    DEFINES["WEBRTC_BSD"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
-
-if CONFIG["OS_TARGET"] == "OpenBSD":
+if CONFIG["OS_TARGET"] == "DragonFly":
 
     DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_BSD"] = True
@@ -142,10 +96,50 @@ if CONFIG["OS_TARGET"] == "WINNT":
         "winmm"
     ]
 
-if CONFIG["CPU_ARCH"] == "aarch64":
+if CONFIG["OS_TARGET"] == "Darwin":
 
-    DEFINES["WEBRTC_ARCH_ARM64"] = True
-    DEFINES["WEBRTC_HAS_NEON"] = True
+    DEFINES["CR_XCODE_VERSION"] = "0920"
+    DEFINES["NO_TCMALLOC"] = True
+    DEFINES["WEBRTC_MAC"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["__ASSERT_MACROS_DEFINE_VERSIONS_WITHOUT_UNDERSCORE"] = "0"
+
+    OS_LIBS += [
+        "-framework Foundation"
+    ]
+
+if CONFIG["OS_TARGET"] == "OpenBSD":
+
+    DEFINES["USE_X11"] = "1"
+    DEFINES["WEBRTC_BSD"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+
+if CONFIG["OS_TARGET"] == "FreeBSD":
+
+    DEFINES["USE_X11"] = "1"
+    DEFINES["WEBRTC_BSD"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+
+if CONFIG["OS_TARGET"] == "Android":
+
+    DEFINES["ANDROID"] = True
+    DEFINES["ANDROID_NDK_VERSION"] = "r12b"
+    DEFINES["DISABLE_NACL"] = True
+    DEFINES["HAVE_SYS_UIO_H"] = True
+    DEFINES["NO_TCMALLOC"] = True
+    DEFINES["USE_OPENSSL_CERTS"] = "1"
+    DEFINES["WEBRTC_ANDROID"] = True
+    DEFINES["WEBRTC_ANDROID_OPENSLES"] = True
+    DEFINES["WEBRTC_LINUX"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+    DEFINES["__GNU_SOURCE"] = "1"
+
+    OS_LIBS += [
+        "log"
+    ]
 
 if CONFIG["CPU_ARCH"] == "arm":
 
@@ -157,15 +151,24 @@ if CONFIG["CPU_ARCH"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Android":
+if CONFIG["CPU_ARCH"] == "ppc64":
 
-    DEFINES["_FORTIFY_SOURCE"] = "2"
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "mips64":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "aarch64":
+
+    DEFINES["WEBRTC_ARCH_ARM64"] = True
+    DEFINES["WEBRTC_HAS_NEON"] = True
 
 if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Darwin":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "DragonFly":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "OpenBSD":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
@@ -173,20 +176,28 @@ if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "FreeBSD":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "NetBSD":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Android":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "OpenBSD":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "DragonFly":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "Android":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "NetBSD":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "NetBSD":
 
     CXXFLAGS += [
         "-msse2"
     ]
 
+if CONFIG["CPU_ARCH"] == "x86_64" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
 if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "FreeBSD":
 
     CXXFLAGS += [
@@ -204,7 +215,7 @@ if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "Linux":
         "-msse2"
     ]
 
-if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "NetBSD":
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "Android":
 
     CXXFLAGS += [
         "-msse2"
@@ -216,4 +227,32 @@ if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "OpenBSD":
         "-msse2"
     ]
 
+if CONFIG["CPU_ARCH"] == "arm" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "aarch64" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "arm" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "aarch64" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["HOST_CPU_ARCH"] == "x86_64" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["HOST_CPU_ARCH"] == "x86" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
 Library("call_interfaces_gn")
diff --git a/media/webrtc/trunk/webrtc/call/rtp_interfaces_gn/moz.build b/media/webrtc/trunk/webrtc/call/rtp_interfaces_gn/moz.build
index ed4e8c2ec6a1..a60a3fcf9c1f 100644
--- a/media/webrtc/trunk/webrtc/call/rtp_interfaces_gn/moz.build
+++ b/media/webrtc/trunk/webrtc/call/rtp_interfaces_gn/moz.build
@@ -30,56 +30,18 @@ UNIFIED_SOURCES += [
     "/media/webrtc/trunk/webrtc/call/rtp_config.cc"
 ]
 
-if not CONFIG["MOZ_DEBUG"]:
-
-    DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "0"
-    DEFINES["NDEBUG"] = True
-    DEFINES["NVALGRIND"] = True
-
 if CONFIG["MOZ_DEBUG"] == "1":
 
     DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "1"
     DEFINES["WTF_USE_DYNAMIC_ANNOTATIONS"] = "1"
 
-if CONFIG["OS_TARGET"] == "Android":
-
-    DEFINES["ANDROID"] = True
-    DEFINES["ANDROID_NDK_VERSION"] = "r12b"
-    DEFINES["DISABLE_NACL"] = True
-    DEFINES["HAVE_SYS_UIO_H"] = True
-    DEFINES["NO_TCMALLOC"] = True
-    DEFINES["USE_OPENSSL_CERTS"] = "1"
-    DEFINES["WEBRTC_ANDROID"] = True
-    DEFINES["WEBRTC_ANDROID_OPENSLES"] = True
-    DEFINES["WEBRTC_LINUX"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
-    DEFINES["__GNU_SOURCE"] = "1"
-
-    OS_LIBS += [
-        "log"
-    ]
-
-if CONFIG["OS_TARGET"] == "Darwin":
-
-    DEFINES["CR_XCODE_VERSION"] = "0920"
-    DEFINES["NO_TCMALLOC"] = True
-    DEFINES["WEBRTC_MAC"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["__ASSERT_MACROS_DEFINE_VERSIONS_WITHOUT_UNDERSCORE"] = "0"
-
-    OS_LIBS += [
-        "-framework Foundation"
-    ]
-
-if CONFIG["OS_TARGET"] == "DragonFly":
+if not CONFIG["MOZ_DEBUG"]:
 
-    DEFINES["USE_X11"] = "1"
-    DEFINES["WEBRTC_BSD"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
+    DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "0"
+    DEFINES["NDEBUG"] = True
+    DEFINES["NVALGRIND"] = True
 
-if CONFIG["OS_TARGET"] == "FreeBSD":
+if CONFIG["OS_TARGET"] == "NetBSD":
 
     DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_BSD"] = True
@@ -89,19 +51,11 @@ if CONFIG["OS_TARGET"] == "FreeBSD":
 if CONFIG["OS_TARGET"] == "Linux":
 
     DEFINES["USE_NSS_CERTS"] = "1"
-    DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_LINUX"] = True
     DEFINES["WEBRTC_POSIX"] = True
     DEFINES["_FILE_OFFSET_BITS"] = "64"
 
-if CONFIG["OS_TARGET"] == "NetBSD":
-
-    DEFINES["USE_X11"] = "1"
-    DEFINES["WEBRTC_BSD"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
-
-if CONFIG["OS_TARGET"] == "OpenBSD":
+if CONFIG["OS_TARGET"] == "DragonFly":
 
     DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_BSD"] = True
@@ -133,10 +87,50 @@ if CONFIG["OS_TARGET"] == "WINNT":
     DEFINES["_WINDOWS"] = True
     DEFINES["__STD_C"] = True
 
-if CONFIG["CPU_ARCH"] == "aarch64":
+if CONFIG["OS_TARGET"] == "Darwin":
 
-    DEFINES["WEBRTC_ARCH_ARM64"] = True
-    DEFINES["WEBRTC_HAS_NEON"] = True
+    DEFINES["CR_XCODE_VERSION"] = "0920"
+    DEFINES["NO_TCMALLOC"] = True
+    DEFINES["WEBRTC_MAC"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["__ASSERT_MACROS_DEFINE_VERSIONS_WITHOUT_UNDERSCORE"] = "0"
+
+    OS_LIBS += [
+        "-framework Foundation"
+    ]
+
+if CONFIG["OS_TARGET"] == "OpenBSD":
+
+    DEFINES["USE_X11"] = "1"
+    DEFINES["WEBRTC_BSD"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+
+if CONFIG["OS_TARGET"] == "FreeBSD":
+
+    DEFINES["USE_X11"] = "1"
+    DEFINES["WEBRTC_BSD"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+
+if CONFIG["OS_TARGET"] == "Android":
+
+    DEFINES["ANDROID"] = True
+    DEFINES["ANDROID_NDK_VERSION"] = "r12b"
+    DEFINES["DISABLE_NACL"] = True
+    DEFINES["HAVE_SYS_UIO_H"] = True
+    DEFINES["NO_TCMALLOC"] = True
+    DEFINES["USE_OPENSSL_CERTS"] = "1"
+    DEFINES["WEBRTC_ANDROID"] = True
+    DEFINES["WEBRTC_ANDROID_OPENSLES"] = True
+    DEFINES["WEBRTC_LINUX"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+    DEFINES["__GNU_SOURCE"] = "1"
+
+    OS_LIBS += [
+        "log"
+    ]
 
 if CONFIG["CPU_ARCH"] == "arm":
 
@@ -148,15 +142,24 @@ if CONFIG["CPU_ARCH"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Android":
+if CONFIG["CPU_ARCH"] == "ppc64":
 
-    DEFINES["_FORTIFY_SOURCE"] = "2"
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "mips64":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "aarch64":
+
+    DEFINES["WEBRTC_ARCH_ARM64"] = True
+    DEFINES["WEBRTC_HAS_NEON"] = True
 
 if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Darwin":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "DragonFly":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "OpenBSD":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
@@ -164,20 +167,28 @@ if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "FreeBSD":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "NetBSD":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Android":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "OpenBSD":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "DragonFly":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "Android":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "NetBSD":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "NetBSD":
 
     CXXFLAGS += [
         "-msse2"
     ]
 
+if CONFIG["CPU_ARCH"] == "x86_64" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
 if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "FreeBSD":
 
     CXXFLAGS += [
@@ -195,7 +206,7 @@ if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "Linux":
         "-msse2"
     ]
 
-if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "NetBSD":
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "Android":
 
     CXXFLAGS += [
         "-msse2"
@@ -207,4 +218,32 @@ if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "OpenBSD":
         "-msse2"
     ]
 
+if CONFIG["CPU_ARCH"] == "arm" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "aarch64" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "arm" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "aarch64" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["HOST_CPU_ARCH"] == "x86_64" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["HOST_CPU_ARCH"] == "x86" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
 Library("rtp_interfaces_gn")
diff --git a/media/webrtc/trunk/webrtc/call/rtp_receiver_gn/moz.build b/media/webrtc/trunk/webrtc/call/rtp_receiver_gn/moz.build
index 86697aabf72d..65f8fcf3d831 100644
--- a/media/webrtc/trunk/webrtc/call/rtp_receiver_gn/moz.build
+++ b/media/webrtc/trunk/webrtc/call/rtp_receiver_gn/moz.build
@@ -34,56 +34,18 @@ UNIFIED_SOURCES += [
     "/media/webrtc/trunk/webrtc/call/rtx_receive_stream.cc"
 ]
 
-if not CONFIG["MOZ_DEBUG"]:
-
-    DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "0"
-    DEFINES["NDEBUG"] = True
-    DEFINES["NVALGRIND"] = True
-
 if CONFIG["MOZ_DEBUG"] == "1":
 
     DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "1"
     DEFINES["WTF_USE_DYNAMIC_ANNOTATIONS"] = "1"
 
-if CONFIG["OS_TARGET"] == "Android":
-
-    DEFINES["ANDROID"] = True
-    DEFINES["ANDROID_NDK_VERSION"] = "r12b"
-    DEFINES["DISABLE_NACL"] = True
-    DEFINES["HAVE_SYS_UIO_H"] = True
-    DEFINES["NO_TCMALLOC"] = True
-    DEFINES["USE_OPENSSL_CERTS"] = "1"
-    DEFINES["WEBRTC_ANDROID"] = True
-    DEFINES["WEBRTC_ANDROID_OPENSLES"] = True
-    DEFINES["WEBRTC_LINUX"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
-    DEFINES["__GNU_SOURCE"] = "1"
-
-    OS_LIBS += [
-        "log"
-    ]
-
-if CONFIG["OS_TARGET"] == "Darwin":
-
-    DEFINES["CR_XCODE_VERSION"] = "0920"
-    DEFINES["NO_TCMALLOC"] = True
-    DEFINES["WEBRTC_MAC"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["__ASSERT_MACROS_DEFINE_VERSIONS_WITHOUT_UNDERSCORE"] = "0"
-
-    OS_LIBS += [
-        "-framework Foundation"
-    ]
-
-if CONFIG["OS_TARGET"] == "DragonFly":
+if not CONFIG["MOZ_DEBUG"]:
 
-    DEFINES["USE_X11"] = "1"
-    DEFINES["WEBRTC_BSD"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
+    DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "0"
+    DEFINES["NDEBUG"] = True
+    DEFINES["NVALGRIND"] = True
 
-if CONFIG["OS_TARGET"] == "FreeBSD":
+if CONFIG["OS_TARGET"] == "NetBSD":
 
     DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_BSD"] = True
@@ -93,7 +55,6 @@ if CONFIG["OS_TARGET"] == "FreeBSD":
 if CONFIG["OS_TARGET"] == "Linux":
 
     DEFINES["USE_NSS_CERTS"] = "1"
-    DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_LINUX"] = True
     DEFINES["WEBRTC_POSIX"] = True
     DEFINES["_FILE_OFFSET_BITS"] = "64"
@@ -102,14 +63,7 @@ if CONFIG["OS_TARGET"] == "Linux":
         "rt"
     ]
 
-if CONFIG["OS_TARGET"] == "NetBSD":
-
-    DEFINES["USE_X11"] = "1"
-    DEFINES["WEBRTC_BSD"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
-
-if CONFIG["OS_TARGET"] == "OpenBSD":
+if CONFIG["OS_TARGET"] == "DragonFly":
 
     DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_BSD"] = True
@@ -145,10 +99,50 @@ if CONFIG["OS_TARGET"] == "WINNT":
         "winmm"
     ]
 
-if CONFIG["CPU_ARCH"] == "aarch64":
+if CONFIG["OS_TARGET"] == "Darwin":
 
-    DEFINES["WEBRTC_ARCH_ARM64"] = True
-    DEFINES["WEBRTC_HAS_NEON"] = True
+    DEFINES["CR_XCODE_VERSION"] = "0920"
+    DEFINES["NO_TCMALLOC"] = True
+    DEFINES["WEBRTC_MAC"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["__ASSERT_MACROS_DEFINE_VERSIONS_WITHOUT_UNDERSCORE"] = "0"
+
+    OS_LIBS += [
+        "-framework Foundation"
+    ]
+
+if CONFIG["OS_TARGET"] == "OpenBSD":
+
+    DEFINES["USE_X11"] = "1"
+    DEFINES["WEBRTC_BSD"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+
+if CONFIG["OS_TARGET"] == "FreeBSD":
+
+    DEFINES["USE_X11"] = "1"
+    DEFINES["WEBRTC_BSD"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+
+if CONFIG["OS_TARGET"] == "Android":
+
+    DEFINES["ANDROID"] = True
+    DEFINES["ANDROID_NDK_VERSION"] = "r12b"
+    DEFINES["DISABLE_NACL"] = True
+    DEFINES["HAVE_SYS_UIO_H"] = True
+    DEFINES["NO_TCMALLOC"] = True
+    DEFINES["USE_OPENSSL_CERTS"] = "1"
+    DEFINES["WEBRTC_ANDROID"] = True
+    DEFINES["WEBRTC_ANDROID_OPENSLES"] = True
+    DEFINES["WEBRTC_LINUX"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+    DEFINES["__GNU_SOURCE"] = "1"
+
+    OS_LIBS += [
+        "log"
+    ]
 
 if CONFIG["CPU_ARCH"] == "arm":
 
@@ -160,15 +154,24 @@ if CONFIG["CPU_ARCH"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Android":
+if CONFIG["CPU_ARCH"] == "ppc64":
 
-    DEFINES["_FORTIFY_SOURCE"] = "2"
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "mips64":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "aarch64":
+
+    DEFINES["WEBRTC_ARCH_ARM64"] = True
+    DEFINES["WEBRTC_HAS_NEON"] = True
 
 if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Darwin":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "DragonFly":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "OpenBSD":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
@@ -176,20 +179,28 @@ if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "FreeBSD":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "NetBSD":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Android":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "OpenBSD":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "DragonFly":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "Android":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "NetBSD":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "NetBSD":
 
     CXXFLAGS += [
         "-msse2"
     ]
 
+if CONFIG["CPU_ARCH"] == "x86_64" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
 if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "FreeBSD":
 
     CXXFLAGS += [
@@ -207,7 +218,7 @@ if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "Linux":
         "-msse2"
     ]
 
-if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "NetBSD":
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "Android":
 
     CXXFLAGS += [
         "-msse2"
@@ -219,4 +230,32 @@ if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "OpenBSD":
         "-msse2"
     ]
 
+if CONFIG["CPU_ARCH"] == "arm" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "aarch64" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "arm" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "aarch64" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["HOST_CPU_ARCH"] == "x86_64" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["HOST_CPU_ARCH"] == "x86" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
 Library("rtp_receiver_gn")
diff --git a/media/webrtc/trunk/webrtc/call/rtp_sender_gn/moz.build b/media/webrtc/trunk/webrtc/call/rtp_sender_gn/moz.build
index f78960bc0d94..8034fcbb9493 100644
--- a/media/webrtc/trunk/webrtc/call/rtp_sender_gn/moz.build
+++ b/media/webrtc/trunk/webrtc/call/rtp_sender_gn/moz.build
@@ -30,56 +30,18 @@ UNIFIED_SOURCES += [
     "/media/webrtc/trunk/webrtc/call/rtp_transport_controller_send.cc"
 ]
 
-if not CONFIG["MOZ_DEBUG"]:
-
-    DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "0"
-    DEFINES["NDEBUG"] = True
-    DEFINES["NVALGRIND"] = True
-
 if CONFIG["MOZ_DEBUG"] == "1":
 
     DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "1"
     DEFINES["WTF_USE_DYNAMIC_ANNOTATIONS"] = "1"
 
-if CONFIG["OS_TARGET"] == "Android":
-
-    DEFINES["ANDROID"] = True
-    DEFINES["ANDROID_NDK_VERSION"] = "r12b"
-    DEFINES["DISABLE_NACL"] = True
-    DEFINES["HAVE_SYS_UIO_H"] = True
-    DEFINES["NO_TCMALLOC"] = True
-    DEFINES["USE_OPENSSL_CERTS"] = "1"
-    DEFINES["WEBRTC_ANDROID"] = True
-    DEFINES["WEBRTC_ANDROID_OPENSLES"] = True
-    DEFINES["WEBRTC_LINUX"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
-    DEFINES["__GNU_SOURCE"] = "1"
-
-    OS_LIBS += [
-        "log"
-    ]
-
-if CONFIG["OS_TARGET"] == "Darwin":
-
-    DEFINES["CR_XCODE_VERSION"] = "0920"
-    DEFINES["NO_TCMALLOC"] = True
-    DEFINES["WEBRTC_MAC"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["__ASSERT_MACROS_DEFINE_VERSIONS_WITHOUT_UNDERSCORE"] = "0"
-
-    OS_LIBS += [
-        "-framework Foundation"
-    ]
-
-if CONFIG["OS_TARGET"] == "DragonFly":
+if not CONFIG["MOZ_DEBUG"]:
 
-    DEFINES["USE_X11"] = "1"
-    DEFINES["WEBRTC_BSD"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
+    DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "0"
+    DEFINES["NDEBUG"] = True
+    DEFINES["NVALGRIND"] = True
 
-if CONFIG["OS_TARGET"] == "FreeBSD":
+if CONFIG["OS_TARGET"] == "NetBSD":
 
     DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_BSD"] = True
@@ -89,7 +51,6 @@ if CONFIG["OS_TARGET"] == "FreeBSD":
 if CONFIG["OS_TARGET"] == "Linux":
 
     DEFINES["USE_NSS_CERTS"] = "1"
-    DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_LINUX"] = True
     DEFINES["WEBRTC_POSIX"] = True
     DEFINES["_FILE_OFFSET_BITS"] = "64"
@@ -98,14 +59,7 @@ if CONFIG["OS_TARGET"] == "Linux":
         "rt"
     ]
 
-if CONFIG["OS_TARGET"] == "NetBSD":
-
-    DEFINES["USE_X11"] = "1"
-    DEFINES["WEBRTC_BSD"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
-
-if CONFIG["OS_TARGET"] == "OpenBSD":
+if CONFIG["OS_TARGET"] == "DragonFly":
 
     DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_BSD"] = True
@@ -141,10 +95,50 @@ if CONFIG["OS_TARGET"] == "WINNT":
         "winmm"
     ]
 
-if CONFIG["CPU_ARCH"] == "aarch64":
+if CONFIG["OS_TARGET"] == "Darwin":
 
-    DEFINES["WEBRTC_ARCH_ARM64"] = True
-    DEFINES["WEBRTC_HAS_NEON"] = True
+    DEFINES["CR_XCODE_VERSION"] = "0920"
+    DEFINES["NO_TCMALLOC"] = True
+    DEFINES["WEBRTC_MAC"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["__ASSERT_MACROS_DEFINE_VERSIONS_WITHOUT_UNDERSCORE"] = "0"
+
+    OS_LIBS += [
+        "-framework Foundation"
+    ]
+
+if CONFIG["OS_TARGET"] == "OpenBSD":
+
+    DEFINES["USE_X11"] = "1"
+    DEFINES["WEBRTC_BSD"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+
+if CONFIG["OS_TARGET"] == "FreeBSD":
+
+    DEFINES["USE_X11"] = "1"
+    DEFINES["WEBRTC_BSD"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+
+if CONFIG["OS_TARGET"] == "Android":
+
+    DEFINES["ANDROID"] = True
+    DEFINES["ANDROID_NDK_VERSION"] = "r12b"
+    DEFINES["DISABLE_NACL"] = True
+    DEFINES["HAVE_SYS_UIO_H"] = True
+    DEFINES["NO_TCMALLOC"] = True
+    DEFINES["USE_OPENSSL_CERTS"] = "1"
+    DEFINES["WEBRTC_ANDROID"] = True
+    DEFINES["WEBRTC_ANDROID_OPENSLES"] = True
+    DEFINES["WEBRTC_LINUX"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+    DEFINES["__GNU_SOURCE"] = "1"
+
+    OS_LIBS += [
+        "log"
+    ]
 
 if CONFIG["CPU_ARCH"] == "arm":
 
@@ -156,15 +150,24 @@ if CONFIG["CPU_ARCH"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Android":
+if CONFIG["CPU_ARCH"] == "ppc64":
 
-    DEFINES["_FORTIFY_SOURCE"] = "2"
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "mips64":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "aarch64":
+
+    DEFINES["WEBRTC_ARCH_ARM64"] = True
+    DEFINES["WEBRTC_HAS_NEON"] = True
 
 if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Darwin":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "DragonFly":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "OpenBSD":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
@@ -172,20 +175,28 @@ if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "FreeBSD":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "NetBSD":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Android":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "OpenBSD":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "DragonFly":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "Android":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "NetBSD":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "NetBSD":
 
     CXXFLAGS += [
         "-msse2"
     ]
 
+if CONFIG["CPU_ARCH"] == "x86_64" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
 if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "FreeBSD":
 
     CXXFLAGS += [
@@ -203,7 +214,7 @@ if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "Linux":
         "-msse2"
     ]
 
-if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "NetBSD":
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "Android":
 
     CXXFLAGS += [
         "-msse2"
@@ -215,4 +226,32 @@ if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "OpenBSD":
         "-msse2"
     ]
 
+if CONFIG["CPU_ARCH"] == "arm" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "aarch64" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "arm" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "aarch64" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["HOST_CPU_ARCH"] == "x86_64" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["HOST_CPU_ARCH"] == "x86" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
 Library("rtp_sender_gn")
diff --git a/media/webrtc/trunk/webrtc/call/video_stream_api_gn/moz.build b/media/webrtc/trunk/webrtc/call/video_stream_api_gn/moz.build
index ddf4868ad3c2..1acac627dbf8 100644
--- a/media/webrtc/trunk/webrtc/call/video_stream_api_gn/moz.build
+++ b/media/webrtc/trunk/webrtc/call/video_stream_api_gn/moz.build
@@ -34,56 +34,18 @@ UNIFIED_SOURCES += [
     "/media/webrtc/trunk/webrtc/call/video_send_stream.cc"
 ]
 
-if not CONFIG["MOZ_DEBUG"]:
-
-    DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "0"
-    DEFINES["NDEBUG"] = True
-    DEFINES["NVALGRIND"] = True
-
 if CONFIG["MOZ_DEBUG"] == "1":
 
     DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "1"
     DEFINES["WTF_USE_DYNAMIC_ANNOTATIONS"] = "1"
 
-if CONFIG["OS_TARGET"] == "Android":
-
-    DEFINES["ANDROID"] = True
-    DEFINES["ANDROID_NDK_VERSION"] = "r12b"
-    DEFINES["DISABLE_NACL"] = True
-    DEFINES["HAVE_SYS_UIO_H"] = True
-    DEFINES["NO_TCMALLOC"] = True
-    DEFINES["USE_OPENSSL_CERTS"] = "1"
-    DEFINES["WEBRTC_ANDROID"] = True
-    DEFINES["WEBRTC_ANDROID_OPENSLES"] = True
-    DEFINES["WEBRTC_LINUX"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
-    DEFINES["__GNU_SOURCE"] = "1"
-
-    OS_LIBS += [
-        "log"
-    ]
-
-if CONFIG["OS_TARGET"] == "Darwin":
-
-    DEFINES["CR_XCODE_VERSION"] = "0920"
-    DEFINES["NO_TCMALLOC"] = True
-    DEFINES["WEBRTC_MAC"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["__ASSERT_MACROS_DEFINE_VERSIONS_WITHOUT_UNDERSCORE"] = "0"
-
-    OS_LIBS += [
-        "-framework Foundation"
-    ]
-
-if CONFIG["OS_TARGET"] == "DragonFly":
+if not CONFIG["MOZ_DEBUG"]:
 
-    DEFINES["USE_X11"] = "1"
-    DEFINES["WEBRTC_BSD"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
+    DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "0"
+    DEFINES["NDEBUG"] = True
+    DEFINES["NVALGRIND"] = True
 
-if CONFIG["OS_TARGET"] == "FreeBSD":
+if CONFIG["OS_TARGET"] == "NetBSD":
 
     DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_BSD"] = True
@@ -93,7 +55,6 @@ if CONFIG["OS_TARGET"] == "FreeBSD":
 if CONFIG["OS_TARGET"] == "Linux":
 
     DEFINES["USE_NSS_CERTS"] = "1"
-    DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_LINUX"] = True
     DEFINES["WEBRTC_POSIX"] = True
     DEFINES["_FILE_OFFSET_BITS"] = "64"
@@ -102,14 +63,7 @@ if CONFIG["OS_TARGET"] == "Linux":
         "rt"
     ]
 
-if CONFIG["OS_TARGET"] == "NetBSD":
-
-    DEFINES["USE_X11"] = "1"
-    DEFINES["WEBRTC_BSD"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
-
-if CONFIG["OS_TARGET"] == "OpenBSD":
+if CONFIG["OS_TARGET"] == "DragonFly":
 
     DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_BSD"] = True
@@ -145,10 +99,50 @@ if CONFIG["OS_TARGET"] == "WINNT":
         "winmm"
     ]
 
-if CONFIG["CPU_ARCH"] == "aarch64":
+if CONFIG["OS_TARGET"] == "Darwin":
 
-    DEFINES["WEBRTC_ARCH_ARM64"] = True
-    DEFINES["WEBRTC_HAS_NEON"] = True
+    DEFINES["CR_XCODE_VERSION"] = "0920"
+    DEFINES["NO_TCMALLOC"] = True
+    DEFINES["WEBRTC_MAC"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["__ASSERT_MACROS_DEFINE_VERSIONS_WITHOUT_UNDERSCORE"] = "0"
+
+    OS_LIBS += [
+        "-framework Foundation"
+    ]
+
+if CONFIG["OS_TARGET"] == "OpenBSD":
+
+    DEFINES["USE_X11"] = "1"
+    DEFINES["WEBRTC_BSD"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+
+if CONFIG["OS_TARGET"] == "FreeBSD":
+
+    DEFINES["USE_X11"] = "1"
+    DEFINES["WEBRTC_BSD"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+
+if CONFIG["OS_TARGET"] == "Android":
+
+    DEFINES["ANDROID"] = True
+    DEFINES["ANDROID_NDK_VERSION"] = "r12b"
+    DEFINES["DISABLE_NACL"] = True
+    DEFINES["HAVE_SYS_UIO_H"] = True
+    DEFINES["NO_TCMALLOC"] = True
+    DEFINES["USE_OPENSSL_CERTS"] = "1"
+    DEFINES["WEBRTC_ANDROID"] = True
+    DEFINES["WEBRTC_ANDROID_OPENSLES"] = True
+    DEFINES["WEBRTC_LINUX"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+    DEFINES["__GNU_SOURCE"] = "1"
+
+    OS_LIBS += [
+        "log"
+    ]
 
 if CONFIG["CPU_ARCH"] == "arm":
 
@@ -160,15 +154,24 @@ if CONFIG["CPU_ARCH"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Android":
+if CONFIG["CPU_ARCH"] == "ppc64":
 
-    DEFINES["_FORTIFY_SOURCE"] = "2"
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "mips64":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "aarch64":
+
+    DEFINES["WEBRTC_ARCH_ARM64"] = True
+    DEFINES["WEBRTC_HAS_NEON"] = True
 
 if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Darwin":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "DragonFly":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "OpenBSD":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
@@ -176,20 +179,28 @@ if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "FreeBSD":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "NetBSD":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Android":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "OpenBSD":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "DragonFly":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "Android":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "NetBSD":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "NetBSD":
 
     CXXFLAGS += [
         "-msse2"
     ]
 
+if CONFIG["CPU_ARCH"] == "x86_64" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
 if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "FreeBSD":
 
     CXXFLAGS += [
@@ -207,7 +218,7 @@ if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "Linux":
         "-msse2"
     ]
 
-if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "NetBSD":
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "Android":
 
     CXXFLAGS += [
         "-msse2"
@@ -219,4 +230,32 @@ if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "OpenBSD":
         "-msse2"
     ]
 
+if CONFIG["CPU_ARCH"] == "arm" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "aarch64" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "arm" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "aarch64" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["HOST_CPU_ARCH"] == "x86_64" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["HOST_CPU_ARCH"] == "x86" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
 Library("video_stream_api_gn")
diff --git a/media/webrtc/trunk/webrtc/common_audio/common_audio_c_arm_asm_gn/moz.build b/media/webrtc/trunk/webrtc/common_audio/common_audio_c_arm_asm_gn/moz.build
index ca041b538eb3..58a3dca7511a 100644
--- a/media/webrtc/trunk/webrtc/common_audio/common_audio_c_arm_asm_gn/moz.build
+++ b/media/webrtc/trunk/webrtc/common_audio/common_audio_c_arm_asm_gn/moz.build
@@ -26,48 +26,18 @@ LOCAL_INCLUDES += [
     "/media/webrtc/trunk/webrtc/"
 ]
 
-if not CONFIG["MOZ_DEBUG"]:
-
-    DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "0"
-    DEFINES["NDEBUG"] = True
-    DEFINES["NVALGRIND"] = True
-
 if CONFIG["MOZ_DEBUG"] == "1":
 
     DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "1"
     DEFINES["WTF_USE_DYNAMIC_ANNOTATIONS"] = "1"
 
-if CONFIG["OS_TARGET"] == "Android":
-
-    DEFINES["ANDROID"] = True
-    DEFINES["ANDROID_NDK_VERSION"] = "r12b"
-    DEFINES["DISABLE_NACL"] = True
-    DEFINES["HAVE_SYS_UIO_H"] = True
-    DEFINES["NO_TCMALLOC"] = True
-    DEFINES["USE_OPENSSL_CERTS"] = "1"
-    DEFINES["WEBRTC_ANDROID"] = True
-    DEFINES["WEBRTC_ANDROID_OPENSLES"] = True
-    DEFINES["WEBRTC_LINUX"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
-    DEFINES["__GNU_SOURCE"] = "1"
-
-if CONFIG["OS_TARGET"] == "Darwin":
-
-    DEFINES["CR_XCODE_VERSION"] = "0920"
-    DEFINES["NO_TCMALLOC"] = True
-    DEFINES["WEBRTC_MAC"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["__ASSERT_MACROS_DEFINE_VERSIONS_WITHOUT_UNDERSCORE"] = "0"
-
-if CONFIG["OS_TARGET"] == "DragonFly":
+if not CONFIG["MOZ_DEBUG"]:
 
-    DEFINES["USE_X11"] = "1"
-    DEFINES["WEBRTC_BSD"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
+    DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "0"
+    DEFINES["NDEBUG"] = True
+    DEFINES["NVALGRIND"] = True
 
-if CONFIG["OS_TARGET"] == "FreeBSD":
+if CONFIG["OS_TARGET"] == "NetBSD":
 
     DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_BSD"] = True
@@ -77,19 +47,11 @@ if CONFIG["OS_TARGET"] == "FreeBSD":
 if CONFIG["OS_TARGET"] == "Linux":
 
     DEFINES["USE_NSS_CERTS"] = "1"
-    DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_LINUX"] = True
     DEFINES["WEBRTC_POSIX"] = True
     DEFINES["_FILE_OFFSET_BITS"] = "64"
 
-if CONFIG["OS_TARGET"] == "NetBSD":
-
-    DEFINES["USE_X11"] = "1"
-    DEFINES["WEBRTC_BSD"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
-
-if CONFIG["OS_TARGET"] == "OpenBSD":
+if CONFIG["OS_TARGET"] == "DragonFly":
 
     DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_BSD"] = True
@@ -121,10 +83,42 @@ if CONFIG["OS_TARGET"] == "WINNT":
     DEFINES["_WINDOWS"] = True
     DEFINES["__STD_C"] = True
 
-if CONFIG["CPU_ARCH"] == "aarch64":
+if CONFIG["OS_TARGET"] == "Darwin":
 
-    DEFINES["WEBRTC_ARCH_ARM64"] = True
-    DEFINES["WEBRTC_HAS_NEON"] = True
+    DEFINES["CR_XCODE_VERSION"] = "0920"
+    DEFINES["NO_TCMALLOC"] = True
+    DEFINES["WEBRTC_MAC"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["__ASSERT_MACROS_DEFINE_VERSIONS_WITHOUT_UNDERSCORE"] = "0"
+
+if CONFIG["OS_TARGET"] == "OpenBSD":
+
+    DEFINES["USE_X11"] = "1"
+    DEFINES["WEBRTC_BSD"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+
+if CONFIG["OS_TARGET"] == "FreeBSD":
+
+    DEFINES["USE_X11"] = "1"
+    DEFINES["WEBRTC_BSD"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+
+if CONFIG["OS_TARGET"] == "Android":
+
+    DEFINES["ANDROID"] = True
+    DEFINES["ANDROID_NDK_VERSION"] = "r12b"
+    DEFINES["DISABLE_NACL"] = True
+    DEFINES["HAVE_SYS_UIO_H"] = True
+    DEFINES["NO_TCMALLOC"] = True
+    DEFINES["USE_OPENSSL_CERTS"] = "1"
+    DEFINES["WEBRTC_ANDROID"] = True
+    DEFINES["WEBRTC_ANDROID_OPENSLES"] = True
+    DEFINES["WEBRTC_LINUX"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+    DEFINES["__GNU_SOURCE"] = "1"
 
 if CONFIG["CPU_ARCH"] == "arm":
 
@@ -138,15 +132,24 @@ if CONFIG["CPU_ARCH"] == "arm":
         "/media/webrtc/trunk/webrtc/common_audio/signal_processing/spl_sqrt_floor_arm.S"
     ]
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Android":
+if CONFIG["CPU_ARCH"] == "ppc64":
 
-    DEFINES["_FORTIFY_SOURCE"] = "2"
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "mips64":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "aarch64":
+
+    DEFINES["WEBRTC_ARCH_ARM64"] = True
+    DEFINES["WEBRTC_HAS_NEON"] = True
 
 if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Darwin":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "DragonFly":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "OpenBSD":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
@@ -154,17 +157,53 @@ if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "FreeBSD":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "NetBSD":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Android":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "OpenBSD":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "DragonFly":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "NetBSD":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
+if CONFIG["CPU_ARCH"] == "x86_64" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
 if CONFIG["CPU_ARCH"] == "aarch64" and CONFIG["OS_TARGET"] == "Linux":
 
     DEFINES["DISABLE_NACL"] = True
     DEFINES["NO_TCMALLOC"] = True
 
+if CONFIG["CPU_ARCH"] == "arm" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "aarch64" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "arm" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "aarch64" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["HOST_CPU_ARCH"] == "x86_64" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["HOST_CPU_ARCH"] == "x86" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
 Library("common_audio_c_arm_asm_gn")
diff --git a/media/webrtc/trunk/webrtc/common_audio/common_audio_c_gn/moz.build b/media/webrtc/trunk/webrtc/common_audio/common_audio_c_gn/moz.build
index d79dda3ea440..85e4924d3205 100644
--- a/media/webrtc/trunk/webrtc/common_audio/common_audio_c_gn/moz.build
+++ b/media/webrtc/trunk/webrtc/common_audio/common_audio_c_gn/moz.build
@@ -72,68 +72,18 @@ UNIFIED_SOURCES += [
     "/media/webrtc/trunk/webrtc/common_audio/vad/vad_sp.c"
 ]
 
-if not CONFIG["MOZ_DEBUG"]:
-
-    DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "0"
-    DEFINES["NDEBUG"] = True
-    DEFINES["NVALGRIND"] = True
-
 if CONFIG["MOZ_DEBUG"] == "1":
 
     DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "1"
     DEFINES["WTF_USE_DYNAMIC_ANNOTATIONS"] = "1"
 
-if CONFIG["OS_TARGET"] == "Android":
-
-    DEFINES["ANDROID"] = True
-    DEFINES["ANDROID_NDK_VERSION"] = "r12b"
-    DEFINES["DISABLE_NACL"] = True
-    DEFINES["HAVE_SYS_UIO_H"] = True
-    DEFINES["NO_TCMALLOC"] = True
-    DEFINES["USE_OPENSSL_CERTS"] = "1"
-    DEFINES["WEBRTC_ANDROID"] = True
-    DEFINES["WEBRTC_ANDROID_OPENSLES"] = True
-    DEFINES["WEBRTC_LINUX"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
-    DEFINES["__GNU_SOURCE"] = "1"
-
-    OS_LIBS += [
-        "log"
-    ]
-
-if CONFIG["OS_TARGET"] == "Darwin":
-
-    DEFINES["CR_XCODE_VERSION"] = "0920"
-    DEFINES["NO_TCMALLOC"] = True
-    DEFINES["WEBRTC_MAC"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["__ASSERT_MACROS_DEFINE_VERSIONS_WITHOUT_UNDERSCORE"] = "0"
-
-    OS_LIBS += [
-        "-framework Foundation"
-    ]
-
-    UNIFIED_SOURCES += [
-        "/media/webrtc/trunk/webrtc/common_audio/signal_processing/complex_bit_reverse.c",
-        "/media/webrtc/trunk/webrtc/common_audio/signal_processing/filter_ar_fast_q12.c",
-        "/media/webrtc/trunk/webrtc/common_audio/signal_processing/spl_sqrt_floor.c"
-    ]
-
-if CONFIG["OS_TARGET"] == "DragonFly":
-
-    DEFINES["USE_X11"] = "1"
-    DEFINES["WEBRTC_BSD"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
+if not CONFIG["MOZ_DEBUG"]:
 
-    UNIFIED_SOURCES += [
-        "/media/webrtc/trunk/webrtc/common_audio/signal_processing/complex_bit_reverse.c",
-        "/media/webrtc/trunk/webrtc/common_audio/signal_processing/filter_ar_fast_q12.c",
-        "/media/webrtc/trunk/webrtc/common_audio/signal_processing/spl_sqrt_floor.c"
-    ]
+    DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "0"
+    DEFINES["NDEBUG"] = True
+    DEFINES["NVALGRIND"] = True
 
-if CONFIG["OS_TARGET"] == "FreeBSD":
+if CONFIG["OS_TARGET"] == "NetBSD":
 
     DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_BSD"] = True
@@ -143,7 +93,6 @@ if CONFIG["OS_TARGET"] == "FreeBSD":
 if CONFIG["OS_TARGET"] == "Linux":
 
     DEFINES["USE_NSS_CERTS"] = "1"
-    DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_LINUX"] = True
     DEFINES["WEBRTC_POSIX"] = True
     DEFINES["_FILE_OFFSET_BITS"] = "64"
@@ -152,19 +101,18 @@ if CONFIG["OS_TARGET"] == "Linux":
         "rt"
     ]
 
-if CONFIG["OS_TARGET"] == "NetBSD":
+if CONFIG["OS_TARGET"] == "DragonFly":
 
     DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_BSD"] = True
     DEFINES["WEBRTC_POSIX"] = True
     DEFINES["_FILE_OFFSET_BITS"] = "64"
 
-if CONFIG["OS_TARGET"] == "OpenBSD":
-
-    DEFINES["USE_X11"] = "1"
-    DEFINES["WEBRTC_BSD"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
+    UNIFIED_SOURCES += [
+        "/media/webrtc/trunk/webrtc/common_audio/signal_processing/complex_bit_reverse.c",
+        "/media/webrtc/trunk/webrtc/common_audio/signal_processing/filter_ar_fast_q12.c",
+        "/media/webrtc/trunk/webrtc/common_audio/signal_processing/spl_sqrt_floor.c"
+    ]
 
 if CONFIG["OS_TARGET"] == "WINNT":
 
@@ -201,10 +149,56 @@ if CONFIG["OS_TARGET"] == "WINNT":
         "/media/webrtc/trunk/webrtc/common_audio/signal_processing/spl_sqrt_floor.c"
     ]
 
-if CONFIG["CPU_ARCH"] == "aarch64":
+if CONFIG["OS_TARGET"] == "Darwin":
 
-    DEFINES["WEBRTC_ARCH_ARM64"] = True
-    DEFINES["WEBRTC_HAS_NEON"] = True
+    DEFINES["CR_XCODE_VERSION"] = "0920"
+    DEFINES["NO_TCMALLOC"] = True
+    DEFINES["WEBRTC_MAC"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["__ASSERT_MACROS_DEFINE_VERSIONS_WITHOUT_UNDERSCORE"] = "0"
+
+    OS_LIBS += [
+        "-framework Foundation"
+    ]
+
+    UNIFIED_SOURCES += [
+        "/media/webrtc/trunk/webrtc/common_audio/signal_processing/complex_bit_reverse.c",
+        "/media/webrtc/trunk/webrtc/common_audio/signal_processing/filter_ar_fast_q12.c",
+        "/media/webrtc/trunk/webrtc/common_audio/signal_processing/spl_sqrt_floor.c"
+    ]
+
+if CONFIG["OS_TARGET"] == "OpenBSD":
+
+    DEFINES["USE_X11"] = "1"
+    DEFINES["WEBRTC_BSD"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+
+if CONFIG["OS_TARGET"] == "FreeBSD":
+
+    DEFINES["USE_X11"] = "1"
+    DEFINES["WEBRTC_BSD"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+
+if CONFIG["OS_TARGET"] == "Android":
+
+    DEFINES["ANDROID"] = True
+    DEFINES["ANDROID_NDK_VERSION"] = "r12b"
+    DEFINES["DISABLE_NACL"] = True
+    DEFINES["HAVE_SYS_UIO_H"] = True
+    DEFINES["NO_TCMALLOC"] = True
+    DEFINES["USE_OPENSSL_CERTS"] = "1"
+    DEFINES["WEBRTC_ANDROID"] = True
+    DEFINES["WEBRTC_ANDROID_OPENSLES"] = True
+    DEFINES["WEBRTC_LINUX"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+    DEFINES["__GNU_SOURCE"] = "1"
+
+    OS_LIBS += [
+        "log"
+    ]
 
 if CONFIG["CPU_ARCH"] == "arm":
 
@@ -216,7 +210,9 @@ if CONFIG["CPU_ARCH"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
-if CONFIG["CPU_ARCH"] == "mips64":
+if CONFIG["CPU_ARCH"] == "ppc64":
+
+    DEFINES["USE_X11"] = "1"
 
     UNIFIED_SOURCES += [
         "/media/webrtc/trunk/webrtc/common_audio/signal_processing/complex_bit_reverse.c",
@@ -224,7 +220,9 @@ if CONFIG["CPU_ARCH"] == "mips64":
         "/media/webrtc/trunk/webrtc/common_audio/signal_processing/spl_sqrt_floor.c"
     ]
 
-if CONFIG["CPU_ARCH"] == "ppc64":
+if CONFIG["CPU_ARCH"] == "mips64":
+
+    DEFINES["USE_X11"] = "1"
 
     UNIFIED_SOURCES += [
         "/media/webrtc/trunk/webrtc/common_audio/signal_processing/complex_bit_reverse.c",
@@ -232,15 +230,16 @@ if CONFIG["CPU_ARCH"] == "ppc64":
         "/media/webrtc/trunk/webrtc/common_audio/signal_processing/spl_sqrt_floor.c"
     ]
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Android":
+if CONFIG["CPU_ARCH"] == "aarch64":
 
-    DEFINES["_FORTIFY_SOURCE"] = "2"
+    DEFINES["WEBRTC_ARCH_ARM64"] = True
+    DEFINES["WEBRTC_HAS_NEON"] = True
 
 if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Darwin":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "DragonFly":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "OpenBSD":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
@@ -248,23 +247,19 @@ if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "FreeBSD":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "NetBSD":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Android":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "OpenBSD":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "DragonFly":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if CONFIG["CPU_ARCH"] == "aarch64" and CONFIG["OS_TARGET"] == "Android":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "NetBSD":
 
-    UNIFIED_SOURCES += [
-        "/media/webrtc/trunk/webrtc/common_audio/signal_processing/complex_bit_reverse.c",
-        "/media/webrtc/trunk/webrtc/common_audio/signal_processing/filter_ar_fast_q12.c",
-        "/media/webrtc/trunk/webrtc/common_audio/signal_processing/spl_sqrt_floor.c"
-    ]
+    DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "Android":
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "NetBSD":
 
     CFLAGS += [
         "-msse2"
@@ -276,7 +271,7 @@ if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "Android":
         "/media/webrtc/trunk/webrtc/common_audio/signal_processing/spl_sqrt_floor.c"
     ]
 
-if CONFIG["CPU_ARCH"] == "x86_64" and CONFIG["OS_TARGET"] == "Android":
+if CONFIG["CPU_ARCH"] == "aarch64" and CONFIG["OS_TARGET"] == "FreeBSD":
 
     UNIFIED_SOURCES += [
         "/media/webrtc/trunk/webrtc/common_audio/signal_processing/complex_bit_reverse.c",
@@ -284,7 +279,9 @@ if CONFIG["CPU_ARCH"] == "x86_64" and CONFIG["OS_TARGET"] == "Android":
         "/media/webrtc/trunk/webrtc/common_audio/signal_processing/spl_sqrt_floor.c"
     ]
 
-if CONFIG["CPU_ARCH"] == "aarch64" and CONFIG["OS_TARGET"] == "FreeBSD":
+if CONFIG["CPU_ARCH"] == "x86_64" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
 
     UNIFIED_SOURCES += [
         "/media/webrtc/trunk/webrtc/common_audio/signal_processing/complex_bit_reverse.c",
@@ -304,7 +301,10 @@ if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "FreeBSD":
         "/media/webrtc/trunk/webrtc/common_audio/signal_processing/spl_sqrt_floor.c"
     ]
 
-if CONFIG["CPU_ARCH"] == "x86_64" and CONFIG["OS_TARGET"] == "FreeBSD":
+if CONFIG["CPU_ARCH"] == "aarch64" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["DISABLE_NACL"] = True
+    DEFINES["NO_TCMALLOC"] = True
 
     UNIFIED_SOURCES += [
         "/media/webrtc/trunk/webrtc/common_audio/signal_processing/complex_bit_reverse.c",
@@ -312,10 +312,7 @@ if CONFIG["CPU_ARCH"] == "x86_64" and CONFIG["OS_TARGET"] == "FreeBSD":
         "/media/webrtc/trunk/webrtc/common_audio/signal_processing/spl_sqrt_floor.c"
     ]
 
-if CONFIG["CPU_ARCH"] == "aarch64" and CONFIG["OS_TARGET"] == "Linux":
-
-    DEFINES["DISABLE_NACL"] = True
-    DEFINES["NO_TCMALLOC"] = True
+if CONFIG["CPU_ARCH"] == "aarch64" and CONFIG["OS_TARGET"] == "Android":
 
     UNIFIED_SOURCES += [
         "/media/webrtc/trunk/webrtc/common_audio/signal_processing/complex_bit_reverse.c",
@@ -323,11 +320,7 @@ if CONFIG["CPU_ARCH"] == "aarch64" and CONFIG["OS_TARGET"] == "Linux":
         "/media/webrtc/trunk/webrtc/common_audio/signal_processing/spl_sqrt_floor.c"
     ]
 
-if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "Linux":
-
-    CFLAGS += [
-        "-msse2"
-    ]
+if CONFIG["CPU_ARCH"] == "aarch64" and CONFIG["OS_TARGET"] == "OpenBSD":
 
     UNIFIED_SOURCES += [
         "/media/webrtc/trunk/webrtc/common_audio/signal_processing/complex_bit_reverse.c",
@@ -335,7 +328,7 @@ if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "Linux":
         "/media/webrtc/trunk/webrtc/common_audio/signal_processing/spl_sqrt_floor.c"
     ]
 
-if CONFIG["CPU_ARCH"] == "x86_64" and CONFIG["OS_TARGET"] == "Linux":
+if CONFIG["CPU_ARCH"] == "x86_64" and CONFIG["OS_TARGET"] == "Android":
 
     UNIFIED_SOURCES += [
         "/media/webrtc/trunk/webrtc/common_audio/signal_processing/complex_bit_reverse.c",
@@ -343,7 +336,7 @@ if CONFIG["CPU_ARCH"] == "x86_64" and CONFIG["OS_TARGET"] == "Linux":
         "/media/webrtc/trunk/webrtc/common_audio/signal_processing/spl_sqrt_floor.c"
     ]
 
-if CONFIG["CPU_ARCH"] == "aarch64" and CONFIG["OS_TARGET"] == "NetBSD":
+if CONFIG["CPU_ARCH"] == "x86_64" and CONFIG["OS_TARGET"] == "OpenBSD":
 
     UNIFIED_SOURCES += [
         "/media/webrtc/trunk/webrtc/common_audio/signal_processing/complex_bit_reverse.c",
@@ -351,7 +344,7 @@ if CONFIG["CPU_ARCH"] == "aarch64" and CONFIG["OS_TARGET"] == "NetBSD":
         "/media/webrtc/trunk/webrtc/common_audio/signal_processing/spl_sqrt_floor.c"
     ]
 
-if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "NetBSD":
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "Linux":
 
     CFLAGS += [
         "-msse2"
@@ -363,7 +356,11 @@ if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "NetBSD":
         "/media/webrtc/trunk/webrtc/common_audio/signal_processing/spl_sqrt_floor.c"
     ]
 
-if CONFIG["CPU_ARCH"] == "x86_64" and CONFIG["OS_TARGET"] == "NetBSD":
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "Android":
+
+    CFLAGS += [
+        "-msse2"
+    ]
 
     UNIFIED_SOURCES += [
         "/media/webrtc/trunk/webrtc/common_audio/signal_processing/complex_bit_reverse.c",
@@ -371,7 +368,11 @@ if CONFIG["CPU_ARCH"] == "x86_64" and CONFIG["OS_TARGET"] == "NetBSD":
         "/media/webrtc/trunk/webrtc/common_audio/signal_processing/spl_sqrt_floor.c"
     ]
 
-if CONFIG["CPU_ARCH"] == "aarch64" and CONFIG["OS_TARGET"] == "OpenBSD":
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "OpenBSD":
+
+    CFLAGS += [
+        "-msse2"
+    ]
 
     UNIFIED_SOURCES += [
         "/media/webrtc/trunk/webrtc/common_audio/signal_processing/complex_bit_reverse.c",
@@ -379,19 +380,23 @@ if CONFIG["CPU_ARCH"] == "aarch64" and CONFIG["OS_TARGET"] == "OpenBSD":
         "/media/webrtc/trunk/webrtc/common_audio/signal_processing/spl_sqrt_floor.c"
     ]
 
-if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "OpenBSD":
+if CONFIG["CPU_ARCH"] == "x86_64" and CONFIG["OS_TARGET"] == "FreeBSD":
 
-    CFLAGS += [
-        "-msse2"
+    UNIFIED_SOURCES += [
+        "/media/webrtc/trunk/webrtc/common_audio/signal_processing/complex_bit_reverse.c",
+        "/media/webrtc/trunk/webrtc/common_audio/signal_processing/filter_ar_fast_q12.c",
+        "/media/webrtc/trunk/webrtc/common_audio/signal_processing/spl_sqrt_floor.c"
     ]
 
+if CONFIG["CPU_ARCH"] == "aarch64" and CONFIG["OS_TARGET"] == "NetBSD":
+
     UNIFIED_SOURCES += [
         "/media/webrtc/trunk/webrtc/common_audio/signal_processing/complex_bit_reverse.c",
         "/media/webrtc/trunk/webrtc/common_audio/signal_processing/filter_ar_fast_q12.c",
         "/media/webrtc/trunk/webrtc/common_audio/signal_processing/spl_sqrt_floor.c"
     ]
 
-if CONFIG["CPU_ARCH"] == "x86_64" and CONFIG["OS_TARGET"] == "OpenBSD":
+if CONFIG["CPU_ARCH"] == "x86_64" and CONFIG["OS_TARGET"] == "NetBSD":
 
     UNIFIED_SOURCES += [
         "/media/webrtc/trunk/webrtc/common_audio/signal_processing/complex_bit_reverse.c",
@@ -399,4 +404,32 @@ if CONFIG["CPU_ARCH"] == "x86_64" and CONFIG["OS_TARGET"] == "OpenBSD":
         "/media/webrtc/trunk/webrtc/common_audio/signal_processing/spl_sqrt_floor.c"
     ]
 
+if CONFIG["CPU_ARCH"] == "arm" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "aarch64" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "arm" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "aarch64" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["HOST_CPU_ARCH"] == "x86_64" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["HOST_CPU_ARCH"] == "x86" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
 Library("common_audio_c_gn")
diff --git a/media/webrtc/trunk/webrtc/common_audio/common_audio_cc_gn/moz.build b/media/webrtc/trunk/webrtc/common_audio/common_audio_cc_gn/moz.build
index 16a6bcc23f3b..dd1bbb236fe9 100644
--- a/media/webrtc/trunk/webrtc/common_audio/common_audio_cc_gn/moz.build
+++ b/media/webrtc/trunk/webrtc/common_audio/common_audio_cc_gn/moz.build
@@ -33,56 +33,18 @@ UNIFIED_SOURCES += [
     "/media/webrtc/trunk/webrtc/common_audio/signal_processing/dot_product_with_scale.cc"
 ]
 
-if not CONFIG["MOZ_DEBUG"]:
-
-    DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "0"
-    DEFINES["NDEBUG"] = True
-    DEFINES["NVALGRIND"] = True
-
 if CONFIG["MOZ_DEBUG"] == "1":
 
     DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "1"
     DEFINES["WTF_USE_DYNAMIC_ANNOTATIONS"] = "1"
 
-if CONFIG["OS_TARGET"] == "Android":
-
-    DEFINES["ANDROID"] = True
-    DEFINES["ANDROID_NDK_VERSION"] = "r12b"
-    DEFINES["DISABLE_NACL"] = True
-    DEFINES["HAVE_SYS_UIO_H"] = True
-    DEFINES["NO_TCMALLOC"] = True
-    DEFINES["USE_OPENSSL_CERTS"] = "1"
-    DEFINES["WEBRTC_ANDROID"] = True
-    DEFINES["WEBRTC_ANDROID_OPENSLES"] = True
-    DEFINES["WEBRTC_LINUX"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
-    DEFINES["__GNU_SOURCE"] = "1"
-
-    OS_LIBS += [
-        "log"
-    ]
-
-if CONFIG["OS_TARGET"] == "Darwin":
-
-    DEFINES["CR_XCODE_VERSION"] = "0920"
-    DEFINES["NO_TCMALLOC"] = True
-    DEFINES["WEBRTC_MAC"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["__ASSERT_MACROS_DEFINE_VERSIONS_WITHOUT_UNDERSCORE"] = "0"
-
-    OS_LIBS += [
-        "-framework Foundation"
-    ]
-
-if CONFIG["OS_TARGET"] == "DragonFly":
+if not CONFIG["MOZ_DEBUG"]:
 
-    DEFINES["USE_X11"] = "1"
-    DEFINES["WEBRTC_BSD"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
+    DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "0"
+    DEFINES["NDEBUG"] = True
+    DEFINES["NVALGRIND"] = True
 
-if CONFIG["OS_TARGET"] == "FreeBSD":
+if CONFIG["OS_TARGET"] == "NetBSD":
 
     DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_BSD"] = True
@@ -92,7 +54,6 @@ if CONFIG["OS_TARGET"] == "FreeBSD":
 if CONFIG["OS_TARGET"] == "Linux":
 
     DEFINES["USE_NSS_CERTS"] = "1"
-    DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_LINUX"] = True
     DEFINES["WEBRTC_POSIX"] = True
     DEFINES["_FILE_OFFSET_BITS"] = "64"
@@ -101,14 +62,7 @@ if CONFIG["OS_TARGET"] == "Linux":
         "rt"
     ]
 
-if CONFIG["OS_TARGET"] == "NetBSD":
-
-    DEFINES["USE_X11"] = "1"
-    DEFINES["WEBRTC_BSD"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
-
-if CONFIG["OS_TARGET"] == "OpenBSD":
+if CONFIG["OS_TARGET"] == "DragonFly":
 
     DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_BSD"] = True
@@ -144,10 +98,50 @@ if CONFIG["OS_TARGET"] == "WINNT":
         "winmm"
     ]
 
-if CONFIG["CPU_ARCH"] == "aarch64":
+if CONFIG["OS_TARGET"] == "Darwin":
 
-    DEFINES["WEBRTC_ARCH_ARM64"] = True
-    DEFINES["WEBRTC_HAS_NEON"] = True
+    DEFINES["CR_XCODE_VERSION"] = "0920"
+    DEFINES["NO_TCMALLOC"] = True
+    DEFINES["WEBRTC_MAC"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["__ASSERT_MACROS_DEFINE_VERSIONS_WITHOUT_UNDERSCORE"] = "0"
+
+    OS_LIBS += [
+        "-framework Foundation"
+    ]
+
+if CONFIG["OS_TARGET"] == "OpenBSD":
+
+    DEFINES["USE_X11"] = "1"
+    DEFINES["WEBRTC_BSD"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+
+if CONFIG["OS_TARGET"] == "FreeBSD":
+
+    DEFINES["USE_X11"] = "1"
+    DEFINES["WEBRTC_BSD"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+
+if CONFIG["OS_TARGET"] == "Android":
+
+    DEFINES["ANDROID"] = True
+    DEFINES["ANDROID_NDK_VERSION"] = "r12b"
+    DEFINES["DISABLE_NACL"] = True
+    DEFINES["HAVE_SYS_UIO_H"] = True
+    DEFINES["NO_TCMALLOC"] = True
+    DEFINES["USE_OPENSSL_CERTS"] = "1"
+    DEFINES["WEBRTC_ANDROID"] = True
+    DEFINES["WEBRTC_ANDROID_OPENSLES"] = True
+    DEFINES["WEBRTC_LINUX"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+    DEFINES["__GNU_SOURCE"] = "1"
+
+    OS_LIBS += [
+        "log"
+    ]
 
 if CONFIG["CPU_ARCH"] == "arm":
 
@@ -159,15 +153,24 @@ if CONFIG["CPU_ARCH"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Android":
+if CONFIG["CPU_ARCH"] == "ppc64":
 
-    DEFINES["_FORTIFY_SOURCE"] = "2"
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "mips64":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "aarch64":
+
+    DEFINES["WEBRTC_ARCH_ARM64"] = True
+    DEFINES["WEBRTC_HAS_NEON"] = True
 
 if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Darwin":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "DragonFly":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "OpenBSD":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
@@ -175,20 +178,28 @@ if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "FreeBSD":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "NetBSD":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Android":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "OpenBSD":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "DragonFly":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "Android":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "NetBSD":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "NetBSD":
 
     CXXFLAGS += [
         "-msse2"
     ]
 
+if CONFIG["CPU_ARCH"] == "x86_64" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
 if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "FreeBSD":
 
     CXXFLAGS += [
@@ -206,7 +217,7 @@ if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "Linux":
         "-msse2"
     ]
 
-if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "NetBSD":
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "Android":
 
     CXXFLAGS += [
         "-msse2"
@@ -218,4 +229,32 @@ if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "OpenBSD":
         "-msse2"
     ]
 
+if CONFIG["CPU_ARCH"] == "arm" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "aarch64" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "arm" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "aarch64" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["HOST_CPU_ARCH"] == "x86_64" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["HOST_CPU_ARCH"] == "x86" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
 Library("common_audio_cc_gn")
diff --git a/media/webrtc/trunk/webrtc/common_audio/common_audio_gn/moz.build b/media/webrtc/trunk/webrtc/common_audio/common_audio_gn/moz.build
index 0b3e0670c194..bc878f3c4146 100644
--- a/media/webrtc/trunk/webrtc/common_audio/common_audio_gn/moz.build
+++ b/media/webrtc/trunk/webrtc/common_audio/common_audio_gn/moz.build
@@ -50,56 +50,18 @@ UNIFIED_SOURCES += [
     "/media/webrtc/trunk/webrtc/common_audio/window_generator.cc"
 ]
 
-if not CONFIG["MOZ_DEBUG"]:
-
-    DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "0"
-    DEFINES["NDEBUG"] = True
-    DEFINES["NVALGRIND"] = True
-
 if CONFIG["MOZ_DEBUG"] == "1":
 
     DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "1"
     DEFINES["WTF_USE_DYNAMIC_ANNOTATIONS"] = "1"
 
-if CONFIG["OS_TARGET"] == "Android":
-
-    DEFINES["ANDROID"] = True
-    DEFINES["ANDROID_NDK_VERSION"] = "r12b"
-    DEFINES["DISABLE_NACL"] = True
-    DEFINES["HAVE_SYS_UIO_H"] = True
-    DEFINES["NO_TCMALLOC"] = True
-    DEFINES["USE_OPENSSL_CERTS"] = "1"
-    DEFINES["WEBRTC_ANDROID"] = True
-    DEFINES["WEBRTC_ANDROID_OPENSLES"] = True
-    DEFINES["WEBRTC_LINUX"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
-    DEFINES["__GNU_SOURCE"] = "1"
-
-    OS_LIBS += [
-        "log"
-    ]
-
-if CONFIG["OS_TARGET"] == "Darwin":
-
-    DEFINES["CR_XCODE_VERSION"] = "0920"
-    DEFINES["NO_TCMALLOC"] = True
-    DEFINES["WEBRTC_MAC"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["__ASSERT_MACROS_DEFINE_VERSIONS_WITHOUT_UNDERSCORE"] = "0"
-
-    OS_LIBS += [
-        "-framework Foundation"
-    ]
-
-if CONFIG["OS_TARGET"] == "DragonFly":
+if not CONFIG["MOZ_DEBUG"]:
 
-    DEFINES["USE_X11"] = "1"
-    DEFINES["WEBRTC_BSD"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
+    DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "0"
+    DEFINES["NDEBUG"] = True
+    DEFINES["NVALGRIND"] = True
 
-if CONFIG["OS_TARGET"] == "FreeBSD":
+if CONFIG["OS_TARGET"] == "NetBSD":
 
     DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_BSD"] = True
@@ -109,7 +71,6 @@ if CONFIG["OS_TARGET"] == "FreeBSD":
 if CONFIG["OS_TARGET"] == "Linux":
 
     DEFINES["USE_NSS_CERTS"] = "1"
-    DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_LINUX"] = True
     DEFINES["WEBRTC_POSIX"] = True
     DEFINES["_FILE_OFFSET_BITS"] = "64"
@@ -118,14 +79,7 @@ if CONFIG["OS_TARGET"] == "Linux":
         "rt"
     ]
 
-if CONFIG["OS_TARGET"] == "NetBSD":
-
-    DEFINES["USE_X11"] = "1"
-    DEFINES["WEBRTC_BSD"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
-
-if CONFIG["OS_TARGET"] == "OpenBSD":
+if CONFIG["OS_TARGET"] == "DragonFly":
 
     DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_BSD"] = True
@@ -161,10 +115,50 @@ if CONFIG["OS_TARGET"] == "WINNT":
         "winmm"
     ]
 
-if CONFIG["CPU_ARCH"] == "aarch64":
+if CONFIG["OS_TARGET"] == "Darwin":
 
-    DEFINES["WEBRTC_ARCH_ARM64"] = True
-    DEFINES["WEBRTC_HAS_NEON"] = True
+    DEFINES["CR_XCODE_VERSION"] = "0920"
+    DEFINES["NO_TCMALLOC"] = True
+    DEFINES["WEBRTC_MAC"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["__ASSERT_MACROS_DEFINE_VERSIONS_WITHOUT_UNDERSCORE"] = "0"
+
+    OS_LIBS += [
+        "-framework Foundation"
+    ]
+
+if CONFIG["OS_TARGET"] == "OpenBSD":
+
+    DEFINES["USE_X11"] = "1"
+    DEFINES["WEBRTC_BSD"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+
+if CONFIG["OS_TARGET"] == "FreeBSD":
+
+    DEFINES["USE_X11"] = "1"
+    DEFINES["WEBRTC_BSD"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+
+if CONFIG["OS_TARGET"] == "Android":
+
+    DEFINES["ANDROID"] = True
+    DEFINES["ANDROID_NDK_VERSION"] = "r12b"
+    DEFINES["DISABLE_NACL"] = True
+    DEFINES["HAVE_SYS_UIO_H"] = True
+    DEFINES["NO_TCMALLOC"] = True
+    DEFINES["USE_OPENSSL_CERTS"] = "1"
+    DEFINES["WEBRTC_ANDROID"] = True
+    DEFINES["WEBRTC_ANDROID_OPENSLES"] = True
+    DEFINES["WEBRTC_LINUX"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+    DEFINES["__GNU_SOURCE"] = "1"
+
+    OS_LIBS += [
+        "log"
+    ]
 
 if CONFIG["CPU_ARCH"] == "arm":
 
@@ -176,15 +170,24 @@ if CONFIG["CPU_ARCH"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Android":
+if CONFIG["CPU_ARCH"] == "ppc64":
 
-    DEFINES["_FORTIFY_SOURCE"] = "2"
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "mips64":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "aarch64":
+
+    DEFINES["WEBRTC_ARCH_ARM64"] = True
+    DEFINES["WEBRTC_HAS_NEON"] = True
 
 if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Darwin":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "DragonFly":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "OpenBSD":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
@@ -192,20 +195,28 @@ if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "FreeBSD":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "NetBSD":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Android":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "OpenBSD":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "DragonFly":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "Android":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "NetBSD":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "NetBSD":
 
     CXXFLAGS += [
         "-msse2"
     ]
 
+if CONFIG["CPU_ARCH"] == "x86_64" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
 if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "FreeBSD":
 
     CXXFLAGS += [
@@ -223,7 +234,7 @@ if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "Linux":
         "-msse2"
     ]
 
-if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "NetBSD":
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "Android":
 
     CXXFLAGS += [
         "-msse2"
@@ -235,4 +246,32 @@ if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "OpenBSD":
         "-msse2"
     ]
 
+if CONFIG["CPU_ARCH"] == "arm" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "aarch64" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "arm" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "aarch64" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["HOST_CPU_ARCH"] == "x86_64" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["HOST_CPU_ARCH"] == "x86" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
 Library("common_audio_gn")
diff --git a/media/webrtc/trunk/webrtc/common_audio/common_audio_neon_c_gn/moz.build b/media/webrtc/trunk/webrtc/common_audio/common_audio_neon_c_gn/moz.build
index 949b46a95308..948f505f72cc 100644
--- a/media/webrtc/trunk/webrtc/common_audio/common_audio_neon_c_gn/moz.build
+++ b/media/webrtc/trunk/webrtc/common_audio/common_audio_neon_c_gn/moz.build
@@ -36,37 +36,18 @@ UNIFIED_SOURCES += [
     "/media/webrtc/trunk/webrtc/common_audio/signal_processing/min_max_operations_neon.c"
 ]
 
-if not CONFIG["MOZ_DEBUG"]:
-
-    DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "0"
-    DEFINES["NDEBUG"] = True
-    DEFINES["NVALGRIND"] = True
-
 if CONFIG["MOZ_DEBUG"] == "1":
 
     DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "1"
     DEFINES["WTF_USE_DYNAMIC_ANNOTATIONS"] = "1"
 
-if CONFIG["OS_TARGET"] == "Android":
-
-    DEFINES["ANDROID"] = True
-    DEFINES["ANDROID_NDK_VERSION"] = "r12b"
-    DEFINES["DISABLE_NACL"] = True
-    DEFINES["HAVE_SYS_UIO_H"] = True
-    DEFINES["NO_TCMALLOC"] = True
-    DEFINES["USE_OPENSSL_CERTS"] = "1"
-    DEFINES["WEBRTC_ANDROID"] = True
-    DEFINES["WEBRTC_ANDROID_OPENSLES"] = True
-    DEFINES["WEBRTC_LINUX"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
-    DEFINES["__GNU_SOURCE"] = "1"
+if not CONFIG["MOZ_DEBUG"]:
 
-    OS_LIBS += [
-        "log"
-    ]
+    DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "0"
+    DEFINES["NDEBUG"] = True
+    DEFINES["NVALGRIND"] = True
 
-if CONFIG["OS_TARGET"] == "FreeBSD":
+if CONFIG["OS_TARGET"] == "NetBSD":
 
     DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_BSD"] = True
@@ -76,7 +57,6 @@ if CONFIG["OS_TARGET"] == "FreeBSD":
 if CONFIG["OS_TARGET"] == "Linux":
 
     DEFINES["USE_NSS_CERTS"] = "1"
-    DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_LINUX"] = True
     DEFINES["WEBRTC_POSIX"] = True
     DEFINES["_FILE_OFFSET_BITS"] = "64"
@@ -85,20 +65,6 @@ if CONFIG["OS_TARGET"] == "Linux":
         "rt"
     ]
 
-if CONFIG["OS_TARGET"] == "NetBSD":
-
-    DEFINES["USE_X11"] = "1"
-    DEFINES["WEBRTC_BSD"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
-
-if CONFIG["OS_TARGET"] == "OpenBSD":
-
-    DEFINES["USE_X11"] = "1"
-    DEFINES["WEBRTC_BSD"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
-
 if CONFIG["OS_TARGET"] == "WINNT":
 
     DEFINES["CERT_CHAIN_PARA_HAS_EXTRA_FIELDS"] = True
@@ -129,6 +95,39 @@ if CONFIG["OS_TARGET"] == "WINNT":
         "winmm"
     ]
 
+if CONFIG["OS_TARGET"] == "OpenBSD":
+
+    DEFINES["USE_X11"] = "1"
+    DEFINES["WEBRTC_BSD"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+
+if CONFIG["OS_TARGET"] == "FreeBSD":
+
+    DEFINES["USE_X11"] = "1"
+    DEFINES["WEBRTC_BSD"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+
+if CONFIG["OS_TARGET"] == "Android":
+
+    DEFINES["ANDROID"] = True
+    DEFINES["ANDROID_NDK_VERSION"] = "r12b"
+    DEFINES["DISABLE_NACL"] = True
+    DEFINES["HAVE_SYS_UIO_H"] = True
+    DEFINES["NO_TCMALLOC"] = True
+    DEFINES["USE_OPENSSL_CERTS"] = "1"
+    DEFINES["WEBRTC_ANDROID"] = True
+    DEFINES["WEBRTC_ANDROID_OPENSLES"] = True
+    DEFINES["WEBRTC_LINUX"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+    DEFINES["__GNU_SOURCE"] = "1"
+
+    OS_LIBS += [
+        "log"
+    ]
+
 if CONFIG["CPU_ARCH"] == "arm":
 
     CFLAGS += [
@@ -138,7 +137,7 @@ if CONFIG["CPU_ARCH"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM"] = True
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Android":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "OpenBSD":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
@@ -146,15 +145,23 @@ if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "FreeBSD":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Android":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
 if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "NetBSD":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "OpenBSD":
+if CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if CONFIG["CPU_ARCH"] == "aarch64" and CONFIG["OS_TARGET"] == "Android":
+if CONFIG["CPU_ARCH"] == "aarch64" and CONFIG["OS_TARGET"] == "OpenBSD":
 
     DEFINES["WEBRTC_ARCH_ARM64"] = True
 
@@ -162,17 +169,17 @@ if CONFIG["CPU_ARCH"] == "aarch64" and CONFIG["OS_TARGET"] == "FreeBSD":
 
     DEFINES["WEBRTC_ARCH_ARM64"] = True
 
-if CONFIG["CPU_ARCH"] == "aarch64" and CONFIG["OS_TARGET"] == "Linux":
+if CONFIG["CPU_ARCH"] == "aarch64" and CONFIG["OS_TARGET"] == "NetBSD":
 
-    DEFINES["DISABLE_NACL"] = True
-    DEFINES["NO_TCMALLOC"] = True
     DEFINES["WEBRTC_ARCH_ARM64"] = True
 
-if CONFIG["CPU_ARCH"] == "aarch64" and CONFIG["OS_TARGET"] == "NetBSD":
+if CONFIG["CPU_ARCH"] == "aarch64" and CONFIG["OS_TARGET"] == "Linux":
 
+    DEFINES["DISABLE_NACL"] = True
+    DEFINES["NO_TCMALLOC"] = True
     DEFINES["WEBRTC_ARCH_ARM64"] = True
 
-if CONFIG["CPU_ARCH"] == "aarch64" and CONFIG["OS_TARGET"] == "OpenBSD":
+if CONFIG["CPU_ARCH"] == "aarch64" and CONFIG["OS_TARGET"] == "Android":
 
     DEFINES["WEBRTC_ARCH_ARM64"] = True
 
diff --git a/media/webrtc/trunk/webrtc/common_audio/common_audio_neon_gn/moz.build b/media/webrtc/trunk/webrtc/common_audio/common_audio_neon_gn/moz.build
index 97799e710609..12279f8fd314 100644
--- a/media/webrtc/trunk/webrtc/common_audio/common_audio_neon_gn/moz.build
+++ b/media/webrtc/trunk/webrtc/common_audio/common_audio_neon_gn/moz.build
@@ -32,37 +32,18 @@ UNIFIED_SOURCES += [
     "/media/webrtc/trunk/webrtc/common_audio/resampler/sinc_resampler_neon.cc"
 ]
 
-if not CONFIG["MOZ_DEBUG"]:
-
-    DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "0"
-    DEFINES["NDEBUG"] = True
-    DEFINES["NVALGRIND"] = True
-
 if CONFIG["MOZ_DEBUG"] == "1":
 
     DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "1"
     DEFINES["WTF_USE_DYNAMIC_ANNOTATIONS"] = "1"
 
-if CONFIG["OS_TARGET"] == "Android":
-
-    DEFINES["ANDROID"] = True
-    DEFINES["ANDROID_NDK_VERSION"] = "r12b"
-    DEFINES["DISABLE_NACL"] = True
-    DEFINES["HAVE_SYS_UIO_H"] = True
-    DEFINES["NO_TCMALLOC"] = True
-    DEFINES["USE_OPENSSL_CERTS"] = "1"
-    DEFINES["WEBRTC_ANDROID"] = True
-    DEFINES["WEBRTC_ANDROID_OPENSLES"] = True
-    DEFINES["WEBRTC_LINUX"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
-    DEFINES["__GNU_SOURCE"] = "1"
+if not CONFIG["MOZ_DEBUG"]:
 
-    OS_LIBS += [
-        "log"
-    ]
+    DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "0"
+    DEFINES["NDEBUG"] = True
+    DEFINES["NVALGRIND"] = True
 
-if CONFIG["OS_TARGET"] == "FreeBSD":
+if CONFIG["OS_TARGET"] == "NetBSD":
 
     DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_BSD"] = True
@@ -72,7 +53,6 @@ if CONFIG["OS_TARGET"] == "FreeBSD":
 if CONFIG["OS_TARGET"] == "Linux":
 
     DEFINES["USE_NSS_CERTS"] = "1"
-    DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_LINUX"] = True
     DEFINES["WEBRTC_POSIX"] = True
     DEFINES["_FILE_OFFSET_BITS"] = "64"
@@ -81,20 +61,6 @@ if CONFIG["OS_TARGET"] == "Linux":
         "rt"
     ]
 
-if CONFIG["OS_TARGET"] == "NetBSD":
-
-    DEFINES["USE_X11"] = "1"
-    DEFINES["WEBRTC_BSD"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
-
-if CONFIG["OS_TARGET"] == "OpenBSD":
-
-    DEFINES["USE_X11"] = "1"
-    DEFINES["WEBRTC_BSD"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
-
 if CONFIG["OS_TARGET"] == "WINNT":
 
     DEFINES["CERT_CHAIN_PARA_HAS_EXTRA_FIELDS"] = True
@@ -125,6 +91,39 @@ if CONFIG["OS_TARGET"] == "WINNT":
         "winmm"
     ]
 
+if CONFIG["OS_TARGET"] == "OpenBSD":
+
+    DEFINES["USE_X11"] = "1"
+    DEFINES["WEBRTC_BSD"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+
+if CONFIG["OS_TARGET"] == "FreeBSD":
+
+    DEFINES["USE_X11"] = "1"
+    DEFINES["WEBRTC_BSD"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+
+if CONFIG["OS_TARGET"] == "Android":
+
+    DEFINES["ANDROID"] = True
+    DEFINES["ANDROID_NDK_VERSION"] = "r12b"
+    DEFINES["DISABLE_NACL"] = True
+    DEFINES["HAVE_SYS_UIO_H"] = True
+    DEFINES["NO_TCMALLOC"] = True
+    DEFINES["USE_OPENSSL_CERTS"] = "1"
+    DEFINES["WEBRTC_ANDROID"] = True
+    DEFINES["WEBRTC_ANDROID_OPENSLES"] = True
+    DEFINES["WEBRTC_LINUX"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+    DEFINES["__GNU_SOURCE"] = "1"
+
+    OS_LIBS += [
+        "log"
+    ]
+
 if CONFIG["CPU_ARCH"] == "arm":
 
     CXXFLAGS += [
@@ -134,7 +133,7 @@ if CONFIG["CPU_ARCH"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM"] = True
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Android":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "OpenBSD":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
@@ -142,15 +141,23 @@ if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "FreeBSD":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Android":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
 if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "NetBSD":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "OpenBSD":
+if CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if CONFIG["CPU_ARCH"] == "aarch64" and CONFIG["OS_TARGET"] == "Android":
+if CONFIG["CPU_ARCH"] == "aarch64" and CONFIG["OS_TARGET"] == "OpenBSD":
 
     DEFINES["WEBRTC_ARCH_ARM64"] = True
 
@@ -158,17 +165,17 @@ if CONFIG["CPU_ARCH"] == "aarch64" and CONFIG["OS_TARGET"] == "FreeBSD":
 
     DEFINES["WEBRTC_ARCH_ARM64"] = True
 
-if CONFIG["CPU_ARCH"] == "aarch64" and CONFIG["OS_TARGET"] == "Linux":
+if CONFIG["CPU_ARCH"] == "aarch64" and CONFIG["OS_TARGET"] == "NetBSD":
 
-    DEFINES["DISABLE_NACL"] = True
-    DEFINES["NO_TCMALLOC"] = True
     DEFINES["WEBRTC_ARCH_ARM64"] = True
 
-if CONFIG["CPU_ARCH"] == "aarch64" and CONFIG["OS_TARGET"] == "NetBSD":
+if CONFIG["CPU_ARCH"] == "aarch64" and CONFIG["OS_TARGET"] == "Linux":
 
+    DEFINES["DISABLE_NACL"] = True
+    DEFINES["NO_TCMALLOC"] = True
     DEFINES["WEBRTC_ARCH_ARM64"] = True
 
-if CONFIG["CPU_ARCH"] == "aarch64" and CONFIG["OS_TARGET"] == "OpenBSD":
+if CONFIG["CPU_ARCH"] == "aarch64" and CONFIG["OS_TARGET"] == "Android":
 
     DEFINES["WEBRTC_ARCH_ARM64"] = True
 
diff --git a/media/webrtc/trunk/webrtc/common_audio/common_audio_sse2_gn/moz.build b/media/webrtc/trunk/webrtc/common_audio/common_audio_sse2_gn/moz.build
index 251a084d2bdb..56553d0ebc2f 100644
--- a/media/webrtc/trunk/webrtc/common_audio/common_audio_sse2_gn/moz.build
+++ b/media/webrtc/trunk/webrtc/common_audio/common_audio_sse2_gn/moz.build
@@ -31,51 +31,23 @@ UNIFIED_SOURCES += [
     "/media/webrtc/trunk/webrtc/common_audio/resampler/sinc_resampler_sse.cc"
 ]
 
-if not CONFIG["MOZ_DEBUG"]:
-
-    DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "0"
-    DEFINES["NDEBUG"] = True
-    DEFINES["NVALGRIND"] = True
-
 if CONFIG["MOZ_DEBUG"] == "1":
 
     DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "1"
     DEFINES["WTF_USE_DYNAMIC_ANNOTATIONS"] = "1"
 
-if CONFIG["OS_TARGET"] == "Android":
-
-    DEFINES["ANDROID"] = True
-    DEFINES["ANDROID_NDK_VERSION"] = "r12b"
-    DEFINES["DISABLE_NACL"] = True
-    DEFINES["HAVE_SYS_UIO_H"] = True
-    DEFINES["NO_TCMALLOC"] = True
-    DEFINES["USE_OPENSSL_CERTS"] = "1"
-    DEFINES["WEBRTC_ANDROID"] = True
-    DEFINES["WEBRTC_ANDROID_OPENSLES"] = True
-    DEFINES["WEBRTC_LINUX"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
-    DEFINES["__GNU_SOURCE"] = "1"
-
-    OS_LIBS += [
-        "log"
-    ]
+if not CONFIG["MOZ_DEBUG"]:
 
-if CONFIG["OS_TARGET"] == "Darwin":
+    DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "0"
+    DEFINES["NDEBUG"] = True
+    DEFINES["NVALGRIND"] = True
 
-    CXXFLAGS += [
-        "-msse2"
-    ]
+if CONFIG["OS_TARGET"] == "NetBSD":
 
-    DEFINES["CR_XCODE_VERSION"] = "0920"
-    DEFINES["NO_TCMALLOC"] = True
-    DEFINES["WEBRTC_MAC"] = True
+    DEFINES["USE_X11"] = "1"
+    DEFINES["WEBRTC_BSD"] = True
     DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["__ASSERT_MACROS_DEFINE_VERSIONS_WITHOUT_UNDERSCORE"] = "0"
-
-    OS_LIBS += [
-        "-framework Foundation"
-    ]
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
 
 if CONFIG["OS_TARGET"] == "DragonFly":
 
@@ -88,21 +60,9 @@ if CONFIG["OS_TARGET"] == "DragonFly":
     DEFINES["WEBRTC_POSIX"] = True
     DEFINES["_FILE_OFFSET_BITS"] = "64"
 
-if CONFIG["OS_TARGET"] == "FreeBSD":
-
-    DEFINES["USE_X11"] = "1"
-    DEFINES["WEBRTC_BSD"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
-
 if CONFIG["OS_TARGET"] == "Linux":
 
-    CXXFLAGS += [
-        "-msse2"
-    ]
-
     DEFINES["USE_NSS_CERTS"] = "1"
-    DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_LINUX"] = True
     DEFINES["WEBRTC_POSIX"] = True
     DEFINES["_FILE_OFFSET_BITS"] = "64"
@@ -111,20 +71,6 @@ if CONFIG["OS_TARGET"] == "Linux":
         "rt"
     ]
 
-if CONFIG["OS_TARGET"] == "NetBSD":
-
-    DEFINES["USE_X11"] = "1"
-    DEFINES["WEBRTC_BSD"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
-
-if CONFIG["OS_TARGET"] == "OpenBSD":
-
-    DEFINES["USE_X11"] = "1"
-    DEFINES["WEBRTC_BSD"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
-
 if CONFIG["OS_TARGET"] == "WINNT":
 
     DEFINES["CERT_CHAIN_PARA_HAS_EXTRA_FIELDS"] = True
@@ -154,15 +100,60 @@ if CONFIG["OS_TARGET"] == "WINNT":
         "winmm"
     ]
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Android":
+if CONFIG["OS_TARGET"] == "Darwin":
 
-    DEFINES["_FORTIFY_SOURCE"] = "2"
+    CXXFLAGS += [
+        "-msse2"
+    ]
+
+    DEFINES["CR_XCODE_VERSION"] = "0920"
+    DEFINES["NO_TCMALLOC"] = True
+    DEFINES["WEBRTC_MAC"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["__ASSERT_MACROS_DEFINE_VERSIONS_WITHOUT_UNDERSCORE"] = "0"
+
+    OS_LIBS += [
+        "-framework Foundation"
+    ]
+
+if CONFIG["OS_TARGET"] == "OpenBSD":
+
+    DEFINES["USE_X11"] = "1"
+    DEFINES["WEBRTC_BSD"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+
+if CONFIG["OS_TARGET"] == "FreeBSD":
+
+    DEFINES["USE_X11"] = "1"
+    DEFINES["WEBRTC_BSD"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+
+if CONFIG["OS_TARGET"] == "Android":
+
+    DEFINES["ANDROID"] = True
+    DEFINES["ANDROID_NDK_VERSION"] = "r12b"
+    DEFINES["DISABLE_NACL"] = True
+    DEFINES["HAVE_SYS_UIO_H"] = True
+    DEFINES["NO_TCMALLOC"] = True
+    DEFINES["USE_OPENSSL_CERTS"] = "1"
+    DEFINES["WEBRTC_ANDROID"] = True
+    DEFINES["WEBRTC_ANDROID_OPENSLES"] = True
+    DEFINES["WEBRTC_LINUX"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+    DEFINES["__GNU_SOURCE"] = "1"
+
+    OS_LIBS += [
+        "log"
+    ]
 
 if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Darwin":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "DragonFly":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "OpenBSD":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
@@ -170,37 +161,42 @@ if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "FreeBSD":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "NetBSD":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Android":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "OpenBSD":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "DragonFly":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "Android":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "NetBSD":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
+if CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
 
     CXXFLAGS += [
-        "-msse2",
         "-msse2"
     ]
 
+    DEFINES["USE_X11"] = "1"
+
 if CONFIG["CPU_ARCH"] == "x86_64" and CONFIG["OS_TARGET"] == "Android":
 
     CXXFLAGS += [
         "-msse2"
     ]
 
-if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "FreeBSD":
+if CONFIG["CPU_ARCH"] == "x86_64" and CONFIG["OS_TARGET"] == "FreeBSD":
 
     CXXFLAGS += [
-        "-msse2",
         "-msse2"
     ]
 
-if CONFIG["CPU_ARCH"] == "x86_64" and CONFIG["OS_TARGET"] == "FreeBSD":
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "FreeBSD":
 
     CXXFLAGS += [
+        "-msse2",
         "-msse2"
     ]
 
@@ -211,7 +207,7 @@ if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "NetBSD":
         "-msse2"
     ]
 
-if CONFIG["CPU_ARCH"] == "x86_64" and CONFIG["OS_TARGET"] == "NetBSD":
+if CONFIG["CPU_ARCH"] == "x86_64" and CONFIG["OS_TARGET"] == "OpenBSD":
 
     CXXFLAGS += [
         "-msse2"
@@ -224,10 +220,42 @@ if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "OpenBSD":
         "-msse2"
     ]
 
-if CONFIG["CPU_ARCH"] == "x86_64" and CONFIG["OS_TARGET"] == "OpenBSD":
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "Android":
 
     CXXFLAGS += [
+        "-msse2",
         "-msse2"
     ]
 
+if CONFIG["CPU_ARCH"] == "x86_64" and CONFIG["OS_TARGET"] == "NetBSD":
+
+    CXXFLAGS += [
+        "-msse2"
+    ]
+
+if CONFIG["CPU_ARCH"] == "x86_64" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    CXXFLAGS += [
+        "-msse2"
+    ]
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["HOST_CPU_ARCH"] == "x86_64" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    CXXFLAGS += [
+        "-msse2"
+    ]
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["HOST_CPU_ARCH"] == "x86" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    CXXFLAGS += [
+        "-msse2",
+        "-msse2"
+    ]
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
 Library("common_audio_sse2_gn")
diff --git a/media/webrtc/trunk/webrtc/common_audio/fir_filter_factory_gn/moz.build b/media/webrtc/trunk/webrtc/common_audio/fir_filter_factory_gn/moz.build
index daa9a6285cf8..0b2606b40170 100644
--- a/media/webrtc/trunk/webrtc/common_audio/fir_filter_factory_gn/moz.build
+++ b/media/webrtc/trunk/webrtc/common_audio/fir_filter_factory_gn/moz.build
@@ -31,56 +31,18 @@ UNIFIED_SOURCES += [
     "/media/webrtc/trunk/webrtc/common_audio/fir_filter_factory.cc"
 ]
 
-if not CONFIG["MOZ_DEBUG"]:
-
-    DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "0"
-    DEFINES["NDEBUG"] = True
-    DEFINES["NVALGRIND"] = True
-
 if CONFIG["MOZ_DEBUG"] == "1":
 
     DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "1"
     DEFINES["WTF_USE_DYNAMIC_ANNOTATIONS"] = "1"
 
-if CONFIG["OS_TARGET"] == "Android":
-
-    DEFINES["ANDROID"] = True
-    DEFINES["ANDROID_NDK_VERSION"] = "r12b"
-    DEFINES["DISABLE_NACL"] = True
-    DEFINES["HAVE_SYS_UIO_H"] = True
-    DEFINES["NO_TCMALLOC"] = True
-    DEFINES["USE_OPENSSL_CERTS"] = "1"
-    DEFINES["WEBRTC_ANDROID"] = True
-    DEFINES["WEBRTC_ANDROID_OPENSLES"] = True
-    DEFINES["WEBRTC_LINUX"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
-    DEFINES["__GNU_SOURCE"] = "1"
-
-    OS_LIBS += [
-        "log"
-    ]
-
-if CONFIG["OS_TARGET"] == "Darwin":
-
-    DEFINES["CR_XCODE_VERSION"] = "0920"
-    DEFINES["NO_TCMALLOC"] = True
-    DEFINES["WEBRTC_MAC"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["__ASSERT_MACROS_DEFINE_VERSIONS_WITHOUT_UNDERSCORE"] = "0"
-
-    OS_LIBS += [
-        "-framework Foundation"
-    ]
-
-if CONFIG["OS_TARGET"] == "DragonFly":
+if not CONFIG["MOZ_DEBUG"]:
 
-    DEFINES["USE_X11"] = "1"
-    DEFINES["WEBRTC_BSD"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
+    DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "0"
+    DEFINES["NDEBUG"] = True
+    DEFINES["NVALGRIND"] = True
 
-if CONFIG["OS_TARGET"] == "FreeBSD":
+if CONFIG["OS_TARGET"] == "NetBSD":
 
     DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_BSD"] = True
@@ -90,19 +52,11 @@ if CONFIG["OS_TARGET"] == "FreeBSD":
 if CONFIG["OS_TARGET"] == "Linux":
 
     DEFINES["USE_NSS_CERTS"] = "1"
-    DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_LINUX"] = True
     DEFINES["WEBRTC_POSIX"] = True
     DEFINES["_FILE_OFFSET_BITS"] = "64"
 
-if CONFIG["OS_TARGET"] == "NetBSD":
-
-    DEFINES["USE_X11"] = "1"
-    DEFINES["WEBRTC_BSD"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
-
-if CONFIG["OS_TARGET"] == "OpenBSD":
+if CONFIG["OS_TARGET"] == "DragonFly":
 
     DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_BSD"] = True
@@ -138,10 +92,50 @@ if CONFIG["OS_TARGET"] == "WINNT":
         "winmm"
     ]
 
-if CONFIG["CPU_ARCH"] == "aarch64":
+if CONFIG["OS_TARGET"] == "Darwin":
 
-    DEFINES["WEBRTC_ARCH_ARM64"] = True
-    DEFINES["WEBRTC_HAS_NEON"] = True
+    DEFINES["CR_XCODE_VERSION"] = "0920"
+    DEFINES["NO_TCMALLOC"] = True
+    DEFINES["WEBRTC_MAC"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["__ASSERT_MACROS_DEFINE_VERSIONS_WITHOUT_UNDERSCORE"] = "0"
+
+    OS_LIBS += [
+        "-framework Foundation"
+    ]
+
+if CONFIG["OS_TARGET"] == "OpenBSD":
+
+    DEFINES["USE_X11"] = "1"
+    DEFINES["WEBRTC_BSD"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+
+if CONFIG["OS_TARGET"] == "FreeBSD":
+
+    DEFINES["USE_X11"] = "1"
+    DEFINES["WEBRTC_BSD"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+
+if CONFIG["OS_TARGET"] == "Android":
+
+    DEFINES["ANDROID"] = True
+    DEFINES["ANDROID_NDK_VERSION"] = "r12b"
+    DEFINES["DISABLE_NACL"] = True
+    DEFINES["HAVE_SYS_UIO_H"] = True
+    DEFINES["NO_TCMALLOC"] = True
+    DEFINES["USE_OPENSSL_CERTS"] = "1"
+    DEFINES["WEBRTC_ANDROID"] = True
+    DEFINES["WEBRTC_ANDROID_OPENSLES"] = True
+    DEFINES["WEBRTC_LINUX"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+    DEFINES["__GNU_SOURCE"] = "1"
+
+    OS_LIBS += [
+        "log"
+    ]
 
 if CONFIG["CPU_ARCH"] == "arm":
 
@@ -153,15 +147,24 @@ if CONFIG["CPU_ARCH"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Android":
+if CONFIG["CPU_ARCH"] == "ppc64":
 
-    DEFINES["_FORTIFY_SOURCE"] = "2"
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "mips64":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "aarch64":
+
+    DEFINES["WEBRTC_ARCH_ARM64"] = True
+    DEFINES["WEBRTC_HAS_NEON"] = True
 
 if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Darwin":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "DragonFly":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "OpenBSD":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
@@ -169,30 +172,27 @@ if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "FreeBSD":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "NetBSD":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Android":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "OpenBSD":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "DragonFly":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "Android":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "NetBSD":
 
-    CXXFLAGS += [
-        "-msse2"
-    ]
+    DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "FreeBSD":
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "NetBSD":
 
     CXXFLAGS += [
         "-msse2"
     ]
 
-if CONFIG["CPU_ARCH"] == "aarch64" and CONFIG["OS_TARGET"] == "Linux":
+if CONFIG["CPU_ARCH"] == "x86_64" and CONFIG["OS_TARGET"] == "Linux":
 
-    DEFINES["DISABLE_NACL"] = True
-    DEFINES["NO_TCMALLOC"] = True
+    DEFINES["USE_X11"] = "1"
 
     OS_LIBS += [
         "rt"
@@ -204,23 +204,32 @@ if CONFIG["CPU_ARCH"] == "arm" and CONFIG["OS_TARGET"] == "Linux":
         "rt"
     ]
 
-if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "Linux":
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "FreeBSD":
 
     CXXFLAGS += [
         "-msse2"
     ]
 
+if CONFIG["CPU_ARCH"] == "aarch64" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["DISABLE_NACL"] = True
+    DEFINES["NO_TCMALLOC"] = True
+
     OS_LIBS += [
         "rt"
     ]
 
-if CONFIG["CPU_ARCH"] == "x86_64" and CONFIG["OS_TARGET"] == "Linux":
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "Linux":
+
+    CXXFLAGS += [
+        "-msse2"
+    ]
 
     OS_LIBS += [
         "rt"
     ]
 
-if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "NetBSD":
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "Android":
 
     CXXFLAGS += [
         "-msse2"
@@ -232,4 +241,32 @@ if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "OpenBSD":
         "-msse2"
     ]
 
+if CONFIG["CPU_ARCH"] == "arm" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "aarch64" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "arm" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "aarch64" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["HOST_CPU_ARCH"] == "x86_64" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["HOST_CPU_ARCH"] == "x86" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
 Library("fir_filter_factory_gn")
diff --git a/media/webrtc/trunk/webrtc/common_audio/fir_filter_gn/moz.build b/media/webrtc/trunk/webrtc/common_audio/fir_filter_gn/moz.build
index 159e13f264f8..bd381e8b04cb 100644
--- a/media/webrtc/trunk/webrtc/common_audio/fir_filter_gn/moz.build
+++ b/media/webrtc/trunk/webrtc/common_audio/fir_filter_gn/moz.build
@@ -26,48 +26,18 @@ LOCAL_INCLUDES += [
     "/media/webrtc/trunk/webrtc/"
 ]
 
-if not CONFIG["MOZ_DEBUG"]:
-
-    DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "0"
-    DEFINES["NDEBUG"] = True
-    DEFINES["NVALGRIND"] = True
-
 if CONFIG["MOZ_DEBUG"] == "1":
 
     DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "1"
     DEFINES["WTF_USE_DYNAMIC_ANNOTATIONS"] = "1"
 
-if CONFIG["OS_TARGET"] == "Android":
-
-    DEFINES["ANDROID"] = True
-    DEFINES["ANDROID_NDK_VERSION"] = "r12b"
-    DEFINES["DISABLE_NACL"] = True
-    DEFINES["HAVE_SYS_UIO_H"] = True
-    DEFINES["NO_TCMALLOC"] = True
-    DEFINES["USE_OPENSSL_CERTS"] = "1"
-    DEFINES["WEBRTC_ANDROID"] = True
-    DEFINES["WEBRTC_ANDROID_OPENSLES"] = True
-    DEFINES["WEBRTC_LINUX"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
-    DEFINES["__GNU_SOURCE"] = "1"
-
-if CONFIG["OS_TARGET"] == "Darwin":
-
-    DEFINES["CR_XCODE_VERSION"] = "0920"
-    DEFINES["NO_TCMALLOC"] = True
-    DEFINES["WEBRTC_MAC"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["__ASSERT_MACROS_DEFINE_VERSIONS_WITHOUT_UNDERSCORE"] = "0"
-
-if CONFIG["OS_TARGET"] == "DragonFly":
+if not CONFIG["MOZ_DEBUG"]:
 
-    DEFINES["USE_X11"] = "1"
-    DEFINES["WEBRTC_BSD"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
+    DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "0"
+    DEFINES["NDEBUG"] = True
+    DEFINES["NVALGRIND"] = True
 
-if CONFIG["OS_TARGET"] == "FreeBSD":
+if CONFIG["OS_TARGET"] == "NetBSD":
 
     DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_BSD"] = True
@@ -77,19 +47,11 @@ if CONFIG["OS_TARGET"] == "FreeBSD":
 if CONFIG["OS_TARGET"] == "Linux":
 
     DEFINES["USE_NSS_CERTS"] = "1"
-    DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_LINUX"] = True
     DEFINES["WEBRTC_POSIX"] = True
     DEFINES["_FILE_OFFSET_BITS"] = "64"
 
-if CONFIG["OS_TARGET"] == "NetBSD":
-
-    DEFINES["USE_X11"] = "1"
-    DEFINES["WEBRTC_BSD"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
-
-if CONFIG["OS_TARGET"] == "OpenBSD":
+if CONFIG["OS_TARGET"] == "DragonFly":
 
     DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_BSD"] = True
@@ -121,10 +83,42 @@ if CONFIG["OS_TARGET"] == "WINNT":
     DEFINES["_WINDOWS"] = True
     DEFINES["__STD_C"] = True
 
-if CONFIG["CPU_ARCH"] == "aarch64":
+if CONFIG["OS_TARGET"] == "Darwin":
 
-    DEFINES["WEBRTC_ARCH_ARM64"] = True
-    DEFINES["WEBRTC_HAS_NEON"] = True
+    DEFINES["CR_XCODE_VERSION"] = "0920"
+    DEFINES["NO_TCMALLOC"] = True
+    DEFINES["WEBRTC_MAC"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["__ASSERT_MACROS_DEFINE_VERSIONS_WITHOUT_UNDERSCORE"] = "0"
+
+if CONFIG["OS_TARGET"] == "OpenBSD":
+
+    DEFINES["USE_X11"] = "1"
+    DEFINES["WEBRTC_BSD"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+
+if CONFIG["OS_TARGET"] == "FreeBSD":
+
+    DEFINES["USE_X11"] = "1"
+    DEFINES["WEBRTC_BSD"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+
+if CONFIG["OS_TARGET"] == "Android":
+
+    DEFINES["ANDROID"] = True
+    DEFINES["ANDROID_NDK_VERSION"] = "r12b"
+    DEFINES["DISABLE_NACL"] = True
+    DEFINES["HAVE_SYS_UIO_H"] = True
+    DEFINES["NO_TCMALLOC"] = True
+    DEFINES["USE_OPENSSL_CERTS"] = "1"
+    DEFINES["WEBRTC_ANDROID"] = True
+    DEFINES["WEBRTC_ANDROID_OPENSLES"] = True
+    DEFINES["WEBRTC_LINUX"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+    DEFINES["__GNU_SOURCE"] = "1"
 
 if CONFIG["CPU_ARCH"] == "arm":
 
@@ -132,15 +126,24 @@ if CONFIG["CPU_ARCH"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Android":
+if CONFIG["CPU_ARCH"] == "ppc64":
 
-    DEFINES["_FORTIFY_SOURCE"] = "2"
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "mips64":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "aarch64":
+
+    DEFINES["WEBRTC_ARCH_ARM64"] = True
+    DEFINES["WEBRTC_HAS_NEON"] = True
 
 if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Darwin":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "DragonFly":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "OpenBSD":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
@@ -148,17 +151,53 @@ if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "FreeBSD":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "NetBSD":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Android":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "OpenBSD":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "DragonFly":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "NetBSD":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
+if CONFIG["CPU_ARCH"] == "x86_64" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
 if CONFIG["CPU_ARCH"] == "aarch64" and CONFIG["OS_TARGET"] == "Linux":
 
     DEFINES["DISABLE_NACL"] = True
     DEFINES["NO_TCMALLOC"] = True
 
+if CONFIG["CPU_ARCH"] == "arm" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "aarch64" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "arm" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "aarch64" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["HOST_CPU_ARCH"] == "x86_64" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["HOST_CPU_ARCH"] == "x86" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
 Library("fir_filter_gn")
diff --git a/media/webrtc/trunk/webrtc/common_audio/sinc_resampler_gn/moz.build b/media/webrtc/trunk/webrtc/common_audio/sinc_resampler_gn/moz.build
index 582e8328e1e2..a68b27eb6562 100644
--- a/media/webrtc/trunk/webrtc/common_audio/sinc_resampler_gn/moz.build
+++ b/media/webrtc/trunk/webrtc/common_audio/sinc_resampler_gn/moz.build
@@ -26,56 +26,18 @@ LOCAL_INCLUDES += [
     "/media/webrtc/trunk/webrtc/"
 ]
 
-if not CONFIG["MOZ_DEBUG"]:
-
-    DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "0"
-    DEFINES["NDEBUG"] = True
-    DEFINES["NVALGRIND"] = True
-
 if CONFIG["MOZ_DEBUG"] == "1":
 
     DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "1"
     DEFINES["WTF_USE_DYNAMIC_ANNOTATIONS"] = "1"
 
-if CONFIG["OS_TARGET"] == "Android":
-
-    DEFINES["ANDROID"] = True
-    DEFINES["ANDROID_NDK_VERSION"] = "r12b"
-    DEFINES["DISABLE_NACL"] = True
-    DEFINES["HAVE_SYS_UIO_H"] = True
-    DEFINES["NO_TCMALLOC"] = True
-    DEFINES["USE_OPENSSL_CERTS"] = "1"
-    DEFINES["WEBRTC_ANDROID"] = True
-    DEFINES["WEBRTC_ANDROID_OPENSLES"] = True
-    DEFINES["WEBRTC_LINUX"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
-    DEFINES["__GNU_SOURCE"] = "1"
-
-    OS_LIBS += [
-        "log"
-    ]
-
-if CONFIG["OS_TARGET"] == "Darwin":
-
-    DEFINES["CR_XCODE_VERSION"] = "0920"
-    DEFINES["NO_TCMALLOC"] = True
-    DEFINES["WEBRTC_MAC"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["__ASSERT_MACROS_DEFINE_VERSIONS_WITHOUT_UNDERSCORE"] = "0"
-
-    OS_LIBS += [
-        "-framework Foundation"
-    ]
-
-if CONFIG["OS_TARGET"] == "DragonFly":
+if not CONFIG["MOZ_DEBUG"]:
 
-    DEFINES["USE_X11"] = "1"
-    DEFINES["WEBRTC_BSD"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
+    DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "0"
+    DEFINES["NDEBUG"] = True
+    DEFINES["NVALGRIND"] = True
 
-if CONFIG["OS_TARGET"] == "FreeBSD":
+if CONFIG["OS_TARGET"] == "NetBSD":
 
     DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_BSD"] = True
@@ -85,7 +47,6 @@ if CONFIG["OS_TARGET"] == "FreeBSD":
 if CONFIG["OS_TARGET"] == "Linux":
 
     DEFINES["USE_NSS_CERTS"] = "1"
-    DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_LINUX"] = True
     DEFINES["WEBRTC_POSIX"] = True
     DEFINES["_FILE_OFFSET_BITS"] = "64"
@@ -94,14 +55,7 @@ if CONFIG["OS_TARGET"] == "Linux":
         "rt"
     ]
 
-if CONFIG["OS_TARGET"] == "NetBSD":
-
-    DEFINES["USE_X11"] = "1"
-    DEFINES["WEBRTC_BSD"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
-
-if CONFIG["OS_TARGET"] == "OpenBSD":
+if CONFIG["OS_TARGET"] == "DragonFly":
 
     DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_BSD"] = True
@@ -137,10 +91,50 @@ if CONFIG["OS_TARGET"] == "WINNT":
         "winmm"
     ]
 
-if CONFIG["CPU_ARCH"] == "aarch64":
+if CONFIG["OS_TARGET"] == "Darwin":
 
-    DEFINES["WEBRTC_ARCH_ARM64"] = True
-    DEFINES["WEBRTC_HAS_NEON"] = True
+    DEFINES["CR_XCODE_VERSION"] = "0920"
+    DEFINES["NO_TCMALLOC"] = True
+    DEFINES["WEBRTC_MAC"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["__ASSERT_MACROS_DEFINE_VERSIONS_WITHOUT_UNDERSCORE"] = "0"
+
+    OS_LIBS += [
+        "-framework Foundation"
+    ]
+
+if CONFIG["OS_TARGET"] == "OpenBSD":
+
+    DEFINES["USE_X11"] = "1"
+    DEFINES["WEBRTC_BSD"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+
+if CONFIG["OS_TARGET"] == "FreeBSD":
+
+    DEFINES["USE_X11"] = "1"
+    DEFINES["WEBRTC_BSD"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+
+if CONFIG["OS_TARGET"] == "Android":
+
+    DEFINES["ANDROID"] = True
+    DEFINES["ANDROID_NDK_VERSION"] = "r12b"
+    DEFINES["DISABLE_NACL"] = True
+    DEFINES["HAVE_SYS_UIO_H"] = True
+    DEFINES["NO_TCMALLOC"] = True
+    DEFINES["USE_OPENSSL_CERTS"] = "1"
+    DEFINES["WEBRTC_ANDROID"] = True
+    DEFINES["WEBRTC_ANDROID_OPENSLES"] = True
+    DEFINES["WEBRTC_LINUX"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+    DEFINES["__GNU_SOURCE"] = "1"
+
+    OS_LIBS += [
+        "log"
+    ]
 
 if CONFIG["CPU_ARCH"] == "arm":
 
@@ -148,15 +142,24 @@ if CONFIG["CPU_ARCH"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Android":
+if CONFIG["CPU_ARCH"] == "ppc64":
 
-    DEFINES["_FORTIFY_SOURCE"] = "2"
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "mips64":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "aarch64":
+
+    DEFINES["WEBRTC_ARCH_ARM64"] = True
+    DEFINES["WEBRTC_HAS_NEON"] = True
 
 if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Darwin":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "DragonFly":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "OpenBSD":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
@@ -164,17 +167,53 @@ if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "FreeBSD":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "NetBSD":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Android":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "OpenBSD":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "DragonFly":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "NetBSD":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
+if CONFIG["CPU_ARCH"] == "x86_64" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
 if CONFIG["CPU_ARCH"] == "aarch64" and CONFIG["OS_TARGET"] == "Linux":
 
     DEFINES["DISABLE_NACL"] = True
     DEFINES["NO_TCMALLOC"] = True
 
+if CONFIG["CPU_ARCH"] == "arm" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "aarch64" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "arm" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "aarch64" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["HOST_CPU_ARCH"] == "x86_64" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["HOST_CPU_ARCH"] == "x86" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
 Library("sinc_resampler_gn")
diff --git a/media/webrtc/trunk/webrtc/common_video/common_video_gn/moz.build b/media/webrtc/trunk/webrtc/common_video/common_video_gn/moz.build
index 59b0adb42476..e4840bfda18a 100644
--- a/media/webrtc/trunk/webrtc/common_video/common_video_gn/moz.build
+++ b/media/webrtc/trunk/webrtc/common_video/common_video_gn/moz.build
@@ -44,56 +44,18 @@ UNIFIED_SOURCES += [
     "/media/webrtc/trunk/webrtc/common_video/video_render_frames.cc"
 ]
 
-if not CONFIG["MOZ_DEBUG"]:
-
-    DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "0"
-    DEFINES["NDEBUG"] = True
-    DEFINES["NVALGRIND"] = True
-
 if CONFIG["MOZ_DEBUG"] == "1":
 
     DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "1"
     DEFINES["WTF_USE_DYNAMIC_ANNOTATIONS"] = "1"
 
-if CONFIG["OS_TARGET"] == "Android":
-
-    DEFINES["ANDROID"] = True
-    DEFINES["ANDROID_NDK_VERSION"] = "r12b"
-    DEFINES["DISABLE_NACL"] = True
-    DEFINES["HAVE_SYS_UIO_H"] = True
-    DEFINES["NO_TCMALLOC"] = True
-    DEFINES["USE_OPENSSL_CERTS"] = "1"
-    DEFINES["WEBRTC_ANDROID"] = True
-    DEFINES["WEBRTC_ANDROID_OPENSLES"] = True
-    DEFINES["WEBRTC_LINUX"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
-    DEFINES["__GNU_SOURCE"] = "1"
-
-    OS_LIBS += [
-        "log"
-    ]
-
-if CONFIG["OS_TARGET"] == "Darwin":
-
-    DEFINES["CR_XCODE_VERSION"] = "0920"
-    DEFINES["NO_TCMALLOC"] = True
-    DEFINES["WEBRTC_MAC"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["__ASSERT_MACROS_DEFINE_VERSIONS_WITHOUT_UNDERSCORE"] = "0"
-
-    OS_LIBS += [
-        "-framework Foundation"
-    ]
-
-if CONFIG["OS_TARGET"] == "DragonFly":
+if not CONFIG["MOZ_DEBUG"]:
 
-    DEFINES["USE_X11"] = "1"
-    DEFINES["WEBRTC_BSD"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
+    DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "0"
+    DEFINES["NDEBUG"] = True
+    DEFINES["NVALGRIND"] = True
 
-if CONFIG["OS_TARGET"] == "FreeBSD":
+if CONFIG["OS_TARGET"] == "NetBSD":
 
     DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_BSD"] = True
@@ -103,7 +65,6 @@ if CONFIG["OS_TARGET"] == "FreeBSD":
 if CONFIG["OS_TARGET"] == "Linux":
 
     DEFINES["USE_NSS_CERTS"] = "1"
-    DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_LINUX"] = True
     DEFINES["WEBRTC_POSIX"] = True
     DEFINES["_FILE_OFFSET_BITS"] = "64"
@@ -112,14 +73,7 @@ if CONFIG["OS_TARGET"] == "Linux":
         "rt"
     ]
 
-if CONFIG["OS_TARGET"] == "NetBSD":
-
-    DEFINES["USE_X11"] = "1"
-    DEFINES["WEBRTC_BSD"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
-
-if CONFIG["OS_TARGET"] == "OpenBSD":
+if CONFIG["OS_TARGET"] == "DragonFly":
 
     DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_BSD"] = True
@@ -155,10 +109,50 @@ if CONFIG["OS_TARGET"] == "WINNT":
         "winmm"
     ]
 
-if CONFIG["CPU_ARCH"] == "aarch64":
+if CONFIG["OS_TARGET"] == "Darwin":
 
-    DEFINES["WEBRTC_ARCH_ARM64"] = True
-    DEFINES["WEBRTC_HAS_NEON"] = True
+    DEFINES["CR_XCODE_VERSION"] = "0920"
+    DEFINES["NO_TCMALLOC"] = True
+    DEFINES["WEBRTC_MAC"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["__ASSERT_MACROS_DEFINE_VERSIONS_WITHOUT_UNDERSCORE"] = "0"
+
+    OS_LIBS += [
+        "-framework Foundation"
+    ]
+
+if CONFIG["OS_TARGET"] == "OpenBSD":
+
+    DEFINES["USE_X11"] = "1"
+    DEFINES["WEBRTC_BSD"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+
+if CONFIG["OS_TARGET"] == "FreeBSD":
+
+    DEFINES["USE_X11"] = "1"
+    DEFINES["WEBRTC_BSD"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+
+if CONFIG["OS_TARGET"] == "Android":
+
+    DEFINES["ANDROID"] = True
+    DEFINES["ANDROID_NDK_VERSION"] = "r12b"
+    DEFINES["DISABLE_NACL"] = True
+    DEFINES["HAVE_SYS_UIO_H"] = True
+    DEFINES["NO_TCMALLOC"] = True
+    DEFINES["USE_OPENSSL_CERTS"] = "1"
+    DEFINES["WEBRTC_ANDROID"] = True
+    DEFINES["WEBRTC_ANDROID_OPENSLES"] = True
+    DEFINES["WEBRTC_LINUX"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+    DEFINES["__GNU_SOURCE"] = "1"
+
+    OS_LIBS += [
+        "log"
+    ]
 
 if CONFIG["CPU_ARCH"] == "arm":
 
@@ -170,15 +164,24 @@ if CONFIG["CPU_ARCH"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Android":
+if CONFIG["CPU_ARCH"] == "ppc64":
 
-    DEFINES["_FORTIFY_SOURCE"] = "2"
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "mips64":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "aarch64":
+
+    DEFINES["WEBRTC_ARCH_ARM64"] = True
+    DEFINES["WEBRTC_HAS_NEON"] = True
 
 if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Darwin":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "DragonFly":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "OpenBSD":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
@@ -186,20 +189,28 @@ if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "FreeBSD":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "NetBSD":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Android":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "OpenBSD":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "DragonFly":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "Android":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "NetBSD":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "NetBSD":
 
     CXXFLAGS += [
         "-msse2"
     ]
 
+if CONFIG["CPU_ARCH"] == "x86_64" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
 if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "FreeBSD":
 
     CXXFLAGS += [
@@ -217,7 +228,7 @@ if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "Linux":
         "-msse2"
     ]
 
-if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "NetBSD":
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "Android":
 
     CXXFLAGS += [
         "-msse2"
@@ -229,4 +240,32 @@ if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "OpenBSD":
         "-msse2"
     ]
 
+if CONFIG["CPU_ARCH"] == "arm" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "aarch64" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "arm" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "aarch64" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["HOST_CPU_ARCH"] == "x86_64" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["HOST_CPU_ARCH"] == "x86" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
 Library("common_video_gn")
diff --git a/media/webrtc/trunk/webrtc/logging/rtc_event_log_api_gn/moz.build b/media/webrtc/trunk/webrtc/logging/rtc_event_log_api_gn/moz.build
index 9022f54db4ea..362526c1b6e1 100644
--- a/media/webrtc/trunk/webrtc/logging/rtc_event_log_api_gn/moz.build
+++ b/media/webrtc/trunk/webrtc/logging/rtc_event_log_api_gn/moz.build
@@ -48,56 +48,18 @@ UNIFIED_SOURCES += [
     "/media/webrtc/trunk/webrtc/logging/rtc_event_log/rtc_stream_config.cc"
 ]
 
-if not CONFIG["MOZ_DEBUG"]:
-
-    DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "0"
-    DEFINES["NDEBUG"] = True
-    DEFINES["NVALGRIND"] = True
-
 if CONFIG["MOZ_DEBUG"] == "1":
 
     DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "1"
     DEFINES["WTF_USE_DYNAMIC_ANNOTATIONS"] = "1"
 
-if CONFIG["OS_TARGET"] == "Android":
-
-    DEFINES["ANDROID"] = True
-    DEFINES["ANDROID_NDK_VERSION"] = "r12b"
-    DEFINES["DISABLE_NACL"] = True
-    DEFINES["HAVE_SYS_UIO_H"] = True
-    DEFINES["NO_TCMALLOC"] = True
-    DEFINES["USE_OPENSSL_CERTS"] = "1"
-    DEFINES["WEBRTC_ANDROID"] = True
-    DEFINES["WEBRTC_ANDROID_OPENSLES"] = True
-    DEFINES["WEBRTC_LINUX"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
-    DEFINES["__GNU_SOURCE"] = "1"
-
-    OS_LIBS += [
-        "log"
-    ]
-
-if CONFIG["OS_TARGET"] == "Darwin":
-
-    DEFINES["CR_XCODE_VERSION"] = "0920"
-    DEFINES["NO_TCMALLOC"] = True
-    DEFINES["WEBRTC_MAC"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["__ASSERT_MACROS_DEFINE_VERSIONS_WITHOUT_UNDERSCORE"] = "0"
-
-    OS_LIBS += [
-        "-framework Foundation"
-    ]
-
-if CONFIG["OS_TARGET"] == "DragonFly":
+if not CONFIG["MOZ_DEBUG"]:
 
-    DEFINES["USE_X11"] = "1"
-    DEFINES["WEBRTC_BSD"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
+    DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "0"
+    DEFINES["NDEBUG"] = True
+    DEFINES["NVALGRIND"] = True
 
-if CONFIG["OS_TARGET"] == "FreeBSD":
+if CONFIG["OS_TARGET"] == "NetBSD":
 
     DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_BSD"] = True
@@ -107,7 +69,6 @@ if CONFIG["OS_TARGET"] == "FreeBSD":
 if CONFIG["OS_TARGET"] == "Linux":
 
     DEFINES["USE_NSS_CERTS"] = "1"
-    DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_LINUX"] = True
     DEFINES["WEBRTC_POSIX"] = True
     DEFINES["_FILE_OFFSET_BITS"] = "64"
@@ -116,14 +77,7 @@ if CONFIG["OS_TARGET"] == "Linux":
         "rt"
     ]
 
-if CONFIG["OS_TARGET"] == "NetBSD":
-
-    DEFINES["USE_X11"] = "1"
-    DEFINES["WEBRTC_BSD"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
-
-if CONFIG["OS_TARGET"] == "OpenBSD":
+if CONFIG["OS_TARGET"] == "DragonFly":
 
     DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_BSD"] = True
@@ -159,10 +113,50 @@ if CONFIG["OS_TARGET"] == "WINNT":
         "winmm"
     ]
 
-if CONFIG["CPU_ARCH"] == "aarch64":
+if CONFIG["OS_TARGET"] == "Darwin":
 
-    DEFINES["WEBRTC_ARCH_ARM64"] = True
-    DEFINES["WEBRTC_HAS_NEON"] = True
+    DEFINES["CR_XCODE_VERSION"] = "0920"
+    DEFINES["NO_TCMALLOC"] = True
+    DEFINES["WEBRTC_MAC"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["__ASSERT_MACROS_DEFINE_VERSIONS_WITHOUT_UNDERSCORE"] = "0"
+
+    OS_LIBS += [
+        "-framework Foundation"
+    ]
+
+if CONFIG["OS_TARGET"] == "OpenBSD":
+
+    DEFINES["USE_X11"] = "1"
+    DEFINES["WEBRTC_BSD"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+
+if CONFIG["OS_TARGET"] == "FreeBSD":
+
+    DEFINES["USE_X11"] = "1"
+    DEFINES["WEBRTC_BSD"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+
+if CONFIG["OS_TARGET"] == "Android":
+
+    DEFINES["ANDROID"] = True
+    DEFINES["ANDROID_NDK_VERSION"] = "r12b"
+    DEFINES["DISABLE_NACL"] = True
+    DEFINES["HAVE_SYS_UIO_H"] = True
+    DEFINES["NO_TCMALLOC"] = True
+    DEFINES["USE_OPENSSL_CERTS"] = "1"
+    DEFINES["WEBRTC_ANDROID"] = True
+    DEFINES["WEBRTC_ANDROID_OPENSLES"] = True
+    DEFINES["WEBRTC_LINUX"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+    DEFINES["__GNU_SOURCE"] = "1"
+
+    OS_LIBS += [
+        "log"
+    ]
 
 if CONFIG["CPU_ARCH"] == "arm":
 
@@ -174,15 +168,24 @@ if CONFIG["CPU_ARCH"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Android":
+if CONFIG["CPU_ARCH"] == "ppc64":
 
-    DEFINES["_FORTIFY_SOURCE"] = "2"
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "mips64":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "aarch64":
+
+    DEFINES["WEBRTC_ARCH_ARM64"] = True
+    DEFINES["WEBRTC_HAS_NEON"] = True
 
 if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Darwin":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "DragonFly":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "OpenBSD":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
@@ -190,20 +193,28 @@ if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "FreeBSD":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "NetBSD":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Android":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "OpenBSD":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "DragonFly":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "Android":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "NetBSD":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "NetBSD":
 
     CXXFLAGS += [
         "-msse2"
     ]
 
+if CONFIG["CPU_ARCH"] == "x86_64" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
 if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "FreeBSD":
 
     CXXFLAGS += [
@@ -221,7 +232,7 @@ if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "Linux":
         "-msse2"
     ]
 
-if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "NetBSD":
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "Android":
 
     CXXFLAGS += [
         "-msse2"
@@ -233,4 +244,32 @@ if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "OpenBSD":
         "-msse2"
     ]
 
+if CONFIG["CPU_ARCH"] == "arm" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "aarch64" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "arm" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "aarch64" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["HOST_CPU_ARCH"] == "x86_64" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["HOST_CPU_ARCH"] == "x86" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
 Library("rtc_event_log_api_gn")
diff --git a/media/webrtc/trunk/webrtc/logging/rtc_event_log_impl_gn/moz.build b/media/webrtc/trunk/webrtc/logging/rtc_event_log_impl_gn/moz.build
index c616c0176bfd..0d44e56a6918 100644
--- a/media/webrtc/trunk/webrtc/logging/rtc_event_log_impl_gn/moz.build
+++ b/media/webrtc/trunk/webrtc/logging/rtc_event_log_impl_gn/moz.build
@@ -32,56 +32,18 @@ UNIFIED_SOURCES += [
     "/media/webrtc/trunk/webrtc/logging/rtc_event_log/rtc_event_log_factory.cc"
 ]
 
-if not CONFIG["MOZ_DEBUG"]:
-
-    DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "0"
-    DEFINES["NDEBUG"] = True
-    DEFINES["NVALGRIND"] = True
-
 if CONFIG["MOZ_DEBUG"] == "1":
 
     DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "1"
     DEFINES["WTF_USE_DYNAMIC_ANNOTATIONS"] = "1"
 
-if CONFIG["OS_TARGET"] == "Android":
-
-    DEFINES["ANDROID"] = True
-    DEFINES["ANDROID_NDK_VERSION"] = "r12b"
-    DEFINES["DISABLE_NACL"] = True
-    DEFINES["HAVE_SYS_UIO_H"] = True
-    DEFINES["NO_TCMALLOC"] = True
-    DEFINES["USE_OPENSSL_CERTS"] = "1"
-    DEFINES["WEBRTC_ANDROID"] = True
-    DEFINES["WEBRTC_ANDROID_OPENSLES"] = True
-    DEFINES["WEBRTC_LINUX"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
-    DEFINES["__GNU_SOURCE"] = "1"
-
-    OS_LIBS += [
-        "log"
-    ]
-
-if CONFIG["OS_TARGET"] == "Darwin":
-
-    DEFINES["CR_XCODE_VERSION"] = "0920"
-    DEFINES["NO_TCMALLOC"] = True
-    DEFINES["WEBRTC_MAC"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["__ASSERT_MACROS_DEFINE_VERSIONS_WITHOUT_UNDERSCORE"] = "0"
-
-    OS_LIBS += [
-        "-framework Foundation"
-    ]
-
-if CONFIG["OS_TARGET"] == "DragonFly":
+if not CONFIG["MOZ_DEBUG"]:
 
-    DEFINES["USE_X11"] = "1"
-    DEFINES["WEBRTC_BSD"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
+    DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "0"
+    DEFINES["NDEBUG"] = True
+    DEFINES["NVALGRIND"] = True
 
-if CONFIG["OS_TARGET"] == "FreeBSD":
+if CONFIG["OS_TARGET"] == "NetBSD":
 
     DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_BSD"] = True
@@ -91,7 +53,6 @@ if CONFIG["OS_TARGET"] == "FreeBSD":
 if CONFIG["OS_TARGET"] == "Linux":
 
     DEFINES["USE_NSS_CERTS"] = "1"
-    DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_LINUX"] = True
     DEFINES["WEBRTC_POSIX"] = True
     DEFINES["_FILE_OFFSET_BITS"] = "64"
@@ -100,14 +61,7 @@ if CONFIG["OS_TARGET"] == "Linux":
         "rt"
     ]
 
-if CONFIG["OS_TARGET"] == "NetBSD":
-
-    DEFINES["USE_X11"] = "1"
-    DEFINES["WEBRTC_BSD"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
-
-if CONFIG["OS_TARGET"] == "OpenBSD":
+if CONFIG["OS_TARGET"] == "DragonFly":
 
     DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_BSD"] = True
@@ -143,10 +97,50 @@ if CONFIG["OS_TARGET"] == "WINNT":
         "winmm"
     ]
 
-if CONFIG["CPU_ARCH"] == "aarch64":
+if CONFIG["OS_TARGET"] == "Darwin":
 
-    DEFINES["WEBRTC_ARCH_ARM64"] = True
-    DEFINES["WEBRTC_HAS_NEON"] = True
+    DEFINES["CR_XCODE_VERSION"] = "0920"
+    DEFINES["NO_TCMALLOC"] = True
+    DEFINES["WEBRTC_MAC"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["__ASSERT_MACROS_DEFINE_VERSIONS_WITHOUT_UNDERSCORE"] = "0"
+
+    OS_LIBS += [
+        "-framework Foundation"
+    ]
+
+if CONFIG["OS_TARGET"] == "OpenBSD":
+
+    DEFINES["USE_X11"] = "1"
+    DEFINES["WEBRTC_BSD"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+
+if CONFIG["OS_TARGET"] == "FreeBSD":
+
+    DEFINES["USE_X11"] = "1"
+    DEFINES["WEBRTC_BSD"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+
+if CONFIG["OS_TARGET"] == "Android":
+
+    DEFINES["ANDROID"] = True
+    DEFINES["ANDROID_NDK_VERSION"] = "r12b"
+    DEFINES["DISABLE_NACL"] = True
+    DEFINES["HAVE_SYS_UIO_H"] = True
+    DEFINES["NO_TCMALLOC"] = True
+    DEFINES["USE_OPENSSL_CERTS"] = "1"
+    DEFINES["WEBRTC_ANDROID"] = True
+    DEFINES["WEBRTC_ANDROID_OPENSLES"] = True
+    DEFINES["WEBRTC_LINUX"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+    DEFINES["__GNU_SOURCE"] = "1"
+
+    OS_LIBS += [
+        "log"
+    ]
 
 if CONFIG["CPU_ARCH"] == "arm":
 
@@ -158,15 +152,24 @@ if CONFIG["CPU_ARCH"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Android":
+if CONFIG["CPU_ARCH"] == "ppc64":
 
-    DEFINES["_FORTIFY_SOURCE"] = "2"
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "mips64":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "aarch64":
+
+    DEFINES["WEBRTC_ARCH_ARM64"] = True
+    DEFINES["WEBRTC_HAS_NEON"] = True
 
 if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Darwin":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "DragonFly":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "OpenBSD":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
@@ -174,20 +177,28 @@ if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "FreeBSD":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "NetBSD":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Android":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "OpenBSD":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "DragonFly":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "Android":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "NetBSD":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "NetBSD":
 
     CXXFLAGS += [
         "-msse2"
     ]
 
+if CONFIG["CPU_ARCH"] == "x86_64" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
 if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "FreeBSD":
 
     CXXFLAGS += [
@@ -205,7 +216,7 @@ if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "Linux":
         "-msse2"
     ]
 
-if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "NetBSD":
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "Android":
 
     CXXFLAGS += [
         "-msse2"
@@ -217,4 +228,32 @@ if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "OpenBSD":
         "-msse2"
     ]
 
+if CONFIG["CPU_ARCH"] == "arm" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "aarch64" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "arm" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "aarch64" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["HOST_CPU_ARCH"] == "x86_64" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["HOST_CPU_ARCH"] == "x86" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
 Library("rtc_event_log_impl_gn")
diff --git a/media/webrtc/trunk/webrtc/media/rtc_audio_video_gn/moz.build b/media/webrtc/trunk/webrtc/media/rtc_audio_video_gn/moz.build
index 809bec48b57a..a9ec50768548 100644
--- a/media/webrtc/trunk/webrtc/media/rtc_audio_video_gn/moz.build
+++ b/media/webrtc/trunk/webrtc/media/rtc_audio_video_gn/moz.build
@@ -57,59 +57,18 @@ UNIFIED_SOURCES += [
     "/media/webrtc/trunk/webrtc/media/engine/webrtcvideoencoderfactory.cc"
 ]
 
-if not CONFIG["MOZ_DEBUG"]:
-
-    DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "0"
-    DEFINES["NDEBUG"] = True
-    DEFINES["NVALGRIND"] = True
-
 if CONFIG["MOZ_DEBUG"] == "1":
 
     DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "1"
     DEFINES["WTF_USE_DYNAMIC_ANNOTATIONS"] = "1"
 
-if CONFIG["OS_TARGET"] == "Android":
-
-    DEFINES["ANDROID"] = True
-    DEFINES["ANDROID_NDK_VERSION"] = "r12b"
-    DEFINES["DISABLE_NACL"] = True
-    DEFINES["HAVE_SYS_UIO_H"] = True
-    DEFINES["NO_TCMALLOC"] = True
-    DEFINES["USE_OPENSSL_CERTS"] = "1"
-    DEFINES["WEBRTC_ANDROID"] = True
-    DEFINES["WEBRTC_ANDROID_OPENSLES"] = True
-    DEFINES["WEBRTC_LINUX"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
-    DEFINES["__GNU_SOURCE"] = "1"
-
-    OS_LIBS += [
-        "log"
-    ]
-
-if CONFIG["OS_TARGET"] == "Darwin":
-
-    DEFINES["CR_XCODE_VERSION"] = "0920"
-    DEFINES["NO_TCMALLOC"] = True
-    DEFINES["WEBRTC_MAC"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["__ASSERT_MACROS_DEFINE_VERSIONS_WITHOUT_UNDERSCORE"] = "0"
-
-    OS_LIBS += [
-        "-framework AVFoundation",
-        "-framework CoreMedia",
-        "-framework CoreVideo",
-        "-framework Foundation"
-    ]
-
-if CONFIG["OS_TARGET"] == "DragonFly":
+if not CONFIG["MOZ_DEBUG"]:
 
-    DEFINES["USE_X11"] = "1"
-    DEFINES["WEBRTC_BSD"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
+    DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "0"
+    DEFINES["NDEBUG"] = True
+    DEFINES["NVALGRIND"] = True
 
-if CONFIG["OS_TARGET"] == "FreeBSD":
+if CONFIG["OS_TARGET"] == "NetBSD":
 
     DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_BSD"] = True
@@ -119,7 +78,6 @@ if CONFIG["OS_TARGET"] == "FreeBSD":
 if CONFIG["OS_TARGET"] == "Linux":
 
     DEFINES["USE_NSS_CERTS"] = "1"
-    DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_LINUX"] = True
     DEFINES["WEBRTC_POSIX"] = True
     DEFINES["_FILE_OFFSET_BITS"] = "64"
@@ -129,14 +87,7 @@ if CONFIG["OS_TARGET"] == "Linux":
         "rt"
     ]
 
-if CONFIG["OS_TARGET"] == "NetBSD":
-
-    DEFINES["USE_X11"] = "1"
-    DEFINES["WEBRTC_BSD"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
-
-if CONFIG["OS_TARGET"] == "OpenBSD":
+if CONFIG["OS_TARGET"] == "DragonFly":
 
     DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_BSD"] = True
@@ -173,10 +124,53 @@ if CONFIG["OS_TARGET"] == "WINNT":
         "winmm"
     ]
 
-if CONFIG["CPU_ARCH"] == "aarch64":
+if CONFIG["OS_TARGET"] == "Darwin":
 
-    DEFINES["WEBRTC_ARCH_ARM64"] = True
-    DEFINES["WEBRTC_HAS_NEON"] = True
+    DEFINES["CR_XCODE_VERSION"] = "0920"
+    DEFINES["NO_TCMALLOC"] = True
+    DEFINES["WEBRTC_MAC"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["__ASSERT_MACROS_DEFINE_VERSIONS_WITHOUT_UNDERSCORE"] = "0"
+
+    OS_LIBS += [
+        "-framework AVFoundation",
+        "-framework CoreMedia",
+        "-framework CoreVideo",
+        "-framework Foundation"
+    ]
+
+if CONFIG["OS_TARGET"] == "OpenBSD":
+
+    DEFINES["USE_X11"] = "1"
+    DEFINES["WEBRTC_BSD"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+
+if CONFIG["OS_TARGET"] == "FreeBSD":
+
+    DEFINES["USE_X11"] = "1"
+    DEFINES["WEBRTC_BSD"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+
+if CONFIG["OS_TARGET"] == "Android":
+
+    DEFINES["ANDROID"] = True
+    DEFINES["ANDROID_NDK_VERSION"] = "r12b"
+    DEFINES["DISABLE_NACL"] = True
+    DEFINES["HAVE_SYS_UIO_H"] = True
+    DEFINES["NO_TCMALLOC"] = True
+    DEFINES["USE_OPENSSL_CERTS"] = "1"
+    DEFINES["WEBRTC_ANDROID"] = True
+    DEFINES["WEBRTC_ANDROID_OPENSLES"] = True
+    DEFINES["WEBRTC_LINUX"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+    DEFINES["__GNU_SOURCE"] = "1"
+
+    OS_LIBS += [
+        "log"
+    ]
 
 if CONFIG["CPU_ARCH"] == "arm":
 
@@ -188,15 +182,24 @@ if CONFIG["CPU_ARCH"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Android":
+if CONFIG["CPU_ARCH"] == "ppc64":
 
-    DEFINES["_FORTIFY_SOURCE"] = "2"
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "mips64":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "aarch64":
+
+    DEFINES["WEBRTC_ARCH_ARM64"] = True
+    DEFINES["WEBRTC_HAS_NEON"] = True
 
 if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Darwin":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "DragonFly":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "OpenBSD":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
@@ -204,20 +207,28 @@ if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "FreeBSD":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "NetBSD":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Android":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "OpenBSD":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "DragonFly":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "Android":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "NetBSD":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "NetBSD":
 
     CXXFLAGS += [
         "-msse2"
     ]
 
+if CONFIG["CPU_ARCH"] == "x86_64" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
 if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "FreeBSD":
 
     CXXFLAGS += [
@@ -235,7 +246,7 @@ if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "Linux":
         "-msse2"
     ]
 
-if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "NetBSD":
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "Android":
 
     CXXFLAGS += [
         "-msse2"
@@ -247,4 +258,32 @@ if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "OpenBSD":
         "-msse2"
     ]
 
+if CONFIG["CPU_ARCH"] == "arm" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "aarch64" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "arm" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "aarch64" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["HOST_CPU_ARCH"] == "x86_64" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["HOST_CPU_ARCH"] == "x86" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
 Library("rtc_audio_video_gn")
diff --git a/media/webrtc/trunk/webrtc/media/rtc_h264_profile_id_gn/moz.build b/media/webrtc/trunk/webrtc/media/rtc_h264_profile_id_gn/moz.build
index 70cf9dabc8dc..0b62c6ad870b 100644
--- a/media/webrtc/trunk/webrtc/media/rtc_h264_profile_id_gn/moz.build
+++ b/media/webrtc/trunk/webrtc/media/rtc_h264_profile_id_gn/moz.build
@@ -30,56 +30,18 @@ UNIFIED_SOURCES += [
     "/media/webrtc/trunk/webrtc/media/base/h264_profile_level_id.cc"
 ]
 
-if not CONFIG["MOZ_DEBUG"]:
-
-    DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "0"
-    DEFINES["NDEBUG"] = True
-    DEFINES["NVALGRIND"] = True
-
 if CONFIG["MOZ_DEBUG"] == "1":
 
     DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "1"
     DEFINES["WTF_USE_DYNAMIC_ANNOTATIONS"] = "1"
 
-if CONFIG["OS_TARGET"] == "Android":
-
-    DEFINES["ANDROID"] = True
-    DEFINES["ANDROID_NDK_VERSION"] = "r12b"
-    DEFINES["DISABLE_NACL"] = True
-    DEFINES["HAVE_SYS_UIO_H"] = True
-    DEFINES["NO_TCMALLOC"] = True
-    DEFINES["USE_OPENSSL_CERTS"] = "1"
-    DEFINES["WEBRTC_ANDROID"] = True
-    DEFINES["WEBRTC_ANDROID_OPENSLES"] = True
-    DEFINES["WEBRTC_LINUX"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
-    DEFINES["__GNU_SOURCE"] = "1"
-
-    OS_LIBS += [
-        "log"
-    ]
-
-if CONFIG["OS_TARGET"] == "Darwin":
-
-    DEFINES["CR_XCODE_VERSION"] = "0920"
-    DEFINES["NO_TCMALLOC"] = True
-    DEFINES["WEBRTC_MAC"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["__ASSERT_MACROS_DEFINE_VERSIONS_WITHOUT_UNDERSCORE"] = "0"
-
-    OS_LIBS += [
-        "-framework Foundation"
-    ]
-
-if CONFIG["OS_TARGET"] == "DragonFly":
+if not CONFIG["MOZ_DEBUG"]:
 
-    DEFINES["USE_X11"] = "1"
-    DEFINES["WEBRTC_BSD"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
+    DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "0"
+    DEFINES["NDEBUG"] = True
+    DEFINES["NVALGRIND"] = True
 
-if CONFIG["OS_TARGET"] == "FreeBSD":
+if CONFIG["OS_TARGET"] == "NetBSD":
 
     DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_BSD"] = True
@@ -89,19 +51,11 @@ if CONFIG["OS_TARGET"] == "FreeBSD":
 if CONFIG["OS_TARGET"] == "Linux":
 
     DEFINES["USE_NSS_CERTS"] = "1"
-    DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_LINUX"] = True
     DEFINES["WEBRTC_POSIX"] = True
     DEFINES["_FILE_OFFSET_BITS"] = "64"
 
-if CONFIG["OS_TARGET"] == "NetBSD":
-
-    DEFINES["USE_X11"] = "1"
-    DEFINES["WEBRTC_BSD"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
-
-if CONFIG["OS_TARGET"] == "OpenBSD":
+if CONFIG["OS_TARGET"] == "DragonFly":
 
     DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_BSD"] = True
@@ -133,10 +87,50 @@ if CONFIG["OS_TARGET"] == "WINNT":
     DEFINES["_WINDOWS"] = True
     DEFINES["__STD_C"] = True
 
-if CONFIG["CPU_ARCH"] == "aarch64":
+if CONFIG["OS_TARGET"] == "Darwin":
 
-    DEFINES["WEBRTC_ARCH_ARM64"] = True
-    DEFINES["WEBRTC_HAS_NEON"] = True
+    DEFINES["CR_XCODE_VERSION"] = "0920"
+    DEFINES["NO_TCMALLOC"] = True
+    DEFINES["WEBRTC_MAC"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["__ASSERT_MACROS_DEFINE_VERSIONS_WITHOUT_UNDERSCORE"] = "0"
+
+    OS_LIBS += [
+        "-framework Foundation"
+    ]
+
+if CONFIG["OS_TARGET"] == "OpenBSD":
+
+    DEFINES["USE_X11"] = "1"
+    DEFINES["WEBRTC_BSD"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+
+if CONFIG["OS_TARGET"] == "FreeBSD":
+
+    DEFINES["USE_X11"] = "1"
+    DEFINES["WEBRTC_BSD"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+
+if CONFIG["OS_TARGET"] == "Android":
+
+    DEFINES["ANDROID"] = True
+    DEFINES["ANDROID_NDK_VERSION"] = "r12b"
+    DEFINES["DISABLE_NACL"] = True
+    DEFINES["HAVE_SYS_UIO_H"] = True
+    DEFINES["NO_TCMALLOC"] = True
+    DEFINES["USE_OPENSSL_CERTS"] = "1"
+    DEFINES["WEBRTC_ANDROID"] = True
+    DEFINES["WEBRTC_ANDROID_OPENSLES"] = True
+    DEFINES["WEBRTC_LINUX"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+    DEFINES["__GNU_SOURCE"] = "1"
+
+    OS_LIBS += [
+        "log"
+    ]
 
 if CONFIG["CPU_ARCH"] == "arm":
 
@@ -148,15 +142,24 @@ if CONFIG["CPU_ARCH"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Android":
+if CONFIG["CPU_ARCH"] == "ppc64":
 
-    DEFINES["_FORTIFY_SOURCE"] = "2"
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "mips64":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "aarch64":
+
+    DEFINES["WEBRTC_ARCH_ARM64"] = True
+    DEFINES["WEBRTC_HAS_NEON"] = True
 
 if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Darwin":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "DragonFly":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "OpenBSD":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
@@ -164,20 +167,28 @@ if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "FreeBSD":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "NetBSD":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Android":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "OpenBSD":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "DragonFly":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "Android":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "NetBSD":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "NetBSD":
 
     CXXFLAGS += [
         "-msse2"
     ]
 
+if CONFIG["CPU_ARCH"] == "x86_64" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
 if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "FreeBSD":
 
     CXXFLAGS += [
@@ -195,7 +206,7 @@ if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "Linux":
         "-msse2"
     ]
 
-if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "NetBSD":
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "Android":
 
     CXXFLAGS += [
         "-msse2"
@@ -207,4 +218,32 @@ if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "OpenBSD":
         "-msse2"
     ]
 
+if CONFIG["CPU_ARCH"] == "arm" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "aarch64" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "arm" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "aarch64" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["HOST_CPU_ARCH"] == "x86_64" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["HOST_CPU_ARCH"] == "x86" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
 Library("rtc_h264_profile_id_gn")
diff --git a/media/webrtc/trunk/webrtc/media/rtc_media_base_gn/moz.build b/media/webrtc/trunk/webrtc/media/rtc_media_base_gn/moz.build
index 117f10f9095e..2dfa84c08795 100644
--- a/media/webrtc/trunk/webrtc/media/rtc_media_base_gn/moz.build
+++ b/media/webrtc/trunk/webrtc/media/rtc_media_base_gn/moz.build
@@ -41,56 +41,18 @@ UNIFIED_SOURCES += [
     "/media/webrtc/trunk/webrtc/media/base/videosourceinterface.cc"
 ]
 
-if not CONFIG["MOZ_DEBUG"]:
-
-    DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "0"
-    DEFINES["NDEBUG"] = True
-    DEFINES["NVALGRIND"] = True
-
 if CONFIG["MOZ_DEBUG"] == "1":
 
     DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "1"
     DEFINES["WTF_USE_DYNAMIC_ANNOTATIONS"] = "1"
 
-if CONFIG["OS_TARGET"] == "Android":
-
-    DEFINES["ANDROID"] = True
-    DEFINES["ANDROID_NDK_VERSION"] = "r12b"
-    DEFINES["DISABLE_NACL"] = True
-    DEFINES["HAVE_SYS_UIO_H"] = True
-    DEFINES["NO_TCMALLOC"] = True
-    DEFINES["USE_OPENSSL_CERTS"] = "1"
-    DEFINES["WEBRTC_ANDROID"] = True
-    DEFINES["WEBRTC_ANDROID_OPENSLES"] = True
-    DEFINES["WEBRTC_LINUX"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
-    DEFINES["__GNU_SOURCE"] = "1"
-
-    OS_LIBS += [
-        "log"
-    ]
-
-if CONFIG["OS_TARGET"] == "Darwin":
-
-    DEFINES["CR_XCODE_VERSION"] = "0920"
-    DEFINES["NO_TCMALLOC"] = True
-    DEFINES["WEBRTC_MAC"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["__ASSERT_MACROS_DEFINE_VERSIONS_WITHOUT_UNDERSCORE"] = "0"
-
-    OS_LIBS += [
-        "-framework Foundation"
-    ]
-
-if CONFIG["OS_TARGET"] == "DragonFly":
+if not CONFIG["MOZ_DEBUG"]:
 
-    DEFINES["USE_X11"] = "1"
-    DEFINES["WEBRTC_BSD"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
+    DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "0"
+    DEFINES["NDEBUG"] = True
+    DEFINES["NVALGRIND"] = True
 
-if CONFIG["OS_TARGET"] == "FreeBSD":
+if CONFIG["OS_TARGET"] == "NetBSD":
 
     DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_BSD"] = True
@@ -100,7 +62,6 @@ if CONFIG["OS_TARGET"] == "FreeBSD":
 if CONFIG["OS_TARGET"] == "Linux":
 
     DEFINES["USE_NSS_CERTS"] = "1"
-    DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_LINUX"] = True
     DEFINES["WEBRTC_POSIX"] = True
     DEFINES["_FILE_OFFSET_BITS"] = "64"
@@ -109,14 +70,7 @@ if CONFIG["OS_TARGET"] == "Linux":
         "rt"
     ]
 
-if CONFIG["OS_TARGET"] == "NetBSD":
-
-    DEFINES["USE_X11"] = "1"
-    DEFINES["WEBRTC_BSD"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
-
-if CONFIG["OS_TARGET"] == "OpenBSD":
+if CONFIG["OS_TARGET"] == "DragonFly":
 
     DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_BSD"] = True
@@ -152,10 +106,50 @@ if CONFIG["OS_TARGET"] == "WINNT":
         "winmm"
     ]
 
-if CONFIG["CPU_ARCH"] == "aarch64":
+if CONFIG["OS_TARGET"] == "Darwin":
 
-    DEFINES["WEBRTC_ARCH_ARM64"] = True
-    DEFINES["WEBRTC_HAS_NEON"] = True
+    DEFINES["CR_XCODE_VERSION"] = "0920"
+    DEFINES["NO_TCMALLOC"] = True
+    DEFINES["WEBRTC_MAC"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["__ASSERT_MACROS_DEFINE_VERSIONS_WITHOUT_UNDERSCORE"] = "0"
+
+    OS_LIBS += [
+        "-framework Foundation"
+    ]
+
+if CONFIG["OS_TARGET"] == "OpenBSD":
+
+    DEFINES["USE_X11"] = "1"
+    DEFINES["WEBRTC_BSD"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+
+if CONFIG["OS_TARGET"] == "FreeBSD":
+
+    DEFINES["USE_X11"] = "1"
+    DEFINES["WEBRTC_BSD"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+
+if CONFIG["OS_TARGET"] == "Android":
+
+    DEFINES["ANDROID"] = True
+    DEFINES["ANDROID_NDK_VERSION"] = "r12b"
+    DEFINES["DISABLE_NACL"] = True
+    DEFINES["HAVE_SYS_UIO_H"] = True
+    DEFINES["NO_TCMALLOC"] = True
+    DEFINES["USE_OPENSSL_CERTS"] = "1"
+    DEFINES["WEBRTC_ANDROID"] = True
+    DEFINES["WEBRTC_ANDROID_OPENSLES"] = True
+    DEFINES["WEBRTC_LINUX"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+    DEFINES["__GNU_SOURCE"] = "1"
+
+    OS_LIBS += [
+        "log"
+    ]
 
 if CONFIG["CPU_ARCH"] == "arm":
 
@@ -167,15 +161,24 @@ if CONFIG["CPU_ARCH"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Android":
+if CONFIG["CPU_ARCH"] == "ppc64":
 
-    DEFINES["_FORTIFY_SOURCE"] = "2"
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "mips64":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "aarch64":
+
+    DEFINES["WEBRTC_ARCH_ARM64"] = True
+    DEFINES["WEBRTC_HAS_NEON"] = True
 
 if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Darwin":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "DragonFly":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "OpenBSD":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
@@ -183,20 +186,28 @@ if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "FreeBSD":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "NetBSD":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Android":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "OpenBSD":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "DragonFly":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "Android":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "NetBSD":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "NetBSD":
 
     CXXFLAGS += [
         "-msse2"
     ]
 
+if CONFIG["CPU_ARCH"] == "x86_64" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
 if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "FreeBSD":
 
     CXXFLAGS += [
@@ -214,7 +225,7 @@ if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "Linux":
         "-msse2"
     ]
 
-if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "NetBSD":
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "Android":
 
     CXXFLAGS += [
         "-msse2"
@@ -226,4 +237,32 @@ if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "OpenBSD":
         "-msse2"
     ]
 
+if CONFIG["CPU_ARCH"] == "arm" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "aarch64" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "arm" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "aarch64" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["HOST_CPU_ARCH"] == "x86_64" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["HOST_CPU_ARCH"] == "x86" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
 Library("rtc_media_base_gn")
diff --git a/media/webrtc/trunk/webrtc/media/rtc_media_gn/moz.build b/media/webrtc/trunk/webrtc/media/rtc_media_gn/moz.build
index f17be6025587..8f0deb79d71b 100644
--- a/media/webrtc/trunk/webrtc/media/rtc_media_gn/moz.build
+++ b/media/webrtc/trunk/webrtc/media/rtc_media_gn/moz.build
@@ -28,59 +28,18 @@ LOCAL_INCLUDES += [
     "/media/webrtc/trunk/webrtc/"
 ]
 
-if not CONFIG["MOZ_DEBUG"]:
-
-    DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "0"
-    DEFINES["NDEBUG"] = True
-    DEFINES["NVALGRIND"] = True
-
 if CONFIG["MOZ_DEBUG"] == "1":
 
     DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "1"
     DEFINES["WTF_USE_DYNAMIC_ANNOTATIONS"] = "1"
 
-if CONFIG["OS_TARGET"] == "Android":
-
-    DEFINES["ANDROID"] = True
-    DEFINES["ANDROID_NDK_VERSION"] = "r12b"
-    DEFINES["DISABLE_NACL"] = True
-    DEFINES["HAVE_SYS_UIO_H"] = True
-    DEFINES["NO_TCMALLOC"] = True
-    DEFINES["USE_OPENSSL_CERTS"] = "1"
-    DEFINES["WEBRTC_ANDROID"] = True
-    DEFINES["WEBRTC_ANDROID_OPENSLES"] = True
-    DEFINES["WEBRTC_LINUX"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
-    DEFINES["__GNU_SOURCE"] = "1"
-
-    OS_LIBS += [
-        "log"
-    ]
-
-if CONFIG["OS_TARGET"] == "Darwin":
-
-    DEFINES["CR_XCODE_VERSION"] = "0920"
-    DEFINES["NO_TCMALLOC"] = True
-    DEFINES["WEBRTC_MAC"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["__ASSERT_MACROS_DEFINE_VERSIONS_WITHOUT_UNDERSCORE"] = "0"
-
-    OS_LIBS += [
-        "-framework AVFoundation",
-        "-framework CoreMedia",
-        "-framework CoreVideo",
-        "-framework Foundation"
-    ]
-
-if CONFIG["OS_TARGET"] == "DragonFly":
+if not CONFIG["MOZ_DEBUG"]:
 
-    DEFINES["USE_X11"] = "1"
-    DEFINES["WEBRTC_BSD"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
+    DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "0"
+    DEFINES["NDEBUG"] = True
+    DEFINES["NVALGRIND"] = True
 
-if CONFIG["OS_TARGET"] == "FreeBSD":
+if CONFIG["OS_TARGET"] == "NetBSD":
 
     DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_BSD"] = True
@@ -90,7 +49,6 @@ if CONFIG["OS_TARGET"] == "FreeBSD":
 if CONFIG["OS_TARGET"] == "Linux":
 
     DEFINES["USE_NSS_CERTS"] = "1"
-    DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_LINUX"] = True
     DEFINES["WEBRTC_POSIX"] = True
     DEFINES["_FILE_OFFSET_BITS"] = "64"
@@ -100,14 +58,7 @@ if CONFIG["OS_TARGET"] == "Linux":
         "rt"
     ]
 
-if CONFIG["OS_TARGET"] == "NetBSD":
-
-    DEFINES["USE_X11"] = "1"
-    DEFINES["WEBRTC_BSD"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
-
-if CONFIG["OS_TARGET"] == "OpenBSD":
+if CONFIG["OS_TARGET"] == "DragonFly":
 
     DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_BSD"] = True
@@ -144,10 +95,53 @@ if CONFIG["OS_TARGET"] == "WINNT":
         "winmm"
     ]
 
-if CONFIG["CPU_ARCH"] == "aarch64":
+if CONFIG["OS_TARGET"] == "Darwin":
 
-    DEFINES["WEBRTC_ARCH_ARM64"] = True
-    DEFINES["WEBRTC_HAS_NEON"] = True
+    DEFINES["CR_XCODE_VERSION"] = "0920"
+    DEFINES["NO_TCMALLOC"] = True
+    DEFINES["WEBRTC_MAC"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["__ASSERT_MACROS_DEFINE_VERSIONS_WITHOUT_UNDERSCORE"] = "0"
+
+    OS_LIBS += [
+        "-framework AVFoundation",
+        "-framework CoreMedia",
+        "-framework CoreVideo",
+        "-framework Foundation"
+    ]
+
+if CONFIG["OS_TARGET"] == "OpenBSD":
+
+    DEFINES["USE_X11"] = "1"
+    DEFINES["WEBRTC_BSD"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+
+if CONFIG["OS_TARGET"] == "FreeBSD":
+
+    DEFINES["USE_X11"] = "1"
+    DEFINES["WEBRTC_BSD"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+
+if CONFIG["OS_TARGET"] == "Android":
+
+    DEFINES["ANDROID"] = True
+    DEFINES["ANDROID_NDK_VERSION"] = "r12b"
+    DEFINES["DISABLE_NACL"] = True
+    DEFINES["HAVE_SYS_UIO_H"] = True
+    DEFINES["NO_TCMALLOC"] = True
+    DEFINES["USE_OPENSSL_CERTS"] = "1"
+    DEFINES["WEBRTC_ANDROID"] = True
+    DEFINES["WEBRTC_ANDROID_OPENSLES"] = True
+    DEFINES["WEBRTC_LINUX"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+    DEFINES["__GNU_SOURCE"] = "1"
+
+    OS_LIBS += [
+        "log"
+    ]
 
 if CONFIG["CPU_ARCH"] == "arm":
 
@@ -155,15 +149,24 @@ if CONFIG["CPU_ARCH"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Android":
+if CONFIG["CPU_ARCH"] == "ppc64":
 
-    DEFINES["_FORTIFY_SOURCE"] = "2"
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "mips64":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "aarch64":
+
+    DEFINES["WEBRTC_ARCH_ARM64"] = True
+    DEFINES["WEBRTC_HAS_NEON"] = True
 
 if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Darwin":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "DragonFly":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "OpenBSD":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
@@ -171,17 +174,53 @@ if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "FreeBSD":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "NetBSD":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Android":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "OpenBSD":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "DragonFly":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "NetBSD":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
+if CONFIG["CPU_ARCH"] == "x86_64" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
 if CONFIG["CPU_ARCH"] == "aarch64" and CONFIG["OS_TARGET"] == "Linux":
 
     DEFINES["DISABLE_NACL"] = True
     DEFINES["NO_TCMALLOC"] = True
 
+if CONFIG["CPU_ARCH"] == "arm" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "aarch64" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "arm" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "aarch64" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["HOST_CPU_ARCH"] == "x86_64" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["HOST_CPU_ARCH"] == "x86" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
 Library("rtc_media_gn")
diff --git a/media/webrtc/trunk/webrtc/modules/audio_coding/audio_coding_gn/moz.build b/media/webrtc/trunk/webrtc/modules/audio_coding/audio_coding_gn/moz.build
index cea74357ed45..40993b304d22 100644
--- a/media/webrtc/trunk/webrtc/modules/audio_coding/audio_coding_gn/moz.build
+++ b/media/webrtc/trunk/webrtc/modules/audio_coding/audio_coding_gn/moz.build
@@ -45,66 +45,18 @@ UNIFIED_SOURCES += [
     "/media/webrtc/trunk/webrtc/modules/audio_coding/acm2/call_statistics.cc"
 ]
 
-if not CONFIG["MOZ_DEBUG"]:
-
-    DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "0"
-    DEFINES["NDEBUG"] = True
-    DEFINES["NVALGRIND"] = True
-
 if CONFIG["MOZ_DEBUG"] == "1":
 
     DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "1"
     DEFINES["WTF_USE_DYNAMIC_ANNOTATIONS"] = "1"
 
-if CONFIG["OS_TARGET"] == "Android":
-
-    DEFINES["ANDROID"] = True
-    DEFINES["ANDROID_NDK_VERSION"] = "r12b"
-    DEFINES["DISABLE_NACL"] = True
-    DEFINES["HAVE_SYS_UIO_H"] = True
-    DEFINES["NO_TCMALLOC"] = True
-    DEFINES["USE_OPENSSL_CERTS"] = "1"
-    DEFINES["WEBRTC_ANDROID"] = True
-    DEFINES["WEBRTC_ANDROID_OPENSLES"] = True
-    DEFINES["WEBRTC_LINUX"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
-    DEFINES["__GNU_SOURCE"] = "1"
-
-    OS_LIBS += [
-        "log"
-    ]
-
-if CONFIG["OS_TARGET"] == "Darwin":
-
-    DEFINES["CR_XCODE_VERSION"] = "0920"
-    DEFINES["NO_TCMALLOC"] = True
-    DEFINES["WEBRTC_CODEC_ISAC"] = True
-    DEFINES["WEBRTC_MAC"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["__ASSERT_MACROS_DEFINE_VERSIONS_WITHOUT_UNDERSCORE"] = "0"
-
-    LOCAL_INCLUDES += [
-        "/media/webrtc/trunk/webrtc/modules/audio_coding/codecs/isac/main/include/"
-    ]
-
-    OS_LIBS += [
-        "-framework Foundation"
-    ]
-
-if CONFIG["OS_TARGET"] == "DragonFly":
-
-    DEFINES["USE_X11"] = "1"
-    DEFINES["WEBRTC_BSD"] = True
-    DEFINES["WEBRTC_CODEC_ISAC"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
+if not CONFIG["MOZ_DEBUG"]:
 
-    LOCAL_INCLUDES += [
-        "/media/webrtc/trunk/webrtc/modules/audio_coding/codecs/isac/main/include/"
-    ]
+    DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "0"
+    DEFINES["NDEBUG"] = True
+    DEFINES["NVALGRIND"] = True
 
-if CONFIG["OS_TARGET"] == "FreeBSD":
+if CONFIG["OS_TARGET"] == "NetBSD":
 
     DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_BSD"] = True
@@ -114,7 +66,6 @@ if CONFIG["OS_TARGET"] == "FreeBSD":
 if CONFIG["OS_TARGET"] == "Linux":
 
     DEFINES["USE_NSS_CERTS"] = "1"
-    DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_LINUX"] = True
     DEFINES["WEBRTC_POSIX"] = True
     DEFINES["_FILE_OFFSET_BITS"] = "64"
@@ -123,19 +74,17 @@ if CONFIG["OS_TARGET"] == "Linux":
         "rt"
     ]
 
-if CONFIG["OS_TARGET"] == "NetBSD":
+if CONFIG["OS_TARGET"] == "DragonFly":
 
     DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_BSD"] = True
+    DEFINES["WEBRTC_CODEC_ISAC"] = True
     DEFINES["WEBRTC_POSIX"] = True
     DEFINES["_FILE_OFFSET_BITS"] = "64"
 
-if CONFIG["OS_TARGET"] == "OpenBSD":
-
-    DEFINES["USE_X11"] = "1"
-    DEFINES["WEBRTC_BSD"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
+    LOCAL_INCLUDES += [
+        "/media/webrtc/trunk/webrtc/modules/audio_coding/codecs/isac/main/include/"
+    ]
 
 if CONFIG["OS_TARGET"] == "WINNT":
 
@@ -171,10 +120,55 @@ if CONFIG["OS_TARGET"] == "WINNT":
         "winmm"
     ]
 
-if CONFIG["CPU_ARCH"] == "aarch64":
+if CONFIG["OS_TARGET"] == "Darwin":
 
-    DEFINES["WEBRTC_ARCH_ARM64"] = True
-    DEFINES["WEBRTC_HAS_NEON"] = True
+    DEFINES["CR_XCODE_VERSION"] = "0920"
+    DEFINES["NO_TCMALLOC"] = True
+    DEFINES["WEBRTC_CODEC_ISAC"] = True
+    DEFINES["WEBRTC_MAC"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["__ASSERT_MACROS_DEFINE_VERSIONS_WITHOUT_UNDERSCORE"] = "0"
+
+    LOCAL_INCLUDES += [
+        "/media/webrtc/trunk/webrtc/modules/audio_coding/codecs/isac/main/include/"
+    ]
+
+    OS_LIBS += [
+        "-framework Foundation"
+    ]
+
+if CONFIG["OS_TARGET"] == "OpenBSD":
+
+    DEFINES["USE_X11"] = "1"
+    DEFINES["WEBRTC_BSD"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+
+if CONFIG["OS_TARGET"] == "FreeBSD":
+
+    DEFINES["USE_X11"] = "1"
+    DEFINES["WEBRTC_BSD"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+
+if CONFIG["OS_TARGET"] == "Android":
+
+    DEFINES["ANDROID"] = True
+    DEFINES["ANDROID_NDK_VERSION"] = "r12b"
+    DEFINES["DISABLE_NACL"] = True
+    DEFINES["HAVE_SYS_UIO_H"] = True
+    DEFINES["NO_TCMALLOC"] = True
+    DEFINES["USE_OPENSSL_CERTS"] = "1"
+    DEFINES["WEBRTC_ANDROID"] = True
+    DEFINES["WEBRTC_ANDROID_OPENSLES"] = True
+    DEFINES["WEBRTC_LINUX"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+    DEFINES["__GNU_SOURCE"] = "1"
+
+    OS_LIBS += [
+        "log"
+    ]
 
 if CONFIG["CPU_ARCH"] == "arm":
 
@@ -191,8 +185,9 @@ if CONFIG["CPU_ARCH"] == "arm":
         "/media/webrtc/trunk/webrtc/modules/audio_coding/codecs/isac/fix/include/"
     ]
 
-if CONFIG["CPU_ARCH"] == "mips64":
+if CONFIG["CPU_ARCH"] == "ppc64":
 
+    DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_CODEC_ISAC"] = True
 
     LOCAL_INCLUDES += [
@@ -203,8 +198,9 @@ if CONFIG["CPU_ARCH"] == "mips64":
         "m"
     ]
 
-if CONFIG["CPU_ARCH"] == "ppc64":
+if CONFIG["CPU_ARCH"] == "mips64":
 
+    DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_CODEC_ISAC"] = True
 
     LOCAL_INCLUDES += [
@@ -215,15 +211,16 @@ if CONFIG["CPU_ARCH"] == "ppc64":
         "m"
     ]
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Android":
+if CONFIG["CPU_ARCH"] == "aarch64":
 
-    DEFINES["_FORTIFY_SOURCE"] = "2"
+    DEFINES["WEBRTC_ARCH_ARM64"] = True
+    DEFINES["WEBRTC_HAS_NEON"] = True
 
 if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Darwin":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "DragonFly":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "OpenBSD":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
@@ -231,23 +228,19 @@ if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "FreeBSD":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "NetBSD":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Android":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "OpenBSD":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "DragonFly":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if CONFIG["CPU_ARCH"] == "aarch64" and CONFIG["OS_TARGET"] == "Android":
-
-    DEFINES["WEBRTC_CODEC_ISAC"] = True
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "NetBSD":
 
-    LOCAL_INCLUDES += [
-        "/media/webrtc/trunk/webrtc/modules/audio_coding/codecs/isac/main/include/"
-    ]
+    DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "Android":
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "NetBSD":
 
     CXXFLAGS += [
         "-msse2"
@@ -259,7 +252,7 @@ if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "Android":
         "/media/webrtc/trunk/webrtc/modules/audio_coding/codecs/isac/main/include/"
     ]
 
-if CONFIG["CPU_ARCH"] == "x86_64" and CONFIG["OS_TARGET"] == "Android":
+if CONFIG["CPU_ARCH"] == "aarch64" and CONFIG["OS_TARGET"] == "FreeBSD":
 
     DEFINES["WEBRTC_CODEC_ISAC"] = True
 
@@ -267,14 +260,19 @@ if CONFIG["CPU_ARCH"] == "x86_64" and CONFIG["OS_TARGET"] == "Android":
         "/media/webrtc/trunk/webrtc/modules/audio_coding/codecs/isac/main/include/"
     ]
 
-if CONFIG["CPU_ARCH"] == "aarch64" and CONFIG["OS_TARGET"] == "FreeBSD":
+if CONFIG["CPU_ARCH"] == "x86_64" and CONFIG["OS_TARGET"] == "Linux":
 
+    DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_CODEC_ISAC"] = True
 
     LOCAL_INCLUDES += [
         "/media/webrtc/trunk/webrtc/modules/audio_coding/codecs/isac/main/include/"
     ]
 
+    OS_LIBS += [
+        "m"
+    ]
+
 if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "FreeBSD":
 
     CXXFLAGS += [
@@ -287,14 +285,6 @@ if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "FreeBSD":
         "/media/webrtc/trunk/webrtc/modules/audio_coding/codecs/isac/main/include/"
     ]
 
-if CONFIG["CPU_ARCH"] == "x86_64" and CONFIG["OS_TARGET"] == "FreeBSD":
-
-    DEFINES["WEBRTC_CODEC_ISAC"] = True
-
-    LOCAL_INCLUDES += [
-        "/media/webrtc/trunk/webrtc/modules/audio_coding/codecs/isac/main/include/"
-    ]
-
 if CONFIG["CPU_ARCH"] == "aarch64" and CONFIG["OS_TARGET"] == "Linux":
 
     DEFINES["DISABLE_NACL"] = True
@@ -309,23 +299,31 @@ if CONFIG["CPU_ARCH"] == "aarch64" and CONFIG["OS_TARGET"] == "Linux":
         "m"
     ]
 
-if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "Linux":
+if CONFIG["CPU_ARCH"] == "aarch64" and CONFIG["OS_TARGET"] == "Android":
 
-    CXXFLAGS += [
-        "-msse2"
+    DEFINES["WEBRTC_CODEC_ISAC"] = True
+
+    LOCAL_INCLUDES += [
+        "/media/webrtc/trunk/webrtc/modules/audio_coding/codecs/isac/main/include/"
     ]
 
+if CONFIG["CPU_ARCH"] == "aarch64" and CONFIG["OS_TARGET"] == "OpenBSD":
+
     DEFINES["WEBRTC_CODEC_ISAC"] = True
 
     LOCAL_INCLUDES += [
         "/media/webrtc/trunk/webrtc/modules/audio_coding/codecs/isac/main/include/"
     ]
 
-    OS_LIBS += [
-        "m"
+if CONFIG["CPU_ARCH"] == "x86_64" and CONFIG["OS_TARGET"] == "Android":
+
+    DEFINES["WEBRTC_CODEC_ISAC"] = True
+
+    LOCAL_INCLUDES += [
+        "/media/webrtc/trunk/webrtc/modules/audio_coding/codecs/isac/main/include/"
     ]
 
-if CONFIG["CPU_ARCH"] == "x86_64" and CONFIG["OS_TARGET"] == "Linux":
+if CONFIG["CPU_ARCH"] == "x86_64" and CONFIG["OS_TARGET"] == "OpenBSD":
 
     DEFINES["WEBRTC_CODEC_ISAC"] = True
 
@@ -333,11 +331,11 @@ if CONFIG["CPU_ARCH"] == "x86_64" and CONFIG["OS_TARGET"] == "Linux":
         "/media/webrtc/trunk/webrtc/modules/audio_coding/codecs/isac/main/include/"
     ]
 
-    OS_LIBS += [
-        "m"
-    ]
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "Linux":
 
-if CONFIG["CPU_ARCH"] == "aarch64" and CONFIG["OS_TARGET"] == "NetBSD":
+    CXXFLAGS += [
+        "-msse2"
+    ]
 
     DEFINES["WEBRTC_CODEC_ISAC"] = True
 
@@ -345,7 +343,11 @@ if CONFIG["CPU_ARCH"] == "aarch64" and CONFIG["OS_TARGET"] == "NetBSD":
         "/media/webrtc/trunk/webrtc/modules/audio_coding/codecs/isac/main/include/"
     ]
 
-if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "NetBSD":
+    OS_LIBS += [
+        "m"
+    ]
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "Android":
 
     CXXFLAGS += [
         "-msse2"
@@ -357,7 +359,11 @@ if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "NetBSD":
         "/media/webrtc/trunk/webrtc/modules/audio_coding/codecs/isac/main/include/"
     ]
 
-if CONFIG["CPU_ARCH"] == "x86_64" and CONFIG["OS_TARGET"] == "NetBSD":
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "OpenBSD":
+
+    CXXFLAGS += [
+        "-msse2"
+    ]
 
     DEFINES["WEBRTC_CODEC_ISAC"] = True
 
@@ -365,7 +371,7 @@ if CONFIG["CPU_ARCH"] == "x86_64" and CONFIG["OS_TARGET"] == "NetBSD":
         "/media/webrtc/trunk/webrtc/modules/audio_coding/codecs/isac/main/include/"
     ]
 
-if CONFIG["CPU_ARCH"] == "aarch64" and CONFIG["OS_TARGET"] == "OpenBSD":
+if CONFIG["CPU_ARCH"] == "x86_64" and CONFIG["OS_TARGET"] == "FreeBSD":
 
     DEFINES["WEBRTC_CODEC_ISAC"] = True
 
@@ -373,11 +379,7 @@ if CONFIG["CPU_ARCH"] == "aarch64" and CONFIG["OS_TARGET"] == "OpenBSD":
         "/media/webrtc/trunk/webrtc/modules/audio_coding/codecs/isac/main/include/"
     ]
 
-if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "OpenBSD":
-
-    CXXFLAGS += [
-        "-msse2"
-    ]
+if CONFIG["CPU_ARCH"] == "aarch64" and CONFIG["OS_TARGET"] == "NetBSD":
 
     DEFINES["WEBRTC_CODEC_ISAC"] = True
 
@@ -385,7 +387,7 @@ if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "OpenBSD":
         "/media/webrtc/trunk/webrtc/modules/audio_coding/codecs/isac/main/include/"
     ]
 
-if CONFIG["CPU_ARCH"] == "x86_64" and CONFIG["OS_TARGET"] == "OpenBSD":
+if CONFIG["CPU_ARCH"] == "x86_64" and CONFIG["OS_TARGET"] == "NetBSD":
 
     DEFINES["WEBRTC_CODEC_ISAC"] = True
 
@@ -393,4 +395,32 @@ if CONFIG["CPU_ARCH"] == "x86_64" and CONFIG["OS_TARGET"] == "OpenBSD":
         "/media/webrtc/trunk/webrtc/modules/audio_coding/codecs/isac/main/include/"
     ]
 
+if CONFIG["CPU_ARCH"] == "arm" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "aarch64" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "arm" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "aarch64" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["HOST_CPU_ARCH"] == "x86_64" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["HOST_CPU_ARCH"] == "x86" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
 Library("audio_coding_gn")
diff --git a/media/webrtc/trunk/webrtc/modules/audio_coding/audio_coding_module_typedefs_gn/moz.build b/media/webrtc/trunk/webrtc/modules/audio_coding/audio_coding_module_typedefs_gn/moz.build
index 3ed14b7e0053..57d80df5a55f 100644
--- a/media/webrtc/trunk/webrtc/modules/audio_coding/audio_coding_module_typedefs_gn/moz.build
+++ b/media/webrtc/trunk/webrtc/modules/audio_coding/audio_coding_module_typedefs_gn/moz.build
@@ -26,56 +26,18 @@ LOCAL_INCLUDES += [
     "/media/webrtc/trunk/webrtc/"
 ]
 
-if not CONFIG["MOZ_DEBUG"]:
-
-    DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "0"
-    DEFINES["NDEBUG"] = True
-    DEFINES["NVALGRIND"] = True
-
 if CONFIG["MOZ_DEBUG"] == "1":
 
     DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "1"
     DEFINES["WTF_USE_DYNAMIC_ANNOTATIONS"] = "1"
 
-if CONFIG["OS_TARGET"] == "Android":
-
-    DEFINES["ANDROID"] = True
-    DEFINES["ANDROID_NDK_VERSION"] = "r12b"
-    DEFINES["DISABLE_NACL"] = True
-    DEFINES["HAVE_SYS_UIO_H"] = True
-    DEFINES["NO_TCMALLOC"] = True
-    DEFINES["USE_OPENSSL_CERTS"] = "1"
-    DEFINES["WEBRTC_ANDROID"] = True
-    DEFINES["WEBRTC_ANDROID_OPENSLES"] = True
-    DEFINES["WEBRTC_LINUX"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
-    DEFINES["__GNU_SOURCE"] = "1"
-
-    OS_LIBS += [
-        "log"
-    ]
-
-if CONFIG["OS_TARGET"] == "Darwin":
-
-    DEFINES["CR_XCODE_VERSION"] = "0920"
-    DEFINES["NO_TCMALLOC"] = True
-    DEFINES["WEBRTC_MAC"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["__ASSERT_MACROS_DEFINE_VERSIONS_WITHOUT_UNDERSCORE"] = "0"
-
-    OS_LIBS += [
-        "-framework Foundation"
-    ]
-
-if CONFIG["OS_TARGET"] == "DragonFly":
+if not CONFIG["MOZ_DEBUG"]:
 
-    DEFINES["USE_X11"] = "1"
-    DEFINES["WEBRTC_BSD"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
+    DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "0"
+    DEFINES["NDEBUG"] = True
+    DEFINES["NVALGRIND"] = True
 
-if CONFIG["OS_TARGET"] == "FreeBSD":
+if CONFIG["OS_TARGET"] == "NetBSD":
 
     DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_BSD"] = True
@@ -85,7 +47,6 @@ if CONFIG["OS_TARGET"] == "FreeBSD":
 if CONFIG["OS_TARGET"] == "Linux":
 
     DEFINES["USE_NSS_CERTS"] = "1"
-    DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_LINUX"] = True
     DEFINES["WEBRTC_POSIX"] = True
     DEFINES["_FILE_OFFSET_BITS"] = "64"
@@ -94,14 +55,7 @@ if CONFIG["OS_TARGET"] == "Linux":
         "rt"
     ]
 
-if CONFIG["OS_TARGET"] == "NetBSD":
-
-    DEFINES["USE_X11"] = "1"
-    DEFINES["WEBRTC_BSD"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
-
-if CONFIG["OS_TARGET"] == "OpenBSD":
+if CONFIG["OS_TARGET"] == "DragonFly":
 
     DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_BSD"] = True
@@ -137,10 +91,50 @@ if CONFIG["OS_TARGET"] == "WINNT":
         "winmm"
     ]
 
-if CONFIG["CPU_ARCH"] == "aarch64":
+if CONFIG["OS_TARGET"] == "Darwin":
 
-    DEFINES["WEBRTC_ARCH_ARM64"] = True
-    DEFINES["WEBRTC_HAS_NEON"] = True
+    DEFINES["CR_XCODE_VERSION"] = "0920"
+    DEFINES["NO_TCMALLOC"] = True
+    DEFINES["WEBRTC_MAC"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["__ASSERT_MACROS_DEFINE_VERSIONS_WITHOUT_UNDERSCORE"] = "0"
+
+    OS_LIBS += [
+        "-framework Foundation"
+    ]
+
+if CONFIG["OS_TARGET"] == "OpenBSD":
+
+    DEFINES["USE_X11"] = "1"
+    DEFINES["WEBRTC_BSD"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+
+if CONFIG["OS_TARGET"] == "FreeBSD":
+
+    DEFINES["USE_X11"] = "1"
+    DEFINES["WEBRTC_BSD"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+
+if CONFIG["OS_TARGET"] == "Android":
+
+    DEFINES["ANDROID"] = True
+    DEFINES["ANDROID_NDK_VERSION"] = "r12b"
+    DEFINES["DISABLE_NACL"] = True
+    DEFINES["HAVE_SYS_UIO_H"] = True
+    DEFINES["NO_TCMALLOC"] = True
+    DEFINES["USE_OPENSSL_CERTS"] = "1"
+    DEFINES["WEBRTC_ANDROID"] = True
+    DEFINES["WEBRTC_ANDROID_OPENSLES"] = True
+    DEFINES["WEBRTC_LINUX"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+    DEFINES["__GNU_SOURCE"] = "1"
+
+    OS_LIBS += [
+        "log"
+    ]
 
 if CONFIG["CPU_ARCH"] == "arm":
 
@@ -148,15 +142,24 @@ if CONFIG["CPU_ARCH"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Android":
+if CONFIG["CPU_ARCH"] == "ppc64":
 
-    DEFINES["_FORTIFY_SOURCE"] = "2"
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "mips64":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "aarch64":
+
+    DEFINES["WEBRTC_ARCH_ARM64"] = True
+    DEFINES["WEBRTC_HAS_NEON"] = True
 
 if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Darwin":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "DragonFly":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "OpenBSD":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
@@ -164,17 +167,53 @@ if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "FreeBSD":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "NetBSD":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Android":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "OpenBSD":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "DragonFly":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "NetBSD":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
+if CONFIG["CPU_ARCH"] == "x86_64" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
 if CONFIG["CPU_ARCH"] == "aarch64" and CONFIG["OS_TARGET"] == "Linux":
 
     DEFINES["DISABLE_NACL"] = True
     DEFINES["NO_TCMALLOC"] = True
 
+if CONFIG["CPU_ARCH"] == "arm" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "aarch64" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "arm" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "aarch64" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["HOST_CPU_ARCH"] == "x86_64" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["HOST_CPU_ARCH"] == "x86" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
 Library("audio_coding_module_typedefs_gn")
diff --git a/media/webrtc/trunk/webrtc/modules/audio_coding/audio_format_conversion_gn/moz.build b/media/webrtc/trunk/webrtc/modules/audio_coding/audio_format_conversion_gn/moz.build
index 25139af88e31..b71f9dca094f 100644
--- a/media/webrtc/trunk/webrtc/modules/audio_coding/audio_format_conversion_gn/moz.build
+++ b/media/webrtc/trunk/webrtc/modules/audio_coding/audio_format_conversion_gn/moz.build
@@ -30,56 +30,18 @@ UNIFIED_SOURCES += [
     "/media/webrtc/trunk/webrtc/modules/audio_coding/codecs/audio_format_conversion.cc"
 ]
 
-if not CONFIG["MOZ_DEBUG"]:
-
-    DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "0"
-    DEFINES["NDEBUG"] = True
-    DEFINES["NVALGRIND"] = True
-
 if CONFIG["MOZ_DEBUG"] == "1":
 
     DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "1"
     DEFINES["WTF_USE_DYNAMIC_ANNOTATIONS"] = "1"
 
-if CONFIG["OS_TARGET"] == "Android":
-
-    DEFINES["ANDROID"] = True
-    DEFINES["ANDROID_NDK_VERSION"] = "r12b"
-    DEFINES["DISABLE_NACL"] = True
-    DEFINES["HAVE_SYS_UIO_H"] = True
-    DEFINES["NO_TCMALLOC"] = True
-    DEFINES["USE_OPENSSL_CERTS"] = "1"
-    DEFINES["WEBRTC_ANDROID"] = True
-    DEFINES["WEBRTC_ANDROID_OPENSLES"] = True
-    DEFINES["WEBRTC_LINUX"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
-    DEFINES["__GNU_SOURCE"] = "1"
-
-    OS_LIBS += [
-        "log"
-    ]
-
-if CONFIG["OS_TARGET"] == "Darwin":
-
-    DEFINES["CR_XCODE_VERSION"] = "0920"
-    DEFINES["NO_TCMALLOC"] = True
-    DEFINES["WEBRTC_MAC"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["__ASSERT_MACROS_DEFINE_VERSIONS_WITHOUT_UNDERSCORE"] = "0"
-
-    OS_LIBS += [
-        "-framework Foundation"
-    ]
-
-if CONFIG["OS_TARGET"] == "DragonFly":
+if not CONFIG["MOZ_DEBUG"]:
 
-    DEFINES["USE_X11"] = "1"
-    DEFINES["WEBRTC_BSD"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
+    DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "0"
+    DEFINES["NDEBUG"] = True
+    DEFINES["NVALGRIND"] = True
 
-if CONFIG["OS_TARGET"] == "FreeBSD":
+if CONFIG["OS_TARGET"] == "NetBSD":
 
     DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_BSD"] = True
@@ -89,19 +51,11 @@ if CONFIG["OS_TARGET"] == "FreeBSD":
 if CONFIG["OS_TARGET"] == "Linux":
 
     DEFINES["USE_NSS_CERTS"] = "1"
-    DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_LINUX"] = True
     DEFINES["WEBRTC_POSIX"] = True
     DEFINES["_FILE_OFFSET_BITS"] = "64"
 
-if CONFIG["OS_TARGET"] == "NetBSD":
-
-    DEFINES["USE_X11"] = "1"
-    DEFINES["WEBRTC_BSD"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
-
-if CONFIG["OS_TARGET"] == "OpenBSD":
+if CONFIG["OS_TARGET"] == "DragonFly":
 
     DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_BSD"] = True
@@ -133,10 +87,50 @@ if CONFIG["OS_TARGET"] == "WINNT":
     DEFINES["_WINDOWS"] = True
     DEFINES["__STD_C"] = True
 
-if CONFIG["CPU_ARCH"] == "aarch64":
+if CONFIG["OS_TARGET"] == "Darwin":
 
-    DEFINES["WEBRTC_ARCH_ARM64"] = True
-    DEFINES["WEBRTC_HAS_NEON"] = True
+    DEFINES["CR_XCODE_VERSION"] = "0920"
+    DEFINES["NO_TCMALLOC"] = True
+    DEFINES["WEBRTC_MAC"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["__ASSERT_MACROS_DEFINE_VERSIONS_WITHOUT_UNDERSCORE"] = "0"
+
+    OS_LIBS += [
+        "-framework Foundation"
+    ]
+
+if CONFIG["OS_TARGET"] == "OpenBSD":
+
+    DEFINES["USE_X11"] = "1"
+    DEFINES["WEBRTC_BSD"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+
+if CONFIG["OS_TARGET"] == "FreeBSD":
+
+    DEFINES["USE_X11"] = "1"
+    DEFINES["WEBRTC_BSD"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+
+if CONFIG["OS_TARGET"] == "Android":
+
+    DEFINES["ANDROID"] = True
+    DEFINES["ANDROID_NDK_VERSION"] = "r12b"
+    DEFINES["DISABLE_NACL"] = True
+    DEFINES["HAVE_SYS_UIO_H"] = True
+    DEFINES["NO_TCMALLOC"] = True
+    DEFINES["USE_OPENSSL_CERTS"] = "1"
+    DEFINES["WEBRTC_ANDROID"] = True
+    DEFINES["WEBRTC_ANDROID_OPENSLES"] = True
+    DEFINES["WEBRTC_LINUX"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+    DEFINES["__GNU_SOURCE"] = "1"
+
+    OS_LIBS += [
+        "log"
+    ]
 
 if CONFIG["CPU_ARCH"] == "arm":
 
@@ -148,15 +142,24 @@ if CONFIG["CPU_ARCH"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Android":
+if CONFIG["CPU_ARCH"] == "ppc64":
 
-    DEFINES["_FORTIFY_SOURCE"] = "2"
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "mips64":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "aarch64":
+
+    DEFINES["WEBRTC_ARCH_ARM64"] = True
+    DEFINES["WEBRTC_HAS_NEON"] = True
 
 if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Darwin":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "DragonFly":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "OpenBSD":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
@@ -164,20 +167,28 @@ if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "FreeBSD":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "NetBSD":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Android":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "OpenBSD":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "DragonFly":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "Android":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "NetBSD":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "NetBSD":
 
     CXXFLAGS += [
         "-msse2"
     ]
 
+if CONFIG["CPU_ARCH"] == "x86_64" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
 if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "FreeBSD":
 
     CXXFLAGS += [
@@ -195,7 +206,7 @@ if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "Linux":
         "-msse2"
     ]
 
-if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "NetBSD":
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "Android":
 
     CXXFLAGS += [
         "-msse2"
@@ -207,4 +218,32 @@ if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "OpenBSD":
         "-msse2"
     ]
 
+if CONFIG["CPU_ARCH"] == "arm" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "aarch64" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "arm" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "aarch64" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["HOST_CPU_ARCH"] == "x86_64" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["HOST_CPU_ARCH"] == "x86" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
 Library("audio_format_conversion_gn")
diff --git a/media/webrtc/trunk/webrtc/modules/audio_coding/audio_network_adaptor_config_gn/moz.build b/media/webrtc/trunk/webrtc/modules/audio_coding/audio_network_adaptor_config_gn/moz.build
index 8c079d9590ec..73d0c0bcb5ab 100644
--- a/media/webrtc/trunk/webrtc/modules/audio_coding/audio_network_adaptor_config_gn/moz.build
+++ b/media/webrtc/trunk/webrtc/modules/audio_coding/audio_network_adaptor_config_gn/moz.build
@@ -30,56 +30,18 @@ UNIFIED_SOURCES += [
     "/media/webrtc/trunk/webrtc/modules/audio_coding/audio_network_adaptor/audio_network_adaptor_config.cc"
 ]
 
-if not CONFIG["MOZ_DEBUG"]:
-
-    DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "0"
-    DEFINES["NDEBUG"] = True
-    DEFINES["NVALGRIND"] = True
-
 if CONFIG["MOZ_DEBUG"] == "1":
 
     DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "1"
     DEFINES["WTF_USE_DYNAMIC_ANNOTATIONS"] = "1"
 
-if CONFIG["OS_TARGET"] == "Android":
-
-    DEFINES["ANDROID"] = True
-    DEFINES["ANDROID_NDK_VERSION"] = "r12b"
-    DEFINES["DISABLE_NACL"] = True
-    DEFINES["HAVE_SYS_UIO_H"] = True
-    DEFINES["NO_TCMALLOC"] = True
-    DEFINES["USE_OPENSSL_CERTS"] = "1"
-    DEFINES["WEBRTC_ANDROID"] = True
-    DEFINES["WEBRTC_ANDROID_OPENSLES"] = True
-    DEFINES["WEBRTC_LINUX"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
-    DEFINES["__GNU_SOURCE"] = "1"
-
-    OS_LIBS += [
-        "log"
-    ]
-
-if CONFIG["OS_TARGET"] == "Darwin":
-
-    DEFINES["CR_XCODE_VERSION"] = "0920"
-    DEFINES["NO_TCMALLOC"] = True
-    DEFINES["WEBRTC_MAC"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["__ASSERT_MACROS_DEFINE_VERSIONS_WITHOUT_UNDERSCORE"] = "0"
-
-    OS_LIBS += [
-        "-framework Foundation"
-    ]
-
-if CONFIG["OS_TARGET"] == "DragonFly":
+if not CONFIG["MOZ_DEBUG"]:
 
-    DEFINES["USE_X11"] = "1"
-    DEFINES["WEBRTC_BSD"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
+    DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "0"
+    DEFINES["NDEBUG"] = True
+    DEFINES["NVALGRIND"] = True
 
-if CONFIG["OS_TARGET"] == "FreeBSD":
+if CONFIG["OS_TARGET"] == "NetBSD":
 
     DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_BSD"] = True
@@ -89,19 +51,11 @@ if CONFIG["OS_TARGET"] == "FreeBSD":
 if CONFIG["OS_TARGET"] == "Linux":
 
     DEFINES["USE_NSS_CERTS"] = "1"
-    DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_LINUX"] = True
     DEFINES["WEBRTC_POSIX"] = True
     DEFINES["_FILE_OFFSET_BITS"] = "64"
 
-if CONFIG["OS_TARGET"] == "NetBSD":
-
-    DEFINES["USE_X11"] = "1"
-    DEFINES["WEBRTC_BSD"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
-
-if CONFIG["OS_TARGET"] == "OpenBSD":
+if CONFIG["OS_TARGET"] == "DragonFly":
 
     DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_BSD"] = True
@@ -133,10 +87,50 @@ if CONFIG["OS_TARGET"] == "WINNT":
     DEFINES["_WINDOWS"] = True
     DEFINES["__STD_C"] = True
 
-if CONFIG["CPU_ARCH"] == "aarch64":
+if CONFIG["OS_TARGET"] == "Darwin":
 
-    DEFINES["WEBRTC_ARCH_ARM64"] = True
-    DEFINES["WEBRTC_HAS_NEON"] = True
+    DEFINES["CR_XCODE_VERSION"] = "0920"
+    DEFINES["NO_TCMALLOC"] = True
+    DEFINES["WEBRTC_MAC"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["__ASSERT_MACROS_DEFINE_VERSIONS_WITHOUT_UNDERSCORE"] = "0"
+
+    OS_LIBS += [
+        "-framework Foundation"
+    ]
+
+if CONFIG["OS_TARGET"] == "OpenBSD":
+
+    DEFINES["USE_X11"] = "1"
+    DEFINES["WEBRTC_BSD"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+
+if CONFIG["OS_TARGET"] == "FreeBSD":
+
+    DEFINES["USE_X11"] = "1"
+    DEFINES["WEBRTC_BSD"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+
+if CONFIG["OS_TARGET"] == "Android":
+
+    DEFINES["ANDROID"] = True
+    DEFINES["ANDROID_NDK_VERSION"] = "r12b"
+    DEFINES["DISABLE_NACL"] = True
+    DEFINES["HAVE_SYS_UIO_H"] = True
+    DEFINES["NO_TCMALLOC"] = True
+    DEFINES["USE_OPENSSL_CERTS"] = "1"
+    DEFINES["WEBRTC_ANDROID"] = True
+    DEFINES["WEBRTC_ANDROID_OPENSLES"] = True
+    DEFINES["WEBRTC_LINUX"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+    DEFINES["__GNU_SOURCE"] = "1"
+
+    OS_LIBS += [
+        "log"
+    ]
 
 if CONFIG["CPU_ARCH"] == "arm":
 
@@ -148,15 +142,24 @@ if CONFIG["CPU_ARCH"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Android":
+if CONFIG["CPU_ARCH"] == "ppc64":
 
-    DEFINES["_FORTIFY_SOURCE"] = "2"
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "mips64":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "aarch64":
+
+    DEFINES["WEBRTC_ARCH_ARM64"] = True
+    DEFINES["WEBRTC_HAS_NEON"] = True
 
 if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Darwin":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "DragonFly":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "OpenBSD":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
@@ -164,20 +167,28 @@ if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "FreeBSD":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "NetBSD":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Android":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "OpenBSD":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "DragonFly":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "Android":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "NetBSD":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "NetBSD":
 
     CXXFLAGS += [
         "-msse2"
     ]
 
+if CONFIG["CPU_ARCH"] == "x86_64" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
 if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "FreeBSD":
 
     CXXFLAGS += [
@@ -195,7 +206,7 @@ if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "Linux":
         "-msse2"
     ]
 
-if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "NetBSD":
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "Android":
 
     CXXFLAGS += [
         "-msse2"
@@ -207,4 +218,32 @@ if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "OpenBSD":
         "-msse2"
     ]
 
+if CONFIG["CPU_ARCH"] == "arm" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "aarch64" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "arm" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "aarch64" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["HOST_CPU_ARCH"] == "x86_64" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["HOST_CPU_ARCH"] == "x86" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
 Library("audio_network_adaptor_config_gn")
diff --git a/media/webrtc/trunk/webrtc/modules/audio_coding/audio_network_adaptor_gn/moz.build b/media/webrtc/trunk/webrtc/modules/audio_coding/audio_network_adaptor_gn/moz.build
index 9db7cb5c0b7f..b5c110d0913c 100644
--- a/media/webrtc/trunk/webrtc/modules/audio_coding/audio_network_adaptor_gn/moz.build
+++ b/media/webrtc/trunk/webrtc/modules/audio_coding/audio_network_adaptor_gn/moz.build
@@ -43,56 +43,18 @@ UNIFIED_SOURCES += [
     "/media/webrtc/trunk/webrtc/modules/audio_coding/audio_network_adaptor/frame_length_controller.cc"
 ]
 
-if not CONFIG["MOZ_DEBUG"]:
-
-    DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "0"
-    DEFINES["NDEBUG"] = True
-    DEFINES["NVALGRIND"] = True
-
 if CONFIG["MOZ_DEBUG"] == "1":
 
     DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "1"
     DEFINES["WTF_USE_DYNAMIC_ANNOTATIONS"] = "1"
 
-if CONFIG["OS_TARGET"] == "Android":
-
-    DEFINES["ANDROID"] = True
-    DEFINES["ANDROID_NDK_VERSION"] = "r12b"
-    DEFINES["DISABLE_NACL"] = True
-    DEFINES["HAVE_SYS_UIO_H"] = True
-    DEFINES["NO_TCMALLOC"] = True
-    DEFINES["USE_OPENSSL_CERTS"] = "1"
-    DEFINES["WEBRTC_ANDROID"] = True
-    DEFINES["WEBRTC_ANDROID_OPENSLES"] = True
-    DEFINES["WEBRTC_LINUX"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
-    DEFINES["__GNU_SOURCE"] = "1"
-
-    OS_LIBS += [
-        "log"
-    ]
-
-if CONFIG["OS_TARGET"] == "Darwin":
-
-    DEFINES["CR_XCODE_VERSION"] = "0920"
-    DEFINES["NO_TCMALLOC"] = True
-    DEFINES["WEBRTC_MAC"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["__ASSERT_MACROS_DEFINE_VERSIONS_WITHOUT_UNDERSCORE"] = "0"
-
-    OS_LIBS += [
-        "-framework Foundation"
-    ]
-
-if CONFIG["OS_TARGET"] == "DragonFly":
+if not CONFIG["MOZ_DEBUG"]:
 
-    DEFINES["USE_X11"] = "1"
-    DEFINES["WEBRTC_BSD"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
+    DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "0"
+    DEFINES["NDEBUG"] = True
+    DEFINES["NVALGRIND"] = True
 
-if CONFIG["OS_TARGET"] == "FreeBSD":
+if CONFIG["OS_TARGET"] == "NetBSD":
 
     DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_BSD"] = True
@@ -102,7 +64,6 @@ if CONFIG["OS_TARGET"] == "FreeBSD":
 if CONFIG["OS_TARGET"] == "Linux":
 
     DEFINES["USE_NSS_CERTS"] = "1"
-    DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_LINUX"] = True
     DEFINES["WEBRTC_POSIX"] = True
     DEFINES["_FILE_OFFSET_BITS"] = "64"
@@ -111,14 +72,7 @@ if CONFIG["OS_TARGET"] == "Linux":
         "rt"
     ]
 
-if CONFIG["OS_TARGET"] == "NetBSD":
-
-    DEFINES["USE_X11"] = "1"
-    DEFINES["WEBRTC_BSD"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
-
-if CONFIG["OS_TARGET"] == "OpenBSD":
+if CONFIG["OS_TARGET"] == "DragonFly":
 
     DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_BSD"] = True
@@ -154,10 +108,50 @@ if CONFIG["OS_TARGET"] == "WINNT":
         "winmm"
     ]
 
-if CONFIG["CPU_ARCH"] == "aarch64":
+if CONFIG["OS_TARGET"] == "Darwin":
 
-    DEFINES["WEBRTC_ARCH_ARM64"] = True
-    DEFINES["WEBRTC_HAS_NEON"] = True
+    DEFINES["CR_XCODE_VERSION"] = "0920"
+    DEFINES["NO_TCMALLOC"] = True
+    DEFINES["WEBRTC_MAC"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["__ASSERT_MACROS_DEFINE_VERSIONS_WITHOUT_UNDERSCORE"] = "0"
+
+    OS_LIBS += [
+        "-framework Foundation"
+    ]
+
+if CONFIG["OS_TARGET"] == "OpenBSD":
+
+    DEFINES["USE_X11"] = "1"
+    DEFINES["WEBRTC_BSD"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+
+if CONFIG["OS_TARGET"] == "FreeBSD":
+
+    DEFINES["USE_X11"] = "1"
+    DEFINES["WEBRTC_BSD"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+
+if CONFIG["OS_TARGET"] == "Android":
+
+    DEFINES["ANDROID"] = True
+    DEFINES["ANDROID_NDK_VERSION"] = "r12b"
+    DEFINES["DISABLE_NACL"] = True
+    DEFINES["HAVE_SYS_UIO_H"] = True
+    DEFINES["NO_TCMALLOC"] = True
+    DEFINES["USE_OPENSSL_CERTS"] = "1"
+    DEFINES["WEBRTC_ANDROID"] = True
+    DEFINES["WEBRTC_ANDROID_OPENSLES"] = True
+    DEFINES["WEBRTC_LINUX"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+    DEFINES["__GNU_SOURCE"] = "1"
+
+    OS_LIBS += [
+        "log"
+    ]
 
 if CONFIG["CPU_ARCH"] == "arm":
 
@@ -169,15 +163,24 @@ if CONFIG["CPU_ARCH"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Android":
+if CONFIG["CPU_ARCH"] == "ppc64":
 
-    DEFINES["_FORTIFY_SOURCE"] = "2"
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "mips64":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "aarch64":
+
+    DEFINES["WEBRTC_ARCH_ARM64"] = True
+    DEFINES["WEBRTC_HAS_NEON"] = True
 
 if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Darwin":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "DragonFly":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "OpenBSD":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
@@ -185,20 +188,28 @@ if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "FreeBSD":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "NetBSD":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Android":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "OpenBSD":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "DragonFly":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "Android":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "NetBSD":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "NetBSD":
 
     CXXFLAGS += [
         "-msse2"
     ]
 
+if CONFIG["CPU_ARCH"] == "x86_64" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
 if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "FreeBSD":
 
     CXXFLAGS += [
@@ -216,7 +227,7 @@ if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "Linux":
         "-msse2"
     ]
 
-if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "NetBSD":
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "Android":
 
     CXXFLAGS += [
         "-msse2"
@@ -228,4 +239,32 @@ if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "OpenBSD":
         "-msse2"
     ]
 
+if CONFIG["CPU_ARCH"] == "arm" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "aarch64" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "arm" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "aarch64" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["HOST_CPU_ARCH"] == "x86_64" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["HOST_CPU_ARCH"] == "x86" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
 Library("audio_network_adaptor_gn")
diff --git a/media/webrtc/trunk/webrtc/modules/audio_coding/cng_gn/moz.build b/media/webrtc/trunk/webrtc/modules/audio_coding/cng_gn/moz.build
index fb4c6fe07cd7..c43b07905d97 100644
--- a/media/webrtc/trunk/webrtc/modules/audio_coding/cng_gn/moz.build
+++ b/media/webrtc/trunk/webrtc/modules/audio_coding/cng_gn/moz.build
@@ -34,56 +34,18 @@ UNIFIED_SOURCES += [
     "/media/webrtc/trunk/webrtc/modules/audio_coding/codecs/cng/webrtc_cng.cc"
 ]
 
-if not CONFIG["MOZ_DEBUG"]:
-
-    DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "0"
-    DEFINES["NDEBUG"] = True
-    DEFINES["NVALGRIND"] = True
-
 if CONFIG["MOZ_DEBUG"] == "1":
 
     DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "1"
     DEFINES["WTF_USE_DYNAMIC_ANNOTATIONS"] = "1"
 
-if CONFIG["OS_TARGET"] == "Android":
-
-    DEFINES["ANDROID"] = True
-    DEFINES["ANDROID_NDK_VERSION"] = "r12b"
-    DEFINES["DISABLE_NACL"] = True
-    DEFINES["HAVE_SYS_UIO_H"] = True
-    DEFINES["NO_TCMALLOC"] = True
-    DEFINES["USE_OPENSSL_CERTS"] = "1"
-    DEFINES["WEBRTC_ANDROID"] = True
-    DEFINES["WEBRTC_ANDROID_OPENSLES"] = True
-    DEFINES["WEBRTC_LINUX"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
-    DEFINES["__GNU_SOURCE"] = "1"
-
-    OS_LIBS += [
-        "log"
-    ]
-
-if CONFIG["OS_TARGET"] == "Darwin":
-
-    DEFINES["CR_XCODE_VERSION"] = "0920"
-    DEFINES["NO_TCMALLOC"] = True
-    DEFINES["WEBRTC_MAC"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["__ASSERT_MACROS_DEFINE_VERSIONS_WITHOUT_UNDERSCORE"] = "0"
-
-    OS_LIBS += [
-        "-framework Foundation"
-    ]
-
-if CONFIG["OS_TARGET"] == "DragonFly":
+if not CONFIG["MOZ_DEBUG"]:
 
-    DEFINES["USE_X11"] = "1"
-    DEFINES["WEBRTC_BSD"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
+    DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "0"
+    DEFINES["NDEBUG"] = True
+    DEFINES["NVALGRIND"] = True
 
-if CONFIG["OS_TARGET"] == "FreeBSD":
+if CONFIG["OS_TARGET"] == "NetBSD":
 
     DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_BSD"] = True
@@ -93,7 +55,6 @@ if CONFIG["OS_TARGET"] == "FreeBSD":
 if CONFIG["OS_TARGET"] == "Linux":
 
     DEFINES["USE_NSS_CERTS"] = "1"
-    DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_LINUX"] = True
     DEFINES["WEBRTC_POSIX"] = True
     DEFINES["_FILE_OFFSET_BITS"] = "64"
@@ -102,14 +63,7 @@ if CONFIG["OS_TARGET"] == "Linux":
         "rt"
     ]
 
-if CONFIG["OS_TARGET"] == "NetBSD":
-
-    DEFINES["USE_X11"] = "1"
-    DEFINES["WEBRTC_BSD"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
-
-if CONFIG["OS_TARGET"] == "OpenBSD":
+if CONFIG["OS_TARGET"] == "DragonFly":
 
     DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_BSD"] = True
@@ -145,10 +99,50 @@ if CONFIG["OS_TARGET"] == "WINNT":
         "winmm"
     ]
 
-if CONFIG["CPU_ARCH"] == "aarch64":
+if CONFIG["OS_TARGET"] == "Darwin":
 
-    DEFINES["WEBRTC_ARCH_ARM64"] = True
-    DEFINES["WEBRTC_HAS_NEON"] = True
+    DEFINES["CR_XCODE_VERSION"] = "0920"
+    DEFINES["NO_TCMALLOC"] = True
+    DEFINES["WEBRTC_MAC"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["__ASSERT_MACROS_DEFINE_VERSIONS_WITHOUT_UNDERSCORE"] = "0"
+
+    OS_LIBS += [
+        "-framework Foundation"
+    ]
+
+if CONFIG["OS_TARGET"] == "OpenBSD":
+
+    DEFINES["USE_X11"] = "1"
+    DEFINES["WEBRTC_BSD"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+
+if CONFIG["OS_TARGET"] == "FreeBSD":
+
+    DEFINES["USE_X11"] = "1"
+    DEFINES["WEBRTC_BSD"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+
+if CONFIG["OS_TARGET"] == "Android":
+
+    DEFINES["ANDROID"] = True
+    DEFINES["ANDROID_NDK_VERSION"] = "r12b"
+    DEFINES["DISABLE_NACL"] = True
+    DEFINES["HAVE_SYS_UIO_H"] = True
+    DEFINES["NO_TCMALLOC"] = True
+    DEFINES["USE_OPENSSL_CERTS"] = "1"
+    DEFINES["WEBRTC_ANDROID"] = True
+    DEFINES["WEBRTC_ANDROID_OPENSLES"] = True
+    DEFINES["WEBRTC_LINUX"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+    DEFINES["__GNU_SOURCE"] = "1"
+
+    OS_LIBS += [
+        "log"
+    ]
 
 if CONFIG["CPU_ARCH"] == "arm":
 
@@ -160,15 +154,24 @@ if CONFIG["CPU_ARCH"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Android":
+if CONFIG["CPU_ARCH"] == "ppc64":
 
-    DEFINES["_FORTIFY_SOURCE"] = "2"
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "mips64":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "aarch64":
+
+    DEFINES["WEBRTC_ARCH_ARM64"] = True
+    DEFINES["WEBRTC_HAS_NEON"] = True
 
 if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Darwin":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "DragonFly":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "OpenBSD":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
@@ -176,20 +179,28 @@ if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "FreeBSD":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "NetBSD":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Android":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "OpenBSD":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "DragonFly":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "Android":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "NetBSD":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "NetBSD":
 
     CXXFLAGS += [
         "-msse2"
     ]
 
+if CONFIG["CPU_ARCH"] == "x86_64" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
 if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "FreeBSD":
 
     CXXFLAGS += [
@@ -207,7 +218,7 @@ if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "Linux":
         "-msse2"
     ]
 
-if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "NetBSD":
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "Android":
 
     CXXFLAGS += [
         "-msse2"
@@ -219,4 +230,32 @@ if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "OpenBSD":
         "-msse2"
     ]
 
+if CONFIG["CPU_ARCH"] == "arm" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "aarch64" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "arm" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "aarch64" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["HOST_CPU_ARCH"] == "x86_64" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["HOST_CPU_ARCH"] == "x86" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
 Library("cng_gn")
diff --git a/media/webrtc/trunk/webrtc/modules/audio_coding/g711_c_gn/moz.build b/media/webrtc/trunk/webrtc/modules/audio_coding/g711_c_gn/moz.build
index 3861d7cfe25f..cd87764b298f 100644
--- a/media/webrtc/trunk/webrtc/modules/audio_coding/g711_c_gn/moz.build
+++ b/media/webrtc/trunk/webrtc/modules/audio_coding/g711_c_gn/moz.build
@@ -31,48 +31,18 @@ UNIFIED_SOURCES += [
     "/media/webrtc/trunk/webrtc/modules/audio_coding/codecs/g711/g711_interface.c"
 ]
 
-if not CONFIG["MOZ_DEBUG"]:
-
-    DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "0"
-    DEFINES["NDEBUG"] = True
-    DEFINES["NVALGRIND"] = True
-
 if CONFIG["MOZ_DEBUG"] == "1":
 
     DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "1"
     DEFINES["WTF_USE_DYNAMIC_ANNOTATIONS"] = "1"
 
-if CONFIG["OS_TARGET"] == "Android":
-
-    DEFINES["ANDROID"] = True
-    DEFINES["ANDROID_NDK_VERSION"] = "r12b"
-    DEFINES["DISABLE_NACL"] = True
-    DEFINES["HAVE_SYS_UIO_H"] = True
-    DEFINES["NO_TCMALLOC"] = True
-    DEFINES["USE_OPENSSL_CERTS"] = "1"
-    DEFINES["WEBRTC_ANDROID"] = True
-    DEFINES["WEBRTC_ANDROID_OPENSLES"] = True
-    DEFINES["WEBRTC_LINUX"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
-    DEFINES["__GNU_SOURCE"] = "1"
-
-if CONFIG["OS_TARGET"] == "Darwin":
-
-    DEFINES["CR_XCODE_VERSION"] = "0920"
-    DEFINES["NO_TCMALLOC"] = True
-    DEFINES["WEBRTC_MAC"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["__ASSERT_MACROS_DEFINE_VERSIONS_WITHOUT_UNDERSCORE"] = "0"
-
-if CONFIG["OS_TARGET"] == "DragonFly":
+if not CONFIG["MOZ_DEBUG"]:
 
-    DEFINES["USE_X11"] = "1"
-    DEFINES["WEBRTC_BSD"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
+    DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "0"
+    DEFINES["NDEBUG"] = True
+    DEFINES["NVALGRIND"] = True
 
-if CONFIG["OS_TARGET"] == "FreeBSD":
+if CONFIG["OS_TARGET"] == "NetBSD":
 
     DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_BSD"] = True
@@ -82,19 +52,11 @@ if CONFIG["OS_TARGET"] == "FreeBSD":
 if CONFIG["OS_TARGET"] == "Linux":
 
     DEFINES["USE_NSS_CERTS"] = "1"
-    DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_LINUX"] = True
     DEFINES["WEBRTC_POSIX"] = True
     DEFINES["_FILE_OFFSET_BITS"] = "64"
 
-if CONFIG["OS_TARGET"] == "NetBSD":
-
-    DEFINES["USE_X11"] = "1"
-    DEFINES["WEBRTC_BSD"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
-
-if CONFIG["OS_TARGET"] == "OpenBSD":
+if CONFIG["OS_TARGET"] == "DragonFly":
 
     DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_BSD"] = True
@@ -126,10 +88,42 @@ if CONFIG["OS_TARGET"] == "WINNT":
     DEFINES["_WINDOWS"] = True
     DEFINES["__STD_C"] = True
 
-if CONFIG["CPU_ARCH"] == "aarch64":
+if CONFIG["OS_TARGET"] == "Darwin":
 
-    DEFINES["WEBRTC_ARCH_ARM64"] = True
-    DEFINES["WEBRTC_HAS_NEON"] = True
+    DEFINES["CR_XCODE_VERSION"] = "0920"
+    DEFINES["NO_TCMALLOC"] = True
+    DEFINES["WEBRTC_MAC"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["__ASSERT_MACROS_DEFINE_VERSIONS_WITHOUT_UNDERSCORE"] = "0"
+
+if CONFIG["OS_TARGET"] == "OpenBSD":
+
+    DEFINES["USE_X11"] = "1"
+    DEFINES["WEBRTC_BSD"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+
+if CONFIG["OS_TARGET"] == "FreeBSD":
+
+    DEFINES["USE_X11"] = "1"
+    DEFINES["WEBRTC_BSD"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+
+if CONFIG["OS_TARGET"] == "Android":
+
+    DEFINES["ANDROID"] = True
+    DEFINES["ANDROID_NDK_VERSION"] = "r12b"
+    DEFINES["DISABLE_NACL"] = True
+    DEFINES["HAVE_SYS_UIO_H"] = True
+    DEFINES["NO_TCMALLOC"] = True
+    DEFINES["USE_OPENSSL_CERTS"] = "1"
+    DEFINES["WEBRTC_ANDROID"] = True
+    DEFINES["WEBRTC_ANDROID_OPENSLES"] = True
+    DEFINES["WEBRTC_LINUX"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+    DEFINES["__GNU_SOURCE"] = "1"
 
 if CONFIG["CPU_ARCH"] == "arm":
 
@@ -141,15 +135,24 @@ if CONFIG["CPU_ARCH"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Android":
+if CONFIG["CPU_ARCH"] == "ppc64":
 
-    DEFINES["_FORTIFY_SOURCE"] = "2"
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "mips64":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "aarch64":
+
+    DEFINES["WEBRTC_ARCH_ARM64"] = True
+    DEFINES["WEBRTC_HAS_NEON"] = True
 
 if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Darwin":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "DragonFly":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "OpenBSD":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
@@ -157,20 +160,28 @@ if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "FreeBSD":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "NetBSD":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Android":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "OpenBSD":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "DragonFly":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "Android":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "NetBSD":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "NetBSD":
 
     CFLAGS += [
         "-msse2"
     ]
 
+if CONFIG["CPU_ARCH"] == "x86_64" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
 if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "FreeBSD":
 
     CFLAGS += [
@@ -188,7 +199,7 @@ if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "Linux":
         "-msse2"
     ]
 
-if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "NetBSD":
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "Android":
 
     CFLAGS += [
         "-msse2"
@@ -200,4 +211,32 @@ if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "OpenBSD":
         "-msse2"
     ]
 
+if CONFIG["CPU_ARCH"] == "arm" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "aarch64" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "arm" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "aarch64" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["HOST_CPU_ARCH"] == "x86_64" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["HOST_CPU_ARCH"] == "x86" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
 Library("g711_c_gn")
diff --git a/media/webrtc/trunk/webrtc/modules/audio_coding/g711_gn/moz.build b/media/webrtc/trunk/webrtc/modules/audio_coding/g711_gn/moz.build
index 870c775555bd..c6e229fe85ce 100644
--- a/media/webrtc/trunk/webrtc/modules/audio_coding/g711_gn/moz.build
+++ b/media/webrtc/trunk/webrtc/modules/audio_coding/g711_gn/moz.build
@@ -31,56 +31,18 @@ UNIFIED_SOURCES += [
     "/media/webrtc/trunk/webrtc/modules/audio_coding/codecs/g711/audio_encoder_pcm.cc"
 ]
 
-if not CONFIG["MOZ_DEBUG"]:
-
-    DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "0"
-    DEFINES["NDEBUG"] = True
-    DEFINES["NVALGRIND"] = True
-
 if CONFIG["MOZ_DEBUG"] == "1":
 
     DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "1"
     DEFINES["WTF_USE_DYNAMIC_ANNOTATIONS"] = "1"
 
-if CONFIG["OS_TARGET"] == "Android":
-
-    DEFINES["ANDROID"] = True
-    DEFINES["ANDROID_NDK_VERSION"] = "r12b"
-    DEFINES["DISABLE_NACL"] = True
-    DEFINES["HAVE_SYS_UIO_H"] = True
-    DEFINES["NO_TCMALLOC"] = True
-    DEFINES["USE_OPENSSL_CERTS"] = "1"
-    DEFINES["WEBRTC_ANDROID"] = True
-    DEFINES["WEBRTC_ANDROID_OPENSLES"] = True
-    DEFINES["WEBRTC_LINUX"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
-    DEFINES["__GNU_SOURCE"] = "1"
-
-    OS_LIBS += [
-        "log"
-    ]
-
-if CONFIG["OS_TARGET"] == "Darwin":
-
-    DEFINES["CR_XCODE_VERSION"] = "0920"
-    DEFINES["NO_TCMALLOC"] = True
-    DEFINES["WEBRTC_MAC"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["__ASSERT_MACROS_DEFINE_VERSIONS_WITHOUT_UNDERSCORE"] = "0"
-
-    OS_LIBS += [
-        "-framework Foundation"
-    ]
-
-if CONFIG["OS_TARGET"] == "DragonFly":
+if not CONFIG["MOZ_DEBUG"]:
 
-    DEFINES["USE_X11"] = "1"
-    DEFINES["WEBRTC_BSD"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
+    DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "0"
+    DEFINES["NDEBUG"] = True
+    DEFINES["NVALGRIND"] = True
 
-if CONFIG["OS_TARGET"] == "FreeBSD":
+if CONFIG["OS_TARGET"] == "NetBSD":
 
     DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_BSD"] = True
@@ -90,19 +52,11 @@ if CONFIG["OS_TARGET"] == "FreeBSD":
 if CONFIG["OS_TARGET"] == "Linux":
 
     DEFINES["USE_NSS_CERTS"] = "1"
-    DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_LINUX"] = True
     DEFINES["WEBRTC_POSIX"] = True
     DEFINES["_FILE_OFFSET_BITS"] = "64"
 
-if CONFIG["OS_TARGET"] == "NetBSD":
-
-    DEFINES["USE_X11"] = "1"
-    DEFINES["WEBRTC_BSD"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
-
-if CONFIG["OS_TARGET"] == "OpenBSD":
+if CONFIG["OS_TARGET"] == "DragonFly":
 
     DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_BSD"] = True
@@ -134,10 +88,50 @@ if CONFIG["OS_TARGET"] == "WINNT":
     DEFINES["_WINDOWS"] = True
     DEFINES["__STD_C"] = True
 
-if CONFIG["CPU_ARCH"] == "aarch64":
+if CONFIG["OS_TARGET"] == "Darwin":
 
-    DEFINES["WEBRTC_ARCH_ARM64"] = True
-    DEFINES["WEBRTC_HAS_NEON"] = True
+    DEFINES["CR_XCODE_VERSION"] = "0920"
+    DEFINES["NO_TCMALLOC"] = True
+    DEFINES["WEBRTC_MAC"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["__ASSERT_MACROS_DEFINE_VERSIONS_WITHOUT_UNDERSCORE"] = "0"
+
+    OS_LIBS += [
+        "-framework Foundation"
+    ]
+
+if CONFIG["OS_TARGET"] == "OpenBSD":
+
+    DEFINES["USE_X11"] = "1"
+    DEFINES["WEBRTC_BSD"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+
+if CONFIG["OS_TARGET"] == "FreeBSD":
+
+    DEFINES["USE_X11"] = "1"
+    DEFINES["WEBRTC_BSD"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+
+if CONFIG["OS_TARGET"] == "Android":
+
+    DEFINES["ANDROID"] = True
+    DEFINES["ANDROID_NDK_VERSION"] = "r12b"
+    DEFINES["DISABLE_NACL"] = True
+    DEFINES["HAVE_SYS_UIO_H"] = True
+    DEFINES["NO_TCMALLOC"] = True
+    DEFINES["USE_OPENSSL_CERTS"] = "1"
+    DEFINES["WEBRTC_ANDROID"] = True
+    DEFINES["WEBRTC_ANDROID_OPENSLES"] = True
+    DEFINES["WEBRTC_LINUX"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+    DEFINES["__GNU_SOURCE"] = "1"
+
+    OS_LIBS += [
+        "log"
+    ]
 
 if CONFIG["CPU_ARCH"] == "arm":
 
@@ -149,15 +143,24 @@ if CONFIG["CPU_ARCH"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Android":
+if CONFIG["CPU_ARCH"] == "ppc64":
 
-    DEFINES["_FORTIFY_SOURCE"] = "2"
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "mips64":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "aarch64":
+
+    DEFINES["WEBRTC_ARCH_ARM64"] = True
+    DEFINES["WEBRTC_HAS_NEON"] = True
 
 if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Darwin":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "DragonFly":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "OpenBSD":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
@@ -165,20 +168,28 @@ if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "FreeBSD":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "NetBSD":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Android":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "OpenBSD":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "DragonFly":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "Android":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "NetBSD":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "NetBSD":
 
     CXXFLAGS += [
         "-msse2"
     ]
 
+if CONFIG["CPU_ARCH"] == "x86_64" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
 if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "FreeBSD":
 
     CXXFLAGS += [
@@ -196,7 +207,7 @@ if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "Linux":
         "-msse2"
     ]
 
-if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "NetBSD":
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "Android":
 
     CXXFLAGS += [
         "-msse2"
@@ -208,4 +219,32 @@ if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "OpenBSD":
         "-msse2"
     ]
 
+if CONFIG["CPU_ARCH"] == "arm" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "aarch64" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "arm" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "aarch64" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["HOST_CPU_ARCH"] == "x86_64" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["HOST_CPU_ARCH"] == "x86" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
 Library("g711_gn")
diff --git a/media/webrtc/trunk/webrtc/modules/audio_coding/g722_c_gn/moz.build b/media/webrtc/trunk/webrtc/modules/audio_coding/g722_c_gn/moz.build
index 0886fe4b1971..37819c0b9a01 100644
--- a/media/webrtc/trunk/webrtc/modules/audio_coding/g722_c_gn/moz.build
+++ b/media/webrtc/trunk/webrtc/modules/audio_coding/g722_c_gn/moz.build
@@ -35,48 +35,18 @@ UNIFIED_SOURCES += [
     "/media/webrtc/trunk/webrtc/modules/audio_coding/codecs/g722/g722_interface.c"
 ]
 
-if not CONFIG["MOZ_DEBUG"]:
-
-    DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "0"
-    DEFINES["NDEBUG"] = True
-    DEFINES["NVALGRIND"] = True
-
 if CONFIG["MOZ_DEBUG"] == "1":
 
     DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "1"
     DEFINES["WTF_USE_DYNAMIC_ANNOTATIONS"] = "1"
 
-if CONFIG["OS_TARGET"] == "Android":
-
-    DEFINES["ANDROID"] = True
-    DEFINES["ANDROID_NDK_VERSION"] = "r12b"
-    DEFINES["DISABLE_NACL"] = True
-    DEFINES["HAVE_SYS_UIO_H"] = True
-    DEFINES["NO_TCMALLOC"] = True
-    DEFINES["USE_OPENSSL_CERTS"] = "1"
-    DEFINES["WEBRTC_ANDROID"] = True
-    DEFINES["WEBRTC_ANDROID_OPENSLES"] = True
-    DEFINES["WEBRTC_LINUX"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
-    DEFINES["__GNU_SOURCE"] = "1"
-
-if CONFIG["OS_TARGET"] == "Darwin":
-
-    DEFINES["CR_XCODE_VERSION"] = "0920"
-    DEFINES["NO_TCMALLOC"] = True
-    DEFINES["WEBRTC_MAC"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["__ASSERT_MACROS_DEFINE_VERSIONS_WITHOUT_UNDERSCORE"] = "0"
-
-if CONFIG["OS_TARGET"] == "DragonFly":
+if not CONFIG["MOZ_DEBUG"]:
 
-    DEFINES["USE_X11"] = "1"
-    DEFINES["WEBRTC_BSD"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
+    DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "0"
+    DEFINES["NDEBUG"] = True
+    DEFINES["NVALGRIND"] = True
 
-if CONFIG["OS_TARGET"] == "FreeBSD":
+if CONFIG["OS_TARGET"] == "NetBSD":
 
     DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_BSD"] = True
@@ -86,19 +56,11 @@ if CONFIG["OS_TARGET"] == "FreeBSD":
 if CONFIG["OS_TARGET"] == "Linux":
 
     DEFINES["USE_NSS_CERTS"] = "1"
-    DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_LINUX"] = True
     DEFINES["WEBRTC_POSIX"] = True
     DEFINES["_FILE_OFFSET_BITS"] = "64"
 
-if CONFIG["OS_TARGET"] == "NetBSD":
-
-    DEFINES["USE_X11"] = "1"
-    DEFINES["WEBRTC_BSD"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
-
-if CONFIG["OS_TARGET"] == "OpenBSD":
+if CONFIG["OS_TARGET"] == "DragonFly":
 
     DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_BSD"] = True
@@ -130,10 +92,42 @@ if CONFIG["OS_TARGET"] == "WINNT":
     DEFINES["_WINDOWS"] = True
     DEFINES["__STD_C"] = True
 
-if CONFIG["CPU_ARCH"] == "aarch64":
+if CONFIG["OS_TARGET"] == "Darwin":
 
-    DEFINES["WEBRTC_ARCH_ARM64"] = True
-    DEFINES["WEBRTC_HAS_NEON"] = True
+    DEFINES["CR_XCODE_VERSION"] = "0920"
+    DEFINES["NO_TCMALLOC"] = True
+    DEFINES["WEBRTC_MAC"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["__ASSERT_MACROS_DEFINE_VERSIONS_WITHOUT_UNDERSCORE"] = "0"
+
+if CONFIG["OS_TARGET"] == "OpenBSD":
+
+    DEFINES["USE_X11"] = "1"
+    DEFINES["WEBRTC_BSD"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+
+if CONFIG["OS_TARGET"] == "FreeBSD":
+
+    DEFINES["USE_X11"] = "1"
+    DEFINES["WEBRTC_BSD"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+
+if CONFIG["OS_TARGET"] == "Android":
+
+    DEFINES["ANDROID"] = True
+    DEFINES["ANDROID_NDK_VERSION"] = "r12b"
+    DEFINES["DISABLE_NACL"] = True
+    DEFINES["HAVE_SYS_UIO_H"] = True
+    DEFINES["NO_TCMALLOC"] = True
+    DEFINES["USE_OPENSSL_CERTS"] = "1"
+    DEFINES["WEBRTC_ANDROID"] = True
+    DEFINES["WEBRTC_ANDROID_OPENSLES"] = True
+    DEFINES["WEBRTC_LINUX"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+    DEFINES["__GNU_SOURCE"] = "1"
 
 if CONFIG["CPU_ARCH"] == "arm":
 
@@ -145,15 +139,24 @@ if CONFIG["CPU_ARCH"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Android":
+if CONFIG["CPU_ARCH"] == "ppc64":
 
-    DEFINES["_FORTIFY_SOURCE"] = "2"
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "mips64":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "aarch64":
+
+    DEFINES["WEBRTC_ARCH_ARM64"] = True
+    DEFINES["WEBRTC_HAS_NEON"] = True
 
 if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Darwin":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "DragonFly":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "OpenBSD":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
@@ -161,20 +164,28 @@ if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "FreeBSD":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "NetBSD":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Android":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "OpenBSD":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "DragonFly":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "Android":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "NetBSD":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "NetBSD":
 
     CFLAGS += [
         "-msse2"
     ]
 
+if CONFIG["CPU_ARCH"] == "x86_64" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
 if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "FreeBSD":
 
     CFLAGS += [
@@ -192,7 +203,7 @@ if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "Linux":
         "-msse2"
     ]
 
-if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "NetBSD":
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "Android":
 
     CFLAGS += [
         "-msse2"
@@ -204,4 +215,32 @@ if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "OpenBSD":
         "-msse2"
     ]
 
+if CONFIG["CPU_ARCH"] == "arm" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "aarch64" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "arm" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "aarch64" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["HOST_CPU_ARCH"] == "x86_64" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["HOST_CPU_ARCH"] == "x86" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
 Library("g722_c_gn")
diff --git a/media/webrtc/trunk/webrtc/modules/audio_coding/g722_gn/moz.build b/media/webrtc/trunk/webrtc/modules/audio_coding/g722_gn/moz.build
index 4fa7062ed622..f0120752776b 100644
--- a/media/webrtc/trunk/webrtc/modules/audio_coding/g722_gn/moz.build
+++ b/media/webrtc/trunk/webrtc/modules/audio_coding/g722_gn/moz.build
@@ -31,56 +31,18 @@ UNIFIED_SOURCES += [
     "/media/webrtc/trunk/webrtc/modules/audio_coding/codecs/g722/audio_encoder_g722.cc"
 ]
 
-if not CONFIG["MOZ_DEBUG"]:
-
-    DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "0"
-    DEFINES["NDEBUG"] = True
-    DEFINES["NVALGRIND"] = True
-
 if CONFIG["MOZ_DEBUG"] == "1":
 
     DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "1"
     DEFINES["WTF_USE_DYNAMIC_ANNOTATIONS"] = "1"
 
-if CONFIG["OS_TARGET"] == "Android":
-
-    DEFINES["ANDROID"] = True
-    DEFINES["ANDROID_NDK_VERSION"] = "r12b"
-    DEFINES["DISABLE_NACL"] = True
-    DEFINES["HAVE_SYS_UIO_H"] = True
-    DEFINES["NO_TCMALLOC"] = True
-    DEFINES["USE_OPENSSL_CERTS"] = "1"
-    DEFINES["WEBRTC_ANDROID"] = True
-    DEFINES["WEBRTC_ANDROID_OPENSLES"] = True
-    DEFINES["WEBRTC_LINUX"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
-    DEFINES["__GNU_SOURCE"] = "1"
-
-    OS_LIBS += [
-        "log"
-    ]
-
-if CONFIG["OS_TARGET"] == "Darwin":
-
-    DEFINES["CR_XCODE_VERSION"] = "0920"
-    DEFINES["NO_TCMALLOC"] = True
-    DEFINES["WEBRTC_MAC"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["__ASSERT_MACROS_DEFINE_VERSIONS_WITHOUT_UNDERSCORE"] = "0"
-
-    OS_LIBS += [
-        "-framework Foundation"
-    ]
-
-if CONFIG["OS_TARGET"] == "DragonFly":
+if not CONFIG["MOZ_DEBUG"]:
 
-    DEFINES["USE_X11"] = "1"
-    DEFINES["WEBRTC_BSD"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
+    DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "0"
+    DEFINES["NDEBUG"] = True
+    DEFINES["NVALGRIND"] = True
 
-if CONFIG["OS_TARGET"] == "FreeBSD":
+if CONFIG["OS_TARGET"] == "NetBSD":
 
     DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_BSD"] = True
@@ -90,19 +52,11 @@ if CONFIG["OS_TARGET"] == "FreeBSD":
 if CONFIG["OS_TARGET"] == "Linux":
 
     DEFINES["USE_NSS_CERTS"] = "1"
-    DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_LINUX"] = True
     DEFINES["WEBRTC_POSIX"] = True
     DEFINES["_FILE_OFFSET_BITS"] = "64"
 
-if CONFIG["OS_TARGET"] == "NetBSD":
-
-    DEFINES["USE_X11"] = "1"
-    DEFINES["WEBRTC_BSD"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
-
-if CONFIG["OS_TARGET"] == "OpenBSD":
+if CONFIG["OS_TARGET"] == "DragonFly":
 
     DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_BSD"] = True
@@ -134,10 +88,50 @@ if CONFIG["OS_TARGET"] == "WINNT":
     DEFINES["_WINDOWS"] = True
     DEFINES["__STD_C"] = True
 
-if CONFIG["CPU_ARCH"] == "aarch64":
+if CONFIG["OS_TARGET"] == "Darwin":
 
-    DEFINES["WEBRTC_ARCH_ARM64"] = True
-    DEFINES["WEBRTC_HAS_NEON"] = True
+    DEFINES["CR_XCODE_VERSION"] = "0920"
+    DEFINES["NO_TCMALLOC"] = True
+    DEFINES["WEBRTC_MAC"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["__ASSERT_MACROS_DEFINE_VERSIONS_WITHOUT_UNDERSCORE"] = "0"
+
+    OS_LIBS += [
+        "-framework Foundation"
+    ]
+
+if CONFIG["OS_TARGET"] == "OpenBSD":
+
+    DEFINES["USE_X11"] = "1"
+    DEFINES["WEBRTC_BSD"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+
+if CONFIG["OS_TARGET"] == "FreeBSD":
+
+    DEFINES["USE_X11"] = "1"
+    DEFINES["WEBRTC_BSD"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+
+if CONFIG["OS_TARGET"] == "Android":
+
+    DEFINES["ANDROID"] = True
+    DEFINES["ANDROID_NDK_VERSION"] = "r12b"
+    DEFINES["DISABLE_NACL"] = True
+    DEFINES["HAVE_SYS_UIO_H"] = True
+    DEFINES["NO_TCMALLOC"] = True
+    DEFINES["USE_OPENSSL_CERTS"] = "1"
+    DEFINES["WEBRTC_ANDROID"] = True
+    DEFINES["WEBRTC_ANDROID_OPENSLES"] = True
+    DEFINES["WEBRTC_LINUX"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+    DEFINES["__GNU_SOURCE"] = "1"
+
+    OS_LIBS += [
+        "log"
+    ]
 
 if CONFIG["CPU_ARCH"] == "arm":
 
@@ -149,15 +143,24 @@ if CONFIG["CPU_ARCH"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Android":
+if CONFIG["CPU_ARCH"] == "ppc64":
 
-    DEFINES["_FORTIFY_SOURCE"] = "2"
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "mips64":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "aarch64":
+
+    DEFINES["WEBRTC_ARCH_ARM64"] = True
+    DEFINES["WEBRTC_HAS_NEON"] = True
 
 if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Darwin":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "DragonFly":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "OpenBSD":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
@@ -165,20 +168,28 @@ if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "FreeBSD":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "NetBSD":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Android":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "OpenBSD":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "DragonFly":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "Android":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "NetBSD":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "NetBSD":
 
     CXXFLAGS += [
         "-msse2"
     ]
 
+if CONFIG["CPU_ARCH"] == "x86_64" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
 if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "FreeBSD":
 
     CXXFLAGS += [
@@ -196,7 +207,7 @@ if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "Linux":
         "-msse2"
     ]
 
-if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "NetBSD":
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "Android":
 
     CXXFLAGS += [
         "-msse2"
@@ -208,4 +219,32 @@ if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "OpenBSD":
         "-msse2"
     ]
 
+if CONFIG["CPU_ARCH"] == "arm" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "aarch64" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "arm" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "aarch64" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["HOST_CPU_ARCH"] == "x86_64" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["HOST_CPU_ARCH"] == "x86" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
 Library("g722_gn")
diff --git a/media/webrtc/trunk/webrtc/modules/audio_coding/ilbc_c_gn/moz.build b/media/webrtc/trunk/webrtc/modules/audio_coding/ilbc_c_gn/moz.build
index f514b407eb4d..d48358247ac5 100644
--- a/media/webrtc/trunk/webrtc/modules/audio_coding/ilbc_c_gn/moz.build
+++ b/media/webrtc/trunk/webrtc/modules/audio_coding/ilbc_c_gn/moz.build
@@ -101,56 +101,18 @@ UNIFIED_SOURCES += [
     "/media/webrtc/trunk/webrtc/modules/audio_coding/codecs/ilbc/xcorr_coef.c"
 ]
 
-if not CONFIG["MOZ_DEBUG"]:
-
-    DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "0"
-    DEFINES["NDEBUG"] = True
-    DEFINES["NVALGRIND"] = True
-
 if CONFIG["MOZ_DEBUG"] == "1":
 
     DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "1"
     DEFINES["WTF_USE_DYNAMIC_ANNOTATIONS"] = "1"
 
-if CONFIG["OS_TARGET"] == "Android":
-
-    DEFINES["ANDROID"] = True
-    DEFINES["ANDROID_NDK_VERSION"] = "r12b"
-    DEFINES["DISABLE_NACL"] = True
-    DEFINES["HAVE_SYS_UIO_H"] = True
-    DEFINES["NO_TCMALLOC"] = True
-    DEFINES["USE_OPENSSL_CERTS"] = "1"
-    DEFINES["WEBRTC_ANDROID"] = True
-    DEFINES["WEBRTC_ANDROID_OPENSLES"] = True
-    DEFINES["WEBRTC_LINUX"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
-    DEFINES["__GNU_SOURCE"] = "1"
-
-    OS_LIBS += [
-        "log"
-    ]
-
-if CONFIG["OS_TARGET"] == "Darwin":
-
-    DEFINES["CR_XCODE_VERSION"] = "0920"
-    DEFINES["NO_TCMALLOC"] = True
-    DEFINES["WEBRTC_MAC"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["__ASSERT_MACROS_DEFINE_VERSIONS_WITHOUT_UNDERSCORE"] = "0"
-
-    OS_LIBS += [
-        "-framework Foundation"
-    ]
-
-if CONFIG["OS_TARGET"] == "DragonFly":
+if not CONFIG["MOZ_DEBUG"]:
 
-    DEFINES["USE_X11"] = "1"
-    DEFINES["WEBRTC_BSD"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
+    DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "0"
+    DEFINES["NDEBUG"] = True
+    DEFINES["NVALGRIND"] = True
 
-if CONFIG["OS_TARGET"] == "FreeBSD":
+if CONFIG["OS_TARGET"] == "NetBSD":
 
     DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_BSD"] = True
@@ -160,7 +122,6 @@ if CONFIG["OS_TARGET"] == "FreeBSD":
 if CONFIG["OS_TARGET"] == "Linux":
 
     DEFINES["USE_NSS_CERTS"] = "1"
-    DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_LINUX"] = True
     DEFINES["WEBRTC_POSIX"] = True
     DEFINES["_FILE_OFFSET_BITS"] = "64"
@@ -169,14 +130,7 @@ if CONFIG["OS_TARGET"] == "Linux":
         "rt"
     ]
 
-if CONFIG["OS_TARGET"] == "NetBSD":
-
-    DEFINES["USE_X11"] = "1"
-    DEFINES["WEBRTC_BSD"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
-
-if CONFIG["OS_TARGET"] == "OpenBSD":
+if CONFIG["OS_TARGET"] == "DragonFly":
 
     DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_BSD"] = True
@@ -212,10 +166,50 @@ if CONFIG["OS_TARGET"] == "WINNT":
         "winmm"
     ]
 
-if CONFIG["CPU_ARCH"] == "aarch64":
+if CONFIG["OS_TARGET"] == "Darwin":
 
-    DEFINES["WEBRTC_ARCH_ARM64"] = True
-    DEFINES["WEBRTC_HAS_NEON"] = True
+    DEFINES["CR_XCODE_VERSION"] = "0920"
+    DEFINES["NO_TCMALLOC"] = True
+    DEFINES["WEBRTC_MAC"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["__ASSERT_MACROS_DEFINE_VERSIONS_WITHOUT_UNDERSCORE"] = "0"
+
+    OS_LIBS += [
+        "-framework Foundation"
+    ]
+
+if CONFIG["OS_TARGET"] == "OpenBSD":
+
+    DEFINES["USE_X11"] = "1"
+    DEFINES["WEBRTC_BSD"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+
+if CONFIG["OS_TARGET"] == "FreeBSD":
+
+    DEFINES["USE_X11"] = "1"
+    DEFINES["WEBRTC_BSD"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+
+if CONFIG["OS_TARGET"] == "Android":
+
+    DEFINES["ANDROID"] = True
+    DEFINES["ANDROID_NDK_VERSION"] = "r12b"
+    DEFINES["DISABLE_NACL"] = True
+    DEFINES["HAVE_SYS_UIO_H"] = True
+    DEFINES["NO_TCMALLOC"] = True
+    DEFINES["USE_OPENSSL_CERTS"] = "1"
+    DEFINES["WEBRTC_ANDROID"] = True
+    DEFINES["WEBRTC_ANDROID_OPENSLES"] = True
+    DEFINES["WEBRTC_LINUX"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+    DEFINES["__GNU_SOURCE"] = "1"
+
+    OS_LIBS += [
+        "log"
+    ]
 
 if CONFIG["CPU_ARCH"] == "arm":
 
@@ -227,15 +221,24 @@ if CONFIG["CPU_ARCH"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Android":
+if CONFIG["CPU_ARCH"] == "ppc64":
 
-    DEFINES["_FORTIFY_SOURCE"] = "2"
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "mips64":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "aarch64":
+
+    DEFINES["WEBRTC_ARCH_ARM64"] = True
+    DEFINES["WEBRTC_HAS_NEON"] = True
 
 if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Darwin":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "DragonFly":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "OpenBSD":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
@@ -243,20 +246,28 @@ if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "FreeBSD":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "NetBSD":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Android":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "OpenBSD":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "DragonFly":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "Android":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "NetBSD":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "NetBSD":
 
     CFLAGS += [
         "-msse2"
     ]
 
+if CONFIG["CPU_ARCH"] == "x86_64" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
 if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "FreeBSD":
 
     CFLAGS += [
@@ -274,7 +285,7 @@ if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "Linux":
         "-msse2"
     ]
 
-if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "NetBSD":
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "Android":
 
     CFLAGS += [
         "-msse2"
@@ -286,4 +297,32 @@ if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "OpenBSD":
         "-msse2"
     ]
 
+if CONFIG["CPU_ARCH"] == "arm" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "aarch64" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "arm" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "aarch64" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["HOST_CPU_ARCH"] == "x86_64" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["HOST_CPU_ARCH"] == "x86" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
 Library("ilbc_c_gn")
diff --git a/media/webrtc/trunk/webrtc/modules/audio_coding/ilbc_gn/moz.build b/media/webrtc/trunk/webrtc/modules/audio_coding/ilbc_gn/moz.build
index 25a18d6e4806..20d1625393ca 100644
--- a/media/webrtc/trunk/webrtc/modules/audio_coding/ilbc_gn/moz.build
+++ b/media/webrtc/trunk/webrtc/modules/audio_coding/ilbc_gn/moz.build
@@ -34,56 +34,18 @@ UNIFIED_SOURCES += [
     "/media/webrtc/trunk/webrtc/modules/audio_coding/codecs/ilbc/audio_encoder_ilbc.cc"
 ]
 
-if not CONFIG["MOZ_DEBUG"]:
-
-    DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "0"
-    DEFINES["NDEBUG"] = True
-    DEFINES["NVALGRIND"] = True
-
 if CONFIG["MOZ_DEBUG"] == "1":
 
     DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "1"
     DEFINES["WTF_USE_DYNAMIC_ANNOTATIONS"] = "1"
 
-if CONFIG["OS_TARGET"] == "Android":
-
-    DEFINES["ANDROID"] = True
-    DEFINES["ANDROID_NDK_VERSION"] = "r12b"
-    DEFINES["DISABLE_NACL"] = True
-    DEFINES["HAVE_SYS_UIO_H"] = True
-    DEFINES["NO_TCMALLOC"] = True
-    DEFINES["USE_OPENSSL_CERTS"] = "1"
-    DEFINES["WEBRTC_ANDROID"] = True
-    DEFINES["WEBRTC_ANDROID_OPENSLES"] = True
-    DEFINES["WEBRTC_LINUX"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
-    DEFINES["__GNU_SOURCE"] = "1"
-
-    OS_LIBS += [
-        "log"
-    ]
-
-if CONFIG["OS_TARGET"] == "Darwin":
-
-    DEFINES["CR_XCODE_VERSION"] = "0920"
-    DEFINES["NO_TCMALLOC"] = True
-    DEFINES["WEBRTC_MAC"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["__ASSERT_MACROS_DEFINE_VERSIONS_WITHOUT_UNDERSCORE"] = "0"
-
-    OS_LIBS += [
-        "-framework Foundation"
-    ]
-
-if CONFIG["OS_TARGET"] == "DragonFly":
+if not CONFIG["MOZ_DEBUG"]:
 
-    DEFINES["USE_X11"] = "1"
-    DEFINES["WEBRTC_BSD"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
+    DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "0"
+    DEFINES["NDEBUG"] = True
+    DEFINES["NVALGRIND"] = True
 
-if CONFIG["OS_TARGET"] == "FreeBSD":
+if CONFIG["OS_TARGET"] == "NetBSD":
 
     DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_BSD"] = True
@@ -93,7 +55,6 @@ if CONFIG["OS_TARGET"] == "FreeBSD":
 if CONFIG["OS_TARGET"] == "Linux":
 
     DEFINES["USE_NSS_CERTS"] = "1"
-    DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_LINUX"] = True
     DEFINES["WEBRTC_POSIX"] = True
     DEFINES["_FILE_OFFSET_BITS"] = "64"
@@ -102,14 +63,7 @@ if CONFIG["OS_TARGET"] == "Linux":
         "rt"
     ]
 
-if CONFIG["OS_TARGET"] == "NetBSD":
-
-    DEFINES["USE_X11"] = "1"
-    DEFINES["WEBRTC_BSD"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
-
-if CONFIG["OS_TARGET"] == "OpenBSD":
+if CONFIG["OS_TARGET"] == "DragonFly":
 
     DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_BSD"] = True
@@ -145,10 +99,50 @@ if CONFIG["OS_TARGET"] == "WINNT":
         "winmm"
     ]
 
-if CONFIG["CPU_ARCH"] == "aarch64":
+if CONFIG["OS_TARGET"] == "Darwin":
 
-    DEFINES["WEBRTC_ARCH_ARM64"] = True
-    DEFINES["WEBRTC_HAS_NEON"] = True
+    DEFINES["CR_XCODE_VERSION"] = "0920"
+    DEFINES["NO_TCMALLOC"] = True
+    DEFINES["WEBRTC_MAC"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["__ASSERT_MACROS_DEFINE_VERSIONS_WITHOUT_UNDERSCORE"] = "0"
+
+    OS_LIBS += [
+        "-framework Foundation"
+    ]
+
+if CONFIG["OS_TARGET"] == "OpenBSD":
+
+    DEFINES["USE_X11"] = "1"
+    DEFINES["WEBRTC_BSD"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+
+if CONFIG["OS_TARGET"] == "FreeBSD":
+
+    DEFINES["USE_X11"] = "1"
+    DEFINES["WEBRTC_BSD"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+
+if CONFIG["OS_TARGET"] == "Android":
+
+    DEFINES["ANDROID"] = True
+    DEFINES["ANDROID_NDK_VERSION"] = "r12b"
+    DEFINES["DISABLE_NACL"] = True
+    DEFINES["HAVE_SYS_UIO_H"] = True
+    DEFINES["NO_TCMALLOC"] = True
+    DEFINES["USE_OPENSSL_CERTS"] = "1"
+    DEFINES["WEBRTC_ANDROID"] = True
+    DEFINES["WEBRTC_ANDROID_OPENSLES"] = True
+    DEFINES["WEBRTC_LINUX"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+    DEFINES["__GNU_SOURCE"] = "1"
+
+    OS_LIBS += [
+        "log"
+    ]
 
 if CONFIG["CPU_ARCH"] == "arm":
 
@@ -160,15 +154,24 @@ if CONFIG["CPU_ARCH"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Android":
+if CONFIG["CPU_ARCH"] == "ppc64":
 
-    DEFINES["_FORTIFY_SOURCE"] = "2"
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "mips64":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "aarch64":
+
+    DEFINES["WEBRTC_ARCH_ARM64"] = True
+    DEFINES["WEBRTC_HAS_NEON"] = True
 
 if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Darwin":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "DragonFly":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "OpenBSD":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
@@ -176,20 +179,28 @@ if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "FreeBSD":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "NetBSD":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Android":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "OpenBSD":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "DragonFly":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "Android":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "NetBSD":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "NetBSD":
 
     CXXFLAGS += [
         "-msse2"
     ]
 
+if CONFIG["CPU_ARCH"] == "x86_64" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
 if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "FreeBSD":
 
     CXXFLAGS += [
@@ -207,7 +218,7 @@ if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "Linux":
         "-msse2"
     ]
 
-if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "NetBSD":
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "Android":
 
     CXXFLAGS += [
         "-msse2"
@@ -219,4 +230,32 @@ if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "OpenBSD":
         "-msse2"
     ]
 
+if CONFIG["CPU_ARCH"] == "arm" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "aarch64" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "arm" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "aarch64" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["HOST_CPU_ARCH"] == "x86_64" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["HOST_CPU_ARCH"] == "x86" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
 Library("ilbc_gn")
diff --git a/media/webrtc/trunk/webrtc/modules/audio_coding/isac_c_gn/moz.build b/media/webrtc/trunk/webrtc/modules/audio_coding/isac_c_gn/moz.build
index 630cafae2f38..7384b7f72c43 100644
--- a/media/webrtc/trunk/webrtc/modules/audio_coding/isac_c_gn/moz.build
+++ b/media/webrtc/trunk/webrtc/modules/audio_coding/isac_c_gn/moz.build
@@ -61,56 +61,18 @@ UNIFIED_SOURCES += [
     "/media/webrtc/trunk/webrtc/modules/audio_coding/codecs/isac/main/source/transform.c"
 ]
 
-if not CONFIG["MOZ_DEBUG"]:
-
-    DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "0"
-    DEFINES["NDEBUG"] = True
-    DEFINES["NVALGRIND"] = True
-
 if CONFIG["MOZ_DEBUG"] == "1":
 
     DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "1"
     DEFINES["WTF_USE_DYNAMIC_ANNOTATIONS"] = "1"
 
-if CONFIG["OS_TARGET"] == "Android":
-
-    DEFINES["ANDROID"] = True
-    DEFINES["ANDROID_NDK_VERSION"] = "r12b"
-    DEFINES["DISABLE_NACL"] = True
-    DEFINES["HAVE_SYS_UIO_H"] = True
-    DEFINES["NO_TCMALLOC"] = True
-    DEFINES["USE_OPENSSL_CERTS"] = "1"
-    DEFINES["WEBRTC_ANDROID"] = True
-    DEFINES["WEBRTC_ANDROID_OPENSLES"] = True
-    DEFINES["WEBRTC_LINUX"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
-    DEFINES["__GNU_SOURCE"] = "1"
-
-    OS_LIBS += [
-        "log"
-    ]
-
-if CONFIG["OS_TARGET"] == "Darwin":
-
-    DEFINES["CR_XCODE_VERSION"] = "0920"
-    DEFINES["NO_TCMALLOC"] = True
-    DEFINES["WEBRTC_MAC"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["__ASSERT_MACROS_DEFINE_VERSIONS_WITHOUT_UNDERSCORE"] = "0"
-
-    OS_LIBS += [
-        "-framework Foundation"
-    ]
-
-if CONFIG["OS_TARGET"] == "DragonFly":
+if not CONFIG["MOZ_DEBUG"]:
 
-    DEFINES["USE_X11"] = "1"
-    DEFINES["WEBRTC_BSD"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
+    DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "0"
+    DEFINES["NDEBUG"] = True
+    DEFINES["NVALGRIND"] = True
 
-if CONFIG["OS_TARGET"] == "FreeBSD":
+if CONFIG["OS_TARGET"] == "NetBSD":
 
     DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_BSD"] = True
@@ -120,7 +82,6 @@ if CONFIG["OS_TARGET"] == "FreeBSD":
 if CONFIG["OS_TARGET"] == "Linux":
 
     DEFINES["USE_NSS_CERTS"] = "1"
-    DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_LINUX"] = True
     DEFINES["WEBRTC_POSIX"] = True
     DEFINES["_FILE_OFFSET_BITS"] = "64"
@@ -130,14 +91,7 @@ if CONFIG["OS_TARGET"] == "Linux":
         "rt"
     ]
 
-if CONFIG["OS_TARGET"] == "NetBSD":
-
-    DEFINES["USE_X11"] = "1"
-    DEFINES["WEBRTC_BSD"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
-
-if CONFIG["OS_TARGET"] == "OpenBSD":
+if CONFIG["OS_TARGET"] == "DragonFly":
 
     DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_BSD"] = True
@@ -173,10 +127,50 @@ if CONFIG["OS_TARGET"] == "WINNT":
         "winmm"
     ]
 
-if CONFIG["CPU_ARCH"] == "aarch64":
+if CONFIG["OS_TARGET"] == "Darwin":
 
-    DEFINES["WEBRTC_ARCH_ARM64"] = True
-    DEFINES["WEBRTC_HAS_NEON"] = True
+    DEFINES["CR_XCODE_VERSION"] = "0920"
+    DEFINES["NO_TCMALLOC"] = True
+    DEFINES["WEBRTC_MAC"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["__ASSERT_MACROS_DEFINE_VERSIONS_WITHOUT_UNDERSCORE"] = "0"
+
+    OS_LIBS += [
+        "-framework Foundation"
+    ]
+
+if CONFIG["OS_TARGET"] == "OpenBSD":
+
+    DEFINES["USE_X11"] = "1"
+    DEFINES["WEBRTC_BSD"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+
+if CONFIG["OS_TARGET"] == "FreeBSD":
+
+    DEFINES["USE_X11"] = "1"
+    DEFINES["WEBRTC_BSD"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+
+if CONFIG["OS_TARGET"] == "Android":
+
+    DEFINES["ANDROID"] = True
+    DEFINES["ANDROID_NDK_VERSION"] = "r12b"
+    DEFINES["DISABLE_NACL"] = True
+    DEFINES["HAVE_SYS_UIO_H"] = True
+    DEFINES["NO_TCMALLOC"] = True
+    DEFINES["USE_OPENSSL_CERTS"] = "1"
+    DEFINES["WEBRTC_ANDROID"] = True
+    DEFINES["WEBRTC_ANDROID_OPENSLES"] = True
+    DEFINES["WEBRTC_LINUX"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+    DEFINES["__GNU_SOURCE"] = "1"
+
+    OS_LIBS += [
+        "log"
+    ]
 
 if CONFIG["CPU_ARCH"] == "arm":
 
@@ -188,15 +182,24 @@ if CONFIG["CPU_ARCH"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Android":
+if CONFIG["CPU_ARCH"] == "ppc64":
 
-    DEFINES["_FORTIFY_SOURCE"] = "2"
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "mips64":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "aarch64":
+
+    DEFINES["WEBRTC_ARCH_ARM64"] = True
+    DEFINES["WEBRTC_HAS_NEON"] = True
 
 if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Darwin":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "DragonFly":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "OpenBSD":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
@@ -204,20 +207,28 @@ if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "FreeBSD":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "NetBSD":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Android":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "OpenBSD":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "DragonFly":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "Android":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "NetBSD":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "NetBSD":
 
     CFLAGS += [
         "-msse2"
     ]
 
+if CONFIG["CPU_ARCH"] == "x86_64" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
 if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "FreeBSD":
 
     CFLAGS += [
@@ -235,7 +246,7 @@ if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "Linux":
         "-msse2"
     ]
 
-if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "NetBSD":
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "Android":
 
     CFLAGS += [
         "-msse2"
@@ -247,4 +258,32 @@ if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "OpenBSD":
         "-msse2"
     ]
 
+if CONFIG["CPU_ARCH"] == "arm" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "aarch64" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "arm" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "aarch64" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["HOST_CPU_ARCH"] == "x86_64" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["HOST_CPU_ARCH"] == "x86" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
 Library("isac_c_gn")
diff --git a/media/webrtc/trunk/webrtc/modules/audio_coding/isac_common_gn/moz.build b/media/webrtc/trunk/webrtc/modules/audio_coding/isac_common_gn/moz.build
index 90e8e8b63425..e3c8456d42aa 100644
--- a/media/webrtc/trunk/webrtc/modules/audio_coding/isac_common_gn/moz.build
+++ b/media/webrtc/trunk/webrtc/modules/audio_coding/isac_common_gn/moz.build
@@ -30,56 +30,18 @@ UNIFIED_SOURCES += [
     "/media/webrtc/trunk/webrtc/modules/audio_coding/codecs/isac/locked_bandwidth_info.cc"
 ]
 
-if not CONFIG["MOZ_DEBUG"]:
-
-    DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "0"
-    DEFINES["NDEBUG"] = True
-    DEFINES["NVALGRIND"] = True
-
 if CONFIG["MOZ_DEBUG"] == "1":
 
     DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "1"
     DEFINES["WTF_USE_DYNAMIC_ANNOTATIONS"] = "1"
 
-if CONFIG["OS_TARGET"] == "Android":
-
-    DEFINES["ANDROID"] = True
-    DEFINES["ANDROID_NDK_VERSION"] = "r12b"
-    DEFINES["DISABLE_NACL"] = True
-    DEFINES["HAVE_SYS_UIO_H"] = True
-    DEFINES["NO_TCMALLOC"] = True
-    DEFINES["USE_OPENSSL_CERTS"] = "1"
-    DEFINES["WEBRTC_ANDROID"] = True
-    DEFINES["WEBRTC_ANDROID_OPENSLES"] = True
-    DEFINES["WEBRTC_LINUX"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
-    DEFINES["__GNU_SOURCE"] = "1"
-
-    OS_LIBS += [
-        "log"
-    ]
-
-if CONFIG["OS_TARGET"] == "Darwin":
-
-    DEFINES["CR_XCODE_VERSION"] = "0920"
-    DEFINES["NO_TCMALLOC"] = True
-    DEFINES["WEBRTC_MAC"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["__ASSERT_MACROS_DEFINE_VERSIONS_WITHOUT_UNDERSCORE"] = "0"
-
-    OS_LIBS += [
-        "-framework Foundation"
-    ]
-
-if CONFIG["OS_TARGET"] == "DragonFly":
+if not CONFIG["MOZ_DEBUG"]:
 
-    DEFINES["USE_X11"] = "1"
-    DEFINES["WEBRTC_BSD"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
+    DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "0"
+    DEFINES["NDEBUG"] = True
+    DEFINES["NVALGRIND"] = True
 
-if CONFIG["OS_TARGET"] == "FreeBSD":
+if CONFIG["OS_TARGET"] == "NetBSD":
 
     DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_BSD"] = True
@@ -89,19 +51,11 @@ if CONFIG["OS_TARGET"] == "FreeBSD":
 if CONFIG["OS_TARGET"] == "Linux":
 
     DEFINES["USE_NSS_CERTS"] = "1"
-    DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_LINUX"] = True
     DEFINES["WEBRTC_POSIX"] = True
     DEFINES["_FILE_OFFSET_BITS"] = "64"
 
-if CONFIG["OS_TARGET"] == "NetBSD":
-
-    DEFINES["USE_X11"] = "1"
-    DEFINES["WEBRTC_BSD"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
-
-if CONFIG["OS_TARGET"] == "OpenBSD":
+if CONFIG["OS_TARGET"] == "DragonFly":
 
     DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_BSD"] = True
@@ -133,10 +87,50 @@ if CONFIG["OS_TARGET"] == "WINNT":
     DEFINES["_WINDOWS"] = True
     DEFINES["__STD_C"] = True
 
-if CONFIG["CPU_ARCH"] == "aarch64":
+if CONFIG["OS_TARGET"] == "Darwin":
 
-    DEFINES["WEBRTC_ARCH_ARM64"] = True
-    DEFINES["WEBRTC_HAS_NEON"] = True
+    DEFINES["CR_XCODE_VERSION"] = "0920"
+    DEFINES["NO_TCMALLOC"] = True
+    DEFINES["WEBRTC_MAC"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["__ASSERT_MACROS_DEFINE_VERSIONS_WITHOUT_UNDERSCORE"] = "0"
+
+    OS_LIBS += [
+        "-framework Foundation"
+    ]
+
+if CONFIG["OS_TARGET"] == "OpenBSD":
+
+    DEFINES["USE_X11"] = "1"
+    DEFINES["WEBRTC_BSD"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+
+if CONFIG["OS_TARGET"] == "FreeBSD":
+
+    DEFINES["USE_X11"] = "1"
+    DEFINES["WEBRTC_BSD"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+
+if CONFIG["OS_TARGET"] == "Android":
+
+    DEFINES["ANDROID"] = True
+    DEFINES["ANDROID_NDK_VERSION"] = "r12b"
+    DEFINES["DISABLE_NACL"] = True
+    DEFINES["HAVE_SYS_UIO_H"] = True
+    DEFINES["NO_TCMALLOC"] = True
+    DEFINES["USE_OPENSSL_CERTS"] = "1"
+    DEFINES["WEBRTC_ANDROID"] = True
+    DEFINES["WEBRTC_ANDROID_OPENSLES"] = True
+    DEFINES["WEBRTC_LINUX"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+    DEFINES["__GNU_SOURCE"] = "1"
+
+    OS_LIBS += [
+        "log"
+    ]
 
 if CONFIG["CPU_ARCH"] == "arm":
 
@@ -148,15 +142,24 @@ if CONFIG["CPU_ARCH"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Android":
+if CONFIG["CPU_ARCH"] == "ppc64":
 
-    DEFINES["_FORTIFY_SOURCE"] = "2"
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "mips64":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "aarch64":
+
+    DEFINES["WEBRTC_ARCH_ARM64"] = True
+    DEFINES["WEBRTC_HAS_NEON"] = True
 
 if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Darwin":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "DragonFly":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "OpenBSD":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
@@ -164,20 +167,28 @@ if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "FreeBSD":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "NetBSD":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Android":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "OpenBSD":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "DragonFly":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "Android":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "NetBSD":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "NetBSD":
 
     CXXFLAGS += [
         "-msse2"
     ]
 
+if CONFIG["CPU_ARCH"] == "x86_64" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
 if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "FreeBSD":
 
     CXXFLAGS += [
@@ -195,7 +206,7 @@ if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "Linux":
         "-msse2"
     ]
 
-if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "NetBSD":
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "Android":
 
     CXXFLAGS += [
         "-msse2"
@@ -207,4 +218,32 @@ if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "OpenBSD":
         "-msse2"
     ]
 
+if CONFIG["CPU_ARCH"] == "arm" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "aarch64" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "arm" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "aarch64" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["HOST_CPU_ARCH"] == "x86_64" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["HOST_CPU_ARCH"] == "x86" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
 Library("isac_common_gn")
diff --git a/media/webrtc/trunk/webrtc/modules/audio_coding/isac_fix_c_arm_asm_gn/moz.build b/media/webrtc/trunk/webrtc/modules/audio_coding/isac_fix_c_arm_asm_gn/moz.build
index 42dfb629e055..8e751ecbee4a 100644
--- a/media/webrtc/trunk/webrtc/modules/audio_coding/isac_fix_c_arm_asm_gn/moz.build
+++ b/media/webrtc/trunk/webrtc/modules/audio_coding/isac_fix_c_arm_asm_gn/moz.build
@@ -36,31 +36,19 @@ SOURCES += [
     "/media/webrtc/trunk/webrtc/modules/audio_coding/codecs/isac/fix/source/pitch_filter_armv6.S"
 ]
 
-if not CONFIG["MOZ_DEBUG"]:
-
-    DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "0"
-    DEFINES["NDEBUG"] = True
-    DEFINES["NVALGRIND"] = True
-
 if CONFIG["MOZ_DEBUG"] == "1":
 
     DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "1"
     DEFINES["WTF_USE_DYNAMIC_ANNOTATIONS"] = "1"
 
-if CONFIG["OS_TARGET"] == "Android":
+if not CONFIG["MOZ_DEBUG"]:
 
-    DEFINES["ANDROID"] = True
-    DEFINES["ANDROID_NDK_VERSION"] = "r12b"
-    DEFINES["DISABLE_NACL"] = True
-    DEFINES["HAVE_SYS_UIO_H"] = True
-    DEFINES["NO_TCMALLOC"] = True
-    DEFINES["USE_OPENSSL_CERTS"] = "1"
-    DEFINES["WEBRTC_ANDROID"] = True
-    DEFINES["WEBRTC_ANDROID_OPENSLES"] = True
-    DEFINES["WEBRTC_LINUX"] = True
-    DEFINES["__GNU_SOURCE"] = "1"
+    DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "0"
+    DEFINES["NDEBUG"] = True
+    DEFINES["NVALGRIND"] = True
+    DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if CONFIG["OS_TARGET"] == "FreeBSD":
+if CONFIG["OS_TARGET"] == "NetBSD":
 
     DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_BSD"] = True
@@ -68,33 +56,33 @@ if CONFIG["OS_TARGET"] == "FreeBSD":
 if CONFIG["OS_TARGET"] == "Linux":
 
     DEFINES["USE_NSS_CERTS"] = "1"
-    DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_LINUX"] = True
 
-if CONFIG["OS_TARGET"] == "NetBSD":
+if CONFIG["OS_TARGET"] == "OpenBSD":
 
     DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_BSD"] = True
 
-if CONFIG["OS_TARGET"] == "OpenBSD":
+if CONFIG["OS_TARGET"] == "FreeBSD":
 
     DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_BSD"] = True
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Android":
-
-    DEFINES["_FORTIFY_SOURCE"] = "2"
-
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "FreeBSD":
-
-    DEFINES["_FORTIFY_SOURCE"] = "2"
-
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "NetBSD":
+if CONFIG["OS_TARGET"] == "Android":
 
-    DEFINES["_FORTIFY_SOURCE"] = "2"
+    DEFINES["ANDROID"] = True
+    DEFINES["ANDROID_NDK_VERSION"] = "r12b"
+    DEFINES["DISABLE_NACL"] = True
+    DEFINES["HAVE_SYS_UIO_H"] = True
+    DEFINES["NO_TCMALLOC"] = True
+    DEFINES["USE_OPENSSL_CERTS"] = "1"
+    DEFINES["WEBRTC_ANDROID"] = True
+    DEFINES["WEBRTC_ANDROID_OPENSLES"] = True
+    DEFINES["WEBRTC_LINUX"] = True
+    DEFINES["__GNU_SOURCE"] = "1"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "OpenBSD":
+if CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
 
-    DEFINES["_FORTIFY_SOURCE"] = "2"
+    DEFINES["USE_X11"] = "1"
 
 Library("isac_fix_c_arm_asm_gn")
diff --git a/media/webrtc/trunk/webrtc/modules/audio_coding/isac_fix_c_gn/moz.build b/media/webrtc/trunk/webrtc/modules/audio_coding/isac_fix_c_gn/moz.build
index 22e92aeb064a..f3075024392e 100644
--- a/media/webrtc/trunk/webrtc/modules/audio_coding/isac_fix_c_gn/moz.build
+++ b/media/webrtc/trunk/webrtc/modules/audio_coding/isac_fix_c_gn/moz.build
@@ -61,72 +61,18 @@ UNIFIED_SOURCES += [
     "/media/webrtc/trunk/webrtc/modules/audio_coding/codecs/isac/fix/source/transform_tables.c"
 ]
 
-if not CONFIG["MOZ_DEBUG"]:
-
-    DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "0"
-    DEFINES["NDEBUG"] = True
-    DEFINES["NVALGRIND"] = True
-
 if CONFIG["MOZ_DEBUG"] == "1":
 
     DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "1"
     DEFINES["WTF_USE_DYNAMIC_ANNOTATIONS"] = "1"
 
-if CONFIG["OS_TARGET"] == "Android":
-
-    DEFINES["ANDROID"] = True
-    DEFINES["ANDROID_NDK_VERSION"] = "r12b"
-    DEFINES["DISABLE_NACL"] = True
-    DEFINES["HAVE_SYS_UIO_H"] = True
-    DEFINES["NO_TCMALLOC"] = True
-    DEFINES["USE_OPENSSL_CERTS"] = "1"
-    DEFINES["WEBRTC_ANDROID"] = True
-    DEFINES["WEBRTC_ANDROID_OPENSLES"] = True
-    DEFINES["WEBRTC_LINUX"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
-    DEFINES["__GNU_SOURCE"] = "1"
-
-    OS_LIBS += [
-        "log"
-    ]
-
-if CONFIG["OS_TARGET"] == "Darwin":
-
-    DEFINES["CR_XCODE_VERSION"] = "0920"
-    DEFINES["NO_TCMALLOC"] = True
-    DEFINES["WEBRTC_MAC"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["__ASSERT_MACROS_DEFINE_VERSIONS_WITHOUT_UNDERSCORE"] = "0"
-
-    OS_LIBS += [
-        "-framework Foundation"
-    ]
-
-    SOURCES += [
-        "/media/webrtc/trunk/webrtc/modules/audio_coding/codecs/isac/fix/source/pitch_filter_c.c"
-    ]
-
-    UNIFIED_SOURCES += [
-        "/media/webrtc/trunk/webrtc/modules/audio_coding/codecs/isac/fix/source/lattice_c.c"
-    ]
-
-if CONFIG["OS_TARGET"] == "DragonFly":
-
-    DEFINES["USE_X11"] = "1"
-    DEFINES["WEBRTC_BSD"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
-
-    SOURCES += [
-        "/media/webrtc/trunk/webrtc/modules/audio_coding/codecs/isac/fix/source/pitch_filter_c.c"
-    ]
+if not CONFIG["MOZ_DEBUG"]:
 
-    UNIFIED_SOURCES += [
-        "/media/webrtc/trunk/webrtc/modules/audio_coding/codecs/isac/fix/source/lattice_c.c"
-    ]
+    DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "0"
+    DEFINES["NDEBUG"] = True
+    DEFINES["NVALGRIND"] = True
 
-if CONFIG["OS_TARGET"] == "FreeBSD":
+if CONFIG["OS_TARGET"] == "NetBSD":
 
     DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_BSD"] = True
@@ -136,7 +82,6 @@ if CONFIG["OS_TARGET"] == "FreeBSD":
 if CONFIG["OS_TARGET"] == "Linux":
 
     DEFINES["USE_NSS_CERTS"] = "1"
-    DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_LINUX"] = True
     DEFINES["WEBRTC_POSIX"] = True
     DEFINES["_FILE_OFFSET_BITS"] = "64"
@@ -145,19 +90,20 @@ if CONFIG["OS_TARGET"] == "Linux":
         "rt"
     ]
 
-if CONFIG["OS_TARGET"] == "NetBSD":
+if CONFIG["OS_TARGET"] == "DragonFly":
 
     DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_BSD"] = True
     DEFINES["WEBRTC_POSIX"] = True
     DEFINES["_FILE_OFFSET_BITS"] = "64"
 
-if CONFIG["OS_TARGET"] == "OpenBSD":
+    SOURCES += [
+        "/media/webrtc/trunk/webrtc/modules/audio_coding/codecs/isac/fix/source/pitch_filter_c.c"
+    ]
 
-    DEFINES["USE_X11"] = "1"
-    DEFINES["WEBRTC_BSD"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
+    UNIFIED_SOURCES += [
+        "/media/webrtc/trunk/webrtc/modules/audio_coding/codecs/isac/fix/source/lattice_c.c"
+    ]
 
 if CONFIG["OS_TARGET"] == "WINNT":
 
@@ -196,10 +142,58 @@ if CONFIG["OS_TARGET"] == "WINNT":
         "/media/webrtc/trunk/webrtc/modules/audio_coding/codecs/isac/fix/source/lattice_c.c"
     ]
 
-if CONFIG["CPU_ARCH"] == "aarch64":
+if CONFIG["OS_TARGET"] == "Darwin":
 
-    DEFINES["WEBRTC_ARCH_ARM64"] = True
-    DEFINES["WEBRTC_HAS_NEON"] = True
+    DEFINES["CR_XCODE_VERSION"] = "0920"
+    DEFINES["NO_TCMALLOC"] = True
+    DEFINES["WEBRTC_MAC"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["__ASSERT_MACROS_DEFINE_VERSIONS_WITHOUT_UNDERSCORE"] = "0"
+
+    OS_LIBS += [
+        "-framework Foundation"
+    ]
+
+    SOURCES += [
+        "/media/webrtc/trunk/webrtc/modules/audio_coding/codecs/isac/fix/source/pitch_filter_c.c"
+    ]
+
+    UNIFIED_SOURCES += [
+        "/media/webrtc/trunk/webrtc/modules/audio_coding/codecs/isac/fix/source/lattice_c.c"
+    ]
+
+if CONFIG["OS_TARGET"] == "OpenBSD":
+
+    DEFINES["USE_X11"] = "1"
+    DEFINES["WEBRTC_BSD"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+
+if CONFIG["OS_TARGET"] == "FreeBSD":
+
+    DEFINES["USE_X11"] = "1"
+    DEFINES["WEBRTC_BSD"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+
+if CONFIG["OS_TARGET"] == "Android":
+
+    DEFINES["ANDROID"] = True
+    DEFINES["ANDROID_NDK_VERSION"] = "r12b"
+    DEFINES["DISABLE_NACL"] = True
+    DEFINES["HAVE_SYS_UIO_H"] = True
+    DEFINES["NO_TCMALLOC"] = True
+    DEFINES["USE_OPENSSL_CERTS"] = "1"
+    DEFINES["WEBRTC_ANDROID"] = True
+    DEFINES["WEBRTC_ANDROID_OPENSLES"] = True
+    DEFINES["WEBRTC_LINUX"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+    DEFINES["__GNU_SOURCE"] = "1"
+
+    OS_LIBS += [
+        "log"
+    ]
 
 if CONFIG["CPU_ARCH"] == "arm":
 
@@ -211,7 +205,9 @@ if CONFIG["CPU_ARCH"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
-if CONFIG["CPU_ARCH"] == "mips64":
+if CONFIG["CPU_ARCH"] == "ppc64":
+
+    DEFINES["USE_X11"] = "1"
 
     SOURCES += [
         "/media/webrtc/trunk/webrtc/modules/audio_coding/codecs/isac/fix/source/pitch_filter_c.c"
@@ -221,7 +217,9 @@ if CONFIG["CPU_ARCH"] == "mips64":
         "/media/webrtc/trunk/webrtc/modules/audio_coding/codecs/isac/fix/source/lattice_c.c"
     ]
 
-if CONFIG["CPU_ARCH"] == "ppc64":
+if CONFIG["CPU_ARCH"] == "mips64":
+
+    DEFINES["USE_X11"] = "1"
 
     SOURCES += [
         "/media/webrtc/trunk/webrtc/modules/audio_coding/codecs/isac/fix/source/pitch_filter_c.c"
@@ -231,15 +229,16 @@ if CONFIG["CPU_ARCH"] == "ppc64":
         "/media/webrtc/trunk/webrtc/modules/audio_coding/codecs/isac/fix/source/lattice_c.c"
     ]
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Android":
+if CONFIG["CPU_ARCH"] == "aarch64":
 
-    DEFINES["_FORTIFY_SOURCE"] = "2"
+    DEFINES["WEBRTC_ARCH_ARM64"] = True
+    DEFINES["WEBRTC_HAS_NEON"] = True
 
 if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Darwin":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "DragonFly":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "OpenBSD":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
@@ -247,25 +246,19 @@ if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "FreeBSD":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "NetBSD":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Android":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "OpenBSD":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "DragonFly":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if CONFIG["CPU_ARCH"] == "aarch64" and CONFIG["OS_TARGET"] == "Android":
-
-    SOURCES += [
-        "/media/webrtc/trunk/webrtc/modules/audio_coding/codecs/isac/fix/source/pitch_filter_c.c"
-    ]
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "NetBSD":
 
-    UNIFIED_SOURCES += [
-        "/media/webrtc/trunk/webrtc/modules/audio_coding/codecs/isac/fix/source/lattice_c.c"
-    ]
+    DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "Android":
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "NetBSD":
 
     CFLAGS += [
         "-msse2"
@@ -279,7 +272,7 @@ if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "Android":
         "/media/webrtc/trunk/webrtc/modules/audio_coding/codecs/isac/fix/source/lattice_c.c"
     ]
 
-if CONFIG["CPU_ARCH"] == "x86_64" and CONFIG["OS_TARGET"] == "Android":
+if CONFIG["CPU_ARCH"] == "aarch64" and CONFIG["OS_TARGET"] == "FreeBSD":
 
     SOURCES += [
         "/media/webrtc/trunk/webrtc/modules/audio_coding/codecs/isac/fix/source/pitch_filter_c.c"
@@ -289,7 +282,9 @@ if CONFIG["CPU_ARCH"] == "x86_64" and CONFIG["OS_TARGET"] == "Android":
         "/media/webrtc/trunk/webrtc/modules/audio_coding/codecs/isac/fix/source/lattice_c.c"
     ]
 
-if CONFIG["CPU_ARCH"] == "aarch64" and CONFIG["OS_TARGET"] == "FreeBSD":
+if CONFIG["CPU_ARCH"] == "x86_64" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
 
     SOURCES += [
         "/media/webrtc/trunk/webrtc/modules/audio_coding/codecs/isac/fix/source/pitch_filter_c.c"
@@ -313,7 +308,10 @@ if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "FreeBSD":
         "/media/webrtc/trunk/webrtc/modules/audio_coding/codecs/isac/fix/source/lattice_c.c"
     ]
 
-if CONFIG["CPU_ARCH"] == "x86_64" and CONFIG["OS_TARGET"] == "FreeBSD":
+if CONFIG["CPU_ARCH"] == "aarch64" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["DISABLE_NACL"] = True
+    DEFINES["NO_TCMALLOC"] = True
 
     SOURCES += [
         "/media/webrtc/trunk/webrtc/modules/audio_coding/codecs/isac/fix/source/pitch_filter_c.c"
@@ -323,10 +321,7 @@ if CONFIG["CPU_ARCH"] == "x86_64" and CONFIG["OS_TARGET"] == "FreeBSD":
         "/media/webrtc/trunk/webrtc/modules/audio_coding/codecs/isac/fix/source/lattice_c.c"
     ]
 
-if CONFIG["CPU_ARCH"] == "aarch64" and CONFIG["OS_TARGET"] == "Linux":
-
-    DEFINES["DISABLE_NACL"] = True
-    DEFINES["NO_TCMALLOC"] = True
+if CONFIG["CPU_ARCH"] == "aarch64" and CONFIG["OS_TARGET"] == "Android":
 
     SOURCES += [
         "/media/webrtc/trunk/webrtc/modules/audio_coding/codecs/isac/fix/source/pitch_filter_c.c"
@@ -336,11 +331,7 @@ if CONFIG["CPU_ARCH"] == "aarch64" and CONFIG["OS_TARGET"] == "Linux":
         "/media/webrtc/trunk/webrtc/modules/audio_coding/codecs/isac/fix/source/lattice_c.c"
     ]
 
-if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "Linux":
-
-    CFLAGS += [
-        "-msse2"
-    ]
+if CONFIG["CPU_ARCH"] == "aarch64" and CONFIG["OS_TARGET"] == "OpenBSD":
 
     SOURCES += [
         "/media/webrtc/trunk/webrtc/modules/audio_coding/codecs/isac/fix/source/pitch_filter_c.c"
@@ -350,7 +341,7 @@ if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "Linux":
         "/media/webrtc/trunk/webrtc/modules/audio_coding/codecs/isac/fix/source/lattice_c.c"
     ]
 
-if CONFIG["CPU_ARCH"] == "x86_64" and CONFIG["OS_TARGET"] == "Linux":
+if CONFIG["CPU_ARCH"] == "x86_64" and CONFIG["OS_TARGET"] == "Android":
 
     SOURCES += [
         "/media/webrtc/trunk/webrtc/modules/audio_coding/codecs/isac/fix/source/pitch_filter_c.c"
@@ -360,7 +351,7 @@ if CONFIG["CPU_ARCH"] == "x86_64" and CONFIG["OS_TARGET"] == "Linux":
         "/media/webrtc/trunk/webrtc/modules/audio_coding/codecs/isac/fix/source/lattice_c.c"
     ]
 
-if CONFIG["CPU_ARCH"] == "aarch64" and CONFIG["OS_TARGET"] == "NetBSD":
+if CONFIG["CPU_ARCH"] == "x86_64" and CONFIG["OS_TARGET"] == "OpenBSD":
 
     SOURCES += [
         "/media/webrtc/trunk/webrtc/modules/audio_coding/codecs/isac/fix/source/pitch_filter_c.c"
@@ -370,7 +361,7 @@ if CONFIG["CPU_ARCH"] == "aarch64" and CONFIG["OS_TARGET"] == "NetBSD":
         "/media/webrtc/trunk/webrtc/modules/audio_coding/codecs/isac/fix/source/lattice_c.c"
     ]
 
-if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "NetBSD":
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "Linux":
 
     CFLAGS += [
         "-msse2"
@@ -384,7 +375,11 @@ if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "NetBSD":
         "/media/webrtc/trunk/webrtc/modules/audio_coding/codecs/isac/fix/source/lattice_c.c"
     ]
 
-if CONFIG["CPU_ARCH"] == "x86_64" and CONFIG["OS_TARGET"] == "NetBSD":
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "Android":
+
+    CFLAGS += [
+        "-msse2"
+    ]
 
     SOURCES += [
         "/media/webrtc/trunk/webrtc/modules/audio_coding/codecs/isac/fix/source/pitch_filter_c.c"
@@ -394,7 +389,11 @@ if CONFIG["CPU_ARCH"] == "x86_64" and CONFIG["OS_TARGET"] == "NetBSD":
         "/media/webrtc/trunk/webrtc/modules/audio_coding/codecs/isac/fix/source/lattice_c.c"
     ]
 
-if CONFIG["CPU_ARCH"] == "aarch64" and CONFIG["OS_TARGET"] == "OpenBSD":
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "OpenBSD":
+
+    CFLAGS += [
+        "-msse2"
+    ]
 
     SOURCES += [
         "/media/webrtc/trunk/webrtc/modules/audio_coding/codecs/isac/fix/source/pitch_filter_c.c"
@@ -404,12 +403,18 @@ if CONFIG["CPU_ARCH"] == "aarch64" and CONFIG["OS_TARGET"] == "OpenBSD":
         "/media/webrtc/trunk/webrtc/modules/audio_coding/codecs/isac/fix/source/lattice_c.c"
     ]
 
-if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "OpenBSD":
+if CONFIG["CPU_ARCH"] == "x86_64" and CONFIG["OS_TARGET"] == "FreeBSD":
 
-    CFLAGS += [
-        "-msse2"
+    SOURCES += [
+        "/media/webrtc/trunk/webrtc/modules/audio_coding/codecs/isac/fix/source/pitch_filter_c.c"
     ]
 
+    UNIFIED_SOURCES += [
+        "/media/webrtc/trunk/webrtc/modules/audio_coding/codecs/isac/fix/source/lattice_c.c"
+    ]
+
+if CONFIG["CPU_ARCH"] == "aarch64" and CONFIG["OS_TARGET"] == "NetBSD":
+
     SOURCES += [
         "/media/webrtc/trunk/webrtc/modules/audio_coding/codecs/isac/fix/source/pitch_filter_c.c"
     ]
@@ -418,7 +423,7 @@ if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "OpenBSD":
         "/media/webrtc/trunk/webrtc/modules/audio_coding/codecs/isac/fix/source/lattice_c.c"
     ]
 
-if CONFIG["CPU_ARCH"] == "x86_64" and CONFIG["OS_TARGET"] == "OpenBSD":
+if CONFIG["CPU_ARCH"] == "x86_64" and CONFIG["OS_TARGET"] == "NetBSD":
 
     SOURCES += [
         "/media/webrtc/trunk/webrtc/modules/audio_coding/codecs/isac/fix/source/pitch_filter_c.c"
@@ -428,4 +433,32 @@ if CONFIG["CPU_ARCH"] == "x86_64" and CONFIG["OS_TARGET"] == "OpenBSD":
         "/media/webrtc/trunk/webrtc/modules/audio_coding/codecs/isac/fix/source/lattice_c.c"
     ]
 
+if CONFIG["CPU_ARCH"] == "arm" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "aarch64" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "arm" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "aarch64" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["HOST_CPU_ARCH"] == "x86_64" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["HOST_CPU_ARCH"] == "x86" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
 Library("isac_fix_c_gn")
diff --git a/media/webrtc/trunk/webrtc/modules/audio_coding/isac_fix_common_gn/moz.build b/media/webrtc/trunk/webrtc/modules/audio_coding/isac_fix_common_gn/moz.build
index 7afcfdd674a5..8acffb86e968 100644
--- a/media/webrtc/trunk/webrtc/modules/audio_coding/isac_fix_common_gn/moz.build
+++ b/media/webrtc/trunk/webrtc/modules/audio_coding/isac_fix_common_gn/moz.build
@@ -31,48 +31,18 @@ UNIFIED_SOURCES += [
     "/media/webrtc/trunk/webrtc/modules/audio_coding/codecs/isac/fix/source/fft.c"
 ]
 
-if not CONFIG["MOZ_DEBUG"]:
-
-    DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "0"
-    DEFINES["NDEBUG"] = True
-    DEFINES["NVALGRIND"] = True
-
 if CONFIG["MOZ_DEBUG"] == "1":
 
     DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "1"
     DEFINES["WTF_USE_DYNAMIC_ANNOTATIONS"] = "1"
 
-if CONFIG["OS_TARGET"] == "Android":
-
-    DEFINES["ANDROID"] = True
-    DEFINES["ANDROID_NDK_VERSION"] = "r12b"
-    DEFINES["DISABLE_NACL"] = True
-    DEFINES["HAVE_SYS_UIO_H"] = True
-    DEFINES["NO_TCMALLOC"] = True
-    DEFINES["USE_OPENSSL_CERTS"] = "1"
-    DEFINES["WEBRTC_ANDROID"] = True
-    DEFINES["WEBRTC_ANDROID_OPENSLES"] = True
-    DEFINES["WEBRTC_LINUX"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
-    DEFINES["__GNU_SOURCE"] = "1"
-
-if CONFIG["OS_TARGET"] == "Darwin":
-
-    DEFINES["CR_XCODE_VERSION"] = "0920"
-    DEFINES["NO_TCMALLOC"] = True
-    DEFINES["WEBRTC_MAC"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["__ASSERT_MACROS_DEFINE_VERSIONS_WITHOUT_UNDERSCORE"] = "0"
-
-if CONFIG["OS_TARGET"] == "DragonFly":
+if not CONFIG["MOZ_DEBUG"]:
 
-    DEFINES["USE_X11"] = "1"
-    DEFINES["WEBRTC_BSD"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
+    DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "0"
+    DEFINES["NDEBUG"] = True
+    DEFINES["NVALGRIND"] = True
 
-if CONFIG["OS_TARGET"] == "FreeBSD":
+if CONFIG["OS_TARGET"] == "NetBSD":
 
     DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_BSD"] = True
@@ -82,19 +52,11 @@ if CONFIG["OS_TARGET"] == "FreeBSD":
 if CONFIG["OS_TARGET"] == "Linux":
 
     DEFINES["USE_NSS_CERTS"] = "1"
-    DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_LINUX"] = True
     DEFINES["WEBRTC_POSIX"] = True
     DEFINES["_FILE_OFFSET_BITS"] = "64"
 
-if CONFIG["OS_TARGET"] == "NetBSD":
-
-    DEFINES["USE_X11"] = "1"
-    DEFINES["WEBRTC_BSD"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
-
-if CONFIG["OS_TARGET"] == "OpenBSD":
+if CONFIG["OS_TARGET"] == "DragonFly":
 
     DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_BSD"] = True
@@ -126,10 +88,42 @@ if CONFIG["OS_TARGET"] == "WINNT":
     DEFINES["_WINDOWS"] = True
     DEFINES["__STD_C"] = True
 
-if CONFIG["CPU_ARCH"] == "aarch64":
+if CONFIG["OS_TARGET"] == "Darwin":
 
-    DEFINES["WEBRTC_ARCH_ARM64"] = True
-    DEFINES["WEBRTC_HAS_NEON"] = True
+    DEFINES["CR_XCODE_VERSION"] = "0920"
+    DEFINES["NO_TCMALLOC"] = True
+    DEFINES["WEBRTC_MAC"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["__ASSERT_MACROS_DEFINE_VERSIONS_WITHOUT_UNDERSCORE"] = "0"
+
+if CONFIG["OS_TARGET"] == "OpenBSD":
+
+    DEFINES["USE_X11"] = "1"
+    DEFINES["WEBRTC_BSD"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+
+if CONFIG["OS_TARGET"] == "FreeBSD":
+
+    DEFINES["USE_X11"] = "1"
+    DEFINES["WEBRTC_BSD"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+
+if CONFIG["OS_TARGET"] == "Android":
+
+    DEFINES["ANDROID"] = True
+    DEFINES["ANDROID_NDK_VERSION"] = "r12b"
+    DEFINES["DISABLE_NACL"] = True
+    DEFINES["HAVE_SYS_UIO_H"] = True
+    DEFINES["NO_TCMALLOC"] = True
+    DEFINES["USE_OPENSSL_CERTS"] = "1"
+    DEFINES["WEBRTC_ANDROID"] = True
+    DEFINES["WEBRTC_ANDROID_OPENSLES"] = True
+    DEFINES["WEBRTC_LINUX"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+    DEFINES["__GNU_SOURCE"] = "1"
 
 if CONFIG["CPU_ARCH"] == "arm":
 
@@ -141,15 +135,24 @@ if CONFIG["CPU_ARCH"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Android":
+if CONFIG["CPU_ARCH"] == "ppc64":
 
-    DEFINES["_FORTIFY_SOURCE"] = "2"
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "mips64":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "aarch64":
+
+    DEFINES["WEBRTC_ARCH_ARM64"] = True
+    DEFINES["WEBRTC_HAS_NEON"] = True
 
 if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Darwin":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "DragonFly":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "OpenBSD":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
@@ -157,20 +160,28 @@ if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "FreeBSD":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "NetBSD":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Android":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "OpenBSD":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "DragonFly":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "Android":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "NetBSD":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "NetBSD":
 
     CFLAGS += [
         "-msse2"
     ]
 
+if CONFIG["CPU_ARCH"] == "x86_64" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
 if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "FreeBSD":
 
     CFLAGS += [
@@ -188,7 +199,7 @@ if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "Linux":
         "-msse2"
     ]
 
-if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "NetBSD":
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "Android":
 
     CFLAGS += [
         "-msse2"
@@ -200,4 +211,32 @@ if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "OpenBSD":
         "-msse2"
     ]
 
+if CONFIG["CPU_ARCH"] == "arm" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "aarch64" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "arm" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "aarch64" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["HOST_CPU_ARCH"] == "x86_64" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["HOST_CPU_ARCH"] == "x86" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
 Library("isac_fix_common_gn")
diff --git a/media/webrtc/trunk/webrtc/modules/audio_coding/isac_fix_gn/moz.build b/media/webrtc/trunk/webrtc/modules/audio_coding/isac_fix_gn/moz.build
index 9f6b605cc08b..ef38f4ee6bbd 100644
--- a/media/webrtc/trunk/webrtc/modules/audio_coding/isac_fix_gn/moz.build
+++ b/media/webrtc/trunk/webrtc/modules/audio_coding/isac_fix_gn/moz.build
@@ -44,35 +44,19 @@ UNIFIED_SOURCES += [
     "/media/webrtc/trunk/webrtc/modules/audio_coding/codecs/isac/fix/source/audio_encoder_isacfix.cc"
 ]
 
-if not CONFIG["MOZ_DEBUG"]:
-
-    DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "0"
-    DEFINES["NDEBUG"] = True
-    DEFINES["NVALGRIND"] = True
-
 if CONFIG["MOZ_DEBUG"] == "1":
 
     DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "1"
     DEFINES["WTF_USE_DYNAMIC_ANNOTATIONS"] = "1"
 
-if CONFIG["OS_TARGET"] == "Android":
-
-    DEFINES["ANDROID"] = True
-    DEFINES["ANDROID_NDK_VERSION"] = "r12b"
-    DEFINES["DISABLE_NACL"] = True
-    DEFINES["HAVE_SYS_UIO_H"] = True
-    DEFINES["NO_TCMALLOC"] = True
-    DEFINES["USE_OPENSSL_CERTS"] = "1"
-    DEFINES["WEBRTC_ANDROID"] = True
-    DEFINES["WEBRTC_ANDROID_OPENSLES"] = True
-    DEFINES["WEBRTC_LINUX"] = True
-    DEFINES["__GNU_SOURCE"] = "1"
+if not CONFIG["MOZ_DEBUG"]:
 
-    OS_LIBS += [
-        "log"
-    ]
+    DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "0"
+    DEFINES["NDEBUG"] = True
+    DEFINES["NVALGRIND"] = True
+    DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if CONFIG["OS_TARGET"] == "FreeBSD":
+if CONFIG["OS_TARGET"] == "NetBSD":
 
     DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_BSD"] = True
@@ -80,37 +64,41 @@ if CONFIG["OS_TARGET"] == "FreeBSD":
 if CONFIG["OS_TARGET"] == "Linux":
 
     DEFINES["USE_NSS_CERTS"] = "1"
-    DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_LINUX"] = True
 
     OS_LIBS += [
         "rt"
     ]
 
-if CONFIG["OS_TARGET"] == "NetBSD":
+if CONFIG["OS_TARGET"] == "OpenBSD":
 
     DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_BSD"] = True
 
-if CONFIG["OS_TARGET"] == "OpenBSD":
+if CONFIG["OS_TARGET"] == "FreeBSD":
 
     DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_BSD"] = True
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Android":
-
-    DEFINES["_FORTIFY_SOURCE"] = "2"
-
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "FreeBSD":
-
-    DEFINES["_FORTIFY_SOURCE"] = "2"
+if CONFIG["OS_TARGET"] == "Android":
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "NetBSD":
+    DEFINES["ANDROID"] = True
+    DEFINES["ANDROID_NDK_VERSION"] = "r12b"
+    DEFINES["DISABLE_NACL"] = True
+    DEFINES["HAVE_SYS_UIO_H"] = True
+    DEFINES["NO_TCMALLOC"] = True
+    DEFINES["USE_OPENSSL_CERTS"] = "1"
+    DEFINES["WEBRTC_ANDROID"] = True
+    DEFINES["WEBRTC_ANDROID_OPENSLES"] = True
+    DEFINES["WEBRTC_LINUX"] = True
+    DEFINES["__GNU_SOURCE"] = "1"
 
-    DEFINES["_FORTIFY_SOURCE"] = "2"
+    OS_LIBS += [
+        "log"
+    ]
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "OpenBSD":
+if CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
 
-    DEFINES["_FORTIFY_SOURCE"] = "2"
+    DEFINES["USE_X11"] = "1"
 
 Library("isac_fix_gn")
diff --git a/media/webrtc/trunk/webrtc/modules/audio_coding/isac_gn/moz.build b/media/webrtc/trunk/webrtc/modules/audio_coding/isac_gn/moz.build
index 3694ad98a477..f3e90d990dca 100644
--- a/media/webrtc/trunk/webrtc/modules/audio_coding/isac_gn/moz.build
+++ b/media/webrtc/trunk/webrtc/modules/audio_coding/isac_gn/moz.build
@@ -32,56 +32,18 @@ UNIFIED_SOURCES += [
     "/media/webrtc/trunk/webrtc/modules/audio_coding/codecs/isac/main/source/audio_encoder_isac.cc"
 ]
 
-if not CONFIG["MOZ_DEBUG"]:
-
-    DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "0"
-    DEFINES["NDEBUG"] = True
-    DEFINES["NVALGRIND"] = True
-
 if CONFIG["MOZ_DEBUG"] == "1":
 
     DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "1"
     DEFINES["WTF_USE_DYNAMIC_ANNOTATIONS"] = "1"
 
-if CONFIG["OS_TARGET"] == "Android":
-
-    DEFINES["ANDROID"] = True
-    DEFINES["ANDROID_NDK_VERSION"] = "r12b"
-    DEFINES["DISABLE_NACL"] = True
-    DEFINES["HAVE_SYS_UIO_H"] = True
-    DEFINES["NO_TCMALLOC"] = True
-    DEFINES["USE_OPENSSL_CERTS"] = "1"
-    DEFINES["WEBRTC_ANDROID"] = True
-    DEFINES["WEBRTC_ANDROID_OPENSLES"] = True
-    DEFINES["WEBRTC_LINUX"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
-    DEFINES["__GNU_SOURCE"] = "1"
-
-    OS_LIBS += [
-        "log"
-    ]
-
-if CONFIG["OS_TARGET"] == "Darwin":
-
-    DEFINES["CR_XCODE_VERSION"] = "0920"
-    DEFINES["NO_TCMALLOC"] = True
-    DEFINES["WEBRTC_MAC"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["__ASSERT_MACROS_DEFINE_VERSIONS_WITHOUT_UNDERSCORE"] = "0"
-
-    OS_LIBS += [
-        "-framework Foundation"
-    ]
-
-if CONFIG["OS_TARGET"] == "DragonFly":
+if not CONFIG["MOZ_DEBUG"]:
 
-    DEFINES["USE_X11"] = "1"
-    DEFINES["WEBRTC_BSD"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
+    DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "0"
+    DEFINES["NDEBUG"] = True
+    DEFINES["NVALGRIND"] = True
 
-if CONFIG["OS_TARGET"] == "FreeBSD":
+if CONFIG["OS_TARGET"] == "NetBSD":
 
     DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_BSD"] = True
@@ -91,7 +53,6 @@ if CONFIG["OS_TARGET"] == "FreeBSD":
 if CONFIG["OS_TARGET"] == "Linux":
 
     DEFINES["USE_NSS_CERTS"] = "1"
-    DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_LINUX"] = True
     DEFINES["WEBRTC_POSIX"] = True
     DEFINES["_FILE_OFFSET_BITS"] = "64"
@@ -101,14 +62,7 @@ if CONFIG["OS_TARGET"] == "Linux":
         "rt"
     ]
 
-if CONFIG["OS_TARGET"] == "NetBSD":
-
-    DEFINES["USE_X11"] = "1"
-    DEFINES["WEBRTC_BSD"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
-
-if CONFIG["OS_TARGET"] == "OpenBSD":
+if CONFIG["OS_TARGET"] == "DragonFly":
 
     DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_BSD"] = True
@@ -144,10 +98,50 @@ if CONFIG["OS_TARGET"] == "WINNT":
         "winmm"
     ]
 
-if CONFIG["CPU_ARCH"] == "aarch64":
+if CONFIG["OS_TARGET"] == "Darwin":
 
-    DEFINES["WEBRTC_ARCH_ARM64"] = True
-    DEFINES["WEBRTC_HAS_NEON"] = True
+    DEFINES["CR_XCODE_VERSION"] = "0920"
+    DEFINES["NO_TCMALLOC"] = True
+    DEFINES["WEBRTC_MAC"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["__ASSERT_MACROS_DEFINE_VERSIONS_WITHOUT_UNDERSCORE"] = "0"
+
+    OS_LIBS += [
+        "-framework Foundation"
+    ]
+
+if CONFIG["OS_TARGET"] == "OpenBSD":
+
+    DEFINES["USE_X11"] = "1"
+    DEFINES["WEBRTC_BSD"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+
+if CONFIG["OS_TARGET"] == "FreeBSD":
+
+    DEFINES["USE_X11"] = "1"
+    DEFINES["WEBRTC_BSD"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+
+if CONFIG["OS_TARGET"] == "Android":
+
+    DEFINES["ANDROID"] = True
+    DEFINES["ANDROID_NDK_VERSION"] = "r12b"
+    DEFINES["DISABLE_NACL"] = True
+    DEFINES["HAVE_SYS_UIO_H"] = True
+    DEFINES["NO_TCMALLOC"] = True
+    DEFINES["USE_OPENSSL_CERTS"] = "1"
+    DEFINES["WEBRTC_ANDROID"] = True
+    DEFINES["WEBRTC_ANDROID_OPENSLES"] = True
+    DEFINES["WEBRTC_LINUX"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+    DEFINES["__GNU_SOURCE"] = "1"
+
+    OS_LIBS += [
+        "log"
+    ]
 
 if CONFIG["CPU_ARCH"] == "arm":
 
@@ -159,15 +153,24 @@ if CONFIG["CPU_ARCH"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Android":
+if CONFIG["CPU_ARCH"] == "ppc64":
 
-    DEFINES["_FORTIFY_SOURCE"] = "2"
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "mips64":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "aarch64":
+
+    DEFINES["WEBRTC_ARCH_ARM64"] = True
+    DEFINES["WEBRTC_HAS_NEON"] = True
 
 if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Darwin":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "DragonFly":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "OpenBSD":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
@@ -175,20 +178,28 @@ if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "FreeBSD":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "NetBSD":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Android":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "OpenBSD":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "DragonFly":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "Android":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "NetBSD":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "NetBSD":
 
     CXXFLAGS += [
         "-msse2"
     ]
 
+if CONFIG["CPU_ARCH"] == "x86_64" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
 if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "FreeBSD":
 
     CXXFLAGS += [
@@ -206,7 +217,7 @@ if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "Linux":
         "-msse2"
     ]
 
-if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "NetBSD":
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "Android":
 
     CXXFLAGS += [
         "-msse2"
@@ -218,4 +229,32 @@ if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "OpenBSD":
         "-msse2"
     ]
 
+if CONFIG["CPU_ARCH"] == "arm" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "aarch64" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "arm" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "aarch64" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["HOST_CPU_ARCH"] == "x86_64" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["HOST_CPU_ARCH"] == "x86" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
 Library("isac_gn")
diff --git a/media/webrtc/trunk/webrtc/modules/audio_coding/isac_neon_gn/moz.build b/media/webrtc/trunk/webrtc/modules/audio_coding/isac_neon_gn/moz.build
index 4d5e49d18072..3e2fa14e2e20 100644
--- a/media/webrtc/trunk/webrtc/modules/audio_coding/isac_neon_gn/moz.build
+++ b/media/webrtc/trunk/webrtc/modules/audio_coding/isac_neon_gn/moz.build
@@ -39,37 +39,18 @@ UNIFIED_SOURCES += [
     "/media/webrtc/trunk/webrtc/modules/audio_coding/codecs/isac/fix/source/transform_neon.c"
 ]
 
-if not CONFIG["MOZ_DEBUG"]:
-
-    DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "0"
-    DEFINES["NDEBUG"] = True
-    DEFINES["NVALGRIND"] = True
-
 if CONFIG["MOZ_DEBUG"] == "1":
 
     DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "1"
     DEFINES["WTF_USE_DYNAMIC_ANNOTATIONS"] = "1"
 
-if CONFIG["OS_TARGET"] == "Android":
-
-    DEFINES["ANDROID"] = True
-    DEFINES["ANDROID_NDK_VERSION"] = "r12b"
-    DEFINES["DISABLE_NACL"] = True
-    DEFINES["HAVE_SYS_UIO_H"] = True
-    DEFINES["NO_TCMALLOC"] = True
-    DEFINES["USE_OPENSSL_CERTS"] = "1"
-    DEFINES["WEBRTC_ANDROID"] = True
-    DEFINES["WEBRTC_ANDROID_OPENSLES"] = True
-    DEFINES["WEBRTC_LINUX"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
-    DEFINES["__GNU_SOURCE"] = "1"
+if not CONFIG["MOZ_DEBUG"]:
 
-    OS_LIBS += [
-        "log"
-    ]
+    DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "0"
+    DEFINES["NDEBUG"] = True
+    DEFINES["NVALGRIND"] = True
 
-if CONFIG["OS_TARGET"] == "FreeBSD":
+if CONFIG["OS_TARGET"] == "NetBSD":
 
     DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_BSD"] = True
@@ -79,7 +60,6 @@ if CONFIG["OS_TARGET"] == "FreeBSD":
 if CONFIG["OS_TARGET"] == "Linux":
 
     DEFINES["USE_NSS_CERTS"] = "1"
-    DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_LINUX"] = True
     DEFINES["WEBRTC_POSIX"] = True
     DEFINES["_FILE_OFFSET_BITS"] = "64"
@@ -88,20 +68,6 @@ if CONFIG["OS_TARGET"] == "Linux":
         "rt"
     ]
 
-if CONFIG["OS_TARGET"] == "NetBSD":
-
-    DEFINES["USE_X11"] = "1"
-    DEFINES["WEBRTC_BSD"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
-
-if CONFIG["OS_TARGET"] == "OpenBSD":
-
-    DEFINES["USE_X11"] = "1"
-    DEFINES["WEBRTC_BSD"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
-
 if CONFIG["OS_TARGET"] == "WINNT":
 
     DEFINES["CERT_CHAIN_PARA_HAS_EXTRA_FIELDS"] = True
@@ -132,6 +98,39 @@ if CONFIG["OS_TARGET"] == "WINNT":
         "winmm"
     ]
 
+if CONFIG["OS_TARGET"] == "OpenBSD":
+
+    DEFINES["USE_X11"] = "1"
+    DEFINES["WEBRTC_BSD"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+
+if CONFIG["OS_TARGET"] == "FreeBSD":
+
+    DEFINES["USE_X11"] = "1"
+    DEFINES["WEBRTC_BSD"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+
+if CONFIG["OS_TARGET"] == "Android":
+
+    DEFINES["ANDROID"] = True
+    DEFINES["ANDROID_NDK_VERSION"] = "r12b"
+    DEFINES["DISABLE_NACL"] = True
+    DEFINES["HAVE_SYS_UIO_H"] = True
+    DEFINES["NO_TCMALLOC"] = True
+    DEFINES["USE_OPENSSL_CERTS"] = "1"
+    DEFINES["WEBRTC_ANDROID"] = True
+    DEFINES["WEBRTC_ANDROID_OPENSLES"] = True
+    DEFINES["WEBRTC_LINUX"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+    DEFINES["__GNU_SOURCE"] = "1"
+
+    OS_LIBS += [
+        "log"
+    ]
+
 if CONFIG["CPU_ARCH"] == "arm":
 
     CFLAGS += [
@@ -141,7 +140,7 @@ if CONFIG["CPU_ARCH"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM"] = True
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Android":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "OpenBSD":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
@@ -149,15 +148,23 @@ if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "FreeBSD":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Android":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
 if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "NetBSD":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "OpenBSD":
+if CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if CONFIG["CPU_ARCH"] == "aarch64" and CONFIG["OS_TARGET"] == "Android":
+if CONFIG["CPU_ARCH"] == "aarch64" and CONFIG["OS_TARGET"] == "OpenBSD":
 
     DEFINES["WEBRTC_ARCH_ARM64"] = True
 
@@ -165,17 +172,17 @@ if CONFIG["CPU_ARCH"] == "aarch64" and CONFIG["OS_TARGET"] == "FreeBSD":
 
     DEFINES["WEBRTC_ARCH_ARM64"] = True
 
-if CONFIG["CPU_ARCH"] == "aarch64" and CONFIG["OS_TARGET"] == "Linux":
+if CONFIG["CPU_ARCH"] == "aarch64" and CONFIG["OS_TARGET"] == "NetBSD":
 
-    DEFINES["DISABLE_NACL"] = True
-    DEFINES["NO_TCMALLOC"] = True
     DEFINES["WEBRTC_ARCH_ARM64"] = True
 
-if CONFIG["CPU_ARCH"] == "aarch64" and CONFIG["OS_TARGET"] == "NetBSD":
+if CONFIG["CPU_ARCH"] == "aarch64" and CONFIG["OS_TARGET"] == "Linux":
 
+    DEFINES["DISABLE_NACL"] = True
+    DEFINES["NO_TCMALLOC"] = True
     DEFINES["WEBRTC_ARCH_ARM64"] = True
 
-if CONFIG["CPU_ARCH"] == "aarch64" and CONFIG["OS_TARGET"] == "OpenBSD":
+if CONFIG["CPU_ARCH"] == "aarch64" and CONFIG["OS_TARGET"] == "Android":
 
     DEFINES["WEBRTC_ARCH_ARM64"] = True
 
diff --git a/media/webrtc/trunk/webrtc/modules/audio_coding/legacy_encoded_audio_frame_gn/moz.build b/media/webrtc/trunk/webrtc/modules/audio_coding/legacy_encoded_audio_frame_gn/moz.build
index de33e4999497..c6ad1d1bfdcf 100644
--- a/media/webrtc/trunk/webrtc/modules/audio_coding/legacy_encoded_audio_frame_gn/moz.build
+++ b/media/webrtc/trunk/webrtc/modules/audio_coding/legacy_encoded_audio_frame_gn/moz.build
@@ -30,56 +30,18 @@ UNIFIED_SOURCES += [
     "/media/webrtc/trunk/webrtc/modules/audio_coding/codecs/legacy_encoded_audio_frame.cc"
 ]
 
-if not CONFIG["MOZ_DEBUG"]:
-
-    DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "0"
-    DEFINES["NDEBUG"] = True
-    DEFINES["NVALGRIND"] = True
-
 if CONFIG["MOZ_DEBUG"] == "1":
 
     DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "1"
     DEFINES["WTF_USE_DYNAMIC_ANNOTATIONS"] = "1"
 
-if CONFIG["OS_TARGET"] == "Android":
-
-    DEFINES["ANDROID"] = True
-    DEFINES["ANDROID_NDK_VERSION"] = "r12b"
-    DEFINES["DISABLE_NACL"] = True
-    DEFINES["HAVE_SYS_UIO_H"] = True
-    DEFINES["NO_TCMALLOC"] = True
-    DEFINES["USE_OPENSSL_CERTS"] = "1"
-    DEFINES["WEBRTC_ANDROID"] = True
-    DEFINES["WEBRTC_ANDROID_OPENSLES"] = True
-    DEFINES["WEBRTC_LINUX"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
-    DEFINES["__GNU_SOURCE"] = "1"
-
-    OS_LIBS += [
-        "log"
-    ]
-
-if CONFIG["OS_TARGET"] == "Darwin":
-
-    DEFINES["CR_XCODE_VERSION"] = "0920"
-    DEFINES["NO_TCMALLOC"] = True
-    DEFINES["WEBRTC_MAC"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["__ASSERT_MACROS_DEFINE_VERSIONS_WITHOUT_UNDERSCORE"] = "0"
-
-    OS_LIBS += [
-        "-framework Foundation"
-    ]
-
-if CONFIG["OS_TARGET"] == "DragonFly":
+if not CONFIG["MOZ_DEBUG"]:
 
-    DEFINES["USE_X11"] = "1"
-    DEFINES["WEBRTC_BSD"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
+    DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "0"
+    DEFINES["NDEBUG"] = True
+    DEFINES["NVALGRIND"] = True
 
-if CONFIG["OS_TARGET"] == "FreeBSD":
+if CONFIG["OS_TARGET"] == "NetBSD":
 
     DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_BSD"] = True
@@ -89,19 +51,11 @@ if CONFIG["OS_TARGET"] == "FreeBSD":
 if CONFIG["OS_TARGET"] == "Linux":
 
     DEFINES["USE_NSS_CERTS"] = "1"
-    DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_LINUX"] = True
     DEFINES["WEBRTC_POSIX"] = True
     DEFINES["_FILE_OFFSET_BITS"] = "64"
 
-if CONFIG["OS_TARGET"] == "NetBSD":
-
-    DEFINES["USE_X11"] = "1"
-    DEFINES["WEBRTC_BSD"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
-
-if CONFIG["OS_TARGET"] == "OpenBSD":
+if CONFIG["OS_TARGET"] == "DragonFly":
 
     DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_BSD"] = True
@@ -133,10 +87,50 @@ if CONFIG["OS_TARGET"] == "WINNT":
     DEFINES["_WINDOWS"] = True
     DEFINES["__STD_C"] = True
 
-if CONFIG["CPU_ARCH"] == "aarch64":
+if CONFIG["OS_TARGET"] == "Darwin":
 
-    DEFINES["WEBRTC_ARCH_ARM64"] = True
-    DEFINES["WEBRTC_HAS_NEON"] = True
+    DEFINES["CR_XCODE_VERSION"] = "0920"
+    DEFINES["NO_TCMALLOC"] = True
+    DEFINES["WEBRTC_MAC"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["__ASSERT_MACROS_DEFINE_VERSIONS_WITHOUT_UNDERSCORE"] = "0"
+
+    OS_LIBS += [
+        "-framework Foundation"
+    ]
+
+if CONFIG["OS_TARGET"] == "OpenBSD":
+
+    DEFINES["USE_X11"] = "1"
+    DEFINES["WEBRTC_BSD"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+
+if CONFIG["OS_TARGET"] == "FreeBSD":
+
+    DEFINES["USE_X11"] = "1"
+    DEFINES["WEBRTC_BSD"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+
+if CONFIG["OS_TARGET"] == "Android":
+
+    DEFINES["ANDROID"] = True
+    DEFINES["ANDROID_NDK_VERSION"] = "r12b"
+    DEFINES["DISABLE_NACL"] = True
+    DEFINES["HAVE_SYS_UIO_H"] = True
+    DEFINES["NO_TCMALLOC"] = True
+    DEFINES["USE_OPENSSL_CERTS"] = "1"
+    DEFINES["WEBRTC_ANDROID"] = True
+    DEFINES["WEBRTC_ANDROID_OPENSLES"] = True
+    DEFINES["WEBRTC_LINUX"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+    DEFINES["__GNU_SOURCE"] = "1"
+
+    OS_LIBS += [
+        "log"
+    ]
 
 if CONFIG["CPU_ARCH"] == "arm":
 
@@ -148,15 +142,24 @@ if CONFIG["CPU_ARCH"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Android":
+if CONFIG["CPU_ARCH"] == "ppc64":
 
-    DEFINES["_FORTIFY_SOURCE"] = "2"
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "mips64":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "aarch64":
+
+    DEFINES["WEBRTC_ARCH_ARM64"] = True
+    DEFINES["WEBRTC_HAS_NEON"] = True
 
 if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Darwin":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "DragonFly":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "OpenBSD":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
@@ -164,20 +167,28 @@ if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "FreeBSD":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "NetBSD":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Android":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "OpenBSD":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "DragonFly":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "Android":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "NetBSD":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "NetBSD":
 
     CXXFLAGS += [
         "-msse2"
     ]
 
+if CONFIG["CPU_ARCH"] == "x86_64" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
 if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "FreeBSD":
 
     CXXFLAGS += [
@@ -195,7 +206,7 @@ if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "Linux":
         "-msse2"
     ]
 
-if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "NetBSD":
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "Android":
 
     CXXFLAGS += [
         "-msse2"
@@ -207,4 +218,32 @@ if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "OpenBSD":
         "-msse2"
     ]
 
+if CONFIG["CPU_ARCH"] == "arm" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "aarch64" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "arm" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "aarch64" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["HOST_CPU_ARCH"] == "x86_64" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["HOST_CPU_ARCH"] == "x86" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
 Library("legacy_encoded_audio_frame_gn")
diff --git a/media/webrtc/trunk/webrtc/modules/audio_coding/neteq_decoder_enum_gn/moz.build b/media/webrtc/trunk/webrtc/modules/audio_coding/neteq_decoder_enum_gn/moz.build
index bf22dce0f722..eda7e732f09a 100644
--- a/media/webrtc/trunk/webrtc/modules/audio_coding/neteq_decoder_enum_gn/moz.build
+++ b/media/webrtc/trunk/webrtc/modules/audio_coding/neteq_decoder_enum_gn/moz.build
@@ -30,56 +30,18 @@ UNIFIED_SOURCES += [
     "/media/webrtc/trunk/webrtc/modules/audio_coding/neteq/neteq_decoder_enum.cc"
 ]
 
-if not CONFIG["MOZ_DEBUG"]:
-
-    DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "0"
-    DEFINES["NDEBUG"] = True
-    DEFINES["NVALGRIND"] = True
-
 if CONFIG["MOZ_DEBUG"] == "1":
 
     DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "1"
     DEFINES["WTF_USE_DYNAMIC_ANNOTATIONS"] = "1"
 
-if CONFIG["OS_TARGET"] == "Android":
-
-    DEFINES["ANDROID"] = True
-    DEFINES["ANDROID_NDK_VERSION"] = "r12b"
-    DEFINES["DISABLE_NACL"] = True
-    DEFINES["HAVE_SYS_UIO_H"] = True
-    DEFINES["NO_TCMALLOC"] = True
-    DEFINES["USE_OPENSSL_CERTS"] = "1"
-    DEFINES["WEBRTC_ANDROID"] = True
-    DEFINES["WEBRTC_ANDROID_OPENSLES"] = True
-    DEFINES["WEBRTC_LINUX"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
-    DEFINES["__GNU_SOURCE"] = "1"
-
-    OS_LIBS += [
-        "log"
-    ]
-
-if CONFIG["OS_TARGET"] == "Darwin":
-
-    DEFINES["CR_XCODE_VERSION"] = "0920"
-    DEFINES["NO_TCMALLOC"] = True
-    DEFINES["WEBRTC_MAC"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["__ASSERT_MACROS_DEFINE_VERSIONS_WITHOUT_UNDERSCORE"] = "0"
-
-    OS_LIBS += [
-        "-framework Foundation"
-    ]
-
-if CONFIG["OS_TARGET"] == "DragonFly":
+if not CONFIG["MOZ_DEBUG"]:
 
-    DEFINES["USE_X11"] = "1"
-    DEFINES["WEBRTC_BSD"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
+    DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "0"
+    DEFINES["NDEBUG"] = True
+    DEFINES["NVALGRIND"] = True
 
-if CONFIG["OS_TARGET"] == "FreeBSD":
+if CONFIG["OS_TARGET"] == "NetBSD":
 
     DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_BSD"] = True
@@ -89,19 +51,11 @@ if CONFIG["OS_TARGET"] == "FreeBSD":
 if CONFIG["OS_TARGET"] == "Linux":
 
     DEFINES["USE_NSS_CERTS"] = "1"
-    DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_LINUX"] = True
     DEFINES["WEBRTC_POSIX"] = True
     DEFINES["_FILE_OFFSET_BITS"] = "64"
 
-if CONFIG["OS_TARGET"] == "NetBSD":
-
-    DEFINES["USE_X11"] = "1"
-    DEFINES["WEBRTC_BSD"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
-
-if CONFIG["OS_TARGET"] == "OpenBSD":
+if CONFIG["OS_TARGET"] == "DragonFly":
 
     DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_BSD"] = True
@@ -133,10 +87,50 @@ if CONFIG["OS_TARGET"] == "WINNT":
     DEFINES["_WINDOWS"] = True
     DEFINES["__STD_C"] = True
 
-if CONFIG["CPU_ARCH"] == "aarch64":
+if CONFIG["OS_TARGET"] == "Darwin":
 
-    DEFINES["WEBRTC_ARCH_ARM64"] = True
-    DEFINES["WEBRTC_HAS_NEON"] = True
+    DEFINES["CR_XCODE_VERSION"] = "0920"
+    DEFINES["NO_TCMALLOC"] = True
+    DEFINES["WEBRTC_MAC"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["__ASSERT_MACROS_DEFINE_VERSIONS_WITHOUT_UNDERSCORE"] = "0"
+
+    OS_LIBS += [
+        "-framework Foundation"
+    ]
+
+if CONFIG["OS_TARGET"] == "OpenBSD":
+
+    DEFINES["USE_X11"] = "1"
+    DEFINES["WEBRTC_BSD"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+
+if CONFIG["OS_TARGET"] == "FreeBSD":
+
+    DEFINES["USE_X11"] = "1"
+    DEFINES["WEBRTC_BSD"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+
+if CONFIG["OS_TARGET"] == "Android":
+
+    DEFINES["ANDROID"] = True
+    DEFINES["ANDROID_NDK_VERSION"] = "r12b"
+    DEFINES["DISABLE_NACL"] = True
+    DEFINES["HAVE_SYS_UIO_H"] = True
+    DEFINES["NO_TCMALLOC"] = True
+    DEFINES["USE_OPENSSL_CERTS"] = "1"
+    DEFINES["WEBRTC_ANDROID"] = True
+    DEFINES["WEBRTC_ANDROID_OPENSLES"] = True
+    DEFINES["WEBRTC_LINUX"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+    DEFINES["__GNU_SOURCE"] = "1"
+
+    OS_LIBS += [
+        "log"
+    ]
 
 if CONFIG["CPU_ARCH"] == "arm":
 
@@ -148,15 +142,24 @@ if CONFIG["CPU_ARCH"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Android":
+if CONFIG["CPU_ARCH"] == "ppc64":
 
-    DEFINES["_FORTIFY_SOURCE"] = "2"
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "mips64":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "aarch64":
+
+    DEFINES["WEBRTC_ARCH_ARM64"] = True
+    DEFINES["WEBRTC_HAS_NEON"] = True
 
 if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Darwin":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "DragonFly":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "OpenBSD":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
@@ -164,20 +167,28 @@ if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "FreeBSD":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "NetBSD":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Android":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "OpenBSD":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "DragonFly":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "Android":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "NetBSD":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "NetBSD":
 
     CXXFLAGS += [
         "-msse2"
     ]
 
+if CONFIG["CPU_ARCH"] == "x86_64" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
 if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "FreeBSD":
 
     CXXFLAGS += [
@@ -195,7 +206,7 @@ if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "Linux":
         "-msse2"
     ]
 
-if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "NetBSD":
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "Android":
 
     CXXFLAGS += [
         "-msse2"
@@ -207,4 +218,32 @@ if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "OpenBSD":
         "-msse2"
     ]
 
+if CONFIG["CPU_ARCH"] == "arm" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "aarch64" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "arm" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "aarch64" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["HOST_CPU_ARCH"] == "x86_64" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["HOST_CPU_ARCH"] == "x86" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
 Library("neteq_decoder_enum_gn")
diff --git a/media/webrtc/trunk/webrtc/modules/audio_coding/neteq_gn/moz.build b/media/webrtc/trunk/webrtc/modules/audio_coding/neteq_gn/moz.build
index cd0d61969cb4..417f9e95d30a 100644
--- a/media/webrtc/trunk/webrtc/modules/audio_coding/neteq_gn/moz.build
+++ b/media/webrtc/trunk/webrtc/modules/audio_coding/neteq_gn/moz.build
@@ -69,56 +69,18 @@ UNIFIED_SOURCES += [
     "/media/webrtc/trunk/webrtc/modules/audio_coding/neteq/timestamp_scaler.cc"
 ]
 
-if not CONFIG["MOZ_DEBUG"]:
-
-    DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "0"
-    DEFINES["NDEBUG"] = True
-    DEFINES["NVALGRIND"] = True
-
 if CONFIG["MOZ_DEBUG"] == "1":
 
     DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "1"
     DEFINES["WTF_USE_DYNAMIC_ANNOTATIONS"] = "1"
 
-if CONFIG["OS_TARGET"] == "Android":
-
-    DEFINES["ANDROID"] = True
-    DEFINES["ANDROID_NDK_VERSION"] = "r12b"
-    DEFINES["DISABLE_NACL"] = True
-    DEFINES["HAVE_SYS_UIO_H"] = True
-    DEFINES["NO_TCMALLOC"] = True
-    DEFINES["USE_OPENSSL_CERTS"] = "1"
-    DEFINES["WEBRTC_ANDROID"] = True
-    DEFINES["WEBRTC_ANDROID_OPENSLES"] = True
-    DEFINES["WEBRTC_LINUX"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
-    DEFINES["__GNU_SOURCE"] = "1"
-
-    OS_LIBS += [
-        "log"
-    ]
-
-if CONFIG["OS_TARGET"] == "Darwin":
-
-    DEFINES["CR_XCODE_VERSION"] = "0920"
-    DEFINES["NO_TCMALLOC"] = True
-    DEFINES["WEBRTC_MAC"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["__ASSERT_MACROS_DEFINE_VERSIONS_WITHOUT_UNDERSCORE"] = "0"
-
-    OS_LIBS += [
-        "-framework Foundation"
-    ]
-
-if CONFIG["OS_TARGET"] == "DragonFly":
+if not CONFIG["MOZ_DEBUG"]:
 
-    DEFINES["USE_X11"] = "1"
-    DEFINES["WEBRTC_BSD"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
+    DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "0"
+    DEFINES["NDEBUG"] = True
+    DEFINES["NVALGRIND"] = True
 
-if CONFIG["OS_TARGET"] == "FreeBSD":
+if CONFIG["OS_TARGET"] == "NetBSD":
 
     DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_BSD"] = True
@@ -128,7 +90,6 @@ if CONFIG["OS_TARGET"] == "FreeBSD":
 if CONFIG["OS_TARGET"] == "Linux":
 
     DEFINES["USE_NSS_CERTS"] = "1"
-    DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_LINUX"] = True
     DEFINES["WEBRTC_POSIX"] = True
     DEFINES["_FILE_OFFSET_BITS"] = "64"
@@ -137,14 +98,7 @@ if CONFIG["OS_TARGET"] == "Linux":
         "rt"
     ]
 
-if CONFIG["OS_TARGET"] == "NetBSD":
-
-    DEFINES["USE_X11"] = "1"
-    DEFINES["WEBRTC_BSD"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
-
-if CONFIG["OS_TARGET"] == "OpenBSD":
+if CONFIG["OS_TARGET"] == "DragonFly":
 
     DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_BSD"] = True
@@ -180,10 +134,50 @@ if CONFIG["OS_TARGET"] == "WINNT":
         "winmm"
     ]
 
-if CONFIG["CPU_ARCH"] == "aarch64":
+if CONFIG["OS_TARGET"] == "Darwin":
 
-    DEFINES["WEBRTC_ARCH_ARM64"] = True
-    DEFINES["WEBRTC_HAS_NEON"] = True
+    DEFINES["CR_XCODE_VERSION"] = "0920"
+    DEFINES["NO_TCMALLOC"] = True
+    DEFINES["WEBRTC_MAC"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["__ASSERT_MACROS_DEFINE_VERSIONS_WITHOUT_UNDERSCORE"] = "0"
+
+    OS_LIBS += [
+        "-framework Foundation"
+    ]
+
+if CONFIG["OS_TARGET"] == "OpenBSD":
+
+    DEFINES["USE_X11"] = "1"
+    DEFINES["WEBRTC_BSD"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+
+if CONFIG["OS_TARGET"] == "FreeBSD":
+
+    DEFINES["USE_X11"] = "1"
+    DEFINES["WEBRTC_BSD"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+
+if CONFIG["OS_TARGET"] == "Android":
+
+    DEFINES["ANDROID"] = True
+    DEFINES["ANDROID_NDK_VERSION"] = "r12b"
+    DEFINES["DISABLE_NACL"] = True
+    DEFINES["HAVE_SYS_UIO_H"] = True
+    DEFINES["NO_TCMALLOC"] = True
+    DEFINES["USE_OPENSSL_CERTS"] = "1"
+    DEFINES["WEBRTC_ANDROID"] = True
+    DEFINES["WEBRTC_ANDROID_OPENSLES"] = True
+    DEFINES["WEBRTC_LINUX"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+    DEFINES["__GNU_SOURCE"] = "1"
+
+    OS_LIBS += [
+        "log"
+    ]
 
 if CONFIG["CPU_ARCH"] == "arm":
 
@@ -195,15 +189,24 @@ if CONFIG["CPU_ARCH"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Android":
+if CONFIG["CPU_ARCH"] == "ppc64":
 
-    DEFINES["_FORTIFY_SOURCE"] = "2"
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "mips64":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "aarch64":
+
+    DEFINES["WEBRTC_ARCH_ARM64"] = True
+    DEFINES["WEBRTC_HAS_NEON"] = True
 
 if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Darwin":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "DragonFly":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "OpenBSD":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
@@ -211,20 +214,28 @@ if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "FreeBSD":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "NetBSD":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Android":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "OpenBSD":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "DragonFly":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "Android":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "NetBSD":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "NetBSD":
 
     CXXFLAGS += [
         "-msse2"
     ]
 
+if CONFIG["CPU_ARCH"] == "x86_64" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
 if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "FreeBSD":
 
     CXXFLAGS += [
@@ -242,7 +253,7 @@ if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "Linux":
         "-msse2"
     ]
 
-if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "NetBSD":
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "Android":
 
     CXXFLAGS += [
         "-msse2"
@@ -254,4 +265,32 @@ if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "OpenBSD":
         "-msse2"
     ]
 
+if CONFIG["CPU_ARCH"] == "arm" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "aarch64" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "arm" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "aarch64" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["HOST_CPU_ARCH"] == "x86_64" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["HOST_CPU_ARCH"] == "x86" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
 Library("neteq_gn")
diff --git a/media/webrtc/trunk/webrtc/modules/audio_coding/pcm16b_c_gn/moz.build b/media/webrtc/trunk/webrtc/modules/audio_coding/pcm16b_c_gn/moz.build
index 3961945f2bb5..c8e7f7e44479 100644
--- a/media/webrtc/trunk/webrtc/modules/audio_coding/pcm16b_c_gn/moz.build
+++ b/media/webrtc/trunk/webrtc/modules/audio_coding/pcm16b_c_gn/moz.build
@@ -30,48 +30,18 @@ UNIFIED_SOURCES += [
     "/media/webrtc/trunk/webrtc/modules/audio_coding/codecs/pcm16b/pcm16b.c"
 ]
 
-if not CONFIG["MOZ_DEBUG"]:
-
-    DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "0"
-    DEFINES["NDEBUG"] = True
-    DEFINES["NVALGRIND"] = True
-
 if CONFIG["MOZ_DEBUG"] == "1":
 
     DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "1"
     DEFINES["WTF_USE_DYNAMIC_ANNOTATIONS"] = "1"
 
-if CONFIG["OS_TARGET"] == "Android":
-
-    DEFINES["ANDROID"] = True
-    DEFINES["ANDROID_NDK_VERSION"] = "r12b"
-    DEFINES["DISABLE_NACL"] = True
-    DEFINES["HAVE_SYS_UIO_H"] = True
-    DEFINES["NO_TCMALLOC"] = True
-    DEFINES["USE_OPENSSL_CERTS"] = "1"
-    DEFINES["WEBRTC_ANDROID"] = True
-    DEFINES["WEBRTC_ANDROID_OPENSLES"] = True
-    DEFINES["WEBRTC_LINUX"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
-    DEFINES["__GNU_SOURCE"] = "1"
-
-if CONFIG["OS_TARGET"] == "Darwin":
-
-    DEFINES["CR_XCODE_VERSION"] = "0920"
-    DEFINES["NO_TCMALLOC"] = True
-    DEFINES["WEBRTC_MAC"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["__ASSERT_MACROS_DEFINE_VERSIONS_WITHOUT_UNDERSCORE"] = "0"
-
-if CONFIG["OS_TARGET"] == "DragonFly":
+if not CONFIG["MOZ_DEBUG"]:
 
-    DEFINES["USE_X11"] = "1"
-    DEFINES["WEBRTC_BSD"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
+    DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "0"
+    DEFINES["NDEBUG"] = True
+    DEFINES["NVALGRIND"] = True
 
-if CONFIG["OS_TARGET"] == "FreeBSD":
+if CONFIG["OS_TARGET"] == "NetBSD":
 
     DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_BSD"] = True
@@ -81,19 +51,11 @@ if CONFIG["OS_TARGET"] == "FreeBSD":
 if CONFIG["OS_TARGET"] == "Linux":
 
     DEFINES["USE_NSS_CERTS"] = "1"
-    DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_LINUX"] = True
     DEFINES["WEBRTC_POSIX"] = True
     DEFINES["_FILE_OFFSET_BITS"] = "64"
 
-if CONFIG["OS_TARGET"] == "NetBSD":
-
-    DEFINES["USE_X11"] = "1"
-    DEFINES["WEBRTC_BSD"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
-
-if CONFIG["OS_TARGET"] == "OpenBSD":
+if CONFIG["OS_TARGET"] == "DragonFly":
 
     DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_BSD"] = True
@@ -125,10 +87,42 @@ if CONFIG["OS_TARGET"] == "WINNT":
     DEFINES["_WINDOWS"] = True
     DEFINES["__STD_C"] = True
 
-if CONFIG["CPU_ARCH"] == "aarch64":
+if CONFIG["OS_TARGET"] == "Darwin":
 
-    DEFINES["WEBRTC_ARCH_ARM64"] = True
-    DEFINES["WEBRTC_HAS_NEON"] = True
+    DEFINES["CR_XCODE_VERSION"] = "0920"
+    DEFINES["NO_TCMALLOC"] = True
+    DEFINES["WEBRTC_MAC"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["__ASSERT_MACROS_DEFINE_VERSIONS_WITHOUT_UNDERSCORE"] = "0"
+
+if CONFIG["OS_TARGET"] == "OpenBSD":
+
+    DEFINES["USE_X11"] = "1"
+    DEFINES["WEBRTC_BSD"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+
+if CONFIG["OS_TARGET"] == "FreeBSD":
+
+    DEFINES["USE_X11"] = "1"
+    DEFINES["WEBRTC_BSD"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+
+if CONFIG["OS_TARGET"] == "Android":
+
+    DEFINES["ANDROID"] = True
+    DEFINES["ANDROID_NDK_VERSION"] = "r12b"
+    DEFINES["DISABLE_NACL"] = True
+    DEFINES["HAVE_SYS_UIO_H"] = True
+    DEFINES["NO_TCMALLOC"] = True
+    DEFINES["USE_OPENSSL_CERTS"] = "1"
+    DEFINES["WEBRTC_ANDROID"] = True
+    DEFINES["WEBRTC_ANDROID_OPENSLES"] = True
+    DEFINES["WEBRTC_LINUX"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+    DEFINES["__GNU_SOURCE"] = "1"
 
 if CONFIG["CPU_ARCH"] == "arm":
 
@@ -140,15 +134,24 @@ if CONFIG["CPU_ARCH"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Android":
+if CONFIG["CPU_ARCH"] == "ppc64":
 
-    DEFINES["_FORTIFY_SOURCE"] = "2"
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "mips64":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "aarch64":
+
+    DEFINES["WEBRTC_ARCH_ARM64"] = True
+    DEFINES["WEBRTC_HAS_NEON"] = True
 
 if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Darwin":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "DragonFly":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "OpenBSD":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
@@ -156,20 +159,28 @@ if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "FreeBSD":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "NetBSD":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Android":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "OpenBSD":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "DragonFly":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "Android":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "NetBSD":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "NetBSD":
 
     CFLAGS += [
         "-msse2"
     ]
 
+if CONFIG["CPU_ARCH"] == "x86_64" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
 if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "FreeBSD":
 
     CFLAGS += [
@@ -187,7 +198,7 @@ if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "Linux":
         "-msse2"
     ]
 
-if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "NetBSD":
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "Android":
 
     CFLAGS += [
         "-msse2"
@@ -199,4 +210,32 @@ if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "OpenBSD":
         "-msse2"
     ]
 
+if CONFIG["CPU_ARCH"] == "arm" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "aarch64" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "arm" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "aarch64" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["HOST_CPU_ARCH"] == "x86_64" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["HOST_CPU_ARCH"] == "x86" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
 Library("pcm16b_c_gn")
diff --git a/media/webrtc/trunk/webrtc/modules/audio_coding/pcm16b_gn/moz.build b/media/webrtc/trunk/webrtc/modules/audio_coding/pcm16b_gn/moz.build
index f87d11070ee1..b31a3d0fb071 100644
--- a/media/webrtc/trunk/webrtc/modules/audio_coding/pcm16b_gn/moz.build
+++ b/media/webrtc/trunk/webrtc/modules/audio_coding/pcm16b_gn/moz.build
@@ -32,56 +32,18 @@ UNIFIED_SOURCES += [
     "/media/webrtc/trunk/webrtc/modules/audio_coding/codecs/pcm16b/pcm16b_common.cc"
 ]
 
-if not CONFIG["MOZ_DEBUG"]:
-
-    DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "0"
-    DEFINES["NDEBUG"] = True
-    DEFINES["NVALGRIND"] = True
-
 if CONFIG["MOZ_DEBUG"] == "1":
 
     DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "1"
     DEFINES["WTF_USE_DYNAMIC_ANNOTATIONS"] = "1"
 
-if CONFIG["OS_TARGET"] == "Android":
-
-    DEFINES["ANDROID"] = True
-    DEFINES["ANDROID_NDK_VERSION"] = "r12b"
-    DEFINES["DISABLE_NACL"] = True
-    DEFINES["HAVE_SYS_UIO_H"] = True
-    DEFINES["NO_TCMALLOC"] = True
-    DEFINES["USE_OPENSSL_CERTS"] = "1"
-    DEFINES["WEBRTC_ANDROID"] = True
-    DEFINES["WEBRTC_ANDROID_OPENSLES"] = True
-    DEFINES["WEBRTC_LINUX"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
-    DEFINES["__GNU_SOURCE"] = "1"
-
-    OS_LIBS += [
-        "log"
-    ]
-
-if CONFIG["OS_TARGET"] == "Darwin":
-
-    DEFINES["CR_XCODE_VERSION"] = "0920"
-    DEFINES["NO_TCMALLOC"] = True
-    DEFINES["WEBRTC_MAC"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["__ASSERT_MACROS_DEFINE_VERSIONS_WITHOUT_UNDERSCORE"] = "0"
-
-    OS_LIBS += [
-        "-framework Foundation"
-    ]
-
-if CONFIG["OS_TARGET"] == "DragonFly":
+if not CONFIG["MOZ_DEBUG"]:
 
-    DEFINES["USE_X11"] = "1"
-    DEFINES["WEBRTC_BSD"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
+    DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "0"
+    DEFINES["NDEBUG"] = True
+    DEFINES["NVALGRIND"] = True
 
-if CONFIG["OS_TARGET"] == "FreeBSD":
+if CONFIG["OS_TARGET"] == "NetBSD":
 
     DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_BSD"] = True
@@ -91,19 +53,11 @@ if CONFIG["OS_TARGET"] == "FreeBSD":
 if CONFIG["OS_TARGET"] == "Linux":
 
     DEFINES["USE_NSS_CERTS"] = "1"
-    DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_LINUX"] = True
     DEFINES["WEBRTC_POSIX"] = True
     DEFINES["_FILE_OFFSET_BITS"] = "64"
 
-if CONFIG["OS_TARGET"] == "NetBSD":
-
-    DEFINES["USE_X11"] = "1"
-    DEFINES["WEBRTC_BSD"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
-
-if CONFIG["OS_TARGET"] == "OpenBSD":
+if CONFIG["OS_TARGET"] == "DragonFly":
 
     DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_BSD"] = True
@@ -135,10 +89,50 @@ if CONFIG["OS_TARGET"] == "WINNT":
     DEFINES["_WINDOWS"] = True
     DEFINES["__STD_C"] = True
 
-if CONFIG["CPU_ARCH"] == "aarch64":
+if CONFIG["OS_TARGET"] == "Darwin":
 
-    DEFINES["WEBRTC_ARCH_ARM64"] = True
-    DEFINES["WEBRTC_HAS_NEON"] = True
+    DEFINES["CR_XCODE_VERSION"] = "0920"
+    DEFINES["NO_TCMALLOC"] = True
+    DEFINES["WEBRTC_MAC"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["__ASSERT_MACROS_DEFINE_VERSIONS_WITHOUT_UNDERSCORE"] = "0"
+
+    OS_LIBS += [
+        "-framework Foundation"
+    ]
+
+if CONFIG["OS_TARGET"] == "OpenBSD":
+
+    DEFINES["USE_X11"] = "1"
+    DEFINES["WEBRTC_BSD"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+
+if CONFIG["OS_TARGET"] == "FreeBSD":
+
+    DEFINES["USE_X11"] = "1"
+    DEFINES["WEBRTC_BSD"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+
+if CONFIG["OS_TARGET"] == "Android":
+
+    DEFINES["ANDROID"] = True
+    DEFINES["ANDROID_NDK_VERSION"] = "r12b"
+    DEFINES["DISABLE_NACL"] = True
+    DEFINES["HAVE_SYS_UIO_H"] = True
+    DEFINES["NO_TCMALLOC"] = True
+    DEFINES["USE_OPENSSL_CERTS"] = "1"
+    DEFINES["WEBRTC_ANDROID"] = True
+    DEFINES["WEBRTC_ANDROID_OPENSLES"] = True
+    DEFINES["WEBRTC_LINUX"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+    DEFINES["__GNU_SOURCE"] = "1"
+
+    OS_LIBS += [
+        "log"
+    ]
 
 if CONFIG["CPU_ARCH"] == "arm":
 
@@ -150,15 +144,24 @@ if CONFIG["CPU_ARCH"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Android":
+if CONFIG["CPU_ARCH"] == "ppc64":
 
-    DEFINES["_FORTIFY_SOURCE"] = "2"
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "mips64":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "aarch64":
+
+    DEFINES["WEBRTC_ARCH_ARM64"] = True
+    DEFINES["WEBRTC_HAS_NEON"] = True
 
 if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Darwin":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "DragonFly":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "OpenBSD":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
@@ -166,20 +169,28 @@ if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "FreeBSD":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "NetBSD":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Android":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "OpenBSD":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "DragonFly":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "Android":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "NetBSD":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "NetBSD":
 
     CXXFLAGS += [
         "-msse2"
     ]
 
+if CONFIG["CPU_ARCH"] == "x86_64" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
 if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "FreeBSD":
 
     CXXFLAGS += [
@@ -197,7 +208,7 @@ if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "Linux":
         "-msse2"
     ]
 
-if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "NetBSD":
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "Android":
 
     CXXFLAGS += [
         "-msse2"
@@ -209,4 +220,32 @@ if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "OpenBSD":
         "-msse2"
     ]
 
+if CONFIG["CPU_ARCH"] == "arm" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "aarch64" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "arm" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "aarch64" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["HOST_CPU_ARCH"] == "x86_64" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["HOST_CPU_ARCH"] == "x86" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
 Library("pcm16b_gn")
diff --git a/media/webrtc/trunk/webrtc/modules/audio_coding/rent_a_codec_gn/moz.build b/media/webrtc/trunk/webrtc/modules/audio_coding/rent_a_codec_gn/moz.build
index a3f4777411ba..b71c83eec6f7 100644
--- a/media/webrtc/trunk/webrtc/modules/audio_coding/rent_a_codec_gn/moz.build
+++ b/media/webrtc/trunk/webrtc/modules/audio_coding/rent_a_codec_gn/moz.build
@@ -36,66 +36,18 @@ UNIFIED_SOURCES += [
     "/media/webrtc/trunk/webrtc/modules/audio_coding/acm2/rent_a_codec.cc"
 ]
 
-if not CONFIG["MOZ_DEBUG"]:
-
-    DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "0"
-    DEFINES["NDEBUG"] = True
-    DEFINES["NVALGRIND"] = True
-
 if CONFIG["MOZ_DEBUG"] == "1":
 
     DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "1"
     DEFINES["WTF_USE_DYNAMIC_ANNOTATIONS"] = "1"
 
-if CONFIG["OS_TARGET"] == "Android":
-
-    DEFINES["ANDROID"] = True
-    DEFINES["ANDROID_NDK_VERSION"] = "r12b"
-    DEFINES["DISABLE_NACL"] = True
-    DEFINES["HAVE_SYS_UIO_H"] = True
-    DEFINES["NO_TCMALLOC"] = True
-    DEFINES["USE_OPENSSL_CERTS"] = "1"
-    DEFINES["WEBRTC_ANDROID"] = True
-    DEFINES["WEBRTC_ANDROID_OPENSLES"] = True
-    DEFINES["WEBRTC_LINUX"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
-    DEFINES["__GNU_SOURCE"] = "1"
-
-    OS_LIBS += [
-        "log"
-    ]
-
-if CONFIG["OS_TARGET"] == "Darwin":
-
-    DEFINES["CR_XCODE_VERSION"] = "0920"
-    DEFINES["NO_TCMALLOC"] = True
-    DEFINES["WEBRTC_CODEC_ISAC"] = True
-    DEFINES["WEBRTC_MAC"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["__ASSERT_MACROS_DEFINE_VERSIONS_WITHOUT_UNDERSCORE"] = "0"
-
-    LOCAL_INCLUDES += [
-        "/media/webrtc/trunk/webrtc/modules/audio_coding/codecs/isac/main/include/"
-    ]
-
-    OS_LIBS += [
-        "-framework Foundation"
-    ]
-
-if CONFIG["OS_TARGET"] == "DragonFly":
-
-    DEFINES["USE_X11"] = "1"
-    DEFINES["WEBRTC_BSD"] = True
-    DEFINES["WEBRTC_CODEC_ISAC"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
+if not CONFIG["MOZ_DEBUG"]:
 
-    LOCAL_INCLUDES += [
-        "/media/webrtc/trunk/webrtc/modules/audio_coding/codecs/isac/main/include/"
-    ]
+    DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "0"
+    DEFINES["NDEBUG"] = True
+    DEFINES["NVALGRIND"] = True
 
-if CONFIG["OS_TARGET"] == "FreeBSD":
+if CONFIG["OS_TARGET"] == "NetBSD":
 
     DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_BSD"] = True
@@ -105,7 +57,6 @@ if CONFIG["OS_TARGET"] == "FreeBSD":
 if CONFIG["OS_TARGET"] == "Linux":
 
     DEFINES["USE_NSS_CERTS"] = "1"
-    DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_LINUX"] = True
     DEFINES["WEBRTC_POSIX"] = True
     DEFINES["_FILE_OFFSET_BITS"] = "64"
@@ -114,19 +65,17 @@ if CONFIG["OS_TARGET"] == "Linux":
         "rt"
     ]
 
-if CONFIG["OS_TARGET"] == "NetBSD":
+if CONFIG["OS_TARGET"] == "DragonFly":
 
     DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_BSD"] = True
+    DEFINES["WEBRTC_CODEC_ISAC"] = True
     DEFINES["WEBRTC_POSIX"] = True
     DEFINES["_FILE_OFFSET_BITS"] = "64"
 
-if CONFIG["OS_TARGET"] == "OpenBSD":
-
-    DEFINES["USE_X11"] = "1"
-    DEFINES["WEBRTC_BSD"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
+    LOCAL_INCLUDES += [
+        "/media/webrtc/trunk/webrtc/modules/audio_coding/codecs/isac/main/include/"
+    ]
 
 if CONFIG["OS_TARGET"] == "WINNT":
 
@@ -162,10 +111,55 @@ if CONFIG["OS_TARGET"] == "WINNT":
         "winmm"
     ]
 
-if CONFIG["CPU_ARCH"] == "aarch64":
+if CONFIG["OS_TARGET"] == "Darwin":
 
-    DEFINES["WEBRTC_ARCH_ARM64"] = True
-    DEFINES["WEBRTC_HAS_NEON"] = True
+    DEFINES["CR_XCODE_VERSION"] = "0920"
+    DEFINES["NO_TCMALLOC"] = True
+    DEFINES["WEBRTC_CODEC_ISAC"] = True
+    DEFINES["WEBRTC_MAC"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["__ASSERT_MACROS_DEFINE_VERSIONS_WITHOUT_UNDERSCORE"] = "0"
+
+    LOCAL_INCLUDES += [
+        "/media/webrtc/trunk/webrtc/modules/audio_coding/codecs/isac/main/include/"
+    ]
+
+    OS_LIBS += [
+        "-framework Foundation"
+    ]
+
+if CONFIG["OS_TARGET"] == "OpenBSD":
+
+    DEFINES["USE_X11"] = "1"
+    DEFINES["WEBRTC_BSD"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+
+if CONFIG["OS_TARGET"] == "FreeBSD":
+
+    DEFINES["USE_X11"] = "1"
+    DEFINES["WEBRTC_BSD"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+
+if CONFIG["OS_TARGET"] == "Android":
+
+    DEFINES["ANDROID"] = True
+    DEFINES["ANDROID_NDK_VERSION"] = "r12b"
+    DEFINES["DISABLE_NACL"] = True
+    DEFINES["HAVE_SYS_UIO_H"] = True
+    DEFINES["NO_TCMALLOC"] = True
+    DEFINES["USE_OPENSSL_CERTS"] = "1"
+    DEFINES["WEBRTC_ANDROID"] = True
+    DEFINES["WEBRTC_ANDROID_OPENSLES"] = True
+    DEFINES["WEBRTC_LINUX"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+    DEFINES["__GNU_SOURCE"] = "1"
+
+    OS_LIBS += [
+        "log"
+    ]
 
 if CONFIG["CPU_ARCH"] == "arm":
 
@@ -178,8 +172,9 @@ if CONFIG["CPU_ARCH"] == "arm":
     DEFINES["WEBRTC_CODEC_ISACFX"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
-if CONFIG["CPU_ARCH"] == "mips64":
+if CONFIG["CPU_ARCH"] == "ppc64":
 
+    DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_CODEC_ISAC"] = True
 
     LOCAL_INCLUDES += [
@@ -190,8 +185,9 @@ if CONFIG["CPU_ARCH"] == "mips64":
         "m"
     ]
 
-if CONFIG["CPU_ARCH"] == "ppc64":
+if CONFIG["CPU_ARCH"] == "mips64":
 
+    DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_CODEC_ISAC"] = True
 
     LOCAL_INCLUDES += [
@@ -202,15 +198,16 @@ if CONFIG["CPU_ARCH"] == "ppc64":
         "m"
     ]
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Android":
+if CONFIG["CPU_ARCH"] == "aarch64":
 
-    DEFINES["_FORTIFY_SOURCE"] = "2"
+    DEFINES["WEBRTC_ARCH_ARM64"] = True
+    DEFINES["WEBRTC_HAS_NEON"] = True
 
 if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Darwin":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "DragonFly":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "OpenBSD":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
@@ -218,23 +215,19 @@ if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "FreeBSD":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "NetBSD":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Android":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "OpenBSD":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "DragonFly":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if CONFIG["CPU_ARCH"] == "aarch64" and CONFIG["OS_TARGET"] == "Android":
-
-    DEFINES["WEBRTC_CODEC_ISAC"] = True
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "NetBSD":
 
-    LOCAL_INCLUDES += [
-        "/media/webrtc/trunk/webrtc/modules/audio_coding/codecs/isac/main/include/"
-    ]
+    DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "Android":
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "NetBSD":
 
     CXXFLAGS += [
         "-msse2"
@@ -246,7 +239,7 @@ if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "Android":
         "/media/webrtc/trunk/webrtc/modules/audio_coding/codecs/isac/main/include/"
     ]
 
-if CONFIG["CPU_ARCH"] == "x86_64" and CONFIG["OS_TARGET"] == "Android":
+if CONFIG["CPU_ARCH"] == "aarch64" and CONFIG["OS_TARGET"] == "FreeBSD":
 
     DEFINES["WEBRTC_CODEC_ISAC"] = True
 
@@ -254,14 +247,19 @@ if CONFIG["CPU_ARCH"] == "x86_64" and CONFIG["OS_TARGET"] == "Android":
         "/media/webrtc/trunk/webrtc/modules/audio_coding/codecs/isac/main/include/"
     ]
 
-if CONFIG["CPU_ARCH"] == "aarch64" and CONFIG["OS_TARGET"] == "FreeBSD":
+if CONFIG["CPU_ARCH"] == "x86_64" and CONFIG["OS_TARGET"] == "Linux":
 
+    DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_CODEC_ISAC"] = True
 
     LOCAL_INCLUDES += [
         "/media/webrtc/trunk/webrtc/modules/audio_coding/codecs/isac/main/include/"
     ]
 
+    OS_LIBS += [
+        "m"
+    ]
+
 if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "FreeBSD":
 
     CXXFLAGS += [
@@ -274,14 +272,6 @@ if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "FreeBSD":
         "/media/webrtc/trunk/webrtc/modules/audio_coding/codecs/isac/main/include/"
     ]
 
-if CONFIG["CPU_ARCH"] == "x86_64" and CONFIG["OS_TARGET"] == "FreeBSD":
-
-    DEFINES["WEBRTC_CODEC_ISAC"] = True
-
-    LOCAL_INCLUDES += [
-        "/media/webrtc/trunk/webrtc/modules/audio_coding/codecs/isac/main/include/"
-    ]
-
 if CONFIG["CPU_ARCH"] == "aarch64" and CONFIG["OS_TARGET"] == "Linux":
 
     DEFINES["DISABLE_NACL"] = True
@@ -296,23 +286,31 @@ if CONFIG["CPU_ARCH"] == "aarch64" and CONFIG["OS_TARGET"] == "Linux":
         "m"
     ]
 
-if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "Linux":
+if CONFIG["CPU_ARCH"] == "aarch64" and CONFIG["OS_TARGET"] == "Android":
 
-    CXXFLAGS += [
-        "-msse2"
+    DEFINES["WEBRTC_CODEC_ISAC"] = True
+
+    LOCAL_INCLUDES += [
+        "/media/webrtc/trunk/webrtc/modules/audio_coding/codecs/isac/main/include/"
     ]
 
+if CONFIG["CPU_ARCH"] == "aarch64" and CONFIG["OS_TARGET"] == "OpenBSD":
+
     DEFINES["WEBRTC_CODEC_ISAC"] = True
 
     LOCAL_INCLUDES += [
         "/media/webrtc/trunk/webrtc/modules/audio_coding/codecs/isac/main/include/"
     ]
 
-    OS_LIBS += [
-        "m"
+if CONFIG["CPU_ARCH"] == "x86_64" and CONFIG["OS_TARGET"] == "Android":
+
+    DEFINES["WEBRTC_CODEC_ISAC"] = True
+
+    LOCAL_INCLUDES += [
+        "/media/webrtc/trunk/webrtc/modules/audio_coding/codecs/isac/main/include/"
     ]
 
-if CONFIG["CPU_ARCH"] == "x86_64" and CONFIG["OS_TARGET"] == "Linux":
+if CONFIG["CPU_ARCH"] == "x86_64" and CONFIG["OS_TARGET"] == "OpenBSD":
 
     DEFINES["WEBRTC_CODEC_ISAC"] = True
 
@@ -320,11 +318,11 @@ if CONFIG["CPU_ARCH"] == "x86_64" and CONFIG["OS_TARGET"] == "Linux":
         "/media/webrtc/trunk/webrtc/modules/audio_coding/codecs/isac/main/include/"
     ]
 
-    OS_LIBS += [
-        "m"
-    ]
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "Linux":
 
-if CONFIG["CPU_ARCH"] == "aarch64" and CONFIG["OS_TARGET"] == "NetBSD":
+    CXXFLAGS += [
+        "-msse2"
+    ]
 
     DEFINES["WEBRTC_CODEC_ISAC"] = True
 
@@ -332,7 +330,11 @@ if CONFIG["CPU_ARCH"] == "aarch64" and CONFIG["OS_TARGET"] == "NetBSD":
         "/media/webrtc/trunk/webrtc/modules/audio_coding/codecs/isac/main/include/"
     ]
 
-if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "NetBSD":
+    OS_LIBS += [
+        "m"
+    ]
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "Android":
 
     CXXFLAGS += [
         "-msse2"
@@ -344,7 +346,11 @@ if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "NetBSD":
         "/media/webrtc/trunk/webrtc/modules/audio_coding/codecs/isac/main/include/"
     ]
 
-if CONFIG["CPU_ARCH"] == "x86_64" and CONFIG["OS_TARGET"] == "NetBSD":
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "OpenBSD":
+
+    CXXFLAGS += [
+        "-msse2"
+    ]
 
     DEFINES["WEBRTC_CODEC_ISAC"] = True
 
@@ -352,7 +358,7 @@ if CONFIG["CPU_ARCH"] == "x86_64" and CONFIG["OS_TARGET"] == "NetBSD":
         "/media/webrtc/trunk/webrtc/modules/audio_coding/codecs/isac/main/include/"
     ]
 
-if CONFIG["CPU_ARCH"] == "aarch64" and CONFIG["OS_TARGET"] == "OpenBSD":
+if CONFIG["CPU_ARCH"] == "x86_64" and CONFIG["OS_TARGET"] == "FreeBSD":
 
     DEFINES["WEBRTC_CODEC_ISAC"] = True
 
@@ -360,11 +366,7 @@ if CONFIG["CPU_ARCH"] == "aarch64" and CONFIG["OS_TARGET"] == "OpenBSD":
         "/media/webrtc/trunk/webrtc/modules/audio_coding/codecs/isac/main/include/"
     ]
 
-if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "OpenBSD":
-
-    CXXFLAGS += [
-        "-msse2"
-    ]
+if CONFIG["CPU_ARCH"] == "aarch64" and CONFIG["OS_TARGET"] == "NetBSD":
 
     DEFINES["WEBRTC_CODEC_ISAC"] = True
 
@@ -372,7 +374,7 @@ if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "OpenBSD":
         "/media/webrtc/trunk/webrtc/modules/audio_coding/codecs/isac/main/include/"
     ]
 
-if CONFIG["CPU_ARCH"] == "x86_64" and CONFIG["OS_TARGET"] == "OpenBSD":
+if CONFIG["CPU_ARCH"] == "x86_64" and CONFIG["OS_TARGET"] == "NetBSD":
 
     DEFINES["WEBRTC_CODEC_ISAC"] = True
 
@@ -380,4 +382,32 @@ if CONFIG["CPU_ARCH"] == "x86_64" and CONFIG["OS_TARGET"] == "OpenBSD":
         "/media/webrtc/trunk/webrtc/modules/audio_coding/codecs/isac/main/include/"
     ]
 
+if CONFIG["CPU_ARCH"] == "arm" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "aarch64" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "arm" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "aarch64" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["HOST_CPU_ARCH"] == "x86_64" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["HOST_CPU_ARCH"] == "x86" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
 Library("rent_a_codec_gn")
diff --git a/media/webrtc/trunk/webrtc/modules/audio_coding/webrtc_opus_c_gn/moz.build b/media/webrtc/trunk/webrtc/modules/audio_coding/webrtc_opus_c_gn/moz.build
index 55151811f0f6..0696968f1f23 100644
--- a/media/webrtc/trunk/webrtc/modules/audio_coding/webrtc_opus_c_gn/moz.build
+++ b/media/webrtc/trunk/webrtc/modules/audio_coding/webrtc_opus_c_gn/moz.build
@@ -34,58 +34,18 @@ UNIFIED_SOURCES += [
     "/media/webrtc/trunk/webrtc/modules/audio_coding/codecs/opus/opus_interface.c"
 ]
 
-if not CONFIG["MOZ_DEBUG"]:
-
-    DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "0"
-    DEFINES["NDEBUG"] = True
-    DEFINES["NVALGRIND"] = True
-
 if CONFIG["MOZ_DEBUG"] == "1":
 
     DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "1"
     DEFINES["WTF_USE_DYNAMIC_ANNOTATIONS"] = "1"
 
-if CONFIG["OS_TARGET"] == "Android":
-
-    DEFINES["ANDROID"] = True
-    DEFINES["ANDROID_NDK_VERSION"] = "r12b"
-    DEFINES["DISABLE_NACL"] = True
-    DEFINES["HAVE_SYS_UIO_H"] = True
-    DEFINES["NO_TCMALLOC"] = True
-    DEFINES["USE_OPENSSL_CERTS"] = "1"
-    DEFINES["WEBRTC_ANDROID"] = True
-    DEFINES["WEBRTC_ANDROID_OPENSLES"] = True
-    DEFINES["WEBRTC_LINUX"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
-    DEFINES["__GNU_SOURCE"] = "1"
-
-    OS_LIBS += [
-        "log"
-    ]
-
-if CONFIG["OS_TARGET"] == "Darwin":
-
-    DEFINES["CR_XCODE_VERSION"] = "0920"
-    DEFINES["NO_TCMALLOC"] = True
-    DEFINES["WEBRTC_CODEC_ISAC"] = True
-    DEFINES["WEBRTC_MAC"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["__ASSERT_MACROS_DEFINE_VERSIONS_WITHOUT_UNDERSCORE"] = "0"
-
-    OS_LIBS += [
-        "-framework Foundation"
-    ]
-
-if CONFIG["OS_TARGET"] == "DragonFly":
+if not CONFIG["MOZ_DEBUG"]:
 
-    DEFINES["USE_X11"] = "1"
-    DEFINES["WEBRTC_BSD"] = True
-    DEFINES["WEBRTC_CODEC_ISAC"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
+    DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "0"
+    DEFINES["NDEBUG"] = True
+    DEFINES["NVALGRIND"] = True
 
-if CONFIG["OS_TARGET"] == "FreeBSD":
+if CONFIG["OS_TARGET"] == "NetBSD":
 
     DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_BSD"] = True
@@ -95,22 +55,15 @@ if CONFIG["OS_TARGET"] == "FreeBSD":
 if CONFIG["OS_TARGET"] == "Linux":
 
     DEFINES["USE_NSS_CERTS"] = "1"
-    DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_LINUX"] = True
     DEFINES["WEBRTC_POSIX"] = True
     DEFINES["_FILE_OFFSET_BITS"] = "64"
 
-if CONFIG["OS_TARGET"] == "NetBSD":
-
-    DEFINES["USE_X11"] = "1"
-    DEFINES["WEBRTC_BSD"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
-
-if CONFIG["OS_TARGET"] == "OpenBSD":
+if CONFIG["OS_TARGET"] == "DragonFly":
 
     DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_BSD"] = True
+    DEFINES["WEBRTC_CODEC_ISAC"] = True
     DEFINES["WEBRTC_POSIX"] = True
     DEFINES["_FILE_OFFSET_BITS"] = "64"
 
@@ -140,10 +93,51 @@ if CONFIG["OS_TARGET"] == "WINNT":
     DEFINES["_WINDOWS"] = True
     DEFINES["__STD_C"] = True
 
-if CONFIG["CPU_ARCH"] == "aarch64":
+if CONFIG["OS_TARGET"] == "Darwin":
 
-    DEFINES["WEBRTC_ARCH_ARM64"] = True
-    DEFINES["WEBRTC_HAS_NEON"] = True
+    DEFINES["CR_XCODE_VERSION"] = "0920"
+    DEFINES["NO_TCMALLOC"] = True
+    DEFINES["WEBRTC_CODEC_ISAC"] = True
+    DEFINES["WEBRTC_MAC"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["__ASSERT_MACROS_DEFINE_VERSIONS_WITHOUT_UNDERSCORE"] = "0"
+
+    OS_LIBS += [
+        "-framework Foundation"
+    ]
+
+if CONFIG["OS_TARGET"] == "OpenBSD":
+
+    DEFINES["USE_X11"] = "1"
+    DEFINES["WEBRTC_BSD"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+
+if CONFIG["OS_TARGET"] == "FreeBSD":
+
+    DEFINES["USE_X11"] = "1"
+    DEFINES["WEBRTC_BSD"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+
+if CONFIG["OS_TARGET"] == "Android":
+
+    DEFINES["ANDROID"] = True
+    DEFINES["ANDROID_NDK_VERSION"] = "r12b"
+    DEFINES["DISABLE_NACL"] = True
+    DEFINES["HAVE_SYS_UIO_H"] = True
+    DEFINES["NO_TCMALLOC"] = True
+    DEFINES["USE_OPENSSL_CERTS"] = "1"
+    DEFINES["WEBRTC_ANDROID"] = True
+    DEFINES["WEBRTC_ANDROID_OPENSLES"] = True
+    DEFINES["WEBRTC_LINUX"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+    DEFINES["__GNU_SOURCE"] = "1"
+
+    OS_LIBS += [
+        "log"
+    ]
 
 if CONFIG["CPU_ARCH"] == "arm":
 
@@ -156,23 +150,26 @@ if CONFIG["CPU_ARCH"] == "arm":
     DEFINES["WEBRTC_CODEC_ISACFX"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
-if CONFIG["CPU_ARCH"] == "mips64":
+if CONFIG["CPU_ARCH"] == "ppc64":
 
+    DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_CODEC_ISAC"] = True
 
-if CONFIG["CPU_ARCH"] == "ppc64":
+if CONFIG["CPU_ARCH"] == "mips64":
 
+    DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_CODEC_ISAC"] = True
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Android":
+if CONFIG["CPU_ARCH"] == "aarch64":
 
-    DEFINES["_FORTIFY_SOURCE"] = "2"
+    DEFINES["WEBRTC_ARCH_ARM64"] = True
+    DEFINES["WEBRTC_HAS_NEON"] = True
 
 if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Darwin":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "DragonFly":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "OpenBSD":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
@@ -180,19 +177,19 @@ if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "FreeBSD":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "NetBSD":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Android":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "OpenBSD":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "DragonFly":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if CONFIG["CPU_ARCH"] == "aarch64" and CONFIG["OS_TARGET"] == "Android":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "NetBSD":
 
-    DEFINES["WEBRTC_CODEC_ISAC"] = True
+    DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "Android":
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "NetBSD":
 
     CFLAGS += [
         "-msse2"
@@ -200,12 +197,13 @@ if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "Android":
 
     DEFINES["WEBRTC_CODEC_ISAC"] = True
 
-if CONFIG["CPU_ARCH"] == "x86_64" and CONFIG["OS_TARGET"] == "Android":
+if CONFIG["CPU_ARCH"] == "aarch64" and CONFIG["OS_TARGET"] == "FreeBSD":
 
     DEFINES["WEBRTC_CODEC_ISAC"] = True
 
-if CONFIG["CPU_ARCH"] == "aarch64" and CONFIG["OS_TARGET"] == "FreeBSD":
+if CONFIG["CPU_ARCH"] == "x86_64" and CONFIG["OS_TARGET"] == "Linux":
 
+    DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_CODEC_ISAC"] = True
 
 if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "FreeBSD":
@@ -216,33 +214,29 @@ if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "FreeBSD":
 
     DEFINES["WEBRTC_CODEC_ISAC"] = True
 
-if CONFIG["CPU_ARCH"] == "x86_64" and CONFIG["OS_TARGET"] == "FreeBSD":
-
-    DEFINES["WEBRTC_CODEC_ISAC"] = True
-
 if CONFIG["CPU_ARCH"] == "aarch64" and CONFIG["OS_TARGET"] == "Linux":
 
     DEFINES["DISABLE_NACL"] = True
     DEFINES["NO_TCMALLOC"] = True
     DEFINES["WEBRTC_CODEC_ISAC"] = True
 
-if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "Linux":
+if CONFIG["CPU_ARCH"] == "aarch64" and CONFIG["OS_TARGET"] == "Android":
 
-    CFLAGS += [
-        "-msse2"
-    ]
+    DEFINES["WEBRTC_CODEC_ISAC"] = True
+
+if CONFIG["CPU_ARCH"] == "aarch64" and CONFIG["OS_TARGET"] == "OpenBSD":
 
     DEFINES["WEBRTC_CODEC_ISAC"] = True
 
-if CONFIG["CPU_ARCH"] == "x86_64" and CONFIG["OS_TARGET"] == "Linux":
+if CONFIG["CPU_ARCH"] == "x86_64" and CONFIG["OS_TARGET"] == "Android":
 
     DEFINES["WEBRTC_CODEC_ISAC"] = True
 
-if CONFIG["CPU_ARCH"] == "aarch64" and CONFIG["OS_TARGET"] == "NetBSD":
+if CONFIG["CPU_ARCH"] == "x86_64" and CONFIG["OS_TARGET"] == "OpenBSD":
 
     DEFINES["WEBRTC_CODEC_ISAC"] = True
 
-if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "NetBSD":
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "Linux":
 
     CFLAGS += [
         "-msse2"
@@ -250,11 +244,11 @@ if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "NetBSD":
 
     DEFINES["WEBRTC_CODEC_ISAC"] = True
 
-if CONFIG["CPU_ARCH"] == "x86_64" and CONFIG["OS_TARGET"] == "NetBSD":
-
-    DEFINES["WEBRTC_CODEC_ISAC"] = True
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "Android":
 
-if CONFIG["CPU_ARCH"] == "aarch64" and CONFIG["OS_TARGET"] == "OpenBSD":
+    CFLAGS += [
+        "-msse2"
+    ]
 
     DEFINES["WEBRTC_CODEC_ISAC"] = True
 
@@ -266,8 +260,44 @@ if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "OpenBSD":
 
     DEFINES["WEBRTC_CODEC_ISAC"] = True
 
-if CONFIG["CPU_ARCH"] == "x86_64" and CONFIG["OS_TARGET"] == "OpenBSD":
+if CONFIG["CPU_ARCH"] == "x86_64" and CONFIG["OS_TARGET"] == "FreeBSD":
+
+    DEFINES["WEBRTC_CODEC_ISAC"] = True
+
+if CONFIG["CPU_ARCH"] == "aarch64" and CONFIG["OS_TARGET"] == "NetBSD":
+
+    DEFINES["WEBRTC_CODEC_ISAC"] = True
+
+if CONFIG["CPU_ARCH"] == "x86_64" and CONFIG["OS_TARGET"] == "NetBSD":
 
     DEFINES["WEBRTC_CODEC_ISAC"] = True
 
+if CONFIG["CPU_ARCH"] == "arm" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "aarch64" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "arm" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "aarch64" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["HOST_CPU_ARCH"] == "x86_64" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["HOST_CPU_ARCH"] == "x86" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
 Library("webrtc_opus_c_gn")
diff --git a/media/webrtc/trunk/webrtc/modules/audio_coding/webrtc_opus_gn/moz.build b/media/webrtc/trunk/webrtc/modules/audio_coding/webrtc_opus_gn/moz.build
index c95cd7f9c312..15fb5059782d 100644
--- a/media/webrtc/trunk/webrtc/modules/audio_coding/webrtc_opus_gn/moz.build
+++ b/media/webrtc/trunk/webrtc/modules/audio_coding/webrtc_opus_gn/moz.build
@@ -38,58 +38,18 @@ UNIFIED_SOURCES += [
     "/media/webrtc/trunk/webrtc/modules/audio_coding/codecs/opus/audio_encoder_opus.cc"
 ]
 
-if not CONFIG["MOZ_DEBUG"]:
-
-    DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "0"
-    DEFINES["NDEBUG"] = True
-    DEFINES["NVALGRIND"] = True
-
 if CONFIG["MOZ_DEBUG"] == "1":
 
     DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "1"
     DEFINES["WTF_USE_DYNAMIC_ANNOTATIONS"] = "1"
 
-if CONFIG["OS_TARGET"] == "Android":
-
-    DEFINES["ANDROID"] = True
-    DEFINES["ANDROID_NDK_VERSION"] = "r12b"
-    DEFINES["DISABLE_NACL"] = True
-    DEFINES["HAVE_SYS_UIO_H"] = True
-    DEFINES["NO_TCMALLOC"] = True
-    DEFINES["USE_OPENSSL_CERTS"] = "1"
-    DEFINES["WEBRTC_ANDROID"] = True
-    DEFINES["WEBRTC_ANDROID_OPENSLES"] = True
-    DEFINES["WEBRTC_LINUX"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
-    DEFINES["__GNU_SOURCE"] = "1"
-
-    OS_LIBS += [
-        "log"
-    ]
-
-if CONFIG["OS_TARGET"] == "Darwin":
-
-    DEFINES["CR_XCODE_VERSION"] = "0920"
-    DEFINES["NO_TCMALLOC"] = True
-    DEFINES["WEBRTC_CODEC_ISAC"] = True
-    DEFINES["WEBRTC_MAC"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["__ASSERT_MACROS_DEFINE_VERSIONS_WITHOUT_UNDERSCORE"] = "0"
-
-    OS_LIBS += [
-        "-framework Foundation"
-    ]
-
-if CONFIG["OS_TARGET"] == "DragonFly":
+if not CONFIG["MOZ_DEBUG"]:
 
-    DEFINES["USE_X11"] = "1"
-    DEFINES["WEBRTC_BSD"] = True
-    DEFINES["WEBRTC_CODEC_ISAC"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
+    DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "0"
+    DEFINES["NDEBUG"] = True
+    DEFINES["NVALGRIND"] = True
 
-if CONFIG["OS_TARGET"] == "FreeBSD":
+if CONFIG["OS_TARGET"] == "NetBSD":
 
     DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_BSD"] = True
@@ -99,7 +59,6 @@ if CONFIG["OS_TARGET"] == "FreeBSD":
 if CONFIG["OS_TARGET"] == "Linux":
 
     DEFINES["USE_NSS_CERTS"] = "1"
-    DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_LINUX"] = True
     DEFINES["WEBRTC_POSIX"] = True
     DEFINES["_FILE_OFFSET_BITS"] = "64"
@@ -108,17 +67,11 @@ if CONFIG["OS_TARGET"] == "Linux":
         "rt"
     ]
 
-if CONFIG["OS_TARGET"] == "NetBSD":
-
-    DEFINES["USE_X11"] = "1"
-    DEFINES["WEBRTC_BSD"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
-
-if CONFIG["OS_TARGET"] == "OpenBSD":
+if CONFIG["OS_TARGET"] == "DragonFly":
 
     DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_BSD"] = True
+    DEFINES["WEBRTC_CODEC_ISAC"] = True
     DEFINES["WEBRTC_POSIX"] = True
     DEFINES["_FILE_OFFSET_BITS"] = "64"
 
@@ -152,10 +105,51 @@ if CONFIG["OS_TARGET"] == "WINNT":
         "winmm"
     ]
 
-if CONFIG["CPU_ARCH"] == "aarch64":
+if CONFIG["OS_TARGET"] == "Darwin":
 
-    DEFINES["WEBRTC_ARCH_ARM64"] = True
-    DEFINES["WEBRTC_HAS_NEON"] = True
+    DEFINES["CR_XCODE_VERSION"] = "0920"
+    DEFINES["NO_TCMALLOC"] = True
+    DEFINES["WEBRTC_CODEC_ISAC"] = True
+    DEFINES["WEBRTC_MAC"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["__ASSERT_MACROS_DEFINE_VERSIONS_WITHOUT_UNDERSCORE"] = "0"
+
+    OS_LIBS += [
+        "-framework Foundation"
+    ]
+
+if CONFIG["OS_TARGET"] == "OpenBSD":
+
+    DEFINES["USE_X11"] = "1"
+    DEFINES["WEBRTC_BSD"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+
+if CONFIG["OS_TARGET"] == "FreeBSD":
+
+    DEFINES["USE_X11"] = "1"
+    DEFINES["WEBRTC_BSD"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+
+if CONFIG["OS_TARGET"] == "Android":
+
+    DEFINES["ANDROID"] = True
+    DEFINES["ANDROID_NDK_VERSION"] = "r12b"
+    DEFINES["DISABLE_NACL"] = True
+    DEFINES["HAVE_SYS_UIO_H"] = True
+    DEFINES["NO_TCMALLOC"] = True
+    DEFINES["USE_OPENSSL_CERTS"] = "1"
+    DEFINES["WEBRTC_ANDROID"] = True
+    DEFINES["WEBRTC_ANDROID_OPENSLES"] = True
+    DEFINES["WEBRTC_LINUX"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+    DEFINES["__GNU_SOURCE"] = "1"
+
+    OS_LIBS += [
+        "log"
+    ]
 
 if CONFIG["CPU_ARCH"] == "arm":
 
@@ -168,23 +162,26 @@ if CONFIG["CPU_ARCH"] == "arm":
     DEFINES["WEBRTC_CODEC_ISACFX"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
-if CONFIG["CPU_ARCH"] == "mips64":
+if CONFIG["CPU_ARCH"] == "ppc64":
 
+    DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_CODEC_ISAC"] = True
 
-if CONFIG["CPU_ARCH"] == "ppc64":
+if CONFIG["CPU_ARCH"] == "mips64":
 
+    DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_CODEC_ISAC"] = True
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Android":
+if CONFIG["CPU_ARCH"] == "aarch64":
 
-    DEFINES["_FORTIFY_SOURCE"] = "2"
+    DEFINES["WEBRTC_ARCH_ARM64"] = True
+    DEFINES["WEBRTC_HAS_NEON"] = True
 
 if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Darwin":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "DragonFly":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "OpenBSD":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
@@ -192,19 +189,19 @@ if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "FreeBSD":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "NetBSD":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Android":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "OpenBSD":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "DragonFly":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if CONFIG["CPU_ARCH"] == "aarch64" and CONFIG["OS_TARGET"] == "Android":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "NetBSD":
 
-    DEFINES["WEBRTC_CODEC_ISAC"] = True
+    DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "Android":
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "NetBSD":
 
     CXXFLAGS += [
         "-msse2"
@@ -212,12 +209,13 @@ if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "Android":
 
     DEFINES["WEBRTC_CODEC_ISAC"] = True
 
-if CONFIG["CPU_ARCH"] == "x86_64" and CONFIG["OS_TARGET"] == "Android":
+if CONFIG["CPU_ARCH"] == "aarch64" and CONFIG["OS_TARGET"] == "FreeBSD":
 
     DEFINES["WEBRTC_CODEC_ISAC"] = True
 
-if CONFIG["CPU_ARCH"] == "aarch64" and CONFIG["OS_TARGET"] == "FreeBSD":
+if CONFIG["CPU_ARCH"] == "x86_64" and CONFIG["OS_TARGET"] == "Linux":
 
+    DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_CODEC_ISAC"] = True
 
 if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "FreeBSD":
@@ -228,33 +226,29 @@ if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "FreeBSD":
 
     DEFINES["WEBRTC_CODEC_ISAC"] = True
 
-if CONFIG["CPU_ARCH"] == "x86_64" and CONFIG["OS_TARGET"] == "FreeBSD":
-
-    DEFINES["WEBRTC_CODEC_ISAC"] = True
-
 if CONFIG["CPU_ARCH"] == "aarch64" and CONFIG["OS_TARGET"] == "Linux":
 
     DEFINES["DISABLE_NACL"] = True
     DEFINES["NO_TCMALLOC"] = True
     DEFINES["WEBRTC_CODEC_ISAC"] = True
 
-if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "Linux":
+if CONFIG["CPU_ARCH"] == "aarch64" and CONFIG["OS_TARGET"] == "Android":
 
-    CXXFLAGS += [
-        "-msse2"
-    ]
+    DEFINES["WEBRTC_CODEC_ISAC"] = True
+
+if CONFIG["CPU_ARCH"] == "aarch64" and CONFIG["OS_TARGET"] == "OpenBSD":
 
     DEFINES["WEBRTC_CODEC_ISAC"] = True
 
-if CONFIG["CPU_ARCH"] == "x86_64" and CONFIG["OS_TARGET"] == "Linux":
+if CONFIG["CPU_ARCH"] == "x86_64" and CONFIG["OS_TARGET"] == "Android":
 
     DEFINES["WEBRTC_CODEC_ISAC"] = True
 
-if CONFIG["CPU_ARCH"] == "aarch64" and CONFIG["OS_TARGET"] == "NetBSD":
+if CONFIG["CPU_ARCH"] == "x86_64" and CONFIG["OS_TARGET"] == "OpenBSD":
 
     DEFINES["WEBRTC_CODEC_ISAC"] = True
 
-if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "NetBSD":
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "Linux":
 
     CXXFLAGS += [
         "-msse2"
@@ -262,11 +256,11 @@ if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "NetBSD":
 
     DEFINES["WEBRTC_CODEC_ISAC"] = True
 
-if CONFIG["CPU_ARCH"] == "x86_64" and CONFIG["OS_TARGET"] == "NetBSD":
-
-    DEFINES["WEBRTC_CODEC_ISAC"] = True
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "Android":
 
-if CONFIG["CPU_ARCH"] == "aarch64" and CONFIG["OS_TARGET"] == "OpenBSD":
+    CXXFLAGS += [
+        "-msse2"
+    ]
 
     DEFINES["WEBRTC_CODEC_ISAC"] = True
 
@@ -278,8 +272,44 @@ if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "OpenBSD":
 
     DEFINES["WEBRTC_CODEC_ISAC"] = True
 
-if CONFIG["CPU_ARCH"] == "x86_64" and CONFIG["OS_TARGET"] == "OpenBSD":
+if CONFIG["CPU_ARCH"] == "x86_64" and CONFIG["OS_TARGET"] == "FreeBSD":
+
+    DEFINES["WEBRTC_CODEC_ISAC"] = True
+
+if CONFIG["CPU_ARCH"] == "aarch64" and CONFIG["OS_TARGET"] == "NetBSD":
+
+    DEFINES["WEBRTC_CODEC_ISAC"] = True
+
+if CONFIG["CPU_ARCH"] == "x86_64" and CONFIG["OS_TARGET"] == "NetBSD":
 
     DEFINES["WEBRTC_CODEC_ISAC"] = True
 
+if CONFIG["CPU_ARCH"] == "arm" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "aarch64" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "arm" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "aarch64" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["HOST_CPU_ARCH"] == "x86_64" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["HOST_CPU_ARCH"] == "x86" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
 Library("webrtc_opus_gn")
diff --git a/media/webrtc/trunk/webrtc/modules/audio_device/audio_device_generic_gn/moz.build b/media/webrtc/trunk/webrtc/modules/audio_device/audio_device_generic_gn/moz.build
index 256fcf690f44..ebf9c0807e86 100644
--- a/media/webrtc/trunk/webrtc/modules/audio_device/audio_device_generic_gn/moz.build
+++ b/media/webrtc/trunk/webrtc/modules/audio_device/audio_device_generic_gn/moz.build
@@ -42,64 +42,18 @@ UNIFIED_SOURCES += [
     "/media/webrtc/trunk/webrtc/modules/audio_device/fine_audio_buffer.cc"
 ]
 
-if not CONFIG["MOZ_DEBUG"]:
-
-    DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "0"
-    DEFINES["NDEBUG"] = True
-    DEFINES["NVALGRIND"] = True
-
 if CONFIG["MOZ_DEBUG"] == "1":
 
     DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "1"
     DEFINES["WTF_USE_DYNAMIC_ANNOTATIONS"] = "1"
 
-if CONFIG["OS_TARGET"] == "Android":
-
-    DEFINES["ANDROID"] = True
-    DEFINES["ANDROID_NDK_VERSION"] = "r12b"
-    DEFINES["DISABLE_NACL"] = True
-    DEFINES["HAVE_SYS_UIO_H"] = True
-    DEFINES["NO_TCMALLOC"] = True
-    DEFINES["USE_OPENSSL_CERTS"] = "1"
-    DEFINES["WEBRTC_ANDROID"] = True
-    DEFINES["WEBRTC_ANDROID_OPENSLES"] = True
-    DEFINES["WEBRTC_LINUX"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
-    DEFINES["__GNU_SOURCE"] = "1"
-
-    LOCAL_INCLUDES += [
-        "/media/webrtc/trunk/webrtc/modules/audio_device/android/"
-    ]
-
-    OS_LIBS += [
-        "log"
-    ]
-
-if CONFIG["OS_TARGET"] == "Darwin":
-
-    DEFINES["CR_XCODE_VERSION"] = "0920"
-    DEFINES["NO_TCMALLOC"] = True
-    DEFINES["WEBRTC_MAC"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["__ASSERT_MACROS_DEFINE_VERSIONS_WITHOUT_UNDERSCORE"] = "0"
-
-    LOCAL_INCLUDES += [
-        "/media/webrtc/trunk/webrtc/modules/audio_device/mac/"
-    ]
-
-    OS_LIBS += [
-        "-framework Foundation"
-    ]
-
-if CONFIG["OS_TARGET"] == "DragonFly":
+if not CONFIG["MOZ_DEBUG"]:
 
-    DEFINES["USE_X11"] = "1"
-    DEFINES["WEBRTC_BSD"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
+    DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "0"
+    DEFINES["NDEBUG"] = True
+    DEFINES["NVALGRIND"] = True
 
-if CONFIG["OS_TARGET"] == "FreeBSD":
+if CONFIG["OS_TARGET"] == "NetBSD":
 
     DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_BSD"] = True
@@ -109,7 +63,6 @@ if CONFIG["OS_TARGET"] == "FreeBSD":
 if CONFIG["OS_TARGET"] == "Linux":
 
     DEFINES["USE_NSS_CERTS"] = "1"
-    DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_LINUX"] = True
     DEFINES["WEBRTC_POSIX"] = True
     DEFINES["_FILE_OFFSET_BITS"] = "64"
@@ -122,14 +75,7 @@ if CONFIG["OS_TARGET"] == "Linux":
         "rt"
     ]
 
-if CONFIG["OS_TARGET"] == "NetBSD":
-
-    DEFINES["USE_X11"] = "1"
-    DEFINES["WEBRTC_BSD"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
-
-if CONFIG["OS_TARGET"] == "OpenBSD":
+if CONFIG["OS_TARGET"] == "DragonFly":
 
     DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_BSD"] = True
@@ -169,10 +115,58 @@ if CONFIG["OS_TARGET"] == "WINNT":
         "winmm"
     ]
 
-if CONFIG["CPU_ARCH"] == "aarch64":
+if CONFIG["OS_TARGET"] == "Darwin":
 
-    DEFINES["WEBRTC_ARCH_ARM64"] = True
-    DEFINES["WEBRTC_HAS_NEON"] = True
+    DEFINES["CR_XCODE_VERSION"] = "0920"
+    DEFINES["NO_TCMALLOC"] = True
+    DEFINES["WEBRTC_MAC"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["__ASSERT_MACROS_DEFINE_VERSIONS_WITHOUT_UNDERSCORE"] = "0"
+
+    LOCAL_INCLUDES += [
+        "/media/webrtc/trunk/webrtc/modules/audio_device/mac/"
+    ]
+
+    OS_LIBS += [
+        "-framework Foundation"
+    ]
+
+if CONFIG["OS_TARGET"] == "OpenBSD":
+
+    DEFINES["USE_X11"] = "1"
+    DEFINES["WEBRTC_BSD"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+
+if CONFIG["OS_TARGET"] == "FreeBSD":
+
+    DEFINES["USE_X11"] = "1"
+    DEFINES["WEBRTC_BSD"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+
+if CONFIG["OS_TARGET"] == "Android":
+
+    DEFINES["ANDROID"] = True
+    DEFINES["ANDROID_NDK_VERSION"] = "r12b"
+    DEFINES["DISABLE_NACL"] = True
+    DEFINES["HAVE_SYS_UIO_H"] = True
+    DEFINES["NO_TCMALLOC"] = True
+    DEFINES["USE_OPENSSL_CERTS"] = "1"
+    DEFINES["WEBRTC_ANDROID"] = True
+    DEFINES["WEBRTC_ANDROID_OPENSLES"] = True
+    DEFINES["WEBRTC_LINUX"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+    DEFINES["__GNU_SOURCE"] = "1"
+
+    LOCAL_INCLUDES += [
+        "/media/webrtc/trunk/webrtc/modules/audio_device/android/"
+    ]
+
+    OS_LIBS += [
+        "log"
+    ]
 
 if CONFIG["CPU_ARCH"] == "arm":
 
@@ -184,15 +178,24 @@ if CONFIG["CPU_ARCH"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Android":
+if CONFIG["CPU_ARCH"] == "ppc64":
 
-    DEFINES["_FORTIFY_SOURCE"] = "2"
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "mips64":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "aarch64":
+
+    DEFINES["WEBRTC_ARCH_ARM64"] = True
+    DEFINES["WEBRTC_HAS_NEON"] = True
 
 if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Darwin":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "DragonFly":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "OpenBSD":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
@@ -200,20 +203,28 @@ if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "FreeBSD":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "NetBSD":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Android":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "OpenBSD":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "DragonFly":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "Android":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "NetBSD":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "NetBSD":
 
     CXXFLAGS += [
         "-msse2"
     ]
 
+if CONFIG["CPU_ARCH"] == "x86_64" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
 if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "FreeBSD":
 
     CXXFLAGS += [
@@ -231,7 +242,7 @@ if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "Linux":
         "-msse2"
     ]
 
-if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "NetBSD":
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "Android":
 
     CXXFLAGS += [
         "-msse2"
@@ -243,4 +254,32 @@ if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "OpenBSD":
         "-msse2"
     ]
 
+if CONFIG["CPU_ARCH"] == "arm" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "aarch64" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "arm" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "aarch64" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["HOST_CPU_ARCH"] == "x86_64" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["HOST_CPU_ARCH"] == "x86" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
 Library("audio_device_generic_gn")
diff --git a/media/webrtc/trunk/webrtc/modules/audio_device/audio_device_gn/moz.build b/media/webrtc/trunk/webrtc/modules/audio_device/audio_device_gn/moz.build
index 8886c3397ae8..d4e08d8e50a7 100644
--- a/media/webrtc/trunk/webrtc/modules/audio_device/audio_device_gn/moz.build
+++ b/media/webrtc/trunk/webrtc/modules/audio_device/audio_device_gn/moz.build
@@ -29,56 +29,18 @@ LOCAL_INCLUDES += [
     "/media/webrtc/trunk/webrtc/modules/include/"
 ]
 
-if not CONFIG["MOZ_DEBUG"]:
-
-    DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "0"
-    DEFINES["NDEBUG"] = True
-    DEFINES["NVALGRIND"] = True
-
 if CONFIG["MOZ_DEBUG"] == "1":
 
     DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "1"
     DEFINES["WTF_USE_DYNAMIC_ANNOTATIONS"] = "1"
 
-if CONFIG["OS_TARGET"] == "Android":
-
-    DEFINES["ANDROID"] = True
-    DEFINES["ANDROID_NDK_VERSION"] = "r12b"
-    DEFINES["DISABLE_NACL"] = True
-    DEFINES["HAVE_SYS_UIO_H"] = True
-    DEFINES["NO_TCMALLOC"] = True
-    DEFINES["USE_OPENSSL_CERTS"] = "1"
-    DEFINES["WEBRTC_ANDROID"] = True
-    DEFINES["WEBRTC_ANDROID_OPENSLES"] = True
-    DEFINES["WEBRTC_LINUX"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
-    DEFINES["__GNU_SOURCE"] = "1"
-
-    OS_LIBS += [
-        "log"
-    ]
-
-if CONFIG["OS_TARGET"] == "Darwin":
-
-    DEFINES["CR_XCODE_VERSION"] = "0920"
-    DEFINES["NO_TCMALLOC"] = True
-    DEFINES["WEBRTC_MAC"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["__ASSERT_MACROS_DEFINE_VERSIONS_WITHOUT_UNDERSCORE"] = "0"
-
-    OS_LIBS += [
-        "-framework Foundation"
-    ]
-
-if CONFIG["OS_TARGET"] == "DragonFly":
+if not CONFIG["MOZ_DEBUG"]:
 
-    DEFINES["USE_X11"] = "1"
-    DEFINES["WEBRTC_BSD"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
+    DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "0"
+    DEFINES["NDEBUG"] = True
+    DEFINES["NVALGRIND"] = True
 
-if CONFIG["OS_TARGET"] == "FreeBSD":
+if CONFIG["OS_TARGET"] == "NetBSD":
 
     DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_BSD"] = True
@@ -88,7 +50,6 @@ if CONFIG["OS_TARGET"] == "FreeBSD":
 if CONFIG["OS_TARGET"] == "Linux":
 
     DEFINES["USE_NSS_CERTS"] = "1"
-    DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_LINUX"] = True
     DEFINES["WEBRTC_POSIX"] = True
     DEFINES["_FILE_OFFSET_BITS"] = "64"
@@ -97,14 +58,7 @@ if CONFIG["OS_TARGET"] == "Linux":
         "rt"
     ]
 
-if CONFIG["OS_TARGET"] == "NetBSD":
-
-    DEFINES["USE_X11"] = "1"
-    DEFINES["WEBRTC_BSD"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
-
-if CONFIG["OS_TARGET"] == "OpenBSD":
+if CONFIG["OS_TARGET"] == "DragonFly":
 
     DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_BSD"] = True
@@ -140,10 +94,50 @@ if CONFIG["OS_TARGET"] == "WINNT":
         "winmm"
     ]
 
-if CONFIG["CPU_ARCH"] == "aarch64":
+if CONFIG["OS_TARGET"] == "Darwin":
 
-    DEFINES["WEBRTC_ARCH_ARM64"] = True
-    DEFINES["WEBRTC_HAS_NEON"] = True
+    DEFINES["CR_XCODE_VERSION"] = "0920"
+    DEFINES["NO_TCMALLOC"] = True
+    DEFINES["WEBRTC_MAC"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["__ASSERT_MACROS_DEFINE_VERSIONS_WITHOUT_UNDERSCORE"] = "0"
+
+    OS_LIBS += [
+        "-framework Foundation"
+    ]
+
+if CONFIG["OS_TARGET"] == "OpenBSD":
+
+    DEFINES["USE_X11"] = "1"
+    DEFINES["WEBRTC_BSD"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+
+if CONFIG["OS_TARGET"] == "FreeBSD":
+
+    DEFINES["USE_X11"] = "1"
+    DEFINES["WEBRTC_BSD"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+
+if CONFIG["OS_TARGET"] == "Android":
+
+    DEFINES["ANDROID"] = True
+    DEFINES["ANDROID_NDK_VERSION"] = "r12b"
+    DEFINES["DISABLE_NACL"] = True
+    DEFINES["HAVE_SYS_UIO_H"] = True
+    DEFINES["NO_TCMALLOC"] = True
+    DEFINES["USE_OPENSSL_CERTS"] = "1"
+    DEFINES["WEBRTC_ANDROID"] = True
+    DEFINES["WEBRTC_ANDROID_OPENSLES"] = True
+    DEFINES["WEBRTC_LINUX"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+    DEFINES["__GNU_SOURCE"] = "1"
+
+    OS_LIBS += [
+        "log"
+    ]
 
 if CONFIG["CPU_ARCH"] == "arm":
 
@@ -151,15 +145,24 @@ if CONFIG["CPU_ARCH"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Android":
+if CONFIG["CPU_ARCH"] == "ppc64":
 
-    DEFINES["_FORTIFY_SOURCE"] = "2"
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "mips64":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "aarch64":
+
+    DEFINES["WEBRTC_ARCH_ARM64"] = True
+    DEFINES["WEBRTC_HAS_NEON"] = True
 
 if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Darwin":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "DragonFly":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "OpenBSD":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
@@ -167,17 +170,53 @@ if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "FreeBSD":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "NetBSD":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Android":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "OpenBSD":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "DragonFly":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "NetBSD":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
+if CONFIG["CPU_ARCH"] == "x86_64" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
 if CONFIG["CPU_ARCH"] == "aarch64" and CONFIG["OS_TARGET"] == "Linux":
 
     DEFINES["DISABLE_NACL"] = True
     DEFINES["NO_TCMALLOC"] = True
 
+if CONFIG["CPU_ARCH"] == "arm" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "aarch64" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "arm" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "aarch64" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["HOST_CPU_ARCH"] == "x86_64" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["HOST_CPU_ARCH"] == "x86" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
 Library("audio_device_gn")
diff --git a/media/webrtc/trunk/webrtc/modules/audio_mixer/audio_frame_manipulator_gn/moz.build b/media/webrtc/trunk/webrtc/modules/audio_mixer/audio_frame_manipulator_gn/moz.build
index abec771294e5..dac8871fc0d1 100644
--- a/media/webrtc/trunk/webrtc/modules/audio_mixer/audio_frame_manipulator_gn/moz.build
+++ b/media/webrtc/trunk/webrtc/modules/audio_mixer/audio_frame_manipulator_gn/moz.build
@@ -30,56 +30,18 @@ UNIFIED_SOURCES += [
     "/media/webrtc/trunk/webrtc/modules/audio_mixer/audio_frame_manipulator.cc"
 ]
 
-if not CONFIG["MOZ_DEBUG"]:
-
-    DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "0"
-    DEFINES["NDEBUG"] = True
-    DEFINES["NVALGRIND"] = True
-
 if CONFIG["MOZ_DEBUG"] == "1":
 
     DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "1"
     DEFINES["WTF_USE_DYNAMIC_ANNOTATIONS"] = "1"
 
-if CONFIG["OS_TARGET"] == "Android":
-
-    DEFINES["ANDROID"] = True
-    DEFINES["ANDROID_NDK_VERSION"] = "r12b"
-    DEFINES["DISABLE_NACL"] = True
-    DEFINES["HAVE_SYS_UIO_H"] = True
-    DEFINES["NO_TCMALLOC"] = True
-    DEFINES["USE_OPENSSL_CERTS"] = "1"
-    DEFINES["WEBRTC_ANDROID"] = True
-    DEFINES["WEBRTC_ANDROID_OPENSLES"] = True
-    DEFINES["WEBRTC_LINUX"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
-    DEFINES["__GNU_SOURCE"] = "1"
-
-    OS_LIBS += [
-        "log"
-    ]
-
-if CONFIG["OS_TARGET"] == "Darwin":
-
-    DEFINES["CR_XCODE_VERSION"] = "0920"
-    DEFINES["NO_TCMALLOC"] = True
-    DEFINES["WEBRTC_MAC"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["__ASSERT_MACROS_DEFINE_VERSIONS_WITHOUT_UNDERSCORE"] = "0"
-
-    OS_LIBS += [
-        "-framework Foundation"
-    ]
-
-if CONFIG["OS_TARGET"] == "DragonFly":
+if not CONFIG["MOZ_DEBUG"]:
 
-    DEFINES["USE_X11"] = "1"
-    DEFINES["WEBRTC_BSD"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
+    DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "0"
+    DEFINES["NDEBUG"] = True
+    DEFINES["NVALGRIND"] = True
 
-if CONFIG["OS_TARGET"] == "FreeBSD":
+if CONFIG["OS_TARGET"] == "NetBSD":
 
     DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_BSD"] = True
@@ -89,7 +51,6 @@ if CONFIG["OS_TARGET"] == "FreeBSD":
 if CONFIG["OS_TARGET"] == "Linux":
 
     DEFINES["USE_NSS_CERTS"] = "1"
-    DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_LINUX"] = True
     DEFINES["WEBRTC_POSIX"] = True
     DEFINES["_FILE_OFFSET_BITS"] = "64"
@@ -98,14 +59,7 @@ if CONFIG["OS_TARGET"] == "Linux":
         "rt"
     ]
 
-if CONFIG["OS_TARGET"] == "NetBSD":
-
-    DEFINES["USE_X11"] = "1"
-    DEFINES["WEBRTC_BSD"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
-
-if CONFIG["OS_TARGET"] == "OpenBSD":
+if CONFIG["OS_TARGET"] == "DragonFly":
 
     DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_BSD"] = True
@@ -141,10 +95,50 @@ if CONFIG["OS_TARGET"] == "WINNT":
         "winmm"
     ]
 
-if CONFIG["CPU_ARCH"] == "aarch64":
+if CONFIG["OS_TARGET"] == "Darwin":
 
-    DEFINES["WEBRTC_ARCH_ARM64"] = True
-    DEFINES["WEBRTC_HAS_NEON"] = True
+    DEFINES["CR_XCODE_VERSION"] = "0920"
+    DEFINES["NO_TCMALLOC"] = True
+    DEFINES["WEBRTC_MAC"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["__ASSERT_MACROS_DEFINE_VERSIONS_WITHOUT_UNDERSCORE"] = "0"
+
+    OS_LIBS += [
+        "-framework Foundation"
+    ]
+
+if CONFIG["OS_TARGET"] == "OpenBSD":
+
+    DEFINES["USE_X11"] = "1"
+    DEFINES["WEBRTC_BSD"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+
+if CONFIG["OS_TARGET"] == "FreeBSD":
+
+    DEFINES["USE_X11"] = "1"
+    DEFINES["WEBRTC_BSD"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+
+if CONFIG["OS_TARGET"] == "Android":
+
+    DEFINES["ANDROID"] = True
+    DEFINES["ANDROID_NDK_VERSION"] = "r12b"
+    DEFINES["DISABLE_NACL"] = True
+    DEFINES["HAVE_SYS_UIO_H"] = True
+    DEFINES["NO_TCMALLOC"] = True
+    DEFINES["USE_OPENSSL_CERTS"] = "1"
+    DEFINES["WEBRTC_ANDROID"] = True
+    DEFINES["WEBRTC_ANDROID_OPENSLES"] = True
+    DEFINES["WEBRTC_LINUX"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+    DEFINES["__GNU_SOURCE"] = "1"
+
+    OS_LIBS += [
+        "log"
+    ]
 
 if CONFIG["CPU_ARCH"] == "arm":
 
@@ -156,15 +150,24 @@ if CONFIG["CPU_ARCH"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Android":
+if CONFIG["CPU_ARCH"] == "ppc64":
 
-    DEFINES["_FORTIFY_SOURCE"] = "2"
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "mips64":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "aarch64":
+
+    DEFINES["WEBRTC_ARCH_ARM64"] = True
+    DEFINES["WEBRTC_HAS_NEON"] = True
 
 if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Darwin":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "DragonFly":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "OpenBSD":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
@@ -172,20 +175,28 @@ if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "FreeBSD":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "NetBSD":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Android":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "OpenBSD":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "DragonFly":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "Android":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "NetBSD":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "NetBSD":
 
     CXXFLAGS += [
         "-msse2"
     ]
 
+if CONFIG["CPU_ARCH"] == "x86_64" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
 if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "FreeBSD":
 
     CXXFLAGS += [
@@ -203,7 +214,7 @@ if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "Linux":
         "-msse2"
     ]
 
-if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "NetBSD":
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "Android":
 
     CXXFLAGS += [
         "-msse2"
@@ -215,4 +226,32 @@ if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "OpenBSD":
         "-msse2"
     ]
 
+if CONFIG["CPU_ARCH"] == "arm" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "aarch64" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "arm" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "aarch64" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["HOST_CPU_ARCH"] == "x86_64" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["HOST_CPU_ARCH"] == "x86" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
 Library("audio_frame_manipulator_gn")
diff --git a/media/webrtc/trunk/webrtc/modules/audio_mixer/audio_mixer_impl_gn/moz.build b/media/webrtc/trunk/webrtc/modules/audio_mixer/audio_mixer_impl_gn/moz.build
index 1d06bef9d1bb..27ea279e0575 100644
--- a/media/webrtc/trunk/webrtc/modules/audio_mixer/audio_mixer_impl_gn/moz.build
+++ b/media/webrtc/trunk/webrtc/modules/audio_mixer/audio_mixer_impl_gn/moz.build
@@ -32,56 +32,18 @@ UNIFIED_SOURCES += [
     "/media/webrtc/trunk/webrtc/modules/audio_mixer/frame_combiner.cc"
 ]
 
-if not CONFIG["MOZ_DEBUG"]:
-
-    DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "0"
-    DEFINES["NDEBUG"] = True
-    DEFINES["NVALGRIND"] = True
-
 if CONFIG["MOZ_DEBUG"] == "1":
 
     DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "1"
     DEFINES["WTF_USE_DYNAMIC_ANNOTATIONS"] = "1"
 
-if CONFIG["OS_TARGET"] == "Android":
-
-    DEFINES["ANDROID"] = True
-    DEFINES["ANDROID_NDK_VERSION"] = "r12b"
-    DEFINES["DISABLE_NACL"] = True
-    DEFINES["HAVE_SYS_UIO_H"] = True
-    DEFINES["NO_TCMALLOC"] = True
-    DEFINES["USE_OPENSSL_CERTS"] = "1"
-    DEFINES["WEBRTC_ANDROID"] = True
-    DEFINES["WEBRTC_ANDROID_OPENSLES"] = True
-    DEFINES["WEBRTC_LINUX"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
-    DEFINES["__GNU_SOURCE"] = "1"
-
-    OS_LIBS += [
-        "log"
-    ]
-
-if CONFIG["OS_TARGET"] == "Darwin":
-
-    DEFINES["CR_XCODE_VERSION"] = "0920"
-    DEFINES["NO_TCMALLOC"] = True
-    DEFINES["WEBRTC_MAC"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["__ASSERT_MACROS_DEFINE_VERSIONS_WITHOUT_UNDERSCORE"] = "0"
-
-    OS_LIBS += [
-        "-framework Foundation"
-    ]
-
-if CONFIG["OS_TARGET"] == "DragonFly":
+if not CONFIG["MOZ_DEBUG"]:
 
-    DEFINES["USE_X11"] = "1"
-    DEFINES["WEBRTC_BSD"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
+    DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "0"
+    DEFINES["NDEBUG"] = True
+    DEFINES["NVALGRIND"] = True
 
-if CONFIG["OS_TARGET"] == "FreeBSD":
+if CONFIG["OS_TARGET"] == "NetBSD":
 
     DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_BSD"] = True
@@ -91,7 +53,6 @@ if CONFIG["OS_TARGET"] == "FreeBSD":
 if CONFIG["OS_TARGET"] == "Linux":
 
     DEFINES["USE_NSS_CERTS"] = "1"
-    DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_LINUX"] = True
     DEFINES["WEBRTC_POSIX"] = True
     DEFINES["_FILE_OFFSET_BITS"] = "64"
@@ -101,14 +62,7 @@ if CONFIG["OS_TARGET"] == "Linux":
         "rt"
     ]
 
-if CONFIG["OS_TARGET"] == "NetBSD":
-
-    DEFINES["USE_X11"] = "1"
-    DEFINES["WEBRTC_BSD"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
-
-if CONFIG["OS_TARGET"] == "OpenBSD":
+if CONFIG["OS_TARGET"] == "DragonFly":
 
     DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_BSD"] = True
@@ -144,10 +98,50 @@ if CONFIG["OS_TARGET"] == "WINNT":
         "winmm"
     ]
 
-if CONFIG["CPU_ARCH"] == "aarch64":
+if CONFIG["OS_TARGET"] == "Darwin":
 
-    DEFINES["WEBRTC_ARCH_ARM64"] = True
-    DEFINES["WEBRTC_HAS_NEON"] = True
+    DEFINES["CR_XCODE_VERSION"] = "0920"
+    DEFINES["NO_TCMALLOC"] = True
+    DEFINES["WEBRTC_MAC"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["__ASSERT_MACROS_DEFINE_VERSIONS_WITHOUT_UNDERSCORE"] = "0"
+
+    OS_LIBS += [
+        "-framework Foundation"
+    ]
+
+if CONFIG["OS_TARGET"] == "OpenBSD":
+
+    DEFINES["USE_X11"] = "1"
+    DEFINES["WEBRTC_BSD"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+
+if CONFIG["OS_TARGET"] == "FreeBSD":
+
+    DEFINES["USE_X11"] = "1"
+    DEFINES["WEBRTC_BSD"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+
+if CONFIG["OS_TARGET"] == "Android":
+
+    DEFINES["ANDROID"] = True
+    DEFINES["ANDROID_NDK_VERSION"] = "r12b"
+    DEFINES["DISABLE_NACL"] = True
+    DEFINES["HAVE_SYS_UIO_H"] = True
+    DEFINES["NO_TCMALLOC"] = True
+    DEFINES["USE_OPENSSL_CERTS"] = "1"
+    DEFINES["WEBRTC_ANDROID"] = True
+    DEFINES["WEBRTC_ANDROID_OPENSLES"] = True
+    DEFINES["WEBRTC_LINUX"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+    DEFINES["__GNU_SOURCE"] = "1"
+
+    OS_LIBS += [
+        "log"
+    ]
 
 if CONFIG["CPU_ARCH"] == "arm":
 
@@ -159,15 +153,24 @@ if CONFIG["CPU_ARCH"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Android":
+if CONFIG["CPU_ARCH"] == "ppc64":
 
-    DEFINES["_FORTIFY_SOURCE"] = "2"
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "mips64":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "aarch64":
+
+    DEFINES["WEBRTC_ARCH_ARM64"] = True
+    DEFINES["WEBRTC_HAS_NEON"] = True
 
 if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Darwin":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "DragonFly":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "OpenBSD":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
@@ -175,20 +178,28 @@ if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "FreeBSD":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "NetBSD":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Android":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "OpenBSD":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "DragonFly":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "Android":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "NetBSD":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "NetBSD":
 
     CXXFLAGS += [
         "-msse2"
     ]
 
+if CONFIG["CPU_ARCH"] == "x86_64" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
 if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "FreeBSD":
 
     CXXFLAGS += [
@@ -206,7 +217,7 @@ if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "Linux":
         "-msse2"
     ]
 
-if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "NetBSD":
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "Android":
 
     CXXFLAGS += [
         "-msse2"
@@ -218,4 +229,32 @@ if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "OpenBSD":
         "-msse2"
     ]
 
+if CONFIG["CPU_ARCH"] == "arm" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "aarch64" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "arm" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "aarch64" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["HOST_CPU_ARCH"] == "x86_64" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["HOST_CPU_ARCH"] == "x86" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
 Library("audio_mixer_impl_gn")
diff --git a/media/webrtc/trunk/webrtc/modules/audio_processing/aec_dump/aec_dump_gn/moz.build b/media/webrtc/trunk/webrtc/modules/audio_processing/aec_dump/aec_dump_gn/moz.build
index 923a8ad97a05..9ef1f0a32324 100644
--- a/media/webrtc/trunk/webrtc/modules/audio_processing/aec_dump/aec_dump_gn/moz.build
+++ b/media/webrtc/trunk/webrtc/modules/audio_processing/aec_dump/aec_dump_gn/moz.build
@@ -26,56 +26,18 @@ LOCAL_INCLUDES += [
     "/media/webrtc/trunk/webrtc/"
 ]
 
-if not CONFIG["MOZ_DEBUG"]:
-
-    DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "0"
-    DEFINES["NDEBUG"] = True
-    DEFINES["NVALGRIND"] = True
-
 if CONFIG["MOZ_DEBUG"] == "1":
 
     DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "1"
     DEFINES["WTF_USE_DYNAMIC_ANNOTATIONS"] = "1"
 
-if CONFIG["OS_TARGET"] == "Android":
-
-    DEFINES["ANDROID"] = True
-    DEFINES["ANDROID_NDK_VERSION"] = "r12b"
-    DEFINES["DISABLE_NACL"] = True
-    DEFINES["HAVE_SYS_UIO_H"] = True
-    DEFINES["NO_TCMALLOC"] = True
-    DEFINES["USE_OPENSSL_CERTS"] = "1"
-    DEFINES["WEBRTC_ANDROID"] = True
-    DEFINES["WEBRTC_ANDROID_OPENSLES"] = True
-    DEFINES["WEBRTC_LINUX"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
-    DEFINES["__GNU_SOURCE"] = "1"
-
-    OS_LIBS += [
-        "log"
-    ]
-
-if CONFIG["OS_TARGET"] == "Darwin":
-
-    DEFINES["CR_XCODE_VERSION"] = "0920"
-    DEFINES["NO_TCMALLOC"] = True
-    DEFINES["WEBRTC_MAC"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["__ASSERT_MACROS_DEFINE_VERSIONS_WITHOUT_UNDERSCORE"] = "0"
-
-    OS_LIBS += [
-        "-framework Foundation"
-    ]
-
-if CONFIG["OS_TARGET"] == "DragonFly":
+if not CONFIG["MOZ_DEBUG"]:
 
-    DEFINES["USE_X11"] = "1"
-    DEFINES["WEBRTC_BSD"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
+    DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "0"
+    DEFINES["NDEBUG"] = True
+    DEFINES["NVALGRIND"] = True
 
-if CONFIG["OS_TARGET"] == "FreeBSD":
+if CONFIG["OS_TARGET"] == "NetBSD":
 
     DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_BSD"] = True
@@ -85,19 +47,11 @@ if CONFIG["OS_TARGET"] == "FreeBSD":
 if CONFIG["OS_TARGET"] == "Linux":
 
     DEFINES["USE_NSS_CERTS"] = "1"
-    DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_LINUX"] = True
     DEFINES["WEBRTC_POSIX"] = True
     DEFINES["_FILE_OFFSET_BITS"] = "64"
 
-if CONFIG["OS_TARGET"] == "NetBSD":
-
-    DEFINES["USE_X11"] = "1"
-    DEFINES["WEBRTC_BSD"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
-
-if CONFIG["OS_TARGET"] == "OpenBSD":
+if CONFIG["OS_TARGET"] == "DragonFly":
 
     DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_BSD"] = True
@@ -129,10 +83,50 @@ if CONFIG["OS_TARGET"] == "WINNT":
     DEFINES["_WINDOWS"] = True
     DEFINES["__STD_C"] = True
 
-if CONFIG["CPU_ARCH"] == "aarch64":
+if CONFIG["OS_TARGET"] == "Darwin":
 
-    DEFINES["WEBRTC_ARCH_ARM64"] = True
-    DEFINES["WEBRTC_HAS_NEON"] = True
+    DEFINES["CR_XCODE_VERSION"] = "0920"
+    DEFINES["NO_TCMALLOC"] = True
+    DEFINES["WEBRTC_MAC"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["__ASSERT_MACROS_DEFINE_VERSIONS_WITHOUT_UNDERSCORE"] = "0"
+
+    OS_LIBS += [
+        "-framework Foundation"
+    ]
+
+if CONFIG["OS_TARGET"] == "OpenBSD":
+
+    DEFINES["USE_X11"] = "1"
+    DEFINES["WEBRTC_BSD"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+
+if CONFIG["OS_TARGET"] == "FreeBSD":
+
+    DEFINES["USE_X11"] = "1"
+    DEFINES["WEBRTC_BSD"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+
+if CONFIG["OS_TARGET"] == "Android":
+
+    DEFINES["ANDROID"] = True
+    DEFINES["ANDROID_NDK_VERSION"] = "r12b"
+    DEFINES["DISABLE_NACL"] = True
+    DEFINES["HAVE_SYS_UIO_H"] = True
+    DEFINES["NO_TCMALLOC"] = True
+    DEFINES["USE_OPENSSL_CERTS"] = "1"
+    DEFINES["WEBRTC_ANDROID"] = True
+    DEFINES["WEBRTC_ANDROID_OPENSLES"] = True
+    DEFINES["WEBRTC_LINUX"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+    DEFINES["__GNU_SOURCE"] = "1"
+
+    OS_LIBS += [
+        "log"
+    ]
 
 if CONFIG["CPU_ARCH"] == "arm":
 
@@ -140,15 +134,24 @@ if CONFIG["CPU_ARCH"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Android":
+if CONFIG["CPU_ARCH"] == "ppc64":
 
-    DEFINES["_FORTIFY_SOURCE"] = "2"
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "mips64":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "aarch64":
+
+    DEFINES["WEBRTC_ARCH_ARM64"] = True
+    DEFINES["WEBRTC_HAS_NEON"] = True
 
 if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Darwin":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "DragonFly":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "OpenBSD":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
@@ -156,17 +159,53 @@ if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "FreeBSD":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "NetBSD":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Android":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "OpenBSD":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "DragonFly":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "NetBSD":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
+if CONFIG["CPU_ARCH"] == "x86_64" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
 if CONFIG["CPU_ARCH"] == "aarch64" and CONFIG["OS_TARGET"] == "Linux":
 
     DEFINES["DISABLE_NACL"] = True
     DEFINES["NO_TCMALLOC"] = True
 
+if CONFIG["CPU_ARCH"] == "arm" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "aarch64" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "arm" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "aarch64" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["HOST_CPU_ARCH"] == "x86_64" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["HOST_CPU_ARCH"] == "x86" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
 Library("aec_dump_gn")
diff --git a/media/webrtc/trunk/webrtc/modules/audio_processing/aec_dump/null_aec_dump_factory_gn/moz.build b/media/webrtc/trunk/webrtc/modules/audio_processing/aec_dump/null_aec_dump_factory_gn/moz.build
index 1c9bdef940a6..771c373dfc70 100644
--- a/media/webrtc/trunk/webrtc/modules/audio_processing/aec_dump/null_aec_dump_factory_gn/moz.build
+++ b/media/webrtc/trunk/webrtc/modules/audio_processing/aec_dump/null_aec_dump_factory_gn/moz.build
@@ -30,56 +30,18 @@ UNIFIED_SOURCES += [
     "/media/webrtc/trunk/webrtc/modules/audio_processing/aec_dump/null_aec_dump_factory.cc"
 ]
 
-if not CONFIG["MOZ_DEBUG"]:
-
-    DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "0"
-    DEFINES["NDEBUG"] = True
-    DEFINES["NVALGRIND"] = True
-
 if CONFIG["MOZ_DEBUG"] == "1":
 
     DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "1"
     DEFINES["WTF_USE_DYNAMIC_ANNOTATIONS"] = "1"
 
-if CONFIG["OS_TARGET"] == "Android":
-
-    DEFINES["ANDROID"] = True
-    DEFINES["ANDROID_NDK_VERSION"] = "r12b"
-    DEFINES["DISABLE_NACL"] = True
-    DEFINES["HAVE_SYS_UIO_H"] = True
-    DEFINES["NO_TCMALLOC"] = True
-    DEFINES["USE_OPENSSL_CERTS"] = "1"
-    DEFINES["WEBRTC_ANDROID"] = True
-    DEFINES["WEBRTC_ANDROID_OPENSLES"] = True
-    DEFINES["WEBRTC_LINUX"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
-    DEFINES["__GNU_SOURCE"] = "1"
-
-    OS_LIBS += [
-        "log"
-    ]
-
-if CONFIG["OS_TARGET"] == "Darwin":
-
-    DEFINES["CR_XCODE_VERSION"] = "0920"
-    DEFINES["NO_TCMALLOC"] = True
-    DEFINES["WEBRTC_MAC"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["__ASSERT_MACROS_DEFINE_VERSIONS_WITHOUT_UNDERSCORE"] = "0"
-
-    OS_LIBS += [
-        "-framework Foundation"
-    ]
-
-if CONFIG["OS_TARGET"] == "DragonFly":
+if not CONFIG["MOZ_DEBUG"]:
 
-    DEFINES["USE_X11"] = "1"
-    DEFINES["WEBRTC_BSD"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
+    DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "0"
+    DEFINES["NDEBUG"] = True
+    DEFINES["NVALGRIND"] = True
 
-if CONFIG["OS_TARGET"] == "FreeBSD":
+if CONFIG["OS_TARGET"] == "NetBSD":
 
     DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_BSD"] = True
@@ -89,19 +51,11 @@ if CONFIG["OS_TARGET"] == "FreeBSD":
 if CONFIG["OS_TARGET"] == "Linux":
 
     DEFINES["USE_NSS_CERTS"] = "1"
-    DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_LINUX"] = True
     DEFINES["WEBRTC_POSIX"] = True
     DEFINES["_FILE_OFFSET_BITS"] = "64"
 
-if CONFIG["OS_TARGET"] == "NetBSD":
-
-    DEFINES["USE_X11"] = "1"
-    DEFINES["WEBRTC_BSD"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
-
-if CONFIG["OS_TARGET"] == "OpenBSD":
+if CONFIG["OS_TARGET"] == "DragonFly":
 
     DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_BSD"] = True
@@ -133,10 +87,50 @@ if CONFIG["OS_TARGET"] == "WINNT":
     DEFINES["_WINDOWS"] = True
     DEFINES["__STD_C"] = True
 
-if CONFIG["CPU_ARCH"] == "aarch64":
+if CONFIG["OS_TARGET"] == "Darwin":
 
-    DEFINES["WEBRTC_ARCH_ARM64"] = True
-    DEFINES["WEBRTC_HAS_NEON"] = True
+    DEFINES["CR_XCODE_VERSION"] = "0920"
+    DEFINES["NO_TCMALLOC"] = True
+    DEFINES["WEBRTC_MAC"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["__ASSERT_MACROS_DEFINE_VERSIONS_WITHOUT_UNDERSCORE"] = "0"
+
+    OS_LIBS += [
+        "-framework Foundation"
+    ]
+
+if CONFIG["OS_TARGET"] == "OpenBSD":
+
+    DEFINES["USE_X11"] = "1"
+    DEFINES["WEBRTC_BSD"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+
+if CONFIG["OS_TARGET"] == "FreeBSD":
+
+    DEFINES["USE_X11"] = "1"
+    DEFINES["WEBRTC_BSD"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+
+if CONFIG["OS_TARGET"] == "Android":
+
+    DEFINES["ANDROID"] = True
+    DEFINES["ANDROID_NDK_VERSION"] = "r12b"
+    DEFINES["DISABLE_NACL"] = True
+    DEFINES["HAVE_SYS_UIO_H"] = True
+    DEFINES["NO_TCMALLOC"] = True
+    DEFINES["USE_OPENSSL_CERTS"] = "1"
+    DEFINES["WEBRTC_ANDROID"] = True
+    DEFINES["WEBRTC_ANDROID_OPENSLES"] = True
+    DEFINES["WEBRTC_LINUX"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+    DEFINES["__GNU_SOURCE"] = "1"
+
+    OS_LIBS += [
+        "log"
+    ]
 
 if CONFIG["CPU_ARCH"] == "arm":
 
@@ -148,15 +142,24 @@ if CONFIG["CPU_ARCH"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Android":
+if CONFIG["CPU_ARCH"] == "ppc64":
 
-    DEFINES["_FORTIFY_SOURCE"] = "2"
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "mips64":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "aarch64":
+
+    DEFINES["WEBRTC_ARCH_ARM64"] = True
+    DEFINES["WEBRTC_HAS_NEON"] = True
 
 if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Darwin":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "DragonFly":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "OpenBSD":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
@@ -164,20 +167,28 @@ if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "FreeBSD":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "NetBSD":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Android":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "OpenBSD":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "DragonFly":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "Android":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "NetBSD":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "NetBSD":
 
     CXXFLAGS += [
         "-msse2"
     ]
 
+if CONFIG["CPU_ARCH"] == "x86_64" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
 if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "FreeBSD":
 
     CXXFLAGS += [
@@ -195,7 +206,7 @@ if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "Linux":
         "-msse2"
     ]
 
-if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "NetBSD":
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "Android":
 
     CXXFLAGS += [
         "-msse2"
@@ -207,4 +218,32 @@ if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "OpenBSD":
         "-msse2"
     ]
 
+if CONFIG["CPU_ARCH"] == "arm" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "aarch64" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "arm" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "aarch64" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["HOST_CPU_ARCH"] == "x86_64" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["HOST_CPU_ARCH"] == "x86" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
 Library("null_aec_dump_factory_gn")
diff --git a/media/webrtc/trunk/webrtc/modules/audio_processing/aec_dump_interface_gn/moz.build b/media/webrtc/trunk/webrtc/modules/audio_processing/aec_dump_interface_gn/moz.build
index 1ef7906b8c19..d0f10267e4e5 100644
--- a/media/webrtc/trunk/webrtc/modules/audio_processing/aec_dump_interface_gn/moz.build
+++ b/media/webrtc/trunk/webrtc/modules/audio_processing/aec_dump_interface_gn/moz.build
@@ -30,56 +30,18 @@ UNIFIED_SOURCES += [
     "/media/webrtc/trunk/webrtc/modules/audio_processing/include/aec_dump.cc"
 ]
 
-if not CONFIG["MOZ_DEBUG"]:
-
-    DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "0"
-    DEFINES["NDEBUG"] = True
-    DEFINES["NVALGRIND"] = True
-
 if CONFIG["MOZ_DEBUG"] == "1":
 
     DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "1"
     DEFINES["WTF_USE_DYNAMIC_ANNOTATIONS"] = "1"
 
-if CONFIG["OS_TARGET"] == "Android":
-
-    DEFINES["ANDROID"] = True
-    DEFINES["ANDROID_NDK_VERSION"] = "r12b"
-    DEFINES["DISABLE_NACL"] = True
-    DEFINES["HAVE_SYS_UIO_H"] = True
-    DEFINES["NO_TCMALLOC"] = True
-    DEFINES["USE_OPENSSL_CERTS"] = "1"
-    DEFINES["WEBRTC_ANDROID"] = True
-    DEFINES["WEBRTC_ANDROID_OPENSLES"] = True
-    DEFINES["WEBRTC_LINUX"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
-    DEFINES["__GNU_SOURCE"] = "1"
-
-    OS_LIBS += [
-        "log"
-    ]
-
-if CONFIG["OS_TARGET"] == "Darwin":
-
-    DEFINES["CR_XCODE_VERSION"] = "0920"
-    DEFINES["NO_TCMALLOC"] = True
-    DEFINES["WEBRTC_MAC"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["__ASSERT_MACROS_DEFINE_VERSIONS_WITHOUT_UNDERSCORE"] = "0"
-
-    OS_LIBS += [
-        "-framework Foundation"
-    ]
-
-if CONFIG["OS_TARGET"] == "DragonFly":
+if not CONFIG["MOZ_DEBUG"]:
 
-    DEFINES["USE_X11"] = "1"
-    DEFINES["WEBRTC_BSD"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
+    DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "0"
+    DEFINES["NDEBUG"] = True
+    DEFINES["NVALGRIND"] = True
 
-if CONFIG["OS_TARGET"] == "FreeBSD":
+if CONFIG["OS_TARGET"] == "NetBSD":
 
     DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_BSD"] = True
@@ -89,19 +51,11 @@ if CONFIG["OS_TARGET"] == "FreeBSD":
 if CONFIG["OS_TARGET"] == "Linux":
 
     DEFINES["USE_NSS_CERTS"] = "1"
-    DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_LINUX"] = True
     DEFINES["WEBRTC_POSIX"] = True
     DEFINES["_FILE_OFFSET_BITS"] = "64"
 
-if CONFIG["OS_TARGET"] == "NetBSD":
-
-    DEFINES["USE_X11"] = "1"
-    DEFINES["WEBRTC_BSD"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
-
-if CONFIG["OS_TARGET"] == "OpenBSD":
+if CONFIG["OS_TARGET"] == "DragonFly":
 
     DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_BSD"] = True
@@ -133,10 +87,50 @@ if CONFIG["OS_TARGET"] == "WINNT":
     DEFINES["_WINDOWS"] = True
     DEFINES["__STD_C"] = True
 
-if CONFIG["CPU_ARCH"] == "aarch64":
+if CONFIG["OS_TARGET"] == "Darwin":
 
-    DEFINES["WEBRTC_ARCH_ARM64"] = True
-    DEFINES["WEBRTC_HAS_NEON"] = True
+    DEFINES["CR_XCODE_VERSION"] = "0920"
+    DEFINES["NO_TCMALLOC"] = True
+    DEFINES["WEBRTC_MAC"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["__ASSERT_MACROS_DEFINE_VERSIONS_WITHOUT_UNDERSCORE"] = "0"
+
+    OS_LIBS += [
+        "-framework Foundation"
+    ]
+
+if CONFIG["OS_TARGET"] == "OpenBSD":
+
+    DEFINES["USE_X11"] = "1"
+    DEFINES["WEBRTC_BSD"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+
+if CONFIG["OS_TARGET"] == "FreeBSD":
+
+    DEFINES["USE_X11"] = "1"
+    DEFINES["WEBRTC_BSD"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+
+if CONFIG["OS_TARGET"] == "Android":
+
+    DEFINES["ANDROID"] = True
+    DEFINES["ANDROID_NDK_VERSION"] = "r12b"
+    DEFINES["DISABLE_NACL"] = True
+    DEFINES["HAVE_SYS_UIO_H"] = True
+    DEFINES["NO_TCMALLOC"] = True
+    DEFINES["USE_OPENSSL_CERTS"] = "1"
+    DEFINES["WEBRTC_ANDROID"] = True
+    DEFINES["WEBRTC_ANDROID_OPENSLES"] = True
+    DEFINES["WEBRTC_LINUX"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+    DEFINES["__GNU_SOURCE"] = "1"
+
+    OS_LIBS += [
+        "log"
+    ]
 
 if CONFIG["CPU_ARCH"] == "arm":
 
@@ -148,15 +142,24 @@ if CONFIG["CPU_ARCH"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Android":
+if CONFIG["CPU_ARCH"] == "ppc64":
 
-    DEFINES["_FORTIFY_SOURCE"] = "2"
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "mips64":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "aarch64":
+
+    DEFINES["WEBRTC_ARCH_ARM64"] = True
+    DEFINES["WEBRTC_HAS_NEON"] = True
 
 if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Darwin":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "DragonFly":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "OpenBSD":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
@@ -164,20 +167,28 @@ if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "FreeBSD":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "NetBSD":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Android":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "OpenBSD":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "DragonFly":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "Android":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "NetBSD":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "NetBSD":
 
     CXXFLAGS += [
         "-msse2"
     ]
 
+if CONFIG["CPU_ARCH"] == "x86_64" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
 if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "FreeBSD":
 
     CXXFLAGS += [
@@ -195,7 +206,7 @@ if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "Linux":
         "-msse2"
     ]
 
-if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "NetBSD":
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "Android":
 
     CXXFLAGS += [
         "-msse2"
@@ -207,4 +218,32 @@ if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "OpenBSD":
         "-msse2"
     ]
 
+if CONFIG["CPU_ARCH"] == "arm" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "aarch64" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "arm" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "aarch64" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["HOST_CPU_ARCH"] == "x86_64" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["HOST_CPU_ARCH"] == "x86" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
 Library("aec_dump_interface_gn")
diff --git a/media/webrtc/trunk/webrtc/modules/audio_processing/audio_processing_c_gn/moz.build b/media/webrtc/trunk/webrtc/modules/audio_processing/audio_processing_c_gn/moz.build
index 84bf4da07879..8cea8da8d520 100644
--- a/media/webrtc/trunk/webrtc/modules/audio_processing/audio_processing_c_gn/moz.build
+++ b/media/webrtc/trunk/webrtc/modules/audio_processing/audio_processing_c_gn/moz.build
@@ -37,66 +37,18 @@ UNIFIED_SOURCES += [
     "/media/webrtc/trunk/webrtc/modules/audio_processing/agc/legacy/digital_agc.c"
 ]
 
-if not CONFIG["MOZ_DEBUG"]:
-
-    DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "0"
-    DEFINES["NDEBUG"] = True
-    DEFINES["NVALGRIND"] = True
-
 if CONFIG["MOZ_DEBUG"] == "1":
 
     DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "1"
     DEFINES["WTF_USE_DYNAMIC_ANNOTATIONS"] = "1"
 
-if CONFIG["OS_TARGET"] == "Android":
-
-    DEFINES["ANDROID"] = True
-    DEFINES["ANDROID_NDK_VERSION"] = "r12b"
-    DEFINES["DISABLE_NACL"] = True
-    DEFINES["HAVE_SYS_UIO_H"] = True
-    DEFINES["NO_TCMALLOC"] = True
-    DEFINES["USE_OPENSSL_CERTS"] = "1"
-    DEFINES["WEBRTC_ANDROID"] = True
-    DEFINES["WEBRTC_ANDROID_OPENSLES"] = True
-    DEFINES["WEBRTC_LINUX"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
-    DEFINES["__GNU_SOURCE"] = "1"
-
-    OS_LIBS += [
-        "log"
-    ]
-
-if CONFIG["OS_TARGET"] == "Darwin":
-
-    DEFINES["CR_XCODE_VERSION"] = "0920"
-    DEFINES["NO_TCMALLOC"] = True
-    DEFINES["WEBRTC_MAC"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["__ASSERT_MACROS_DEFINE_VERSIONS_WITHOUT_UNDERSCORE"] = "0"
-
-    OS_LIBS += [
-        "-framework Foundation"
-    ]
-
-    UNIFIED_SOURCES += [
-        "/media/webrtc/trunk/webrtc/modules/audio_processing/ns/noise_suppression.c",
-        "/media/webrtc/trunk/webrtc/modules/audio_processing/ns/ns_core.c"
-    ]
-
-if CONFIG["OS_TARGET"] == "DragonFly":
-
-    DEFINES["USE_X11"] = "1"
-    DEFINES["WEBRTC_BSD"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
+if not CONFIG["MOZ_DEBUG"]:
 
-    UNIFIED_SOURCES += [
-        "/media/webrtc/trunk/webrtc/modules/audio_processing/ns/noise_suppression.c",
-        "/media/webrtc/trunk/webrtc/modules/audio_processing/ns/ns_core.c"
-    ]
+    DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "0"
+    DEFINES["NDEBUG"] = True
+    DEFINES["NVALGRIND"] = True
 
-if CONFIG["OS_TARGET"] == "FreeBSD":
+if CONFIG["OS_TARGET"] == "NetBSD":
 
     DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_BSD"] = True
@@ -106,7 +58,6 @@ if CONFIG["OS_TARGET"] == "FreeBSD":
 if CONFIG["OS_TARGET"] == "Linux":
 
     DEFINES["USE_NSS_CERTS"] = "1"
-    DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_LINUX"] = True
     DEFINES["WEBRTC_POSIX"] = True
     DEFINES["_FILE_OFFSET_BITS"] = "64"
@@ -115,19 +66,17 @@ if CONFIG["OS_TARGET"] == "Linux":
         "rt"
     ]
 
-if CONFIG["OS_TARGET"] == "NetBSD":
+if CONFIG["OS_TARGET"] == "DragonFly":
 
     DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_BSD"] = True
     DEFINES["WEBRTC_POSIX"] = True
     DEFINES["_FILE_OFFSET_BITS"] = "64"
 
-if CONFIG["OS_TARGET"] == "OpenBSD":
-
-    DEFINES["USE_X11"] = "1"
-    DEFINES["WEBRTC_BSD"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
+    UNIFIED_SOURCES += [
+        "/media/webrtc/trunk/webrtc/modules/audio_processing/ns/noise_suppression.c",
+        "/media/webrtc/trunk/webrtc/modules/audio_processing/ns/ns_core.c"
+    ]
 
 if CONFIG["OS_TARGET"] == "WINNT":
 
@@ -158,15 +107,54 @@ if CONFIG["OS_TARGET"] == "WINNT":
         "winmm"
     ]
 
-if CONFIG["CPU_ARCH"] == "aarch64":
+if CONFIG["OS_TARGET"] == "Darwin":
 
-    DEFINES["WEBRTC_ARCH_ARM64"] = True
-    DEFINES["WEBRTC_HAS_NEON"] = True
+    DEFINES["CR_XCODE_VERSION"] = "0920"
+    DEFINES["NO_TCMALLOC"] = True
+    DEFINES["WEBRTC_MAC"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["__ASSERT_MACROS_DEFINE_VERSIONS_WITHOUT_UNDERSCORE"] = "0"
+
+    OS_LIBS += [
+        "-framework Foundation"
+    ]
 
     UNIFIED_SOURCES += [
-        "/media/webrtc/trunk/webrtc/modules/audio_processing/ns/noise_suppression_x.c",
-        "/media/webrtc/trunk/webrtc/modules/audio_processing/ns/nsx_core.c",
-        "/media/webrtc/trunk/webrtc/modules/audio_processing/ns/nsx_core_c.c"
+        "/media/webrtc/trunk/webrtc/modules/audio_processing/ns/noise_suppression.c",
+        "/media/webrtc/trunk/webrtc/modules/audio_processing/ns/ns_core.c"
+    ]
+
+if CONFIG["OS_TARGET"] == "OpenBSD":
+
+    DEFINES["USE_X11"] = "1"
+    DEFINES["WEBRTC_BSD"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+
+if CONFIG["OS_TARGET"] == "FreeBSD":
+
+    DEFINES["USE_X11"] = "1"
+    DEFINES["WEBRTC_BSD"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+
+if CONFIG["OS_TARGET"] == "Android":
+
+    DEFINES["ANDROID"] = True
+    DEFINES["ANDROID_NDK_VERSION"] = "r12b"
+    DEFINES["DISABLE_NACL"] = True
+    DEFINES["HAVE_SYS_UIO_H"] = True
+    DEFINES["NO_TCMALLOC"] = True
+    DEFINES["USE_OPENSSL_CERTS"] = "1"
+    DEFINES["WEBRTC_ANDROID"] = True
+    DEFINES["WEBRTC_ANDROID_OPENSLES"] = True
+    DEFINES["WEBRTC_LINUX"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+    DEFINES["__GNU_SOURCE"] = "1"
+
+    OS_LIBS += [
+        "log"
     ]
 
 if CONFIG["CPU_ARCH"] == "arm":
@@ -185,14 +173,18 @@ if CONFIG["CPU_ARCH"] == "arm":
         "/media/webrtc/trunk/webrtc/modules/audio_processing/ns/nsx_core_c.c"
     ]
 
-if CONFIG["CPU_ARCH"] == "mips64":
+if CONFIG["CPU_ARCH"] == "ppc64":
+
+    DEFINES["USE_X11"] = "1"
 
     UNIFIED_SOURCES += [
         "/media/webrtc/trunk/webrtc/modules/audio_processing/ns/noise_suppression.c",
         "/media/webrtc/trunk/webrtc/modules/audio_processing/ns/ns_core.c"
     ]
 
-if CONFIG["CPU_ARCH"] == "ppc64":
+if CONFIG["CPU_ARCH"] == "mips64":
+
+    DEFINES["USE_X11"] = "1"
 
     UNIFIED_SOURCES += [
         "/media/webrtc/trunk/webrtc/modules/audio_processing/ns/noise_suppression.c",
@@ -206,15 +198,22 @@ if CONFIG["CPU_ARCH"] == "x86":
         "/media/webrtc/trunk/webrtc/modules/audio_processing/ns/ns_core.c"
     ]
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Android":
+if CONFIG["CPU_ARCH"] == "aarch64":
 
-    DEFINES["_FORTIFY_SOURCE"] = "2"
+    DEFINES["WEBRTC_ARCH_ARM64"] = True
+    DEFINES["WEBRTC_HAS_NEON"] = True
+
+    UNIFIED_SOURCES += [
+        "/media/webrtc/trunk/webrtc/modules/audio_processing/ns/noise_suppression_x.c",
+        "/media/webrtc/trunk/webrtc/modules/audio_processing/ns/nsx_core.c",
+        "/media/webrtc/trunk/webrtc/modules/audio_processing/ns/nsx_core_c.c"
+    ]
 
 if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Darwin":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "DragonFly":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "OpenBSD":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
@@ -222,69 +221,75 @@ if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "FreeBSD":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "NetBSD":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Android":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "OpenBSD":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "DragonFly":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "Android":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "NetBSD":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "NetBSD":
 
     CFLAGS += [
         "-msse2"
     ]
 
-if CONFIG["CPU_ARCH"] == "x86_64" and CONFIG["OS_TARGET"] == "Android":
+if CONFIG["CPU_ARCH"] == "x86_64" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
 
     UNIFIED_SOURCES += [
         "/media/webrtc/trunk/webrtc/modules/audio_processing/ns/noise_suppression.c",
         "/media/webrtc/trunk/webrtc/modules/audio_processing/ns/ns_core.c"
     ]
 
-if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "FreeBSD":
-
-    CFLAGS += [
-        "-msse2"
-    ]
-
-if CONFIG["CPU_ARCH"] == "x86_64" and CONFIG["OS_TARGET"] == "FreeBSD":
+if CONFIG["CPU_ARCH"] == "x86_64" and CONFIG["OS_TARGET"] == "WINNT":
 
     UNIFIED_SOURCES += [
         "/media/webrtc/trunk/webrtc/modules/audio_processing/ns/noise_suppression.c",
         "/media/webrtc/trunk/webrtc/modules/audio_processing/ns/ns_core.c"
     ]
 
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "FreeBSD":
+
+    CFLAGS += [
+        "-msse2"
+    ]
+
 if CONFIG["CPU_ARCH"] == "aarch64" and CONFIG["OS_TARGET"] == "Linux":
 
     DEFINES["DISABLE_NACL"] = True
     DEFINES["NO_TCMALLOC"] = True
 
-if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "Linux":
+if CONFIG["CPU_ARCH"] == "x86_64" and CONFIG["OS_TARGET"] == "Android":
 
-    CFLAGS += [
-        "-msse2"
+    UNIFIED_SOURCES += [
+        "/media/webrtc/trunk/webrtc/modules/audio_processing/ns/noise_suppression.c",
+        "/media/webrtc/trunk/webrtc/modules/audio_processing/ns/ns_core.c"
     ]
 
-if CONFIG["CPU_ARCH"] == "x86_64" and CONFIG["OS_TARGET"] == "Linux":
+if CONFIG["CPU_ARCH"] == "x86_64" and CONFIG["OS_TARGET"] == "OpenBSD":
 
     UNIFIED_SOURCES += [
         "/media/webrtc/trunk/webrtc/modules/audio_processing/ns/noise_suppression.c",
         "/media/webrtc/trunk/webrtc/modules/audio_processing/ns/ns_core.c"
     ]
 
-if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "NetBSD":
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "Linux":
 
     CFLAGS += [
         "-msse2"
     ]
 
-if CONFIG["CPU_ARCH"] == "x86_64" and CONFIG["OS_TARGET"] == "NetBSD":
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "Android":
 
-    UNIFIED_SOURCES += [
-        "/media/webrtc/trunk/webrtc/modules/audio_processing/ns/noise_suppression.c",
-        "/media/webrtc/trunk/webrtc/modules/audio_processing/ns/ns_core.c"
+    CFLAGS += [
+        "-msse2"
     ]
 
 if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "OpenBSD":
@@ -293,18 +298,46 @@ if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "OpenBSD":
         "-msse2"
     ]
 
-if CONFIG["CPU_ARCH"] == "x86_64" and CONFIG["OS_TARGET"] == "OpenBSD":
+if CONFIG["CPU_ARCH"] == "x86_64" and CONFIG["OS_TARGET"] == "FreeBSD":
 
     UNIFIED_SOURCES += [
         "/media/webrtc/trunk/webrtc/modules/audio_processing/ns/noise_suppression.c",
         "/media/webrtc/trunk/webrtc/modules/audio_processing/ns/ns_core.c"
     ]
 
-if CONFIG["CPU_ARCH"] == "x86_64" and CONFIG["OS_TARGET"] == "WINNT":
+if CONFIG["CPU_ARCH"] == "x86_64" and CONFIG["OS_TARGET"] == "NetBSD":
 
     UNIFIED_SOURCES += [
         "/media/webrtc/trunk/webrtc/modules/audio_processing/ns/noise_suppression.c",
         "/media/webrtc/trunk/webrtc/modules/audio_processing/ns/ns_core.c"
     ]
 
+if CONFIG["CPU_ARCH"] == "arm" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "aarch64" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "arm" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "aarch64" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["HOST_CPU_ARCH"] == "x86_64" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["HOST_CPU_ARCH"] == "x86" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
 Library("audio_processing_c_gn")
diff --git a/media/webrtc/trunk/webrtc/modules/audio_processing/audio_processing_gn/moz.build b/media/webrtc/trunk/webrtc/modules/audio_processing/audio_processing_gn/moz.build
index 431906c09e46..95eb5962e046 100644
--- a/media/webrtc/trunk/webrtc/modules/audio_processing/audio_processing_gn/moz.build
+++ b/media/webrtc/trunk/webrtc/modules/audio_processing/audio_processing_gn/moz.build
@@ -134,58 +134,18 @@ UNIFIED_SOURCES += [
     "/media/webrtc/trunk/webrtc/modules/audio_processing/voice_detection_impl.cc"
 ]
 
-if not CONFIG["MOZ_DEBUG"]:
-
-    DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "0"
-    DEFINES["NDEBUG"] = True
-    DEFINES["NVALGRIND"] = True
-
 if CONFIG["MOZ_DEBUG"] == "1":
 
     DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "1"
     DEFINES["WTF_USE_DYNAMIC_ANNOTATIONS"] = "1"
 
-if CONFIG["OS_TARGET"] == "Android":
-
-    DEFINES["ANDROID"] = True
-    DEFINES["ANDROID_NDK_VERSION"] = "r12b"
-    DEFINES["DISABLE_NACL"] = True
-    DEFINES["HAVE_SYS_UIO_H"] = True
-    DEFINES["NO_TCMALLOC"] = True
-    DEFINES["USE_OPENSSL_CERTS"] = "1"
-    DEFINES["WEBRTC_ANDROID"] = True
-    DEFINES["WEBRTC_ANDROID_OPENSLES"] = True
-    DEFINES["WEBRTC_LINUX"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
-    DEFINES["__GNU_SOURCE"] = "1"
-
-    OS_LIBS += [
-        "log"
-    ]
-
-if CONFIG["OS_TARGET"] == "Darwin":
-
-    DEFINES["CR_XCODE_VERSION"] = "0920"
-    DEFINES["NO_TCMALLOC"] = True
-    DEFINES["WEBRTC_MAC"] = True
-    DEFINES["WEBRTC_NS_FLOAT"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["__ASSERT_MACROS_DEFINE_VERSIONS_WITHOUT_UNDERSCORE"] = "0"
-
-    OS_LIBS += [
-        "-framework Foundation"
-    ]
-
-if CONFIG["OS_TARGET"] == "DragonFly":
+if not CONFIG["MOZ_DEBUG"]:
 
-    DEFINES["USE_X11"] = "1"
-    DEFINES["WEBRTC_BSD"] = True
-    DEFINES["WEBRTC_NS_FLOAT"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
+    DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "0"
+    DEFINES["NDEBUG"] = True
+    DEFINES["NVALGRIND"] = True
 
-if CONFIG["OS_TARGET"] == "FreeBSD":
+if CONFIG["OS_TARGET"] == "NetBSD":
 
     DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_BSD"] = True
@@ -195,7 +155,6 @@ if CONFIG["OS_TARGET"] == "FreeBSD":
 if CONFIG["OS_TARGET"] == "Linux":
 
     DEFINES["USE_NSS_CERTS"] = "1"
-    DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_LINUX"] = True
     DEFINES["WEBRTC_POSIX"] = True
     DEFINES["_FILE_OFFSET_BITS"] = "64"
@@ -205,17 +164,11 @@ if CONFIG["OS_TARGET"] == "Linux":
         "rt"
     ]
 
-if CONFIG["OS_TARGET"] == "NetBSD":
-
-    DEFINES["USE_X11"] = "1"
-    DEFINES["WEBRTC_BSD"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
-
-if CONFIG["OS_TARGET"] == "OpenBSD":
+if CONFIG["OS_TARGET"] == "DragonFly":
 
     DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_BSD"] = True
+    DEFINES["WEBRTC_NS_FLOAT"] = True
     DEFINES["WEBRTC_POSIX"] = True
     DEFINES["_FILE_OFFSET_BITS"] = "64"
 
@@ -248,11 +201,51 @@ if CONFIG["OS_TARGET"] == "WINNT":
         "winmm"
     ]
 
-if CONFIG["CPU_ARCH"] == "aarch64":
+if CONFIG["OS_TARGET"] == "Darwin":
 
-    DEFINES["WEBRTC_ARCH_ARM64"] = True
-    DEFINES["WEBRTC_HAS_NEON"] = True
-    DEFINES["WEBRTC_NS_FIXED"] = True
+    DEFINES["CR_XCODE_VERSION"] = "0920"
+    DEFINES["NO_TCMALLOC"] = True
+    DEFINES["WEBRTC_MAC"] = True
+    DEFINES["WEBRTC_NS_FLOAT"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["__ASSERT_MACROS_DEFINE_VERSIONS_WITHOUT_UNDERSCORE"] = "0"
+
+    OS_LIBS += [
+        "-framework Foundation"
+    ]
+
+if CONFIG["OS_TARGET"] == "OpenBSD":
+
+    DEFINES["USE_X11"] = "1"
+    DEFINES["WEBRTC_BSD"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+
+if CONFIG["OS_TARGET"] == "FreeBSD":
+
+    DEFINES["USE_X11"] = "1"
+    DEFINES["WEBRTC_BSD"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+
+if CONFIG["OS_TARGET"] == "Android":
+
+    DEFINES["ANDROID"] = True
+    DEFINES["ANDROID_NDK_VERSION"] = "r12b"
+    DEFINES["DISABLE_NACL"] = True
+    DEFINES["HAVE_SYS_UIO_H"] = True
+    DEFINES["NO_TCMALLOC"] = True
+    DEFINES["USE_OPENSSL_CERTS"] = "1"
+    DEFINES["WEBRTC_ANDROID"] = True
+    DEFINES["WEBRTC_ANDROID_OPENSLES"] = True
+    DEFINES["WEBRTC_LINUX"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+    DEFINES["__GNU_SOURCE"] = "1"
+
+    OS_LIBS += [
+        "log"
+    ]
 
 if CONFIG["CPU_ARCH"] == "arm":
 
@@ -265,27 +258,31 @@ if CONFIG["CPU_ARCH"] == "arm":
     DEFINES["WEBRTC_HAS_NEON"] = True
     DEFINES["WEBRTC_NS_FIXED"] = True
 
-if CONFIG["CPU_ARCH"] == "mips64":
+if CONFIG["CPU_ARCH"] == "ppc64":
 
+    DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_NS_FLOAT"] = True
 
-if CONFIG["CPU_ARCH"] == "ppc64":
+if CONFIG["CPU_ARCH"] == "mips64":
 
+    DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_NS_FLOAT"] = True
 
 if CONFIG["CPU_ARCH"] == "x86":
 
     DEFINES["WEBRTC_NS_FLOAT"] = True
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Android":
+if CONFIG["CPU_ARCH"] == "aarch64":
 
-    DEFINES["_FORTIFY_SOURCE"] = "2"
+    DEFINES["WEBRTC_ARCH_ARM64"] = True
+    DEFINES["WEBRTC_HAS_NEON"] = True
+    DEFINES["WEBRTC_NS_FIXED"] = True
 
 if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Darwin":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "DragonFly":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "OpenBSD":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
@@ -293,21 +290,30 @@ if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "FreeBSD":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "NetBSD":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Android":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "OpenBSD":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "DragonFly":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "Android":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "NetBSD":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "NetBSD":
 
     CXXFLAGS += [
         "-msse2"
     ]
 
-if CONFIG["CPU_ARCH"] == "x86_64" and CONFIG["OS_TARGET"] == "Android":
+if CONFIG["CPU_ARCH"] == "x86_64" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+    DEFINES["WEBRTC_NS_FLOAT"] = True
+
+if CONFIG["CPU_ARCH"] == "x86_64" and CONFIG["OS_TARGET"] == "WINNT":
 
     DEFINES["WEBRTC_NS_FLOAT"] = True
 
@@ -317,34 +323,30 @@ if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "FreeBSD":
         "-msse2"
     ]
 
-if CONFIG["CPU_ARCH"] == "x86_64" and CONFIG["OS_TARGET"] == "FreeBSD":
-
-    DEFINES["WEBRTC_NS_FLOAT"] = True
-
 if CONFIG["CPU_ARCH"] == "aarch64" and CONFIG["OS_TARGET"] == "Linux":
 
     DEFINES["DISABLE_NACL"] = True
     DEFINES["NO_TCMALLOC"] = True
 
-if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "Linux":
+if CONFIG["CPU_ARCH"] == "x86_64" and CONFIG["OS_TARGET"] == "Android":
 
-    CXXFLAGS += [
-        "-msse2"
-    ]
+    DEFINES["WEBRTC_NS_FLOAT"] = True
 
-if CONFIG["CPU_ARCH"] == "x86_64" and CONFIG["OS_TARGET"] == "Linux":
+if CONFIG["CPU_ARCH"] == "x86_64" and CONFIG["OS_TARGET"] == "OpenBSD":
 
     DEFINES["WEBRTC_NS_FLOAT"] = True
 
-if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "NetBSD":
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "Linux":
 
     CXXFLAGS += [
         "-msse2"
     ]
 
-if CONFIG["CPU_ARCH"] == "x86_64" and CONFIG["OS_TARGET"] == "NetBSD":
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "Android":
 
-    DEFINES["WEBRTC_NS_FLOAT"] = True
+    CXXFLAGS += [
+        "-msse2"
+    ]
 
 if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "OpenBSD":
 
@@ -352,12 +354,40 @@ if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "OpenBSD":
         "-msse2"
     ]
 
-if CONFIG["CPU_ARCH"] == "x86_64" and CONFIG["OS_TARGET"] == "OpenBSD":
+if CONFIG["CPU_ARCH"] == "x86_64" and CONFIG["OS_TARGET"] == "FreeBSD":
 
     DEFINES["WEBRTC_NS_FLOAT"] = True
 
-if CONFIG["CPU_ARCH"] == "x86_64" and CONFIG["OS_TARGET"] == "WINNT":
+if CONFIG["CPU_ARCH"] == "x86_64" and CONFIG["OS_TARGET"] == "NetBSD":
 
     DEFINES["WEBRTC_NS_FLOAT"] = True
 
+if CONFIG["CPU_ARCH"] == "arm" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "aarch64" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "arm" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "aarch64" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["HOST_CPU_ARCH"] == "x86_64" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["HOST_CPU_ARCH"] == "x86" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
 Library("audio_processing_gn")
diff --git a/media/webrtc/trunk/webrtc/modules/audio_processing/audio_processing_neon_c_gn/moz.build b/media/webrtc/trunk/webrtc/modules/audio_processing/audio_processing_neon_c_gn/moz.build
index 7c48f9b22288..1d2db74526fe 100644
--- a/media/webrtc/trunk/webrtc/modules/audio_processing/audio_processing_neon_c_gn/moz.build
+++ b/media/webrtc/trunk/webrtc/modules/audio_processing/audio_processing_neon_c_gn/moz.build
@@ -31,37 +31,18 @@ UNIFIED_SOURCES += [
     "/media/webrtc/trunk/webrtc/modules/audio_processing/ns/nsx_core_neon.c"
 ]
 
-if not CONFIG["MOZ_DEBUG"]:
-
-    DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "0"
-    DEFINES["NDEBUG"] = True
-    DEFINES["NVALGRIND"] = True
-
 if CONFIG["MOZ_DEBUG"] == "1":
 
     DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "1"
     DEFINES["WTF_USE_DYNAMIC_ANNOTATIONS"] = "1"
 
-if CONFIG["OS_TARGET"] == "Android":
-
-    DEFINES["ANDROID"] = True
-    DEFINES["ANDROID_NDK_VERSION"] = "r12b"
-    DEFINES["DISABLE_NACL"] = True
-    DEFINES["HAVE_SYS_UIO_H"] = True
-    DEFINES["NO_TCMALLOC"] = True
-    DEFINES["USE_OPENSSL_CERTS"] = "1"
-    DEFINES["WEBRTC_ANDROID"] = True
-    DEFINES["WEBRTC_ANDROID_OPENSLES"] = True
-    DEFINES["WEBRTC_LINUX"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
-    DEFINES["__GNU_SOURCE"] = "1"
+if not CONFIG["MOZ_DEBUG"]:
 
-    OS_LIBS += [
-        "log"
-    ]
+    DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "0"
+    DEFINES["NDEBUG"] = True
+    DEFINES["NVALGRIND"] = True
 
-if CONFIG["OS_TARGET"] == "FreeBSD":
+if CONFIG["OS_TARGET"] == "NetBSD":
 
     DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_BSD"] = True
@@ -71,25 +52,10 @@ if CONFIG["OS_TARGET"] == "FreeBSD":
 if CONFIG["OS_TARGET"] == "Linux":
 
     DEFINES["USE_NSS_CERTS"] = "1"
-    DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_LINUX"] = True
     DEFINES["WEBRTC_POSIX"] = True
     DEFINES["_FILE_OFFSET_BITS"] = "64"
 
-if CONFIG["OS_TARGET"] == "NetBSD":
-
-    DEFINES["USE_X11"] = "1"
-    DEFINES["WEBRTC_BSD"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
-
-if CONFIG["OS_TARGET"] == "OpenBSD":
-
-    DEFINES["USE_X11"] = "1"
-    DEFINES["WEBRTC_BSD"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
-
 if CONFIG["OS_TARGET"] == "WINNT":
 
     DEFINES["CERT_CHAIN_PARA_HAS_EXTRA_FIELDS"] = True
@@ -116,6 +82,39 @@ if CONFIG["OS_TARGET"] == "WINNT":
     DEFINES["_WINDOWS"] = True
     DEFINES["__STD_C"] = True
 
+if CONFIG["OS_TARGET"] == "OpenBSD":
+
+    DEFINES["USE_X11"] = "1"
+    DEFINES["WEBRTC_BSD"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+
+if CONFIG["OS_TARGET"] == "FreeBSD":
+
+    DEFINES["USE_X11"] = "1"
+    DEFINES["WEBRTC_BSD"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+
+if CONFIG["OS_TARGET"] == "Android":
+
+    DEFINES["ANDROID"] = True
+    DEFINES["ANDROID_NDK_VERSION"] = "r12b"
+    DEFINES["DISABLE_NACL"] = True
+    DEFINES["HAVE_SYS_UIO_H"] = True
+    DEFINES["NO_TCMALLOC"] = True
+    DEFINES["USE_OPENSSL_CERTS"] = "1"
+    DEFINES["WEBRTC_ANDROID"] = True
+    DEFINES["WEBRTC_ANDROID_OPENSLES"] = True
+    DEFINES["WEBRTC_LINUX"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+    DEFINES["__GNU_SOURCE"] = "1"
+
+    OS_LIBS += [
+        "log"
+    ]
+
 if CONFIG["CPU_ARCH"] == "arm":
 
     CFLAGS += [
@@ -125,7 +124,7 @@ if CONFIG["CPU_ARCH"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM"] = True
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Android":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "OpenBSD":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
@@ -133,15 +132,23 @@ if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "FreeBSD":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Android":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
 if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "NetBSD":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "OpenBSD":
+if CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if CONFIG["CPU_ARCH"] == "aarch64" and CONFIG["OS_TARGET"] == "Android":
+if CONFIG["CPU_ARCH"] == "aarch64" and CONFIG["OS_TARGET"] == "OpenBSD":
 
     DEFINES["WEBRTC_ARCH_ARM64"] = True
 
@@ -149,17 +156,17 @@ if CONFIG["CPU_ARCH"] == "aarch64" and CONFIG["OS_TARGET"] == "FreeBSD":
 
     DEFINES["WEBRTC_ARCH_ARM64"] = True
 
-if CONFIG["CPU_ARCH"] == "aarch64" and CONFIG["OS_TARGET"] == "Linux":
+if CONFIG["CPU_ARCH"] == "aarch64" and CONFIG["OS_TARGET"] == "NetBSD":
 
-    DEFINES["DISABLE_NACL"] = True
-    DEFINES["NO_TCMALLOC"] = True
     DEFINES["WEBRTC_ARCH_ARM64"] = True
 
-if CONFIG["CPU_ARCH"] == "aarch64" and CONFIG["OS_TARGET"] == "NetBSD":
+if CONFIG["CPU_ARCH"] == "aarch64" and CONFIG["OS_TARGET"] == "Linux":
 
+    DEFINES["DISABLE_NACL"] = True
+    DEFINES["NO_TCMALLOC"] = True
     DEFINES["WEBRTC_ARCH_ARM64"] = True
 
-if CONFIG["CPU_ARCH"] == "aarch64" and CONFIG["OS_TARGET"] == "OpenBSD":
+if CONFIG["CPU_ARCH"] == "aarch64" and CONFIG["OS_TARGET"] == "Android":
 
     DEFINES["WEBRTC_ARCH_ARM64"] = True
 
diff --git a/media/webrtc/trunk/webrtc/modules/audio_processing/audio_processing_neon_gn/moz.build b/media/webrtc/trunk/webrtc/modules/audio_processing/audio_processing_neon_gn/moz.build
index 8cef8fcf8668..bd68790509ee 100644
--- a/media/webrtc/trunk/webrtc/modules/audio_processing/audio_processing_neon_gn/moz.build
+++ b/media/webrtc/trunk/webrtc/modules/audio_processing/audio_processing_neon_gn/moz.build
@@ -40,37 +40,18 @@ UNIFIED_SOURCES += [
     "/media/webrtc/trunk/webrtc/modules/audio_processing/utility/ooura_fft_neon.cc"
 ]
 
-if not CONFIG["MOZ_DEBUG"]:
-
-    DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "0"
-    DEFINES["NDEBUG"] = True
-    DEFINES["NVALGRIND"] = True
-
 if CONFIG["MOZ_DEBUG"] == "1":
 
     DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "1"
     DEFINES["WTF_USE_DYNAMIC_ANNOTATIONS"] = "1"
 
-if CONFIG["OS_TARGET"] == "Android":
-
-    DEFINES["ANDROID"] = True
-    DEFINES["ANDROID_NDK_VERSION"] = "r12b"
-    DEFINES["DISABLE_NACL"] = True
-    DEFINES["HAVE_SYS_UIO_H"] = True
-    DEFINES["NO_TCMALLOC"] = True
-    DEFINES["USE_OPENSSL_CERTS"] = "1"
-    DEFINES["WEBRTC_ANDROID"] = True
-    DEFINES["WEBRTC_ANDROID_OPENSLES"] = True
-    DEFINES["WEBRTC_LINUX"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
-    DEFINES["__GNU_SOURCE"] = "1"
+if not CONFIG["MOZ_DEBUG"]:
 
-    OS_LIBS += [
-        "log"
-    ]
+    DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "0"
+    DEFINES["NDEBUG"] = True
+    DEFINES["NVALGRIND"] = True
 
-if CONFIG["OS_TARGET"] == "FreeBSD":
+if CONFIG["OS_TARGET"] == "NetBSD":
 
     DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_BSD"] = True
@@ -80,7 +61,6 @@ if CONFIG["OS_TARGET"] == "FreeBSD":
 if CONFIG["OS_TARGET"] == "Linux":
 
     DEFINES["USE_NSS_CERTS"] = "1"
-    DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_LINUX"] = True
     DEFINES["WEBRTC_POSIX"] = True
     DEFINES["_FILE_OFFSET_BITS"] = "64"
@@ -89,20 +69,6 @@ if CONFIG["OS_TARGET"] == "Linux":
         "rt"
     ]
 
-if CONFIG["OS_TARGET"] == "NetBSD":
-
-    DEFINES["USE_X11"] = "1"
-    DEFINES["WEBRTC_BSD"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
-
-if CONFIG["OS_TARGET"] == "OpenBSD":
-
-    DEFINES["USE_X11"] = "1"
-    DEFINES["WEBRTC_BSD"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
-
 if CONFIG["OS_TARGET"] == "WINNT":
 
     DEFINES["CERT_CHAIN_PARA_HAS_EXTRA_FIELDS"] = True
@@ -133,6 +99,39 @@ if CONFIG["OS_TARGET"] == "WINNT":
         "winmm"
     ]
 
+if CONFIG["OS_TARGET"] == "OpenBSD":
+
+    DEFINES["USE_X11"] = "1"
+    DEFINES["WEBRTC_BSD"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+
+if CONFIG["OS_TARGET"] == "FreeBSD":
+
+    DEFINES["USE_X11"] = "1"
+    DEFINES["WEBRTC_BSD"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+
+if CONFIG["OS_TARGET"] == "Android":
+
+    DEFINES["ANDROID"] = True
+    DEFINES["ANDROID_NDK_VERSION"] = "r12b"
+    DEFINES["DISABLE_NACL"] = True
+    DEFINES["HAVE_SYS_UIO_H"] = True
+    DEFINES["NO_TCMALLOC"] = True
+    DEFINES["USE_OPENSSL_CERTS"] = "1"
+    DEFINES["WEBRTC_ANDROID"] = True
+    DEFINES["WEBRTC_ANDROID_OPENSLES"] = True
+    DEFINES["WEBRTC_LINUX"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+    DEFINES["__GNU_SOURCE"] = "1"
+
+    OS_LIBS += [
+        "log"
+    ]
+
 if CONFIG["CPU_ARCH"] == "arm":
 
     CXXFLAGS += [
@@ -142,7 +141,7 @@ if CONFIG["CPU_ARCH"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM"] = True
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Android":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "OpenBSD":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
@@ -150,15 +149,23 @@ if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "FreeBSD":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Android":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
 if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "NetBSD":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "OpenBSD":
+if CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if CONFIG["CPU_ARCH"] == "aarch64" and CONFIG["OS_TARGET"] == "Android":
+if CONFIG["CPU_ARCH"] == "aarch64" and CONFIG["OS_TARGET"] == "OpenBSD":
 
     DEFINES["WEBRTC_ARCH_ARM64"] = True
 
@@ -166,17 +173,17 @@ if CONFIG["CPU_ARCH"] == "aarch64" and CONFIG["OS_TARGET"] == "FreeBSD":
 
     DEFINES["WEBRTC_ARCH_ARM64"] = True
 
-if CONFIG["CPU_ARCH"] == "aarch64" and CONFIG["OS_TARGET"] == "Linux":
+if CONFIG["CPU_ARCH"] == "aarch64" and CONFIG["OS_TARGET"] == "NetBSD":
 
-    DEFINES["DISABLE_NACL"] = True
-    DEFINES["NO_TCMALLOC"] = True
     DEFINES["WEBRTC_ARCH_ARM64"] = True
 
-if CONFIG["CPU_ARCH"] == "aarch64" and CONFIG["OS_TARGET"] == "NetBSD":
+if CONFIG["CPU_ARCH"] == "aarch64" and CONFIG["OS_TARGET"] == "Linux":
 
+    DEFINES["DISABLE_NACL"] = True
+    DEFINES["NO_TCMALLOC"] = True
     DEFINES["WEBRTC_ARCH_ARM64"] = True
 
-if CONFIG["CPU_ARCH"] == "aarch64" and CONFIG["OS_TARGET"] == "OpenBSD":
+if CONFIG["CPU_ARCH"] == "aarch64" and CONFIG["OS_TARGET"] == "Android":
 
     DEFINES["WEBRTC_ARCH_ARM64"] = True
 
diff --git a/media/webrtc/trunk/webrtc/modules/audio_processing/audio_processing_sse2_gn/moz.build b/media/webrtc/trunk/webrtc/modules/audio_processing/audio_processing_sse2_gn/moz.build
index 631e8f61a9a7..a8866a8eca40 100644
--- a/media/webrtc/trunk/webrtc/modules/audio_processing/audio_processing_sse2_gn/moz.build
+++ b/media/webrtc/trunk/webrtc/modules/audio_processing/audio_processing_sse2_gn/moz.build
@@ -32,43 +32,23 @@ UNIFIED_SOURCES += [
     "/media/webrtc/trunk/webrtc/modules/audio_processing/utility/ooura_fft_sse2.cc"
 ]
 
-if not CONFIG["MOZ_DEBUG"]:
-
-    DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "0"
-    DEFINES["NDEBUG"] = True
-    DEFINES["NVALGRIND"] = True
-
 if CONFIG["MOZ_DEBUG"] == "1":
 
     DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "1"
     DEFINES["WTF_USE_DYNAMIC_ANNOTATIONS"] = "1"
 
-if CONFIG["OS_TARGET"] == "Android":
-
-    DEFINES["ANDROID"] = True
-    DEFINES["ANDROID_NDK_VERSION"] = "r12b"
-    DEFINES["DISABLE_NACL"] = True
-    DEFINES["HAVE_SYS_UIO_H"] = True
-    DEFINES["NO_TCMALLOC"] = True
-    DEFINES["USE_OPENSSL_CERTS"] = "1"
-    DEFINES["WEBRTC_ANDROID"] = True
-    DEFINES["WEBRTC_ANDROID_OPENSLES"] = True
-    DEFINES["WEBRTC_LINUX"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
-    DEFINES["__GNU_SOURCE"] = "1"
+if not CONFIG["MOZ_DEBUG"]:
 
-if CONFIG["OS_TARGET"] == "Darwin":
+    DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "0"
+    DEFINES["NDEBUG"] = True
+    DEFINES["NVALGRIND"] = True
 
-    CXXFLAGS += [
-        "-msse2"
-    ]
+if CONFIG["OS_TARGET"] == "NetBSD":
 
-    DEFINES["CR_XCODE_VERSION"] = "0920"
-    DEFINES["NO_TCMALLOC"] = True
-    DEFINES["WEBRTC_MAC"] = True
+    DEFINES["USE_X11"] = "1"
+    DEFINES["WEBRTC_BSD"] = True
     DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["__ASSERT_MACROS_DEFINE_VERSIONS_WITHOUT_UNDERSCORE"] = "0"
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
 
 if CONFIG["OS_TARGET"] == "DragonFly":
 
@@ -81,39 +61,13 @@ if CONFIG["OS_TARGET"] == "DragonFly":
     DEFINES["WEBRTC_POSIX"] = True
     DEFINES["_FILE_OFFSET_BITS"] = "64"
 
-if CONFIG["OS_TARGET"] == "FreeBSD":
-
-    DEFINES["USE_X11"] = "1"
-    DEFINES["WEBRTC_BSD"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
-
 if CONFIG["OS_TARGET"] == "Linux":
 
-    CXXFLAGS += [
-        "-msse2"
-    ]
-
     DEFINES["USE_NSS_CERTS"] = "1"
-    DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_LINUX"] = True
     DEFINES["WEBRTC_POSIX"] = True
     DEFINES["_FILE_OFFSET_BITS"] = "64"
 
-if CONFIG["OS_TARGET"] == "NetBSD":
-
-    DEFINES["USE_X11"] = "1"
-    DEFINES["WEBRTC_BSD"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
-
-if CONFIG["OS_TARGET"] == "OpenBSD":
-
-    DEFINES["USE_X11"] = "1"
-    DEFINES["WEBRTC_BSD"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
-
 if CONFIG["OS_TARGET"] == "WINNT":
 
     DEFINES["CERT_CHAIN_PARA_HAS_EXTRA_FIELDS"] = True
@@ -139,15 +93,52 @@ if CONFIG["OS_TARGET"] == "WINNT":
     DEFINES["_WINDOWS"] = True
     DEFINES["__STD_C"] = True
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Android":
+if CONFIG["OS_TARGET"] == "Darwin":
 
-    DEFINES["_FORTIFY_SOURCE"] = "2"
+    CXXFLAGS += [
+        "-msse2"
+    ]
+
+    DEFINES["CR_XCODE_VERSION"] = "0920"
+    DEFINES["NO_TCMALLOC"] = True
+    DEFINES["WEBRTC_MAC"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["__ASSERT_MACROS_DEFINE_VERSIONS_WITHOUT_UNDERSCORE"] = "0"
+
+if CONFIG["OS_TARGET"] == "OpenBSD":
+
+    DEFINES["USE_X11"] = "1"
+    DEFINES["WEBRTC_BSD"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+
+if CONFIG["OS_TARGET"] == "FreeBSD":
+
+    DEFINES["USE_X11"] = "1"
+    DEFINES["WEBRTC_BSD"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+
+if CONFIG["OS_TARGET"] == "Android":
+
+    DEFINES["ANDROID"] = True
+    DEFINES["ANDROID_NDK_VERSION"] = "r12b"
+    DEFINES["DISABLE_NACL"] = True
+    DEFINES["HAVE_SYS_UIO_H"] = True
+    DEFINES["NO_TCMALLOC"] = True
+    DEFINES["USE_OPENSSL_CERTS"] = "1"
+    DEFINES["WEBRTC_ANDROID"] = True
+    DEFINES["WEBRTC_ANDROID_OPENSLES"] = True
+    DEFINES["WEBRTC_LINUX"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+    DEFINES["__GNU_SOURCE"] = "1"
 
 if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Darwin":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "DragonFly":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "OpenBSD":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
@@ -155,37 +146,42 @@ if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "FreeBSD":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "NetBSD":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Android":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "OpenBSD":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "DragonFly":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "Android":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "NetBSD":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
+if CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
 
     CXXFLAGS += [
-        "-msse2",
         "-msse2"
     ]
 
+    DEFINES["USE_X11"] = "1"
+
 if CONFIG["CPU_ARCH"] == "x86_64" and CONFIG["OS_TARGET"] == "Android":
 
     CXXFLAGS += [
         "-msse2"
     ]
 
-if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "FreeBSD":
+if CONFIG["CPU_ARCH"] == "x86_64" and CONFIG["OS_TARGET"] == "FreeBSD":
 
     CXXFLAGS += [
-        "-msse2",
         "-msse2"
     ]
 
-if CONFIG["CPU_ARCH"] == "x86_64" and CONFIG["OS_TARGET"] == "FreeBSD":
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "FreeBSD":
 
     CXXFLAGS += [
+        "-msse2",
         "-msse2"
     ]
 
@@ -196,7 +192,7 @@ if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "NetBSD":
         "-msse2"
     ]
 
-if CONFIG["CPU_ARCH"] == "x86_64" and CONFIG["OS_TARGET"] == "NetBSD":
+if CONFIG["CPU_ARCH"] == "x86_64" and CONFIG["OS_TARGET"] == "OpenBSD":
 
     CXXFLAGS += [
         "-msse2"
@@ -209,10 +205,42 @@ if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "OpenBSD":
         "-msse2"
     ]
 
-if CONFIG["CPU_ARCH"] == "x86_64" and CONFIG["OS_TARGET"] == "OpenBSD":
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "Android":
+
+    CXXFLAGS += [
+        "-msse2",
+        "-msse2"
+    ]
+
+if CONFIG["CPU_ARCH"] == "x86_64" and CONFIG["OS_TARGET"] == "NetBSD":
 
     CXXFLAGS += [
         "-msse2"
     ]
 
+if CONFIG["CPU_ARCH"] == "x86_64" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    CXXFLAGS += [
+        "-msse2"
+    ]
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["HOST_CPU_ARCH"] == "x86_64" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    CXXFLAGS += [
+        "-msse2"
+    ]
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["HOST_CPU_ARCH"] == "x86" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    CXXFLAGS += [
+        "-msse2",
+        "-msse2"
+    ]
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
 Library("audio_processing_sse2_gn")
diff --git a/media/webrtc/trunk/webrtc/modules/audio_processing/audio_processing_statistics_gn/moz.build b/media/webrtc/trunk/webrtc/modules/audio_processing/audio_processing_statistics_gn/moz.build
index 63ae76b1c28c..26a8c899eaea 100644
--- a/media/webrtc/trunk/webrtc/modules/audio_processing/audio_processing_statistics_gn/moz.build
+++ b/media/webrtc/trunk/webrtc/modules/audio_processing/audio_processing_statistics_gn/moz.build
@@ -30,56 +30,18 @@ UNIFIED_SOURCES += [
     "/media/webrtc/trunk/webrtc/modules/audio_processing/include/audio_processing_statistics.cc"
 ]
 
-if not CONFIG["MOZ_DEBUG"]:
-
-    DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "0"
-    DEFINES["NDEBUG"] = True
-    DEFINES["NVALGRIND"] = True
-
 if CONFIG["MOZ_DEBUG"] == "1":
 
     DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "1"
     DEFINES["WTF_USE_DYNAMIC_ANNOTATIONS"] = "1"
 
-if CONFIG["OS_TARGET"] == "Android":
-
-    DEFINES["ANDROID"] = True
-    DEFINES["ANDROID_NDK_VERSION"] = "r12b"
-    DEFINES["DISABLE_NACL"] = True
-    DEFINES["HAVE_SYS_UIO_H"] = True
-    DEFINES["NO_TCMALLOC"] = True
-    DEFINES["USE_OPENSSL_CERTS"] = "1"
-    DEFINES["WEBRTC_ANDROID"] = True
-    DEFINES["WEBRTC_ANDROID_OPENSLES"] = True
-    DEFINES["WEBRTC_LINUX"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
-    DEFINES["__GNU_SOURCE"] = "1"
-
-    OS_LIBS += [
-        "log"
-    ]
-
-if CONFIG["OS_TARGET"] == "Darwin":
-
-    DEFINES["CR_XCODE_VERSION"] = "0920"
-    DEFINES["NO_TCMALLOC"] = True
-    DEFINES["WEBRTC_MAC"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["__ASSERT_MACROS_DEFINE_VERSIONS_WITHOUT_UNDERSCORE"] = "0"
-
-    OS_LIBS += [
-        "-framework Foundation"
-    ]
-
-if CONFIG["OS_TARGET"] == "DragonFly":
+if not CONFIG["MOZ_DEBUG"]:
 
-    DEFINES["USE_X11"] = "1"
-    DEFINES["WEBRTC_BSD"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
+    DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "0"
+    DEFINES["NDEBUG"] = True
+    DEFINES["NVALGRIND"] = True
 
-if CONFIG["OS_TARGET"] == "FreeBSD":
+if CONFIG["OS_TARGET"] == "NetBSD":
 
     DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_BSD"] = True
@@ -89,19 +51,11 @@ if CONFIG["OS_TARGET"] == "FreeBSD":
 if CONFIG["OS_TARGET"] == "Linux":
 
     DEFINES["USE_NSS_CERTS"] = "1"
-    DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_LINUX"] = True
     DEFINES["WEBRTC_POSIX"] = True
     DEFINES["_FILE_OFFSET_BITS"] = "64"
 
-if CONFIG["OS_TARGET"] == "NetBSD":
-
-    DEFINES["USE_X11"] = "1"
-    DEFINES["WEBRTC_BSD"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
-
-if CONFIG["OS_TARGET"] == "OpenBSD":
+if CONFIG["OS_TARGET"] == "DragonFly":
 
     DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_BSD"] = True
@@ -133,10 +87,50 @@ if CONFIG["OS_TARGET"] == "WINNT":
     DEFINES["_WINDOWS"] = True
     DEFINES["__STD_C"] = True
 
-if CONFIG["CPU_ARCH"] == "aarch64":
+if CONFIG["OS_TARGET"] == "Darwin":
 
-    DEFINES["WEBRTC_ARCH_ARM64"] = True
-    DEFINES["WEBRTC_HAS_NEON"] = True
+    DEFINES["CR_XCODE_VERSION"] = "0920"
+    DEFINES["NO_TCMALLOC"] = True
+    DEFINES["WEBRTC_MAC"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["__ASSERT_MACROS_DEFINE_VERSIONS_WITHOUT_UNDERSCORE"] = "0"
+
+    OS_LIBS += [
+        "-framework Foundation"
+    ]
+
+if CONFIG["OS_TARGET"] == "OpenBSD":
+
+    DEFINES["USE_X11"] = "1"
+    DEFINES["WEBRTC_BSD"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+
+if CONFIG["OS_TARGET"] == "FreeBSD":
+
+    DEFINES["USE_X11"] = "1"
+    DEFINES["WEBRTC_BSD"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+
+if CONFIG["OS_TARGET"] == "Android":
+
+    DEFINES["ANDROID"] = True
+    DEFINES["ANDROID_NDK_VERSION"] = "r12b"
+    DEFINES["DISABLE_NACL"] = True
+    DEFINES["HAVE_SYS_UIO_H"] = True
+    DEFINES["NO_TCMALLOC"] = True
+    DEFINES["USE_OPENSSL_CERTS"] = "1"
+    DEFINES["WEBRTC_ANDROID"] = True
+    DEFINES["WEBRTC_ANDROID_OPENSLES"] = True
+    DEFINES["WEBRTC_LINUX"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+    DEFINES["__GNU_SOURCE"] = "1"
+
+    OS_LIBS += [
+        "log"
+    ]
 
 if CONFIG["CPU_ARCH"] == "arm":
 
@@ -148,15 +142,24 @@ if CONFIG["CPU_ARCH"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Android":
+if CONFIG["CPU_ARCH"] == "ppc64":
 
-    DEFINES["_FORTIFY_SOURCE"] = "2"
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "mips64":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "aarch64":
+
+    DEFINES["WEBRTC_ARCH_ARM64"] = True
+    DEFINES["WEBRTC_HAS_NEON"] = True
 
 if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Darwin":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "DragonFly":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "OpenBSD":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
@@ -164,20 +167,28 @@ if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "FreeBSD":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "NetBSD":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Android":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "OpenBSD":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "DragonFly":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "Android":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "NetBSD":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "NetBSD":
 
     CXXFLAGS += [
         "-msse2"
     ]
 
+if CONFIG["CPU_ARCH"] == "x86_64" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
 if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "FreeBSD":
 
     CXXFLAGS += [
@@ -195,7 +206,7 @@ if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "Linux":
         "-msse2"
     ]
 
-if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "NetBSD":
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "Android":
 
     CXXFLAGS += [
         "-msse2"
@@ -207,4 +218,32 @@ if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "OpenBSD":
         "-msse2"
     ]
 
+if CONFIG["CPU_ARCH"] == "arm" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "aarch64" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "arm" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "aarch64" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["HOST_CPU_ARCH"] == "x86_64" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["HOST_CPU_ARCH"] == "x86" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
 Library("audio_processing_statistics_gn")
diff --git a/media/webrtc/trunk/webrtc/modules/bitrate_controller/bitrate_controller_gn/moz.build b/media/webrtc/trunk/webrtc/modules/bitrate_controller/bitrate_controller_gn/moz.build
index c4e9e2ef05b9..5568c53a4521 100644
--- a/media/webrtc/trunk/webrtc/modules/bitrate_controller/bitrate_controller_gn/moz.build
+++ b/media/webrtc/trunk/webrtc/modules/bitrate_controller/bitrate_controller_gn/moz.build
@@ -32,56 +32,18 @@ UNIFIED_SOURCES += [
     "/media/webrtc/trunk/webrtc/modules/bitrate_controller/send_side_bandwidth_estimation.cc"
 ]
 
-if not CONFIG["MOZ_DEBUG"]:
-
-    DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "0"
-    DEFINES["NDEBUG"] = True
-    DEFINES["NVALGRIND"] = True
-
 if CONFIG["MOZ_DEBUG"] == "1":
 
     DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "1"
     DEFINES["WTF_USE_DYNAMIC_ANNOTATIONS"] = "1"
 
-if CONFIG["OS_TARGET"] == "Android":
-
-    DEFINES["ANDROID"] = True
-    DEFINES["ANDROID_NDK_VERSION"] = "r12b"
-    DEFINES["DISABLE_NACL"] = True
-    DEFINES["HAVE_SYS_UIO_H"] = True
-    DEFINES["NO_TCMALLOC"] = True
-    DEFINES["USE_OPENSSL_CERTS"] = "1"
-    DEFINES["WEBRTC_ANDROID"] = True
-    DEFINES["WEBRTC_ANDROID_OPENSLES"] = True
-    DEFINES["WEBRTC_LINUX"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
-    DEFINES["__GNU_SOURCE"] = "1"
-
-    OS_LIBS += [
-        "log"
-    ]
-
-if CONFIG["OS_TARGET"] == "Darwin":
-
-    DEFINES["CR_XCODE_VERSION"] = "0920"
-    DEFINES["NO_TCMALLOC"] = True
-    DEFINES["WEBRTC_MAC"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["__ASSERT_MACROS_DEFINE_VERSIONS_WITHOUT_UNDERSCORE"] = "0"
-
-    OS_LIBS += [
-        "-framework Foundation"
-    ]
-
-if CONFIG["OS_TARGET"] == "DragonFly":
+if not CONFIG["MOZ_DEBUG"]:
 
-    DEFINES["USE_X11"] = "1"
-    DEFINES["WEBRTC_BSD"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
+    DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "0"
+    DEFINES["NDEBUG"] = True
+    DEFINES["NVALGRIND"] = True
 
-if CONFIG["OS_TARGET"] == "FreeBSD":
+if CONFIG["OS_TARGET"] == "NetBSD":
 
     DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_BSD"] = True
@@ -91,7 +53,6 @@ if CONFIG["OS_TARGET"] == "FreeBSD":
 if CONFIG["OS_TARGET"] == "Linux":
 
     DEFINES["USE_NSS_CERTS"] = "1"
-    DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_LINUX"] = True
     DEFINES["WEBRTC_POSIX"] = True
     DEFINES["_FILE_OFFSET_BITS"] = "64"
@@ -100,14 +61,7 @@ if CONFIG["OS_TARGET"] == "Linux":
         "rt"
     ]
 
-if CONFIG["OS_TARGET"] == "NetBSD":
-
-    DEFINES["USE_X11"] = "1"
-    DEFINES["WEBRTC_BSD"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
-
-if CONFIG["OS_TARGET"] == "OpenBSD":
+if CONFIG["OS_TARGET"] == "DragonFly":
 
     DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_BSD"] = True
@@ -143,10 +97,50 @@ if CONFIG["OS_TARGET"] == "WINNT":
         "winmm"
     ]
 
-if CONFIG["CPU_ARCH"] == "aarch64":
+if CONFIG["OS_TARGET"] == "Darwin":
 
-    DEFINES["WEBRTC_ARCH_ARM64"] = True
-    DEFINES["WEBRTC_HAS_NEON"] = True
+    DEFINES["CR_XCODE_VERSION"] = "0920"
+    DEFINES["NO_TCMALLOC"] = True
+    DEFINES["WEBRTC_MAC"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["__ASSERT_MACROS_DEFINE_VERSIONS_WITHOUT_UNDERSCORE"] = "0"
+
+    OS_LIBS += [
+        "-framework Foundation"
+    ]
+
+if CONFIG["OS_TARGET"] == "OpenBSD":
+
+    DEFINES["USE_X11"] = "1"
+    DEFINES["WEBRTC_BSD"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+
+if CONFIG["OS_TARGET"] == "FreeBSD":
+
+    DEFINES["USE_X11"] = "1"
+    DEFINES["WEBRTC_BSD"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+
+if CONFIG["OS_TARGET"] == "Android":
+
+    DEFINES["ANDROID"] = True
+    DEFINES["ANDROID_NDK_VERSION"] = "r12b"
+    DEFINES["DISABLE_NACL"] = True
+    DEFINES["HAVE_SYS_UIO_H"] = True
+    DEFINES["NO_TCMALLOC"] = True
+    DEFINES["USE_OPENSSL_CERTS"] = "1"
+    DEFINES["WEBRTC_ANDROID"] = True
+    DEFINES["WEBRTC_ANDROID_OPENSLES"] = True
+    DEFINES["WEBRTC_LINUX"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+    DEFINES["__GNU_SOURCE"] = "1"
+
+    OS_LIBS += [
+        "log"
+    ]
 
 if CONFIG["CPU_ARCH"] == "arm":
 
@@ -158,15 +152,24 @@ if CONFIG["CPU_ARCH"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Android":
+if CONFIG["CPU_ARCH"] == "ppc64":
 
-    DEFINES["_FORTIFY_SOURCE"] = "2"
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "mips64":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "aarch64":
+
+    DEFINES["WEBRTC_ARCH_ARM64"] = True
+    DEFINES["WEBRTC_HAS_NEON"] = True
 
 if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Darwin":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "DragonFly":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "OpenBSD":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
@@ -174,20 +177,28 @@ if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "FreeBSD":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "NetBSD":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Android":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "OpenBSD":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "DragonFly":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "Android":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "NetBSD":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "NetBSD":
 
     CXXFLAGS += [
         "-msse2"
     ]
 
+if CONFIG["CPU_ARCH"] == "x86_64" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
 if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "FreeBSD":
 
     CXXFLAGS += [
@@ -205,7 +216,7 @@ if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "Linux":
         "-msse2"
     ]
 
-if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "NetBSD":
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "Android":
 
     CXXFLAGS += [
         "-msse2"
@@ -217,4 +228,32 @@ if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "OpenBSD":
         "-msse2"
     ]
 
+if CONFIG["CPU_ARCH"] == "arm" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "aarch64" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "arm" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "aarch64" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["HOST_CPU_ARCH"] == "x86_64" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["HOST_CPU_ARCH"] == "x86" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
 Library("bitrate_controller_gn")
diff --git a/media/webrtc/trunk/webrtc/modules/congestion_controller/congestion_controller_gn/moz.build b/media/webrtc/trunk/webrtc/modules/congestion_controller/congestion_controller_gn/moz.build
index e5e0c0a13fd3..a6ce89319661 100644
--- a/media/webrtc/trunk/webrtc/modules/congestion_controller/congestion_controller_gn/moz.build
+++ b/media/webrtc/trunk/webrtc/modules/congestion_controller/congestion_controller_gn/moz.build
@@ -43,56 +43,18 @@ UNIFIED_SOURCES += [
     "/media/webrtc/trunk/webrtc/modules/congestion_controller/transport_feedback_adapter.cc"
 ]
 
-if not CONFIG["MOZ_DEBUG"]:
-
-    DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "0"
-    DEFINES["NDEBUG"] = True
-    DEFINES["NVALGRIND"] = True
-
 if CONFIG["MOZ_DEBUG"] == "1":
 
     DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "1"
     DEFINES["WTF_USE_DYNAMIC_ANNOTATIONS"] = "1"
 
-if CONFIG["OS_TARGET"] == "Android":
-
-    DEFINES["ANDROID"] = True
-    DEFINES["ANDROID_NDK_VERSION"] = "r12b"
-    DEFINES["DISABLE_NACL"] = True
-    DEFINES["HAVE_SYS_UIO_H"] = True
-    DEFINES["NO_TCMALLOC"] = True
-    DEFINES["USE_OPENSSL_CERTS"] = "1"
-    DEFINES["WEBRTC_ANDROID"] = True
-    DEFINES["WEBRTC_ANDROID_OPENSLES"] = True
-    DEFINES["WEBRTC_LINUX"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
-    DEFINES["__GNU_SOURCE"] = "1"
-
-    OS_LIBS += [
-        "log"
-    ]
-
-if CONFIG["OS_TARGET"] == "Darwin":
-
-    DEFINES["CR_XCODE_VERSION"] = "0920"
-    DEFINES["NO_TCMALLOC"] = True
-    DEFINES["WEBRTC_MAC"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["__ASSERT_MACROS_DEFINE_VERSIONS_WITHOUT_UNDERSCORE"] = "0"
-
-    OS_LIBS += [
-        "-framework Foundation"
-    ]
-
-if CONFIG["OS_TARGET"] == "DragonFly":
+if not CONFIG["MOZ_DEBUG"]:
 
-    DEFINES["USE_X11"] = "1"
-    DEFINES["WEBRTC_BSD"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
+    DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "0"
+    DEFINES["NDEBUG"] = True
+    DEFINES["NVALGRIND"] = True
 
-if CONFIG["OS_TARGET"] == "FreeBSD":
+if CONFIG["OS_TARGET"] == "NetBSD":
 
     DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_BSD"] = True
@@ -102,7 +64,6 @@ if CONFIG["OS_TARGET"] == "FreeBSD":
 if CONFIG["OS_TARGET"] == "Linux":
 
     DEFINES["USE_NSS_CERTS"] = "1"
-    DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_LINUX"] = True
     DEFINES["WEBRTC_POSIX"] = True
     DEFINES["_FILE_OFFSET_BITS"] = "64"
@@ -111,14 +72,7 @@ if CONFIG["OS_TARGET"] == "Linux":
         "rt"
     ]
 
-if CONFIG["OS_TARGET"] == "NetBSD":
-
-    DEFINES["USE_X11"] = "1"
-    DEFINES["WEBRTC_BSD"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
-
-if CONFIG["OS_TARGET"] == "OpenBSD":
+if CONFIG["OS_TARGET"] == "DragonFly":
 
     DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_BSD"] = True
@@ -154,10 +108,50 @@ if CONFIG["OS_TARGET"] == "WINNT":
         "winmm"
     ]
 
-if CONFIG["CPU_ARCH"] == "aarch64":
+if CONFIG["OS_TARGET"] == "Darwin":
 
-    DEFINES["WEBRTC_ARCH_ARM64"] = True
-    DEFINES["WEBRTC_HAS_NEON"] = True
+    DEFINES["CR_XCODE_VERSION"] = "0920"
+    DEFINES["NO_TCMALLOC"] = True
+    DEFINES["WEBRTC_MAC"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["__ASSERT_MACROS_DEFINE_VERSIONS_WITHOUT_UNDERSCORE"] = "0"
+
+    OS_LIBS += [
+        "-framework Foundation"
+    ]
+
+if CONFIG["OS_TARGET"] == "OpenBSD":
+
+    DEFINES["USE_X11"] = "1"
+    DEFINES["WEBRTC_BSD"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+
+if CONFIG["OS_TARGET"] == "FreeBSD":
+
+    DEFINES["USE_X11"] = "1"
+    DEFINES["WEBRTC_BSD"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+
+if CONFIG["OS_TARGET"] == "Android":
+
+    DEFINES["ANDROID"] = True
+    DEFINES["ANDROID_NDK_VERSION"] = "r12b"
+    DEFINES["DISABLE_NACL"] = True
+    DEFINES["HAVE_SYS_UIO_H"] = True
+    DEFINES["NO_TCMALLOC"] = True
+    DEFINES["USE_OPENSSL_CERTS"] = "1"
+    DEFINES["WEBRTC_ANDROID"] = True
+    DEFINES["WEBRTC_ANDROID_OPENSLES"] = True
+    DEFINES["WEBRTC_LINUX"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+    DEFINES["__GNU_SOURCE"] = "1"
+
+    OS_LIBS += [
+        "log"
+    ]
 
 if CONFIG["CPU_ARCH"] == "arm":
 
@@ -169,15 +163,24 @@ if CONFIG["CPU_ARCH"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Android":
+if CONFIG["CPU_ARCH"] == "ppc64":
 
-    DEFINES["_FORTIFY_SOURCE"] = "2"
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "mips64":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "aarch64":
+
+    DEFINES["WEBRTC_ARCH_ARM64"] = True
+    DEFINES["WEBRTC_HAS_NEON"] = True
 
 if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Darwin":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "DragonFly":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "OpenBSD":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
@@ -185,20 +188,28 @@ if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "FreeBSD":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "NetBSD":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Android":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "OpenBSD":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "DragonFly":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "Android":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "NetBSD":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "NetBSD":
 
     CXXFLAGS += [
         "-msse2"
     ]
 
+if CONFIG["CPU_ARCH"] == "x86_64" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
 if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "FreeBSD":
 
     CXXFLAGS += [
@@ -216,7 +227,7 @@ if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "Linux":
         "-msse2"
     ]
 
-if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "NetBSD":
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "Android":
 
     CXXFLAGS += [
         "-msse2"
@@ -228,4 +239,32 @@ if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "OpenBSD":
         "-msse2"
     ]
 
+if CONFIG["CPU_ARCH"] == "arm" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "aarch64" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "arm" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "aarch64" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["HOST_CPU_ARCH"] == "x86_64" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["HOST_CPU_ARCH"] == "x86" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
 Library("congestion_controller_gn")
diff --git a/media/webrtc/trunk/webrtc/modules/desktop_capture/desktop_capture_differ_sse2_gn/moz.build b/media/webrtc/trunk/webrtc/modules/desktop_capture/desktop_capture_differ_sse2_gn/moz.build
index f2b1c6deddb1..1e20b3fd6d24 100644
--- a/media/webrtc/trunk/webrtc/modules/desktop_capture/desktop_capture_differ_sse2_gn/moz.build
+++ b/media/webrtc/trunk/webrtc/modules/desktop_capture/desktop_capture_differ_sse2_gn/moz.build
@@ -30,41 +30,18 @@ UNIFIED_SOURCES += [
     "/media/webrtc/trunk/webrtc/modules/desktop_capture/differ_vector_sse2.cc"
 ]
 
-if not CONFIG["MOZ_DEBUG"]:
-
-    DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "0"
-    DEFINES["NDEBUG"] = True
-    DEFINES["NVALGRIND"] = True
-
 if CONFIG["MOZ_DEBUG"] == "1":
 
     DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "1"
     DEFINES["WTF_USE_DYNAMIC_ANNOTATIONS"] = "1"
 
-if CONFIG["OS_TARGET"] == "Darwin":
-
-    CXXFLAGS += [
-        "-msse2"
-    ]
-
-    DEFINES["CR_XCODE_VERSION"] = "0920"
-    DEFINES["NO_TCMALLOC"] = True
-    DEFINES["WEBRTC_MAC"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["__ASSERT_MACROS_DEFINE_VERSIONS_WITHOUT_UNDERSCORE"] = "0"
-
-if CONFIG["OS_TARGET"] == "DragonFly":
-
-    CXXFLAGS += [
-        "-msse2"
-    ]
+if not CONFIG["MOZ_DEBUG"]:
 
-    DEFINES["USE_X11"] = "1"
-    DEFINES["WEBRTC_BSD"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
+    DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "0"
+    DEFINES["NDEBUG"] = True
+    DEFINES["NVALGRIND"] = True
 
-if CONFIG["OS_TARGET"] == "FreeBSD":
+if CONFIG["OS_TARGET"] == "NetBSD":
 
     DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_BSD"] = True
@@ -83,14 +60,11 @@ if CONFIG["OS_TARGET"] == "Linux":
     DEFINES["WEBRTC_POSIX"] = True
     DEFINES["_FILE_OFFSET_BITS"] = "64"
 
-if CONFIG["OS_TARGET"] == "NetBSD":
-
-    DEFINES["USE_X11"] = "1"
-    DEFINES["WEBRTC_BSD"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
+if CONFIG["OS_TARGET"] == "DragonFly":
 
-if CONFIG["OS_TARGET"] == "OpenBSD":
+    CXXFLAGS += [
+        "-msse2"
+    ]
 
     DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_BSD"] = True
@@ -122,11 +96,37 @@ if CONFIG["OS_TARGET"] == "WINNT":
     DEFINES["_WINDOWS"] = True
     DEFINES["__STD_C"] = True
 
+if CONFIG["OS_TARGET"] == "Darwin":
+
+    CXXFLAGS += [
+        "-msse2"
+    ]
+
+    DEFINES["CR_XCODE_VERSION"] = "0920"
+    DEFINES["NO_TCMALLOC"] = True
+    DEFINES["WEBRTC_MAC"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["__ASSERT_MACROS_DEFINE_VERSIONS_WITHOUT_UNDERSCORE"] = "0"
+
+if CONFIG["OS_TARGET"] == "OpenBSD":
+
+    DEFINES["USE_X11"] = "1"
+    DEFINES["WEBRTC_BSD"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+
+if CONFIG["OS_TARGET"] == "FreeBSD":
+
+    DEFINES["USE_X11"] = "1"
+    DEFINES["WEBRTC_BSD"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+
 if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Darwin":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "DragonFly":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "OpenBSD":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
@@ -134,24 +134,24 @@ if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "FreeBSD":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "NetBSD":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "DragonFly":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "OpenBSD":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "NetBSD":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "FreeBSD":
+if CONFIG["CPU_ARCH"] == "x86_64" and CONFIG["OS_TARGET"] == "FreeBSD":
 
     CXXFLAGS += [
-        "-msse2",
         "-msse2"
     ]
 
-if CONFIG["CPU_ARCH"] == "x86_64" and CONFIG["OS_TARGET"] == "FreeBSD":
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "FreeBSD":
 
     CXXFLAGS += [
+        "-msse2",
         "-msse2"
     ]
 
@@ -162,7 +162,7 @@ if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "NetBSD":
         "-msse2"
     ]
 
-if CONFIG["CPU_ARCH"] == "x86_64" and CONFIG["OS_TARGET"] == "NetBSD":
+if CONFIG["CPU_ARCH"] == "x86_64" and CONFIG["OS_TARGET"] == "OpenBSD":
 
     CXXFLAGS += [
         "-msse2"
@@ -175,7 +175,7 @@ if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "OpenBSD":
         "-msse2"
     ]
 
-if CONFIG["CPU_ARCH"] == "x86_64" and CONFIG["OS_TARGET"] == "OpenBSD":
+if CONFIG["CPU_ARCH"] == "x86_64" and CONFIG["OS_TARGET"] == "NetBSD":
 
     CXXFLAGS += [
         "-msse2"
diff --git a/media/webrtc/trunk/webrtc/modules/desktop_capture/desktop_capture_generic_gn/moz.build b/media/webrtc/trunk/webrtc/modules/desktop_capture/desktop_capture_generic_gn/moz.build
index 90b40431c7e4..b234a6fda1fe 100644
--- a/media/webrtc/trunk/webrtc/modules/desktop_capture/desktop_capture_generic_gn/moz.build
+++ b/media/webrtc/trunk/webrtc/modules/desktop_capture/desktop_capture_generic_gn/moz.build
@@ -50,38 +50,18 @@ UNIFIED_SOURCES += [
     "/media/webrtc/trunk/webrtc/modules/desktop_capture/window_finder.cc"
 ]
 
-if not CONFIG["MOZ_DEBUG"]:
-
-    DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "0"
-    DEFINES["NDEBUG"] = True
-    DEFINES["NVALGRIND"] = True
-
 if CONFIG["MOZ_DEBUG"] == "1":
 
     DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "1"
     DEFINES["WTF_USE_DYNAMIC_ANNOTATIONS"] = "1"
 
-if CONFIG["OS_TARGET"] == "Darwin":
-
-    DEFINES["CR_XCODE_VERSION"] = "0920"
-    DEFINES["NO_TCMALLOC"] = True
-    DEFINES["WEBRTC_MAC"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["__ASSERT_MACROS_DEFINE_VERSIONS_WITHOUT_UNDERSCORE"] = "0"
-
-    OS_LIBS += [
-        "-framework Foundation"
-    ]
+if not CONFIG["MOZ_DEBUG"]:
 
-    UNIFIED_SOURCES += [
-        "/media/webrtc/trunk/webrtc/modules/desktop_capture/mac/desktop_configuration_monitor.cc",
-        "/media/webrtc/trunk/webrtc/modules/desktop_capture/mac/desktop_device_info_mac.mm",
-        "/media/webrtc/trunk/webrtc/modules/desktop_capture/mac/full_screen_chrome_window_detector.cc",
-        "/media/webrtc/trunk/webrtc/modules/desktop_capture/mac/scoped_pixel_buffer_object.cc",
-        "/media/webrtc/trunk/webrtc/modules/desktop_capture/mac/window_list_utils.cc"
-    ]
+    DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "0"
+    DEFINES["NDEBUG"] = True
+    DEFINES["NVALGRIND"] = True
 
-if CONFIG["OS_TARGET"] == "DragonFly":
+if CONFIG["OS_TARGET"] == "NetBSD":
 
     DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_BSD"] = True
@@ -118,14 +98,16 @@ if CONFIG["OS_TARGET"] == "DragonFly":
         "/media/webrtc/trunk/webrtc/modules/desktop_capture/window_capturer_linux.cc"
     ]
 
-if CONFIG["OS_TARGET"] == "FreeBSD":
+if CONFIG["OS_TARGET"] == "Linux":
 
+    DEFINES["USE_NSS_CERTS"] = "1"
     DEFINES["USE_X11"] = "1"
-    DEFINES["WEBRTC_BSD"] = True
+    DEFINES["WEBRTC_LINUX"] = True
     DEFINES["WEBRTC_POSIX"] = True
     DEFINES["_FILE_OFFSET_BITS"] = "64"
 
     OS_LIBS += [
+        "rt",
         "X11",
         "X11-xcb",
         "xcb",
@@ -155,16 +137,14 @@ if CONFIG["OS_TARGET"] == "FreeBSD":
         "/media/webrtc/trunk/webrtc/modules/desktop_capture/window_capturer_linux.cc"
     ]
 
-if CONFIG["OS_TARGET"] == "Linux":
+if CONFIG["OS_TARGET"] == "DragonFly":
 
-    DEFINES["USE_NSS_CERTS"] = "1"
     DEFINES["USE_X11"] = "1"
-    DEFINES["WEBRTC_LINUX"] = True
+    DEFINES["WEBRTC_BSD"] = True
     DEFINES["WEBRTC_POSIX"] = True
     DEFINES["_FILE_OFFSET_BITS"] = "64"
 
     OS_LIBS += [
-        "rt",
         "X11",
         "X11-xcb",
         "xcb",
@@ -194,7 +174,90 @@ if CONFIG["OS_TARGET"] == "Linux":
         "/media/webrtc/trunk/webrtc/modules/desktop_capture/window_capturer_linux.cc"
     ]
 
-if CONFIG["OS_TARGET"] == "NetBSD":
+if CONFIG["OS_TARGET"] == "WINNT":
+
+    DEFINES["CERT_CHAIN_PARA_HAS_EXTRA_FIELDS"] = True
+    DEFINES["NOMINMAX"] = True
+    DEFINES["NO_TCMALLOC"] = True
+    DEFINES["NTDDI_VERSION"] = "0x0A000000"
+    DEFINES["PSAPI_VERSION"] = "1"
+    DEFINES["UNICODE"] = True
+    DEFINES["WEBRTC_WIN"] = True
+    DEFINES["WIN32"] = True
+    DEFINES["WIN32_LEAN_AND_MEAN"] = True
+    DEFINES["WINVER"] = "0x0A00"
+    DEFINES["_ATL_NO_OPENGL"] = True
+    DEFINES["_CRT_RAND_S"] = True
+    DEFINES["_CRT_SECURE_NO_DEPRECATE"] = True
+    DEFINES["_CRT_SECURE_NO_WARNINGS"] = True
+    DEFINES["_HAS_EXCEPTIONS"] = "0"
+    DEFINES["_SCL_SECURE_NO_DEPRECATE"] = True
+    DEFINES["_SECURE_ATL"] = True
+    DEFINES["_UNICODE"] = True
+    DEFINES["_USING_V110_SDK71_"] = True
+    DEFINES["_WIN32_WINNT"] = "0x0A00"
+    DEFINES["_WINDOWS"] = True
+    DEFINES["__STD_C"] = True
+
+    OS_LIBS += [
+        "d3d11",
+        "dxgi",
+        "winmm"
+    ]
+
+    SOURCES += [
+        "/media/webrtc/trunk/webrtc/modules/desktop_capture/win/screen_capturer_win_gdi.cc"
+    ]
+
+    UNIFIED_SOURCES += [
+        "/media/webrtc/trunk/webrtc/modules/desktop_capture/cropping_window_capturer_win.cc",
+        "/media/webrtc/trunk/webrtc/modules/desktop_capture/desktop_frame_win.cc",
+        "/media/webrtc/trunk/webrtc/modules/desktop_capture/mouse_cursor_monitor_win.cc",
+        "/media/webrtc/trunk/webrtc/modules/desktop_capture/screen_capturer_win.cc",
+        "/media/webrtc/trunk/webrtc/modules/desktop_capture/win/cursor.cc",
+        "/media/webrtc/trunk/webrtc/modules/desktop_capture/win/d3d_device.cc",
+        "/media/webrtc/trunk/webrtc/modules/desktop_capture/win/desktop.cc",
+        "/media/webrtc/trunk/webrtc/modules/desktop_capture/win/desktop_device_info_win.cc",
+        "/media/webrtc/trunk/webrtc/modules/desktop_capture/win/display_configuration_monitor.cc",
+        "/media/webrtc/trunk/webrtc/modules/desktop_capture/win/dxgi_adapter_duplicator.cc",
+        "/media/webrtc/trunk/webrtc/modules/desktop_capture/win/dxgi_context.cc",
+        "/media/webrtc/trunk/webrtc/modules/desktop_capture/win/dxgi_duplicator_controller.cc",
+        "/media/webrtc/trunk/webrtc/modules/desktop_capture/win/dxgi_frame.cc",
+        "/media/webrtc/trunk/webrtc/modules/desktop_capture/win/dxgi_output_duplicator.cc",
+        "/media/webrtc/trunk/webrtc/modules/desktop_capture/win/dxgi_texture.cc",
+        "/media/webrtc/trunk/webrtc/modules/desktop_capture/win/dxgi_texture_mapping.cc",
+        "/media/webrtc/trunk/webrtc/modules/desktop_capture/win/dxgi_texture_staging.cc",
+        "/media/webrtc/trunk/webrtc/modules/desktop_capture/win/scoped_thread_desktop.cc",
+        "/media/webrtc/trunk/webrtc/modules/desktop_capture/win/screen_capture_utils.cc",
+        "/media/webrtc/trunk/webrtc/modules/desktop_capture/win/screen_capturer_win_directx.cc",
+        "/media/webrtc/trunk/webrtc/modules/desktop_capture/win/screen_capturer_win_magnifier.cc",
+        "/media/webrtc/trunk/webrtc/modules/desktop_capture/win/win_shared.cc",
+        "/media/webrtc/trunk/webrtc/modules/desktop_capture/win/window_capture_utils.cc",
+        "/media/webrtc/trunk/webrtc/modules/desktop_capture/window_capturer_win.cc",
+        "/media/webrtc/trunk/webrtc/modules/desktop_capture/window_finder_win.cc"
+    ]
+
+if CONFIG["OS_TARGET"] == "Darwin":
+
+    DEFINES["CR_XCODE_VERSION"] = "0920"
+    DEFINES["NO_TCMALLOC"] = True
+    DEFINES["WEBRTC_MAC"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["__ASSERT_MACROS_DEFINE_VERSIONS_WITHOUT_UNDERSCORE"] = "0"
+
+    OS_LIBS += [
+        "-framework Foundation"
+    ]
+
+    UNIFIED_SOURCES += [
+        "/media/webrtc/trunk/webrtc/modules/desktop_capture/mac/desktop_configuration_monitor.cc",
+        "/media/webrtc/trunk/webrtc/modules/desktop_capture/mac/desktop_device_info_mac.mm",
+        "/media/webrtc/trunk/webrtc/modules/desktop_capture/mac/full_screen_chrome_window_detector.cc",
+        "/media/webrtc/trunk/webrtc/modules/desktop_capture/mac/scoped_pixel_buffer_object.cc",
+        "/media/webrtc/trunk/webrtc/modules/desktop_capture/mac/window_list_utils.cc"
+    ]
+
+if CONFIG["OS_TARGET"] == "OpenBSD":
 
     DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_BSD"] = True
@@ -231,7 +294,7 @@ if CONFIG["OS_TARGET"] == "NetBSD":
         "/media/webrtc/trunk/webrtc/modules/desktop_capture/window_capturer_linux.cc"
     ]
 
-if CONFIG["OS_TARGET"] == "OpenBSD":
+if CONFIG["OS_TARGET"] == "FreeBSD":
 
     DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_BSD"] = True
@@ -268,74 +331,6 @@ if CONFIG["OS_TARGET"] == "OpenBSD":
         "/media/webrtc/trunk/webrtc/modules/desktop_capture/window_capturer_linux.cc"
     ]
 
-if CONFIG["OS_TARGET"] == "WINNT":
-
-    DEFINES["CERT_CHAIN_PARA_HAS_EXTRA_FIELDS"] = True
-    DEFINES["NOMINMAX"] = True
-    DEFINES["NO_TCMALLOC"] = True
-    DEFINES["NTDDI_VERSION"] = "0x0A000000"
-    DEFINES["PSAPI_VERSION"] = "1"
-    DEFINES["UNICODE"] = True
-    DEFINES["WEBRTC_WIN"] = True
-    DEFINES["WIN32"] = True
-    DEFINES["WIN32_LEAN_AND_MEAN"] = True
-    DEFINES["WINVER"] = "0x0A00"
-    DEFINES["_ATL_NO_OPENGL"] = True
-    DEFINES["_CRT_RAND_S"] = True
-    DEFINES["_CRT_SECURE_NO_DEPRECATE"] = True
-    DEFINES["_CRT_SECURE_NO_WARNINGS"] = True
-    DEFINES["_HAS_EXCEPTIONS"] = "0"
-    DEFINES["_SCL_SECURE_NO_DEPRECATE"] = True
-    DEFINES["_SECURE_ATL"] = True
-    DEFINES["_UNICODE"] = True
-    DEFINES["_USING_V110_SDK71_"] = True
-    DEFINES["_WIN32_WINNT"] = "0x0A00"
-    DEFINES["_WINDOWS"] = True
-    DEFINES["__STD_C"] = True
-
-    OS_LIBS += [
-        "d3d11",
-        "dxgi",
-        "winmm"
-    ]
-
-    SOURCES += [
-        "/media/webrtc/trunk/webrtc/modules/desktop_capture/win/screen_capturer_win_gdi.cc"
-    ]
-
-    UNIFIED_SOURCES += [
-        "/media/webrtc/trunk/webrtc/modules/desktop_capture/cropping_window_capturer_win.cc",
-        "/media/webrtc/trunk/webrtc/modules/desktop_capture/desktop_frame_win.cc",
-        "/media/webrtc/trunk/webrtc/modules/desktop_capture/mouse_cursor_monitor_win.cc",
-        "/media/webrtc/trunk/webrtc/modules/desktop_capture/screen_capturer_win.cc",
-        "/media/webrtc/trunk/webrtc/modules/desktop_capture/win/cursor.cc",
-        "/media/webrtc/trunk/webrtc/modules/desktop_capture/win/d3d_device.cc",
-        "/media/webrtc/trunk/webrtc/modules/desktop_capture/win/desktop.cc",
-        "/media/webrtc/trunk/webrtc/modules/desktop_capture/win/desktop_device_info_win.cc",
-        "/media/webrtc/trunk/webrtc/modules/desktop_capture/win/display_configuration_monitor.cc",
-        "/media/webrtc/trunk/webrtc/modules/desktop_capture/win/dxgi_adapter_duplicator.cc",
-        "/media/webrtc/trunk/webrtc/modules/desktop_capture/win/dxgi_context.cc",
-        "/media/webrtc/trunk/webrtc/modules/desktop_capture/win/dxgi_duplicator_controller.cc",
-        "/media/webrtc/trunk/webrtc/modules/desktop_capture/win/dxgi_frame.cc",
-        "/media/webrtc/trunk/webrtc/modules/desktop_capture/win/dxgi_output_duplicator.cc",
-        "/media/webrtc/trunk/webrtc/modules/desktop_capture/win/dxgi_texture.cc",
-        "/media/webrtc/trunk/webrtc/modules/desktop_capture/win/dxgi_texture_mapping.cc",
-        "/media/webrtc/trunk/webrtc/modules/desktop_capture/win/dxgi_texture_staging.cc",
-        "/media/webrtc/trunk/webrtc/modules/desktop_capture/win/scoped_thread_desktop.cc",
-        "/media/webrtc/trunk/webrtc/modules/desktop_capture/win/screen_capture_utils.cc",
-        "/media/webrtc/trunk/webrtc/modules/desktop_capture/win/screen_capturer_win_directx.cc",
-        "/media/webrtc/trunk/webrtc/modules/desktop_capture/win/screen_capturer_win_magnifier.cc",
-        "/media/webrtc/trunk/webrtc/modules/desktop_capture/win/win_shared.cc",
-        "/media/webrtc/trunk/webrtc/modules/desktop_capture/win/window_capture_utils.cc",
-        "/media/webrtc/trunk/webrtc/modules/desktop_capture/window_capturer_win.cc",
-        "/media/webrtc/trunk/webrtc/modules/desktop_capture/window_finder_win.cc"
-    ]
-
-if CONFIG["CPU_ARCH"] == "aarch64":
-
-    DEFINES["WEBRTC_ARCH_ARM64"] = True
-    DEFINES["WEBRTC_HAS_NEON"] = True
-
 if CONFIG["CPU_ARCH"] == "arm":
 
     CXXFLAGS += [
@@ -346,11 +341,16 @@ if CONFIG["CPU_ARCH"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["CPU_ARCH"] == "aarch64":
+
+    DEFINES["WEBRTC_ARCH_ARM64"] = True
+    DEFINES["WEBRTC_HAS_NEON"] = True
+
 if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Darwin":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "DragonFly":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "OpenBSD":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
@@ -358,14 +358,20 @@ if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "FreeBSD":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "NetBSD":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "DragonFly":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "OpenBSD":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "NetBSD":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "NetBSD":
+
+    CXXFLAGS += [
+        "-msse2"
+    ]
+
 if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "FreeBSD":
 
     CXXFLAGS += [
@@ -383,12 +389,6 @@ if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "Linux":
         "-msse2"
     ]
 
-if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "NetBSD":
-
-    CXXFLAGS += [
-        "-msse2"
-    ]
-
 if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "OpenBSD":
 
     CXXFLAGS += [
diff --git a/media/webrtc/trunk/webrtc/modules/desktop_capture/desktop_capture_gn/moz.build b/media/webrtc/trunk/webrtc/modules/desktop_capture/desktop_capture_gn/moz.build
index 2b1e32c266d6..7736583591e9 100644
--- a/media/webrtc/trunk/webrtc/modules/desktop_capture/desktop_capture_gn/moz.build
+++ b/media/webrtc/trunk/webrtc/modules/desktop_capture/desktop_capture_gn/moz.build
@@ -26,33 +26,18 @@ LOCAL_INCLUDES += [
     "/media/webrtc/trunk/webrtc/"
 ]
 
-if not CONFIG["MOZ_DEBUG"]:
-
-    DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "0"
-    DEFINES["NDEBUG"] = True
-    DEFINES["NVALGRIND"] = True
-
 if CONFIG["MOZ_DEBUG"] == "1":
 
     DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "1"
     DEFINES["WTF_USE_DYNAMIC_ANNOTATIONS"] = "1"
 
-if CONFIG["OS_TARGET"] == "Darwin":
-
-    DEFINES["CR_XCODE_VERSION"] = "0920"
-    DEFINES["NO_TCMALLOC"] = True
-    DEFINES["WEBRTC_MAC"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["__ASSERT_MACROS_DEFINE_VERSIONS_WITHOUT_UNDERSCORE"] = "0"
+if not CONFIG["MOZ_DEBUG"]:
 
-    OS_LIBS += [
-        "-framework AppKit",
-        "-framework Foundation",
-        "-framework IOKit",
-        "-framework OpenGL"
-    ]
+    DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "0"
+    DEFINES["NDEBUG"] = True
+    DEFINES["NVALGRIND"] = True
 
-if CONFIG["OS_TARGET"] == "DragonFly":
+if CONFIG["OS_TARGET"] == "NetBSD":
 
     DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_BSD"] = True
@@ -72,14 +57,16 @@ if CONFIG["OS_TARGET"] == "DragonFly":
         "Xrender"
     ]
 
-if CONFIG["OS_TARGET"] == "FreeBSD":
+if CONFIG["OS_TARGET"] == "Linux":
 
+    DEFINES["USE_NSS_CERTS"] = "1"
     DEFINES["USE_X11"] = "1"
-    DEFINES["WEBRTC_BSD"] = True
+    DEFINES["WEBRTC_LINUX"] = True
     DEFINES["WEBRTC_POSIX"] = True
     DEFINES["_FILE_OFFSET_BITS"] = "64"
 
     OS_LIBS += [
+        "rt",
         "X11",
         "X11-xcb",
         "xcb",
@@ -92,16 +79,14 @@ if CONFIG["OS_TARGET"] == "FreeBSD":
         "Xrender"
     ]
 
-if CONFIG["OS_TARGET"] == "Linux":
+if CONFIG["OS_TARGET"] == "DragonFly":
 
-    DEFINES["USE_NSS_CERTS"] = "1"
     DEFINES["USE_X11"] = "1"
-    DEFINES["WEBRTC_LINUX"] = True
+    DEFINES["WEBRTC_BSD"] = True
     DEFINES["WEBRTC_POSIX"] = True
     DEFINES["_FILE_OFFSET_BITS"] = "64"
 
     OS_LIBS += [
-        "rt",
         "X11",
         "X11-xcb",
         "xcb",
@@ -114,7 +99,53 @@ if CONFIG["OS_TARGET"] == "Linux":
         "Xrender"
     ]
 
-if CONFIG["OS_TARGET"] == "NetBSD":
+if CONFIG["OS_TARGET"] == "WINNT":
+
+    DEFINES["CERT_CHAIN_PARA_HAS_EXTRA_FIELDS"] = True
+    DEFINES["NOMINMAX"] = True
+    DEFINES["NO_TCMALLOC"] = True
+    DEFINES["NTDDI_VERSION"] = "0x0A000000"
+    DEFINES["PSAPI_VERSION"] = "1"
+    DEFINES["UNICODE"] = True
+    DEFINES["WEBRTC_WIN"] = True
+    DEFINES["WIN32"] = True
+    DEFINES["WIN32_LEAN_AND_MEAN"] = True
+    DEFINES["WINVER"] = "0x0A00"
+    DEFINES["_ATL_NO_OPENGL"] = True
+    DEFINES["_CRT_RAND_S"] = True
+    DEFINES["_CRT_SECURE_NO_DEPRECATE"] = True
+    DEFINES["_CRT_SECURE_NO_WARNINGS"] = True
+    DEFINES["_HAS_EXCEPTIONS"] = "0"
+    DEFINES["_SCL_SECURE_NO_DEPRECATE"] = True
+    DEFINES["_SECURE_ATL"] = True
+    DEFINES["_UNICODE"] = True
+    DEFINES["_USING_V110_SDK71_"] = True
+    DEFINES["_WIN32_WINNT"] = "0x0A00"
+    DEFINES["_WINDOWS"] = True
+    DEFINES["__STD_C"] = True
+
+    OS_LIBS += [
+        "d3d11",
+        "dxgi",
+        "winmm"
+    ]
+
+if CONFIG["OS_TARGET"] == "Darwin":
+
+    DEFINES["CR_XCODE_VERSION"] = "0920"
+    DEFINES["NO_TCMALLOC"] = True
+    DEFINES["WEBRTC_MAC"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["__ASSERT_MACROS_DEFINE_VERSIONS_WITHOUT_UNDERSCORE"] = "0"
+
+    OS_LIBS += [
+        "-framework AppKit",
+        "-framework Foundation",
+        "-framework IOKit",
+        "-framework OpenGL"
+    ]
+
+if CONFIG["OS_TARGET"] == "OpenBSD":
 
     DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_BSD"] = True
@@ -134,7 +165,7 @@ if CONFIG["OS_TARGET"] == "NetBSD":
         "Xrender"
     ]
 
-if CONFIG["OS_TARGET"] == "OpenBSD":
+if CONFIG["OS_TARGET"] == "FreeBSD":
 
     DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_BSD"] = True
@@ -154,53 +185,22 @@ if CONFIG["OS_TARGET"] == "OpenBSD":
         "Xrender"
     ]
 
-if CONFIG["OS_TARGET"] == "WINNT":
-
-    DEFINES["CERT_CHAIN_PARA_HAS_EXTRA_FIELDS"] = True
-    DEFINES["NOMINMAX"] = True
-    DEFINES["NO_TCMALLOC"] = True
-    DEFINES["NTDDI_VERSION"] = "0x0A000000"
-    DEFINES["PSAPI_VERSION"] = "1"
-    DEFINES["UNICODE"] = True
-    DEFINES["WEBRTC_WIN"] = True
-    DEFINES["WIN32"] = True
-    DEFINES["WIN32_LEAN_AND_MEAN"] = True
-    DEFINES["WINVER"] = "0x0A00"
-    DEFINES["_ATL_NO_OPENGL"] = True
-    DEFINES["_CRT_RAND_S"] = True
-    DEFINES["_CRT_SECURE_NO_DEPRECATE"] = True
-    DEFINES["_CRT_SECURE_NO_WARNINGS"] = True
-    DEFINES["_HAS_EXCEPTIONS"] = "0"
-    DEFINES["_SCL_SECURE_NO_DEPRECATE"] = True
-    DEFINES["_SECURE_ATL"] = True
-    DEFINES["_UNICODE"] = True
-    DEFINES["_USING_V110_SDK71_"] = True
-    DEFINES["_WIN32_WINNT"] = "0x0A00"
-    DEFINES["_WINDOWS"] = True
-    DEFINES["__STD_C"] = True
+if CONFIG["CPU_ARCH"] == "arm":
 
-    OS_LIBS += [
-        "d3d11",
-        "dxgi",
-        "winmm"
-    ]
+    DEFINES["WEBRTC_ARCH_ARM"] = True
+    DEFINES["WEBRTC_ARCH_ARM_V7"] = True
+    DEFINES["WEBRTC_HAS_NEON"] = True
 
 if CONFIG["CPU_ARCH"] == "aarch64":
 
     DEFINES["WEBRTC_ARCH_ARM64"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
-if CONFIG["CPU_ARCH"] == "arm":
-
-    DEFINES["WEBRTC_ARCH_ARM"] = True
-    DEFINES["WEBRTC_ARCH_ARM_V7"] = True
-    DEFINES["WEBRTC_HAS_NEON"] = True
-
 if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Darwin":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "DragonFly":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "OpenBSD":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
@@ -208,11 +208,11 @@ if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "FreeBSD":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "NetBSD":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "DragonFly":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "OpenBSD":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "NetBSD":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
diff --git a/media/webrtc/trunk/webrtc/modules/desktop_capture/desktop_capture_objc_gn/moz.build b/media/webrtc/trunk/webrtc/modules/desktop_capture/desktop_capture_objc_gn/moz.build
index 6bae3d1dea90..0c5255bd8263 100644
--- a/media/webrtc/trunk/webrtc/modules/desktop_capture/desktop_capture_objc_gn/moz.build
+++ b/media/webrtc/trunk/webrtc/modules/desktop_capture/desktop_capture_objc_gn/moz.build
@@ -46,6 +46,11 @@ UNIFIED_SOURCES += [
     "/media/webrtc/trunk/webrtc/modules/desktop_capture/window_finder_mac.mm"
 ]
 
+if CONFIG["MOZ_DEBUG"] == "1":
+
+    DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "1"
+    DEFINES["WTF_USE_DYNAMIC_ANNOTATIONS"] = "1"
+
 if not CONFIG["MOZ_DEBUG"]:
 
     DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "0"
@@ -53,9 +58,4 @@ if not CONFIG["MOZ_DEBUG"]:
     DEFINES["NVALGRIND"] = True
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if CONFIG["MOZ_DEBUG"] == "1":
-
-    DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "1"
-    DEFINES["WTF_USE_DYNAMIC_ANNOTATIONS"] = "1"
-
 Library("desktop_capture_objc_gn")
diff --git a/media/webrtc/trunk/webrtc/modules/desktop_capture/primitives_gn/moz.build b/media/webrtc/trunk/webrtc/modules/desktop_capture/primitives_gn/moz.build
index 7b920466da96..55cba39c5a90 100644
--- a/media/webrtc/trunk/webrtc/modules/desktop_capture/primitives_gn/moz.build
+++ b/media/webrtc/trunk/webrtc/modules/desktop_capture/primitives_gn/moz.build
@@ -34,33 +34,18 @@ UNIFIED_SOURCES += [
     "/media/webrtc/trunk/webrtc/modules/desktop_capture/shared_memory.cc"
 ]
 
-if not CONFIG["MOZ_DEBUG"]:
-
-    DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "0"
-    DEFINES["NDEBUG"] = True
-    DEFINES["NVALGRIND"] = True
-
 if CONFIG["MOZ_DEBUG"] == "1":
 
     DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "1"
     DEFINES["WTF_USE_DYNAMIC_ANNOTATIONS"] = "1"
 
-if CONFIG["OS_TARGET"] == "Darwin":
-
-    DEFINES["CR_XCODE_VERSION"] = "0920"
-    DEFINES["NO_TCMALLOC"] = True
-    DEFINES["WEBRTC_MAC"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["__ASSERT_MACROS_DEFINE_VERSIONS_WITHOUT_UNDERSCORE"] = "0"
-
-if CONFIG["OS_TARGET"] == "DragonFly":
+if not CONFIG["MOZ_DEBUG"]:
 
-    DEFINES["USE_X11"] = "1"
-    DEFINES["WEBRTC_BSD"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
+    DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "0"
+    DEFINES["NDEBUG"] = True
+    DEFINES["NVALGRIND"] = True
 
-if CONFIG["OS_TARGET"] == "FreeBSD":
+if CONFIG["OS_TARGET"] == "NetBSD":
 
     DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_BSD"] = True
@@ -75,14 +60,7 @@ if CONFIG["OS_TARGET"] == "Linux":
     DEFINES["WEBRTC_POSIX"] = True
     DEFINES["_FILE_OFFSET_BITS"] = "64"
 
-if CONFIG["OS_TARGET"] == "NetBSD":
-
-    DEFINES["USE_X11"] = "1"
-    DEFINES["WEBRTC_BSD"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
-
-if CONFIG["OS_TARGET"] == "OpenBSD":
+if CONFIG["OS_TARGET"] == "DragonFly":
 
     DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_BSD"] = True
@@ -114,10 +92,27 @@ if CONFIG["OS_TARGET"] == "WINNT":
     DEFINES["_WINDOWS"] = True
     DEFINES["__STD_C"] = True
 
-if CONFIG["CPU_ARCH"] == "aarch64":
+if CONFIG["OS_TARGET"] == "Darwin":
 
-    DEFINES["WEBRTC_ARCH_ARM64"] = True
-    DEFINES["WEBRTC_HAS_NEON"] = True
+    DEFINES["CR_XCODE_VERSION"] = "0920"
+    DEFINES["NO_TCMALLOC"] = True
+    DEFINES["WEBRTC_MAC"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["__ASSERT_MACROS_DEFINE_VERSIONS_WITHOUT_UNDERSCORE"] = "0"
+
+if CONFIG["OS_TARGET"] == "OpenBSD":
+
+    DEFINES["USE_X11"] = "1"
+    DEFINES["WEBRTC_BSD"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+
+if CONFIG["OS_TARGET"] == "FreeBSD":
+
+    DEFINES["USE_X11"] = "1"
+    DEFINES["WEBRTC_BSD"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
 
 if CONFIG["CPU_ARCH"] == "arm":
 
@@ -129,11 +124,16 @@ if CONFIG["CPU_ARCH"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["CPU_ARCH"] == "aarch64":
+
+    DEFINES["WEBRTC_ARCH_ARM64"] = True
+    DEFINES["WEBRTC_HAS_NEON"] = True
+
 if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Darwin":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "DragonFly":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "OpenBSD":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
@@ -141,14 +141,20 @@ if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "FreeBSD":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "NetBSD":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "DragonFly":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "OpenBSD":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "NetBSD":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "NetBSD":
+
+    CXXFLAGS += [
+        "-msse2"
+    ]
+
 if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "FreeBSD":
 
     CXXFLAGS += [
@@ -166,12 +172,6 @@ if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "Linux":
         "-msse2"
     ]
 
-if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "NetBSD":
-
-    CXXFLAGS += [
-        "-msse2"
-    ]
-
 if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "OpenBSD":
 
     CXXFLAGS += [
diff --git a/media/webrtc/trunk/webrtc/modules/media_file/media_file_gn/moz.build b/media/webrtc/trunk/webrtc/modules/media_file/media_file_gn/moz.build
index 90e9744a5505..31854e2cb9e8 100644
--- a/media/webrtc/trunk/webrtc/modules/media_file/media_file_gn/moz.build
+++ b/media/webrtc/trunk/webrtc/modules/media_file/media_file_gn/moz.build
@@ -34,56 +34,18 @@ UNIFIED_SOURCES += [
     "/media/webrtc/trunk/webrtc/modules/media_file/media_file_utility.cc"
 ]
 
-if not CONFIG["MOZ_DEBUG"]:
-
-    DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "0"
-    DEFINES["NDEBUG"] = True
-    DEFINES["NVALGRIND"] = True
-
 if CONFIG["MOZ_DEBUG"] == "1":
 
     DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "1"
     DEFINES["WTF_USE_DYNAMIC_ANNOTATIONS"] = "1"
 
-if CONFIG["OS_TARGET"] == "Android":
-
-    DEFINES["ANDROID"] = True
-    DEFINES["ANDROID_NDK_VERSION"] = "r12b"
-    DEFINES["DISABLE_NACL"] = True
-    DEFINES["HAVE_SYS_UIO_H"] = True
-    DEFINES["NO_TCMALLOC"] = True
-    DEFINES["USE_OPENSSL_CERTS"] = "1"
-    DEFINES["WEBRTC_ANDROID"] = True
-    DEFINES["WEBRTC_ANDROID_OPENSLES"] = True
-    DEFINES["WEBRTC_LINUX"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
-    DEFINES["__GNU_SOURCE"] = "1"
-
-    OS_LIBS += [
-        "log"
-    ]
-
-if CONFIG["OS_TARGET"] == "Darwin":
-
-    DEFINES["CR_XCODE_VERSION"] = "0920"
-    DEFINES["NO_TCMALLOC"] = True
-    DEFINES["WEBRTC_MAC"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["__ASSERT_MACROS_DEFINE_VERSIONS_WITHOUT_UNDERSCORE"] = "0"
-
-    OS_LIBS += [
-        "-framework Foundation"
-    ]
-
-if CONFIG["OS_TARGET"] == "DragonFly":
+if not CONFIG["MOZ_DEBUG"]:
 
-    DEFINES["USE_X11"] = "1"
-    DEFINES["WEBRTC_BSD"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
+    DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "0"
+    DEFINES["NDEBUG"] = True
+    DEFINES["NVALGRIND"] = True
 
-if CONFIG["OS_TARGET"] == "FreeBSD":
+if CONFIG["OS_TARGET"] == "NetBSD":
 
     DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_BSD"] = True
@@ -93,7 +55,6 @@ if CONFIG["OS_TARGET"] == "FreeBSD":
 if CONFIG["OS_TARGET"] == "Linux":
 
     DEFINES["USE_NSS_CERTS"] = "1"
-    DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_LINUX"] = True
     DEFINES["WEBRTC_POSIX"] = True
     DEFINES["_FILE_OFFSET_BITS"] = "64"
@@ -102,14 +63,7 @@ if CONFIG["OS_TARGET"] == "Linux":
         "rt"
     ]
 
-if CONFIG["OS_TARGET"] == "NetBSD":
-
-    DEFINES["USE_X11"] = "1"
-    DEFINES["WEBRTC_BSD"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
-
-if CONFIG["OS_TARGET"] == "OpenBSD":
+if CONFIG["OS_TARGET"] == "DragonFly":
 
     DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_BSD"] = True
@@ -145,10 +99,50 @@ if CONFIG["OS_TARGET"] == "WINNT":
         "winmm"
     ]
 
-if CONFIG["CPU_ARCH"] == "aarch64":
+if CONFIG["OS_TARGET"] == "Darwin":
 
-    DEFINES["WEBRTC_ARCH_ARM64"] = True
-    DEFINES["WEBRTC_HAS_NEON"] = True
+    DEFINES["CR_XCODE_VERSION"] = "0920"
+    DEFINES["NO_TCMALLOC"] = True
+    DEFINES["WEBRTC_MAC"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["__ASSERT_MACROS_DEFINE_VERSIONS_WITHOUT_UNDERSCORE"] = "0"
+
+    OS_LIBS += [
+        "-framework Foundation"
+    ]
+
+if CONFIG["OS_TARGET"] == "OpenBSD":
+
+    DEFINES["USE_X11"] = "1"
+    DEFINES["WEBRTC_BSD"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+
+if CONFIG["OS_TARGET"] == "FreeBSD":
+
+    DEFINES["USE_X11"] = "1"
+    DEFINES["WEBRTC_BSD"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+
+if CONFIG["OS_TARGET"] == "Android":
+
+    DEFINES["ANDROID"] = True
+    DEFINES["ANDROID_NDK_VERSION"] = "r12b"
+    DEFINES["DISABLE_NACL"] = True
+    DEFINES["HAVE_SYS_UIO_H"] = True
+    DEFINES["NO_TCMALLOC"] = True
+    DEFINES["USE_OPENSSL_CERTS"] = "1"
+    DEFINES["WEBRTC_ANDROID"] = True
+    DEFINES["WEBRTC_ANDROID_OPENSLES"] = True
+    DEFINES["WEBRTC_LINUX"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+    DEFINES["__GNU_SOURCE"] = "1"
+
+    OS_LIBS += [
+        "log"
+    ]
 
 if CONFIG["CPU_ARCH"] == "arm":
 
@@ -160,15 +154,24 @@ if CONFIG["CPU_ARCH"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Android":
+if CONFIG["CPU_ARCH"] == "ppc64":
 
-    DEFINES["_FORTIFY_SOURCE"] = "2"
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "mips64":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "aarch64":
+
+    DEFINES["WEBRTC_ARCH_ARM64"] = True
+    DEFINES["WEBRTC_HAS_NEON"] = True
 
 if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Darwin":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "DragonFly":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "OpenBSD":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
@@ -176,20 +179,28 @@ if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "FreeBSD":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "NetBSD":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Android":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "OpenBSD":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "DragonFly":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "Android":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "NetBSD":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "NetBSD":
 
     CXXFLAGS += [
         "-msse2"
     ]
 
+if CONFIG["CPU_ARCH"] == "x86_64" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
 if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "FreeBSD":
 
     CXXFLAGS += [
@@ -207,7 +218,7 @@ if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "Linux":
         "-msse2"
     ]
 
-if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "NetBSD":
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "Android":
 
     CXXFLAGS += [
         "-msse2"
@@ -219,4 +230,32 @@ if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "OpenBSD":
         "-msse2"
     ]
 
+if CONFIG["CPU_ARCH"] == "arm" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "aarch64" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "arm" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "aarch64" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["HOST_CPU_ARCH"] == "x86_64" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["HOST_CPU_ARCH"] == "x86" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
 Library("media_file_gn")
diff --git a/media/webrtc/trunk/webrtc/modules/module_api_gn/moz.build b/media/webrtc/trunk/webrtc/modules/module_api_gn/moz.build
index db2a3ee732ed..1e4b3888b466 100644
--- a/media/webrtc/trunk/webrtc/modules/module_api_gn/moz.build
+++ b/media/webrtc/trunk/webrtc/modules/module_api_gn/moz.build
@@ -26,56 +26,18 @@ LOCAL_INCLUDES += [
     "/media/webrtc/trunk/webrtc/"
 ]
 
-if not CONFIG["MOZ_DEBUG"]:
-
-    DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "0"
-    DEFINES["NDEBUG"] = True
-    DEFINES["NVALGRIND"] = True
-
 if CONFIG["MOZ_DEBUG"] == "1":
 
     DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "1"
     DEFINES["WTF_USE_DYNAMIC_ANNOTATIONS"] = "1"
 
-if CONFIG["OS_TARGET"] == "Android":
-
-    DEFINES["ANDROID"] = True
-    DEFINES["ANDROID_NDK_VERSION"] = "r12b"
-    DEFINES["DISABLE_NACL"] = True
-    DEFINES["HAVE_SYS_UIO_H"] = True
-    DEFINES["NO_TCMALLOC"] = True
-    DEFINES["USE_OPENSSL_CERTS"] = "1"
-    DEFINES["WEBRTC_ANDROID"] = True
-    DEFINES["WEBRTC_ANDROID_OPENSLES"] = True
-    DEFINES["WEBRTC_LINUX"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
-    DEFINES["__GNU_SOURCE"] = "1"
-
-    OS_LIBS += [
-        "log"
-    ]
-
-if CONFIG["OS_TARGET"] == "Darwin":
-
-    DEFINES["CR_XCODE_VERSION"] = "0920"
-    DEFINES["NO_TCMALLOC"] = True
-    DEFINES["WEBRTC_MAC"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["__ASSERT_MACROS_DEFINE_VERSIONS_WITHOUT_UNDERSCORE"] = "0"
-
-    OS_LIBS += [
-        "-framework Foundation"
-    ]
-
-if CONFIG["OS_TARGET"] == "DragonFly":
+if not CONFIG["MOZ_DEBUG"]:
 
-    DEFINES["USE_X11"] = "1"
-    DEFINES["WEBRTC_BSD"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
+    DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "0"
+    DEFINES["NDEBUG"] = True
+    DEFINES["NVALGRIND"] = True
 
-if CONFIG["OS_TARGET"] == "FreeBSD":
+if CONFIG["OS_TARGET"] == "NetBSD":
 
     DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_BSD"] = True
@@ -85,7 +47,6 @@ if CONFIG["OS_TARGET"] == "FreeBSD":
 if CONFIG["OS_TARGET"] == "Linux":
 
     DEFINES["USE_NSS_CERTS"] = "1"
-    DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_LINUX"] = True
     DEFINES["WEBRTC_POSIX"] = True
     DEFINES["_FILE_OFFSET_BITS"] = "64"
@@ -94,14 +55,7 @@ if CONFIG["OS_TARGET"] == "Linux":
         "rt"
     ]
 
-if CONFIG["OS_TARGET"] == "NetBSD":
-
-    DEFINES["USE_X11"] = "1"
-    DEFINES["WEBRTC_BSD"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
-
-if CONFIG["OS_TARGET"] == "OpenBSD":
+if CONFIG["OS_TARGET"] == "DragonFly":
 
     DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_BSD"] = True
@@ -137,10 +91,50 @@ if CONFIG["OS_TARGET"] == "WINNT":
         "winmm"
     ]
 
-if CONFIG["CPU_ARCH"] == "aarch64":
+if CONFIG["OS_TARGET"] == "Darwin":
 
-    DEFINES["WEBRTC_ARCH_ARM64"] = True
-    DEFINES["WEBRTC_HAS_NEON"] = True
+    DEFINES["CR_XCODE_VERSION"] = "0920"
+    DEFINES["NO_TCMALLOC"] = True
+    DEFINES["WEBRTC_MAC"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["__ASSERT_MACROS_DEFINE_VERSIONS_WITHOUT_UNDERSCORE"] = "0"
+
+    OS_LIBS += [
+        "-framework Foundation"
+    ]
+
+if CONFIG["OS_TARGET"] == "OpenBSD":
+
+    DEFINES["USE_X11"] = "1"
+    DEFINES["WEBRTC_BSD"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+
+if CONFIG["OS_TARGET"] == "FreeBSD":
+
+    DEFINES["USE_X11"] = "1"
+    DEFINES["WEBRTC_BSD"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+
+if CONFIG["OS_TARGET"] == "Android":
+
+    DEFINES["ANDROID"] = True
+    DEFINES["ANDROID_NDK_VERSION"] = "r12b"
+    DEFINES["DISABLE_NACL"] = True
+    DEFINES["HAVE_SYS_UIO_H"] = True
+    DEFINES["NO_TCMALLOC"] = True
+    DEFINES["USE_OPENSSL_CERTS"] = "1"
+    DEFINES["WEBRTC_ANDROID"] = True
+    DEFINES["WEBRTC_ANDROID_OPENSLES"] = True
+    DEFINES["WEBRTC_LINUX"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+    DEFINES["__GNU_SOURCE"] = "1"
+
+    OS_LIBS += [
+        "log"
+    ]
 
 if CONFIG["CPU_ARCH"] == "arm":
 
@@ -148,15 +142,24 @@ if CONFIG["CPU_ARCH"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Android":
+if CONFIG["CPU_ARCH"] == "ppc64":
 
-    DEFINES["_FORTIFY_SOURCE"] = "2"
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "mips64":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "aarch64":
+
+    DEFINES["WEBRTC_ARCH_ARM64"] = True
+    DEFINES["WEBRTC_HAS_NEON"] = True
 
 if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Darwin":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "DragonFly":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "OpenBSD":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
@@ -164,17 +167,53 @@ if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "FreeBSD":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "NetBSD":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Android":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "OpenBSD":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "DragonFly":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "NetBSD":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
+if CONFIG["CPU_ARCH"] == "x86_64" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
 if CONFIG["CPU_ARCH"] == "aarch64" and CONFIG["OS_TARGET"] == "Linux":
 
     DEFINES["DISABLE_NACL"] = True
     DEFINES["NO_TCMALLOC"] = True
 
+if CONFIG["CPU_ARCH"] == "arm" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "aarch64" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "arm" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "aarch64" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["HOST_CPU_ARCH"] == "x86_64" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["HOST_CPU_ARCH"] == "x86" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
 Library("module_api_gn")
diff --git a/media/webrtc/trunk/webrtc/modules/module_api_public_gn/moz.build b/media/webrtc/trunk/webrtc/modules/module_api_public_gn/moz.build
index 936b9b4f0ed0..f4ee69dcbba1 100644
--- a/media/webrtc/trunk/webrtc/modules/module_api_public_gn/moz.build
+++ b/media/webrtc/trunk/webrtc/modules/module_api_public_gn/moz.build
@@ -26,56 +26,18 @@ LOCAL_INCLUDES += [
     "/media/webrtc/trunk/webrtc/"
 ]
 
-if not CONFIG["MOZ_DEBUG"]:
-
-    DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "0"
-    DEFINES["NDEBUG"] = True
-    DEFINES["NVALGRIND"] = True
-
 if CONFIG["MOZ_DEBUG"] == "1":
 
     DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "1"
     DEFINES["WTF_USE_DYNAMIC_ANNOTATIONS"] = "1"
 
-if CONFIG["OS_TARGET"] == "Android":
-
-    DEFINES["ANDROID"] = True
-    DEFINES["ANDROID_NDK_VERSION"] = "r12b"
-    DEFINES["DISABLE_NACL"] = True
-    DEFINES["HAVE_SYS_UIO_H"] = True
-    DEFINES["NO_TCMALLOC"] = True
-    DEFINES["USE_OPENSSL_CERTS"] = "1"
-    DEFINES["WEBRTC_ANDROID"] = True
-    DEFINES["WEBRTC_ANDROID_OPENSLES"] = True
-    DEFINES["WEBRTC_LINUX"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
-    DEFINES["__GNU_SOURCE"] = "1"
-
-    OS_LIBS += [
-        "log"
-    ]
-
-if CONFIG["OS_TARGET"] == "Darwin":
-
-    DEFINES["CR_XCODE_VERSION"] = "0920"
-    DEFINES["NO_TCMALLOC"] = True
-    DEFINES["WEBRTC_MAC"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["__ASSERT_MACROS_DEFINE_VERSIONS_WITHOUT_UNDERSCORE"] = "0"
-
-    OS_LIBS += [
-        "-framework Foundation"
-    ]
-
-if CONFIG["OS_TARGET"] == "DragonFly":
+if not CONFIG["MOZ_DEBUG"]:
 
-    DEFINES["USE_X11"] = "1"
-    DEFINES["WEBRTC_BSD"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
+    DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "0"
+    DEFINES["NDEBUG"] = True
+    DEFINES["NVALGRIND"] = True
 
-if CONFIG["OS_TARGET"] == "FreeBSD":
+if CONFIG["OS_TARGET"] == "NetBSD":
 
     DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_BSD"] = True
@@ -85,19 +47,11 @@ if CONFIG["OS_TARGET"] == "FreeBSD":
 if CONFIG["OS_TARGET"] == "Linux":
 
     DEFINES["USE_NSS_CERTS"] = "1"
-    DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_LINUX"] = True
     DEFINES["WEBRTC_POSIX"] = True
     DEFINES["_FILE_OFFSET_BITS"] = "64"
 
-if CONFIG["OS_TARGET"] == "NetBSD":
-
-    DEFINES["USE_X11"] = "1"
-    DEFINES["WEBRTC_BSD"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
-
-if CONFIG["OS_TARGET"] == "OpenBSD":
+if CONFIG["OS_TARGET"] == "DragonFly":
 
     DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_BSD"] = True
@@ -129,10 +83,50 @@ if CONFIG["OS_TARGET"] == "WINNT":
     DEFINES["_WINDOWS"] = True
     DEFINES["__STD_C"] = True
 
-if CONFIG["CPU_ARCH"] == "aarch64":
+if CONFIG["OS_TARGET"] == "Darwin":
 
-    DEFINES["WEBRTC_ARCH_ARM64"] = True
-    DEFINES["WEBRTC_HAS_NEON"] = True
+    DEFINES["CR_XCODE_VERSION"] = "0920"
+    DEFINES["NO_TCMALLOC"] = True
+    DEFINES["WEBRTC_MAC"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["__ASSERT_MACROS_DEFINE_VERSIONS_WITHOUT_UNDERSCORE"] = "0"
+
+    OS_LIBS += [
+        "-framework Foundation"
+    ]
+
+if CONFIG["OS_TARGET"] == "OpenBSD":
+
+    DEFINES["USE_X11"] = "1"
+    DEFINES["WEBRTC_BSD"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+
+if CONFIG["OS_TARGET"] == "FreeBSD":
+
+    DEFINES["USE_X11"] = "1"
+    DEFINES["WEBRTC_BSD"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+
+if CONFIG["OS_TARGET"] == "Android":
+
+    DEFINES["ANDROID"] = True
+    DEFINES["ANDROID_NDK_VERSION"] = "r12b"
+    DEFINES["DISABLE_NACL"] = True
+    DEFINES["HAVE_SYS_UIO_H"] = True
+    DEFINES["NO_TCMALLOC"] = True
+    DEFINES["USE_OPENSSL_CERTS"] = "1"
+    DEFINES["WEBRTC_ANDROID"] = True
+    DEFINES["WEBRTC_ANDROID_OPENSLES"] = True
+    DEFINES["WEBRTC_LINUX"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+    DEFINES["__GNU_SOURCE"] = "1"
+
+    OS_LIBS += [
+        "log"
+    ]
 
 if CONFIG["CPU_ARCH"] == "arm":
 
@@ -140,15 +134,24 @@ if CONFIG["CPU_ARCH"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Android":
+if CONFIG["CPU_ARCH"] == "ppc64":
 
-    DEFINES["_FORTIFY_SOURCE"] = "2"
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "mips64":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "aarch64":
+
+    DEFINES["WEBRTC_ARCH_ARM64"] = True
+    DEFINES["WEBRTC_HAS_NEON"] = True
 
 if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Darwin":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "DragonFly":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "OpenBSD":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
@@ -156,17 +159,53 @@ if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "FreeBSD":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "NetBSD":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Android":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "OpenBSD":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "DragonFly":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "NetBSD":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
+if CONFIG["CPU_ARCH"] == "x86_64" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
 if CONFIG["CPU_ARCH"] == "aarch64" and CONFIG["OS_TARGET"] == "Linux":
 
     DEFINES["DISABLE_NACL"] = True
     DEFINES["NO_TCMALLOC"] = True
 
+if CONFIG["CPU_ARCH"] == "arm" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "aarch64" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "arm" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "aarch64" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["HOST_CPU_ARCH"] == "x86_64" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["HOST_CPU_ARCH"] == "x86" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
 Library("module_api_public_gn")
diff --git a/media/webrtc/trunk/webrtc/modules/pacing/pacing_gn/moz.build b/media/webrtc/trunk/webrtc/modules/pacing/pacing_gn/moz.build
index 271d6fd35f87..06838a45fda9 100644
--- a/media/webrtc/trunk/webrtc/modules/pacing/pacing_gn/moz.build
+++ b/media/webrtc/trunk/webrtc/modules/pacing/pacing_gn/moz.build
@@ -36,56 +36,18 @@ UNIFIED_SOURCES += [
     "/media/webrtc/trunk/webrtc/modules/pacing/packet_router.cc"
 ]
 
-if not CONFIG["MOZ_DEBUG"]:
-
-    DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "0"
-    DEFINES["NDEBUG"] = True
-    DEFINES["NVALGRIND"] = True
-
 if CONFIG["MOZ_DEBUG"] == "1":
 
     DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "1"
     DEFINES["WTF_USE_DYNAMIC_ANNOTATIONS"] = "1"
 
-if CONFIG["OS_TARGET"] == "Android":
-
-    DEFINES["ANDROID"] = True
-    DEFINES["ANDROID_NDK_VERSION"] = "r12b"
-    DEFINES["DISABLE_NACL"] = True
-    DEFINES["HAVE_SYS_UIO_H"] = True
-    DEFINES["NO_TCMALLOC"] = True
-    DEFINES["USE_OPENSSL_CERTS"] = "1"
-    DEFINES["WEBRTC_ANDROID"] = True
-    DEFINES["WEBRTC_ANDROID_OPENSLES"] = True
-    DEFINES["WEBRTC_LINUX"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
-    DEFINES["__GNU_SOURCE"] = "1"
-
-    OS_LIBS += [
-        "log"
-    ]
-
-if CONFIG["OS_TARGET"] == "Darwin":
-
-    DEFINES["CR_XCODE_VERSION"] = "0920"
-    DEFINES["NO_TCMALLOC"] = True
-    DEFINES["WEBRTC_MAC"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["__ASSERT_MACROS_DEFINE_VERSIONS_WITHOUT_UNDERSCORE"] = "0"
-
-    OS_LIBS += [
-        "-framework Foundation"
-    ]
-
-if CONFIG["OS_TARGET"] == "DragonFly":
+if not CONFIG["MOZ_DEBUG"]:
 
-    DEFINES["USE_X11"] = "1"
-    DEFINES["WEBRTC_BSD"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
+    DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "0"
+    DEFINES["NDEBUG"] = True
+    DEFINES["NVALGRIND"] = True
 
-if CONFIG["OS_TARGET"] == "FreeBSD":
+if CONFIG["OS_TARGET"] == "NetBSD":
 
     DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_BSD"] = True
@@ -95,7 +57,6 @@ if CONFIG["OS_TARGET"] == "FreeBSD":
 if CONFIG["OS_TARGET"] == "Linux":
 
     DEFINES["USE_NSS_CERTS"] = "1"
-    DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_LINUX"] = True
     DEFINES["WEBRTC_POSIX"] = True
     DEFINES["_FILE_OFFSET_BITS"] = "64"
@@ -104,14 +65,7 @@ if CONFIG["OS_TARGET"] == "Linux":
         "rt"
     ]
 
-if CONFIG["OS_TARGET"] == "NetBSD":
-
-    DEFINES["USE_X11"] = "1"
-    DEFINES["WEBRTC_BSD"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
-
-if CONFIG["OS_TARGET"] == "OpenBSD":
+if CONFIG["OS_TARGET"] == "DragonFly":
 
     DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_BSD"] = True
@@ -147,10 +101,50 @@ if CONFIG["OS_TARGET"] == "WINNT":
         "winmm"
     ]
 
-if CONFIG["CPU_ARCH"] == "aarch64":
+if CONFIG["OS_TARGET"] == "Darwin":
 
-    DEFINES["WEBRTC_ARCH_ARM64"] = True
-    DEFINES["WEBRTC_HAS_NEON"] = True
+    DEFINES["CR_XCODE_VERSION"] = "0920"
+    DEFINES["NO_TCMALLOC"] = True
+    DEFINES["WEBRTC_MAC"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["__ASSERT_MACROS_DEFINE_VERSIONS_WITHOUT_UNDERSCORE"] = "0"
+
+    OS_LIBS += [
+        "-framework Foundation"
+    ]
+
+if CONFIG["OS_TARGET"] == "OpenBSD":
+
+    DEFINES["USE_X11"] = "1"
+    DEFINES["WEBRTC_BSD"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+
+if CONFIG["OS_TARGET"] == "FreeBSD":
+
+    DEFINES["USE_X11"] = "1"
+    DEFINES["WEBRTC_BSD"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+
+if CONFIG["OS_TARGET"] == "Android":
+
+    DEFINES["ANDROID"] = True
+    DEFINES["ANDROID_NDK_VERSION"] = "r12b"
+    DEFINES["DISABLE_NACL"] = True
+    DEFINES["HAVE_SYS_UIO_H"] = True
+    DEFINES["NO_TCMALLOC"] = True
+    DEFINES["USE_OPENSSL_CERTS"] = "1"
+    DEFINES["WEBRTC_ANDROID"] = True
+    DEFINES["WEBRTC_ANDROID_OPENSLES"] = True
+    DEFINES["WEBRTC_LINUX"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+    DEFINES["__GNU_SOURCE"] = "1"
+
+    OS_LIBS += [
+        "log"
+    ]
 
 if CONFIG["CPU_ARCH"] == "arm":
 
@@ -162,15 +156,24 @@ if CONFIG["CPU_ARCH"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Android":
+if CONFIG["CPU_ARCH"] == "ppc64":
 
-    DEFINES["_FORTIFY_SOURCE"] = "2"
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "mips64":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "aarch64":
+
+    DEFINES["WEBRTC_ARCH_ARM64"] = True
+    DEFINES["WEBRTC_HAS_NEON"] = True
 
 if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Darwin":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "DragonFly":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "OpenBSD":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
@@ -178,20 +181,28 @@ if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "FreeBSD":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "NetBSD":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Android":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "OpenBSD":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "DragonFly":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "Android":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "NetBSD":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "NetBSD":
 
     CXXFLAGS += [
         "-msse2"
     ]
 
+if CONFIG["CPU_ARCH"] == "x86_64" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
 if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "FreeBSD":
 
     CXXFLAGS += [
@@ -209,7 +220,7 @@ if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "Linux":
         "-msse2"
     ]
 
-if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "NetBSD":
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "Android":
 
     CXXFLAGS += [
         "-msse2"
@@ -221,4 +232,32 @@ if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "OpenBSD":
         "-msse2"
     ]
 
+if CONFIG["CPU_ARCH"] == "arm" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "aarch64" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "arm" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "aarch64" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["HOST_CPU_ARCH"] == "x86_64" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["HOST_CPU_ARCH"] == "x86" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
 Library("pacing_gn")
diff --git a/media/webrtc/trunk/webrtc/modules/remote_bitrate_estimator/remote_bitrate_estimator_gn/moz.build b/media/webrtc/trunk/webrtc/modules/remote_bitrate_estimator/remote_bitrate_estimator_gn/moz.build
index d0ad84c1eab0..59cff7a89b21 100644
--- a/media/webrtc/trunk/webrtc/modules/remote_bitrate_estimator/remote_bitrate_estimator_gn/moz.build
+++ b/media/webrtc/trunk/webrtc/modules/remote_bitrate_estimator/remote_bitrate_estimator_gn/moz.build
@@ -42,56 +42,18 @@ UNIFIED_SOURCES += [
     "/media/webrtc/trunk/webrtc/modules/remote_bitrate_estimator/send_time_history.cc"
 ]
 
-if not CONFIG["MOZ_DEBUG"]:
-
-    DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "0"
-    DEFINES["NDEBUG"] = True
-    DEFINES["NVALGRIND"] = True
-
 if CONFIG["MOZ_DEBUG"] == "1":
 
     DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "1"
     DEFINES["WTF_USE_DYNAMIC_ANNOTATIONS"] = "1"
 
-if CONFIG["OS_TARGET"] == "Android":
-
-    DEFINES["ANDROID"] = True
-    DEFINES["ANDROID_NDK_VERSION"] = "r12b"
-    DEFINES["DISABLE_NACL"] = True
-    DEFINES["HAVE_SYS_UIO_H"] = True
-    DEFINES["NO_TCMALLOC"] = True
-    DEFINES["USE_OPENSSL_CERTS"] = "1"
-    DEFINES["WEBRTC_ANDROID"] = True
-    DEFINES["WEBRTC_ANDROID_OPENSLES"] = True
-    DEFINES["WEBRTC_LINUX"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
-    DEFINES["__GNU_SOURCE"] = "1"
-
-    OS_LIBS += [
-        "log"
-    ]
-
-if CONFIG["OS_TARGET"] == "Darwin":
-
-    DEFINES["CR_XCODE_VERSION"] = "0920"
-    DEFINES["NO_TCMALLOC"] = True
-    DEFINES["WEBRTC_MAC"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["__ASSERT_MACROS_DEFINE_VERSIONS_WITHOUT_UNDERSCORE"] = "0"
-
-    OS_LIBS += [
-        "-framework Foundation"
-    ]
-
-if CONFIG["OS_TARGET"] == "DragonFly":
+if not CONFIG["MOZ_DEBUG"]:
 
-    DEFINES["USE_X11"] = "1"
-    DEFINES["WEBRTC_BSD"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
+    DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "0"
+    DEFINES["NDEBUG"] = True
+    DEFINES["NVALGRIND"] = True
 
-if CONFIG["OS_TARGET"] == "FreeBSD":
+if CONFIG["OS_TARGET"] == "NetBSD":
 
     DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_BSD"] = True
@@ -101,7 +63,6 @@ if CONFIG["OS_TARGET"] == "FreeBSD":
 if CONFIG["OS_TARGET"] == "Linux":
 
     DEFINES["USE_NSS_CERTS"] = "1"
-    DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_LINUX"] = True
     DEFINES["WEBRTC_POSIX"] = True
     DEFINES["_FILE_OFFSET_BITS"] = "64"
@@ -110,14 +71,7 @@ if CONFIG["OS_TARGET"] == "Linux":
         "rt"
     ]
 
-if CONFIG["OS_TARGET"] == "NetBSD":
-
-    DEFINES["USE_X11"] = "1"
-    DEFINES["WEBRTC_BSD"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
-
-if CONFIG["OS_TARGET"] == "OpenBSD":
+if CONFIG["OS_TARGET"] == "DragonFly":
 
     DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_BSD"] = True
@@ -153,10 +107,50 @@ if CONFIG["OS_TARGET"] == "WINNT":
         "winmm"
     ]
 
-if CONFIG["CPU_ARCH"] == "aarch64":
+if CONFIG["OS_TARGET"] == "Darwin":
 
-    DEFINES["WEBRTC_ARCH_ARM64"] = True
-    DEFINES["WEBRTC_HAS_NEON"] = True
+    DEFINES["CR_XCODE_VERSION"] = "0920"
+    DEFINES["NO_TCMALLOC"] = True
+    DEFINES["WEBRTC_MAC"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["__ASSERT_MACROS_DEFINE_VERSIONS_WITHOUT_UNDERSCORE"] = "0"
+
+    OS_LIBS += [
+        "-framework Foundation"
+    ]
+
+if CONFIG["OS_TARGET"] == "OpenBSD":
+
+    DEFINES["USE_X11"] = "1"
+    DEFINES["WEBRTC_BSD"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+
+if CONFIG["OS_TARGET"] == "FreeBSD":
+
+    DEFINES["USE_X11"] = "1"
+    DEFINES["WEBRTC_BSD"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+
+if CONFIG["OS_TARGET"] == "Android":
+
+    DEFINES["ANDROID"] = True
+    DEFINES["ANDROID_NDK_VERSION"] = "r12b"
+    DEFINES["DISABLE_NACL"] = True
+    DEFINES["HAVE_SYS_UIO_H"] = True
+    DEFINES["NO_TCMALLOC"] = True
+    DEFINES["USE_OPENSSL_CERTS"] = "1"
+    DEFINES["WEBRTC_ANDROID"] = True
+    DEFINES["WEBRTC_ANDROID_OPENSLES"] = True
+    DEFINES["WEBRTC_LINUX"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+    DEFINES["__GNU_SOURCE"] = "1"
+
+    OS_LIBS += [
+        "log"
+    ]
 
 if CONFIG["CPU_ARCH"] == "arm":
 
@@ -168,15 +162,24 @@ if CONFIG["CPU_ARCH"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Android":
+if CONFIG["CPU_ARCH"] == "ppc64":
 
-    DEFINES["_FORTIFY_SOURCE"] = "2"
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "mips64":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "aarch64":
+
+    DEFINES["WEBRTC_ARCH_ARM64"] = True
+    DEFINES["WEBRTC_HAS_NEON"] = True
 
 if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Darwin":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "DragonFly":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "OpenBSD":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
@@ -184,20 +187,28 @@ if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "FreeBSD":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "NetBSD":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Android":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "OpenBSD":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "DragonFly":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "Android":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "NetBSD":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "NetBSD":
 
     CXXFLAGS += [
         "-msse2"
     ]
 
+if CONFIG["CPU_ARCH"] == "x86_64" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
 if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "FreeBSD":
 
     CXXFLAGS += [
@@ -215,7 +226,7 @@ if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "Linux":
         "-msse2"
     ]
 
-if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "NetBSD":
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "Android":
 
     CXXFLAGS += [
         "-msse2"
@@ -227,4 +238,32 @@ if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "OpenBSD":
         "-msse2"
     ]
 
+if CONFIG["CPU_ARCH"] == "arm" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "aarch64" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "arm" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "aarch64" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["HOST_CPU_ARCH"] == "x86_64" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["HOST_CPU_ARCH"] == "x86" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
 Library("remote_bitrate_estimator_gn")
diff --git a/media/webrtc/trunk/webrtc/modules/rtp_rtcp/rtp_rtcp_format_gn/moz.build b/media/webrtc/trunk/webrtc/modules/rtp_rtcp/rtp_rtcp_format_gn/moz.build
index c73abb051ce3..f50f37ab9fc4 100644
--- a/media/webrtc/trunk/webrtc/modules/rtp_rtcp/rtp_rtcp_format_gn/moz.build
+++ b/media/webrtc/trunk/webrtc/modules/rtp_rtcp/rtp_rtcp_format_gn/moz.build
@@ -65,56 +65,18 @@ UNIFIED_SOURCES += [
     "/media/webrtc/trunk/webrtc/modules/rtp_rtcp/source/rtp_packet_received.cc"
 ]
 
-if not CONFIG["MOZ_DEBUG"]:
-
-    DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "0"
-    DEFINES["NDEBUG"] = True
-    DEFINES["NVALGRIND"] = True
-
 if CONFIG["MOZ_DEBUG"] == "1":
 
     DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "1"
     DEFINES["WTF_USE_DYNAMIC_ANNOTATIONS"] = "1"
 
-if CONFIG["OS_TARGET"] == "Android":
-
-    DEFINES["ANDROID"] = True
-    DEFINES["ANDROID_NDK_VERSION"] = "r12b"
-    DEFINES["DISABLE_NACL"] = True
-    DEFINES["HAVE_SYS_UIO_H"] = True
-    DEFINES["NO_TCMALLOC"] = True
-    DEFINES["USE_OPENSSL_CERTS"] = "1"
-    DEFINES["WEBRTC_ANDROID"] = True
-    DEFINES["WEBRTC_ANDROID_OPENSLES"] = True
-    DEFINES["WEBRTC_LINUX"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
-    DEFINES["__GNU_SOURCE"] = "1"
-
-    OS_LIBS += [
-        "log"
-    ]
-
-if CONFIG["OS_TARGET"] == "Darwin":
-
-    DEFINES["CR_XCODE_VERSION"] = "0920"
-    DEFINES["NO_TCMALLOC"] = True
-    DEFINES["WEBRTC_MAC"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["__ASSERT_MACROS_DEFINE_VERSIONS_WITHOUT_UNDERSCORE"] = "0"
-
-    OS_LIBS += [
-        "-framework Foundation"
-    ]
-
-if CONFIG["OS_TARGET"] == "DragonFly":
+if not CONFIG["MOZ_DEBUG"]:
 
-    DEFINES["USE_X11"] = "1"
-    DEFINES["WEBRTC_BSD"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
+    DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "0"
+    DEFINES["NDEBUG"] = True
+    DEFINES["NVALGRIND"] = True
 
-if CONFIG["OS_TARGET"] == "FreeBSD":
+if CONFIG["OS_TARGET"] == "NetBSD":
 
     DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_BSD"] = True
@@ -124,7 +86,6 @@ if CONFIG["OS_TARGET"] == "FreeBSD":
 if CONFIG["OS_TARGET"] == "Linux":
 
     DEFINES["USE_NSS_CERTS"] = "1"
-    DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_LINUX"] = True
     DEFINES["WEBRTC_POSIX"] = True
     DEFINES["_FILE_OFFSET_BITS"] = "64"
@@ -133,14 +94,7 @@ if CONFIG["OS_TARGET"] == "Linux":
         "rt"
     ]
 
-if CONFIG["OS_TARGET"] == "NetBSD":
-
-    DEFINES["USE_X11"] = "1"
-    DEFINES["WEBRTC_BSD"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
-
-if CONFIG["OS_TARGET"] == "OpenBSD":
+if CONFIG["OS_TARGET"] == "DragonFly":
 
     DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_BSD"] = True
@@ -176,10 +130,50 @@ if CONFIG["OS_TARGET"] == "WINNT":
         "winmm"
     ]
 
-if CONFIG["CPU_ARCH"] == "aarch64":
+if CONFIG["OS_TARGET"] == "Darwin":
 
-    DEFINES["WEBRTC_ARCH_ARM64"] = True
-    DEFINES["WEBRTC_HAS_NEON"] = True
+    DEFINES["CR_XCODE_VERSION"] = "0920"
+    DEFINES["NO_TCMALLOC"] = True
+    DEFINES["WEBRTC_MAC"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["__ASSERT_MACROS_DEFINE_VERSIONS_WITHOUT_UNDERSCORE"] = "0"
+
+    OS_LIBS += [
+        "-framework Foundation"
+    ]
+
+if CONFIG["OS_TARGET"] == "OpenBSD":
+
+    DEFINES["USE_X11"] = "1"
+    DEFINES["WEBRTC_BSD"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+
+if CONFIG["OS_TARGET"] == "FreeBSD":
+
+    DEFINES["USE_X11"] = "1"
+    DEFINES["WEBRTC_BSD"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+
+if CONFIG["OS_TARGET"] == "Android":
+
+    DEFINES["ANDROID"] = True
+    DEFINES["ANDROID_NDK_VERSION"] = "r12b"
+    DEFINES["DISABLE_NACL"] = True
+    DEFINES["HAVE_SYS_UIO_H"] = True
+    DEFINES["NO_TCMALLOC"] = True
+    DEFINES["USE_OPENSSL_CERTS"] = "1"
+    DEFINES["WEBRTC_ANDROID"] = True
+    DEFINES["WEBRTC_ANDROID_OPENSLES"] = True
+    DEFINES["WEBRTC_LINUX"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+    DEFINES["__GNU_SOURCE"] = "1"
+
+    OS_LIBS += [
+        "log"
+    ]
 
 if CONFIG["CPU_ARCH"] == "arm":
 
@@ -191,15 +185,24 @@ if CONFIG["CPU_ARCH"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Android":
+if CONFIG["CPU_ARCH"] == "ppc64":
 
-    DEFINES["_FORTIFY_SOURCE"] = "2"
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "mips64":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "aarch64":
+
+    DEFINES["WEBRTC_ARCH_ARM64"] = True
+    DEFINES["WEBRTC_HAS_NEON"] = True
 
 if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Darwin":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "DragonFly":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "OpenBSD":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
@@ -207,20 +210,28 @@ if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "FreeBSD":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "NetBSD":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Android":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "OpenBSD":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "DragonFly":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "Android":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "NetBSD":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "NetBSD":
 
     CXXFLAGS += [
         "-msse2"
     ]
 
+if CONFIG["CPU_ARCH"] == "x86_64" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
 if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "FreeBSD":
 
     CXXFLAGS += [
@@ -238,7 +249,7 @@ if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "Linux":
         "-msse2"
     ]
 
-if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "NetBSD":
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "Android":
 
     CXXFLAGS += [
         "-msse2"
@@ -250,4 +261,32 @@ if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "OpenBSD":
         "-msse2"
     ]
 
+if CONFIG["CPU_ARCH"] == "arm" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "aarch64" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "arm" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "aarch64" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["HOST_CPU_ARCH"] == "x86_64" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["HOST_CPU_ARCH"] == "x86" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
 Library("rtp_rtcp_format_gn")
diff --git a/media/webrtc/trunk/webrtc/modules/rtp_rtcp/rtp_rtcp_gn/moz.build b/media/webrtc/trunk/webrtc/modules/rtp_rtcp/rtp_rtcp_gn/moz.build
index b0d3a745ad49..82291e9eb833 100644
--- a/media/webrtc/trunk/webrtc/modules/rtp_rtcp/rtp_rtcp_gn/moz.build
+++ b/media/webrtc/trunk/webrtc/modules/rtp_rtcp/rtp_rtcp_gn/moz.build
@@ -70,56 +70,18 @@ UNIFIED_SOURCES += [
     "/media/webrtc/trunk/webrtc/modules/rtp_rtcp/source/ulpfec_receiver_impl.cc"
 ]
 
-if not CONFIG["MOZ_DEBUG"]:
-
-    DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "0"
-    DEFINES["NDEBUG"] = True
-    DEFINES["NVALGRIND"] = True
-
 if CONFIG["MOZ_DEBUG"] == "1":
 
     DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "1"
     DEFINES["WTF_USE_DYNAMIC_ANNOTATIONS"] = "1"
 
-if CONFIG["OS_TARGET"] == "Android":
-
-    DEFINES["ANDROID"] = True
-    DEFINES["ANDROID_NDK_VERSION"] = "r12b"
-    DEFINES["DISABLE_NACL"] = True
-    DEFINES["HAVE_SYS_UIO_H"] = True
-    DEFINES["NO_TCMALLOC"] = True
-    DEFINES["USE_OPENSSL_CERTS"] = "1"
-    DEFINES["WEBRTC_ANDROID"] = True
-    DEFINES["WEBRTC_ANDROID_OPENSLES"] = True
-    DEFINES["WEBRTC_LINUX"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
-    DEFINES["__GNU_SOURCE"] = "1"
-
-    OS_LIBS += [
-        "log"
-    ]
-
-if CONFIG["OS_TARGET"] == "Darwin":
-
-    DEFINES["CR_XCODE_VERSION"] = "0920"
-    DEFINES["NO_TCMALLOC"] = True
-    DEFINES["WEBRTC_MAC"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["__ASSERT_MACROS_DEFINE_VERSIONS_WITHOUT_UNDERSCORE"] = "0"
-
-    OS_LIBS += [
-        "-framework Foundation"
-    ]
-
-if CONFIG["OS_TARGET"] == "DragonFly":
+if not CONFIG["MOZ_DEBUG"]:
 
-    DEFINES["USE_X11"] = "1"
-    DEFINES["WEBRTC_BSD"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
+    DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "0"
+    DEFINES["NDEBUG"] = True
+    DEFINES["NVALGRIND"] = True
 
-if CONFIG["OS_TARGET"] == "FreeBSD":
+if CONFIG["OS_TARGET"] == "NetBSD":
 
     DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_BSD"] = True
@@ -129,7 +91,6 @@ if CONFIG["OS_TARGET"] == "FreeBSD":
 if CONFIG["OS_TARGET"] == "Linux":
 
     DEFINES["USE_NSS_CERTS"] = "1"
-    DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_LINUX"] = True
     DEFINES["WEBRTC_POSIX"] = True
     DEFINES["_FILE_OFFSET_BITS"] = "64"
@@ -138,14 +99,7 @@ if CONFIG["OS_TARGET"] == "Linux":
         "rt"
     ]
 
-if CONFIG["OS_TARGET"] == "NetBSD":
-
-    DEFINES["USE_X11"] = "1"
-    DEFINES["WEBRTC_BSD"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
-
-if CONFIG["OS_TARGET"] == "OpenBSD":
+if CONFIG["OS_TARGET"] == "DragonFly":
 
     DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_BSD"] = True
@@ -181,10 +135,50 @@ if CONFIG["OS_TARGET"] == "WINNT":
         "winmm"
     ]
 
-if CONFIG["CPU_ARCH"] == "aarch64":
+if CONFIG["OS_TARGET"] == "Darwin":
 
-    DEFINES["WEBRTC_ARCH_ARM64"] = True
-    DEFINES["WEBRTC_HAS_NEON"] = True
+    DEFINES["CR_XCODE_VERSION"] = "0920"
+    DEFINES["NO_TCMALLOC"] = True
+    DEFINES["WEBRTC_MAC"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["__ASSERT_MACROS_DEFINE_VERSIONS_WITHOUT_UNDERSCORE"] = "0"
+
+    OS_LIBS += [
+        "-framework Foundation"
+    ]
+
+if CONFIG["OS_TARGET"] == "OpenBSD":
+
+    DEFINES["USE_X11"] = "1"
+    DEFINES["WEBRTC_BSD"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+
+if CONFIG["OS_TARGET"] == "FreeBSD":
+
+    DEFINES["USE_X11"] = "1"
+    DEFINES["WEBRTC_BSD"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+
+if CONFIG["OS_TARGET"] == "Android":
+
+    DEFINES["ANDROID"] = True
+    DEFINES["ANDROID_NDK_VERSION"] = "r12b"
+    DEFINES["DISABLE_NACL"] = True
+    DEFINES["HAVE_SYS_UIO_H"] = True
+    DEFINES["NO_TCMALLOC"] = True
+    DEFINES["USE_OPENSSL_CERTS"] = "1"
+    DEFINES["WEBRTC_ANDROID"] = True
+    DEFINES["WEBRTC_ANDROID_OPENSLES"] = True
+    DEFINES["WEBRTC_LINUX"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+    DEFINES["__GNU_SOURCE"] = "1"
+
+    OS_LIBS += [
+        "log"
+    ]
 
 if CONFIG["CPU_ARCH"] == "arm":
 
@@ -196,15 +190,24 @@ if CONFIG["CPU_ARCH"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Android":
+if CONFIG["CPU_ARCH"] == "ppc64":
 
-    DEFINES["_FORTIFY_SOURCE"] = "2"
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "mips64":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "aarch64":
+
+    DEFINES["WEBRTC_ARCH_ARM64"] = True
+    DEFINES["WEBRTC_HAS_NEON"] = True
 
 if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Darwin":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "DragonFly":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "OpenBSD":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
@@ -212,20 +215,28 @@ if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "FreeBSD":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "NetBSD":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Android":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "OpenBSD":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "DragonFly":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "Android":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "NetBSD":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "NetBSD":
 
     CXXFLAGS += [
         "-msse2"
     ]
 
+if CONFIG["CPU_ARCH"] == "x86_64" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
 if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "FreeBSD":
 
     CXXFLAGS += [
@@ -243,7 +254,7 @@ if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "Linux":
         "-msse2"
     ]
 
-if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "NetBSD":
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "Android":
 
     CXXFLAGS += [
         "-msse2"
@@ -255,4 +266,32 @@ if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "OpenBSD":
         "-msse2"
     ]
 
+if CONFIG["CPU_ARCH"] == "arm" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "aarch64" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "arm" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "aarch64" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["HOST_CPU_ARCH"] == "x86_64" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["HOST_CPU_ARCH"] == "x86" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
 Library("rtp_rtcp_gn")
diff --git a/media/webrtc/trunk/webrtc/modules/utility/utility_gn/moz.build b/media/webrtc/trunk/webrtc/modules/utility/utility_gn/moz.build
index d2ec8119a9da..1118631b2fb1 100644
--- a/media/webrtc/trunk/webrtc/modules/utility/utility_gn/moz.build
+++ b/media/webrtc/trunk/webrtc/modules/utility/utility_gn/moz.build
@@ -33,61 +33,18 @@ UNIFIED_SOURCES += [
     "/media/webrtc/trunk/webrtc/modules/utility/source/process_thread_impl.cc"
 ]
 
-if not CONFIG["MOZ_DEBUG"]:
-
-    DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "0"
-    DEFINES["NDEBUG"] = True
-    DEFINES["NVALGRIND"] = True
-
 if CONFIG["MOZ_DEBUG"] == "1":
 
     DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "1"
     DEFINES["WTF_USE_DYNAMIC_ANNOTATIONS"] = "1"
 
-if CONFIG["OS_TARGET"] == "Android":
-
-    DEFINES["ANDROID"] = True
-    DEFINES["ANDROID_NDK_VERSION"] = "r12b"
-    DEFINES["DISABLE_NACL"] = True
-    DEFINES["HAVE_SYS_UIO_H"] = True
-    DEFINES["NO_TCMALLOC"] = True
-    DEFINES["USE_OPENSSL_CERTS"] = "1"
-    DEFINES["WEBRTC_ANDROID"] = True
-    DEFINES["WEBRTC_ANDROID_OPENSLES"] = True
-    DEFINES["WEBRTC_LINUX"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
-    DEFINES["__GNU_SOURCE"] = "1"
-
-    OS_LIBS += [
-        "log"
-    ]
-
-    UNIFIED_SOURCES += [
-        "/media/webrtc/trunk/webrtc/modules/utility/source/helpers_android.cc",
-        "/media/webrtc/trunk/webrtc/modules/utility/source/jvm_android.cc"
-    ]
-
-if CONFIG["OS_TARGET"] == "Darwin":
-
-    DEFINES["CR_XCODE_VERSION"] = "0920"
-    DEFINES["NO_TCMALLOC"] = True
-    DEFINES["WEBRTC_MAC"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["__ASSERT_MACROS_DEFINE_VERSIONS_WITHOUT_UNDERSCORE"] = "0"
-
-    OS_LIBS += [
-        "-framework Foundation"
-    ]
-
-if CONFIG["OS_TARGET"] == "DragonFly":
+if not CONFIG["MOZ_DEBUG"]:
 
-    DEFINES["USE_X11"] = "1"
-    DEFINES["WEBRTC_BSD"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
+    DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "0"
+    DEFINES["NDEBUG"] = True
+    DEFINES["NVALGRIND"] = True
 
-if CONFIG["OS_TARGET"] == "FreeBSD":
+if CONFIG["OS_TARGET"] == "NetBSD":
 
     DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_BSD"] = True
@@ -97,7 +54,6 @@ if CONFIG["OS_TARGET"] == "FreeBSD":
 if CONFIG["OS_TARGET"] == "Linux":
 
     DEFINES["USE_NSS_CERTS"] = "1"
-    DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_LINUX"] = True
     DEFINES["WEBRTC_POSIX"] = True
     DEFINES["_FILE_OFFSET_BITS"] = "64"
@@ -106,14 +62,7 @@ if CONFIG["OS_TARGET"] == "Linux":
         "rt"
     ]
 
-if CONFIG["OS_TARGET"] == "NetBSD":
-
-    DEFINES["USE_X11"] = "1"
-    DEFINES["WEBRTC_BSD"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
-
-if CONFIG["OS_TARGET"] == "OpenBSD":
+if CONFIG["OS_TARGET"] == "DragonFly":
 
     DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_BSD"] = True
@@ -149,10 +98,55 @@ if CONFIG["OS_TARGET"] == "WINNT":
         "winmm"
     ]
 
-if CONFIG["CPU_ARCH"] == "aarch64":
+if CONFIG["OS_TARGET"] == "Darwin":
 
-    DEFINES["WEBRTC_ARCH_ARM64"] = True
-    DEFINES["WEBRTC_HAS_NEON"] = True
+    DEFINES["CR_XCODE_VERSION"] = "0920"
+    DEFINES["NO_TCMALLOC"] = True
+    DEFINES["WEBRTC_MAC"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["__ASSERT_MACROS_DEFINE_VERSIONS_WITHOUT_UNDERSCORE"] = "0"
+
+    OS_LIBS += [
+        "-framework Foundation"
+    ]
+
+if CONFIG["OS_TARGET"] == "OpenBSD":
+
+    DEFINES["USE_X11"] = "1"
+    DEFINES["WEBRTC_BSD"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+
+if CONFIG["OS_TARGET"] == "FreeBSD":
+
+    DEFINES["USE_X11"] = "1"
+    DEFINES["WEBRTC_BSD"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+
+if CONFIG["OS_TARGET"] == "Android":
+
+    DEFINES["ANDROID"] = True
+    DEFINES["ANDROID_NDK_VERSION"] = "r12b"
+    DEFINES["DISABLE_NACL"] = True
+    DEFINES["HAVE_SYS_UIO_H"] = True
+    DEFINES["NO_TCMALLOC"] = True
+    DEFINES["USE_OPENSSL_CERTS"] = "1"
+    DEFINES["WEBRTC_ANDROID"] = True
+    DEFINES["WEBRTC_ANDROID_OPENSLES"] = True
+    DEFINES["WEBRTC_LINUX"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+    DEFINES["__GNU_SOURCE"] = "1"
+
+    OS_LIBS += [
+        "log"
+    ]
+
+    UNIFIED_SOURCES += [
+        "/media/webrtc/trunk/webrtc/modules/utility/source/helpers_android.cc",
+        "/media/webrtc/trunk/webrtc/modules/utility/source/jvm_android.cc"
+    ]
 
 if CONFIG["CPU_ARCH"] == "arm":
 
@@ -164,15 +158,24 @@ if CONFIG["CPU_ARCH"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Android":
+if CONFIG["CPU_ARCH"] == "ppc64":
 
-    DEFINES["_FORTIFY_SOURCE"] = "2"
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "mips64":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "aarch64":
+
+    DEFINES["WEBRTC_ARCH_ARM64"] = True
+    DEFINES["WEBRTC_HAS_NEON"] = True
 
 if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Darwin":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "DragonFly":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "OpenBSD":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
@@ -180,20 +183,28 @@ if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "FreeBSD":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "NetBSD":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Android":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "OpenBSD":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "DragonFly":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "Android":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "NetBSD":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "NetBSD":
 
     CXXFLAGS += [
         "-msse2"
     ]
 
+if CONFIG["CPU_ARCH"] == "x86_64" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
 if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "FreeBSD":
 
     CXXFLAGS += [
@@ -211,7 +222,7 @@ if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "Linux":
         "-msse2"
     ]
 
-if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "NetBSD":
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "Android":
 
     CXXFLAGS += [
         "-msse2"
@@ -223,4 +234,32 @@ if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "OpenBSD":
         "-msse2"
     ]
 
+if CONFIG["CPU_ARCH"] == "arm" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "aarch64" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "arm" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "aarch64" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["HOST_CPU_ARCH"] == "x86_64" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["HOST_CPU_ARCH"] == "x86" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
 Library("utility_gn")
diff --git a/media/webrtc/trunk/webrtc/modules/video_capture/video_capture_internal_impl_gn/moz.build b/media/webrtc/trunk/webrtc/modules/video_capture/video_capture_internal_impl_gn/moz.build
index 140f6f1a1c73..8ef612c6df2f 100644
--- a/media/webrtc/trunk/webrtc/modules/video_capture/video_capture_internal_impl_gn/moz.build
+++ b/media/webrtc/trunk/webrtc/modules/video_capture/video_capture_internal_impl_gn/moz.build
@@ -26,45 +26,18 @@ LOCAL_INCLUDES += [
     "/media/webrtc/trunk/webrtc/"
 ]
 
-if not CONFIG["MOZ_DEBUG"]:
-
-    DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "0"
-    DEFINES["NDEBUG"] = True
-    DEFINES["NVALGRIND"] = True
-
 if CONFIG["MOZ_DEBUG"] == "1":
 
     DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "1"
     DEFINES["WTF_USE_DYNAMIC_ANNOTATIONS"] = "1"
 
-if CONFIG["OS_TARGET"] == "Darwin":
-
-    DEFINES["CR_XCODE_VERSION"] = "0920"
-    DEFINES["NO_TCMALLOC"] = True
-    DEFINES["WEBRTC_MAC"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["__ASSERT_MACROS_DEFINE_VERSIONS_WITHOUT_UNDERSCORE"] = "0"
-
-    OS_LIBS += [
-        "-framework AVFoundation",
-        "-framework CoreMedia",
-        "-framework CoreVideo",
-        "-framework Foundation"
-    ]
-
-if CONFIG["OS_TARGET"] == "DragonFly":
-
-    DEFINES["USE_X11"] = "1"
-    DEFINES["WEBRTC_BSD"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
+if not CONFIG["MOZ_DEBUG"]:
 
-    UNIFIED_SOURCES += [
-        "/media/webrtc/trunk/webrtc/modules/video_capture/linux/device_info_linux.cc",
-        "/media/webrtc/trunk/webrtc/modules/video_capture/linux/video_capture_linux.cc"
-    ]
+    DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "0"
+    DEFINES["NDEBUG"] = True
+    DEFINES["NVALGRIND"] = True
 
-if CONFIG["OS_TARGET"] == "FreeBSD":
+if CONFIG["OS_TARGET"] == "NetBSD":
 
     DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_BSD"] = True
@@ -79,7 +52,6 @@ if CONFIG["OS_TARGET"] == "FreeBSD":
 if CONFIG["OS_TARGET"] == "Linux":
 
     DEFINES["USE_NSS_CERTS"] = "1"
-    DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_LINUX"] = True
     DEFINES["WEBRTC_POSIX"] = True
     DEFINES["_FILE_OFFSET_BITS"] = "64"
@@ -93,19 +65,7 @@ if CONFIG["OS_TARGET"] == "Linux":
         "/media/webrtc/trunk/webrtc/modules/video_capture/linux/video_capture_linux.cc"
     ]
 
-if CONFIG["OS_TARGET"] == "NetBSD":
-
-    DEFINES["USE_X11"] = "1"
-    DEFINES["WEBRTC_BSD"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
-
-    UNIFIED_SOURCES += [
-        "/media/webrtc/trunk/webrtc/modules/video_capture/linux/device_info_linux.cc",
-        "/media/webrtc/trunk/webrtc/modules/video_capture/linux/video_capture_linux.cc"
-    ]
-
-if CONFIG["OS_TARGET"] == "OpenBSD":
+if CONFIG["OS_TARGET"] == "DragonFly":
 
     DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_BSD"] = True
@@ -158,10 +118,44 @@ if CONFIG["OS_TARGET"] == "WINNT":
         "/media/webrtc/trunk/webrtc/modules/video_capture/windows/video_capture_factory_windows.cc"
     ]
 
-if CONFIG["CPU_ARCH"] == "aarch64":
+if CONFIG["OS_TARGET"] == "Darwin":
 
-    DEFINES["WEBRTC_ARCH_ARM64"] = True
-    DEFINES["WEBRTC_HAS_NEON"] = True
+    DEFINES["CR_XCODE_VERSION"] = "0920"
+    DEFINES["NO_TCMALLOC"] = True
+    DEFINES["WEBRTC_MAC"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["__ASSERT_MACROS_DEFINE_VERSIONS_WITHOUT_UNDERSCORE"] = "0"
+
+    OS_LIBS += [
+        "-framework AVFoundation",
+        "-framework CoreMedia",
+        "-framework CoreVideo",
+        "-framework Foundation"
+    ]
+
+if CONFIG["OS_TARGET"] == "OpenBSD":
+
+    DEFINES["USE_X11"] = "1"
+    DEFINES["WEBRTC_BSD"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+
+    UNIFIED_SOURCES += [
+        "/media/webrtc/trunk/webrtc/modules/video_capture/linux/device_info_linux.cc",
+        "/media/webrtc/trunk/webrtc/modules/video_capture/linux/video_capture_linux.cc"
+    ]
+
+if CONFIG["OS_TARGET"] == "FreeBSD":
+
+    DEFINES["USE_X11"] = "1"
+    DEFINES["WEBRTC_BSD"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+
+    UNIFIED_SOURCES += [
+        "/media/webrtc/trunk/webrtc/modules/video_capture/linux/device_info_linux.cc",
+        "/media/webrtc/trunk/webrtc/modules/video_capture/linux/video_capture_linux.cc"
+    ]
 
 if CONFIG["CPU_ARCH"] == "arm":
 
@@ -173,15 +167,24 @@ if CONFIG["CPU_ARCH"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Android":
+if CONFIG["CPU_ARCH"] == "ppc64":
 
-    DEFINES["_FORTIFY_SOURCE"] = "2"
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "mips64":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "aarch64":
+
+    DEFINES["WEBRTC_ARCH_ARM64"] = True
+    DEFINES["WEBRTC_HAS_NEON"] = True
 
 if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Darwin":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "DragonFly":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "OpenBSD":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
@@ -189,20 +192,24 @@ if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "FreeBSD":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "NetBSD":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "DragonFly":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "OpenBSD":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "NetBSD":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "Android":
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "NetBSD":
 
     CXXFLAGS += [
         "-msse2"
     ]
 
+if CONFIG["CPU_ARCH"] == "x86_64" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
 if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "FreeBSD":
 
     CXXFLAGS += [
@@ -220,16 +227,38 @@ if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "Linux":
         "-msse2"
     ]
 
-if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "NetBSD":
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "OpenBSD":
 
     CXXFLAGS += [
         "-msse2"
     ]
 
-if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "OpenBSD":
+if CONFIG["CPU_ARCH"] == "arm" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
 
-    CXXFLAGS += [
-        "-msse2"
-    ]
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "aarch64" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "arm" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "aarch64" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["HOST_CPU_ARCH"] == "x86_64" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["HOST_CPU_ARCH"] == "x86" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
 
 Library("video_capture_internal_impl_gn")
diff --git a/media/webrtc/trunk/webrtc/modules/video_capture/video_capture_internal_impl_objc_gn/moz.build b/media/webrtc/trunk/webrtc/modules/video_capture/video_capture_internal_impl_objc_gn/moz.build
index 8678de06086c..f34871f9ccc3 100644
--- a/media/webrtc/trunk/webrtc/modules/video_capture/video_capture_internal_impl_objc_gn/moz.build
+++ b/media/webrtc/trunk/webrtc/modules/video_capture/video_capture_internal_impl_objc_gn/moz.build
@@ -49,6 +49,11 @@ UNIFIED_SOURCES += [
     "/media/webrtc/trunk/webrtc/modules/video_capture/objc/video_capture.mm"
 ]
 
+if CONFIG["MOZ_DEBUG"] == "1":
+
+    DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "1"
+    DEFINES["WTF_USE_DYNAMIC_ANNOTATIONS"] = "1"
+
 if not CONFIG["MOZ_DEBUG"]:
 
     DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "0"
@@ -56,9 +61,4 @@ if not CONFIG["MOZ_DEBUG"]:
     DEFINES["NVALGRIND"] = True
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if CONFIG["MOZ_DEBUG"] == "1":
-
-    DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "1"
-    DEFINES["WTF_USE_DYNAMIC_ANNOTATIONS"] = "1"
-
 Library("video_capture_internal_impl_objc_gn")
diff --git a/media/webrtc/trunk/webrtc/modules/video_capture/video_capture_module_gn/moz.build b/media/webrtc/trunk/webrtc/modules/video_capture/video_capture_module_gn/moz.build
index 2a5c4c9d60c5..cc7b2b1a2293 100644
--- a/media/webrtc/trunk/webrtc/modules/video_capture/video_capture_module_gn/moz.build
+++ b/media/webrtc/trunk/webrtc/modules/video_capture/video_capture_module_gn/moz.build
@@ -34,56 +34,18 @@ UNIFIED_SOURCES += [
     "/media/webrtc/trunk/webrtc/modules/video_capture/video_capture_impl.cc"
 ]
 
-if not CONFIG["MOZ_DEBUG"]:
-
-    DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "0"
-    DEFINES["NDEBUG"] = True
-    DEFINES["NVALGRIND"] = True
-
 if CONFIG["MOZ_DEBUG"] == "1":
 
     DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "1"
     DEFINES["WTF_USE_DYNAMIC_ANNOTATIONS"] = "1"
 
-if CONFIG["OS_TARGET"] == "Android":
-
-    DEFINES["ANDROID"] = True
-    DEFINES["ANDROID_NDK_VERSION"] = "r12b"
-    DEFINES["DISABLE_NACL"] = True
-    DEFINES["HAVE_SYS_UIO_H"] = True
-    DEFINES["NO_TCMALLOC"] = True
-    DEFINES["USE_OPENSSL_CERTS"] = "1"
-    DEFINES["WEBRTC_ANDROID"] = True
-    DEFINES["WEBRTC_ANDROID_OPENSLES"] = True
-    DEFINES["WEBRTC_LINUX"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
-    DEFINES["__GNU_SOURCE"] = "1"
-
-    OS_LIBS += [
-        "log"
-    ]
-
-if CONFIG["OS_TARGET"] == "Darwin":
-
-    DEFINES["CR_XCODE_VERSION"] = "0920"
-    DEFINES["NO_TCMALLOC"] = True
-    DEFINES["WEBRTC_MAC"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["__ASSERT_MACROS_DEFINE_VERSIONS_WITHOUT_UNDERSCORE"] = "0"
-
-    OS_LIBS += [
-        "-framework Foundation"
-    ]
-
-if CONFIG["OS_TARGET"] == "DragonFly":
+if not CONFIG["MOZ_DEBUG"]:
 
-    DEFINES["USE_X11"] = "1"
-    DEFINES["WEBRTC_BSD"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
+    DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "0"
+    DEFINES["NDEBUG"] = True
+    DEFINES["NVALGRIND"] = True
 
-if CONFIG["OS_TARGET"] == "FreeBSD":
+if CONFIG["OS_TARGET"] == "NetBSD":
 
     DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_BSD"] = True
@@ -93,7 +55,6 @@ if CONFIG["OS_TARGET"] == "FreeBSD":
 if CONFIG["OS_TARGET"] == "Linux":
 
     DEFINES["USE_NSS_CERTS"] = "1"
-    DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_LINUX"] = True
     DEFINES["WEBRTC_POSIX"] = True
     DEFINES["_FILE_OFFSET_BITS"] = "64"
@@ -102,14 +63,7 @@ if CONFIG["OS_TARGET"] == "Linux":
         "rt"
     ]
 
-if CONFIG["OS_TARGET"] == "NetBSD":
-
-    DEFINES["USE_X11"] = "1"
-    DEFINES["WEBRTC_BSD"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
-
-if CONFIG["OS_TARGET"] == "OpenBSD":
+if CONFIG["OS_TARGET"] == "DragonFly":
 
     DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_BSD"] = True
@@ -145,10 +99,50 @@ if CONFIG["OS_TARGET"] == "WINNT":
         "winmm"
     ]
 
-if CONFIG["CPU_ARCH"] == "aarch64":
+if CONFIG["OS_TARGET"] == "Darwin":
 
-    DEFINES["WEBRTC_ARCH_ARM64"] = True
-    DEFINES["WEBRTC_HAS_NEON"] = True
+    DEFINES["CR_XCODE_VERSION"] = "0920"
+    DEFINES["NO_TCMALLOC"] = True
+    DEFINES["WEBRTC_MAC"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["__ASSERT_MACROS_DEFINE_VERSIONS_WITHOUT_UNDERSCORE"] = "0"
+
+    OS_LIBS += [
+        "-framework Foundation"
+    ]
+
+if CONFIG["OS_TARGET"] == "OpenBSD":
+
+    DEFINES["USE_X11"] = "1"
+    DEFINES["WEBRTC_BSD"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+
+if CONFIG["OS_TARGET"] == "FreeBSD":
+
+    DEFINES["USE_X11"] = "1"
+    DEFINES["WEBRTC_BSD"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+
+if CONFIG["OS_TARGET"] == "Android":
+
+    DEFINES["ANDROID"] = True
+    DEFINES["ANDROID_NDK_VERSION"] = "r12b"
+    DEFINES["DISABLE_NACL"] = True
+    DEFINES["HAVE_SYS_UIO_H"] = True
+    DEFINES["NO_TCMALLOC"] = True
+    DEFINES["USE_OPENSSL_CERTS"] = "1"
+    DEFINES["WEBRTC_ANDROID"] = True
+    DEFINES["WEBRTC_ANDROID_OPENSLES"] = True
+    DEFINES["WEBRTC_LINUX"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+    DEFINES["__GNU_SOURCE"] = "1"
+
+    OS_LIBS += [
+        "log"
+    ]
 
 if CONFIG["CPU_ARCH"] == "arm":
 
@@ -160,15 +154,24 @@ if CONFIG["CPU_ARCH"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Android":
+if CONFIG["CPU_ARCH"] == "ppc64":
 
-    DEFINES["_FORTIFY_SOURCE"] = "2"
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "mips64":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "aarch64":
+
+    DEFINES["WEBRTC_ARCH_ARM64"] = True
+    DEFINES["WEBRTC_HAS_NEON"] = True
 
 if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Darwin":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "DragonFly":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "OpenBSD":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
@@ -176,20 +179,28 @@ if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "FreeBSD":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "NetBSD":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Android":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "OpenBSD":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "DragonFly":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "Android":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "NetBSD":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "NetBSD":
 
     CXXFLAGS += [
         "-msse2"
     ]
 
+if CONFIG["CPU_ARCH"] == "x86_64" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
 if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "FreeBSD":
 
     CXXFLAGS += [
@@ -207,7 +218,7 @@ if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "Linux":
         "-msse2"
     ]
 
-if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "NetBSD":
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "Android":
 
     CXXFLAGS += [
         "-msse2"
@@ -219,4 +230,32 @@ if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "OpenBSD":
         "-msse2"
     ]
 
+if CONFIG["CPU_ARCH"] == "arm" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "aarch64" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "arm" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "aarch64" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["HOST_CPU_ARCH"] == "x86_64" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["HOST_CPU_ARCH"] == "x86" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
 Library("video_capture_module_gn")
diff --git a/media/webrtc/trunk/webrtc/modules/video_coding/codec_globals_headers_gn/moz.build b/media/webrtc/trunk/webrtc/modules/video_coding/codec_globals_headers_gn/moz.build
index 703a9b4d7721..0f068173e3cf 100644
--- a/media/webrtc/trunk/webrtc/modules/video_coding/codec_globals_headers_gn/moz.build
+++ b/media/webrtc/trunk/webrtc/modules/video_coding/codec_globals_headers_gn/moz.build
@@ -26,48 +26,18 @@ LOCAL_INCLUDES += [
     "/media/webrtc/trunk/webrtc/"
 ]
 
-if not CONFIG["MOZ_DEBUG"]:
-
-    DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "0"
-    DEFINES["NDEBUG"] = True
-    DEFINES["NVALGRIND"] = True
-
 if CONFIG["MOZ_DEBUG"] == "1":
 
     DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "1"
     DEFINES["WTF_USE_DYNAMIC_ANNOTATIONS"] = "1"
 
-if CONFIG["OS_TARGET"] == "Android":
-
-    DEFINES["ANDROID"] = True
-    DEFINES["ANDROID_NDK_VERSION"] = "r12b"
-    DEFINES["DISABLE_NACL"] = True
-    DEFINES["HAVE_SYS_UIO_H"] = True
-    DEFINES["NO_TCMALLOC"] = True
-    DEFINES["USE_OPENSSL_CERTS"] = "1"
-    DEFINES["WEBRTC_ANDROID"] = True
-    DEFINES["WEBRTC_ANDROID_OPENSLES"] = True
-    DEFINES["WEBRTC_LINUX"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
-    DEFINES["__GNU_SOURCE"] = "1"
-
-if CONFIG["OS_TARGET"] == "Darwin":
-
-    DEFINES["CR_XCODE_VERSION"] = "0920"
-    DEFINES["NO_TCMALLOC"] = True
-    DEFINES["WEBRTC_MAC"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["__ASSERT_MACROS_DEFINE_VERSIONS_WITHOUT_UNDERSCORE"] = "0"
-
-if CONFIG["OS_TARGET"] == "DragonFly":
+if not CONFIG["MOZ_DEBUG"]:
 
-    DEFINES["USE_X11"] = "1"
-    DEFINES["WEBRTC_BSD"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
+    DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "0"
+    DEFINES["NDEBUG"] = True
+    DEFINES["NVALGRIND"] = True
 
-if CONFIG["OS_TARGET"] == "FreeBSD":
+if CONFIG["OS_TARGET"] == "NetBSD":
 
     DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_BSD"] = True
@@ -77,19 +47,11 @@ if CONFIG["OS_TARGET"] == "FreeBSD":
 if CONFIG["OS_TARGET"] == "Linux":
 
     DEFINES["USE_NSS_CERTS"] = "1"
-    DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_LINUX"] = True
     DEFINES["WEBRTC_POSIX"] = True
     DEFINES["_FILE_OFFSET_BITS"] = "64"
 
-if CONFIG["OS_TARGET"] == "NetBSD":
-
-    DEFINES["USE_X11"] = "1"
-    DEFINES["WEBRTC_BSD"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
-
-if CONFIG["OS_TARGET"] == "OpenBSD":
+if CONFIG["OS_TARGET"] == "DragonFly":
 
     DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_BSD"] = True
@@ -121,10 +83,42 @@ if CONFIG["OS_TARGET"] == "WINNT":
     DEFINES["_WINDOWS"] = True
     DEFINES["__STD_C"] = True
 
-if CONFIG["CPU_ARCH"] == "aarch64":
+if CONFIG["OS_TARGET"] == "Darwin":
 
-    DEFINES["WEBRTC_ARCH_ARM64"] = True
-    DEFINES["WEBRTC_HAS_NEON"] = True
+    DEFINES["CR_XCODE_VERSION"] = "0920"
+    DEFINES["NO_TCMALLOC"] = True
+    DEFINES["WEBRTC_MAC"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["__ASSERT_MACROS_DEFINE_VERSIONS_WITHOUT_UNDERSCORE"] = "0"
+
+if CONFIG["OS_TARGET"] == "OpenBSD":
+
+    DEFINES["USE_X11"] = "1"
+    DEFINES["WEBRTC_BSD"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+
+if CONFIG["OS_TARGET"] == "FreeBSD":
+
+    DEFINES["USE_X11"] = "1"
+    DEFINES["WEBRTC_BSD"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+
+if CONFIG["OS_TARGET"] == "Android":
+
+    DEFINES["ANDROID"] = True
+    DEFINES["ANDROID_NDK_VERSION"] = "r12b"
+    DEFINES["DISABLE_NACL"] = True
+    DEFINES["HAVE_SYS_UIO_H"] = True
+    DEFINES["NO_TCMALLOC"] = True
+    DEFINES["USE_OPENSSL_CERTS"] = "1"
+    DEFINES["WEBRTC_ANDROID"] = True
+    DEFINES["WEBRTC_ANDROID_OPENSLES"] = True
+    DEFINES["WEBRTC_LINUX"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+    DEFINES["__GNU_SOURCE"] = "1"
 
 if CONFIG["CPU_ARCH"] == "arm":
 
@@ -132,15 +126,24 @@ if CONFIG["CPU_ARCH"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Android":
+if CONFIG["CPU_ARCH"] == "ppc64":
 
-    DEFINES["_FORTIFY_SOURCE"] = "2"
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "mips64":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "aarch64":
+
+    DEFINES["WEBRTC_ARCH_ARM64"] = True
+    DEFINES["WEBRTC_HAS_NEON"] = True
 
 if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Darwin":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "DragonFly":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "OpenBSD":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
@@ -148,17 +151,53 @@ if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "FreeBSD":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "NetBSD":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Android":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "OpenBSD":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "DragonFly":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "NetBSD":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
+if CONFIG["CPU_ARCH"] == "x86_64" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
 if CONFIG["CPU_ARCH"] == "aarch64" and CONFIG["OS_TARGET"] == "Linux":
 
     DEFINES["DISABLE_NACL"] = True
     DEFINES["NO_TCMALLOC"] = True
 
+if CONFIG["CPU_ARCH"] == "arm" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "aarch64" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "arm" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "aarch64" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["HOST_CPU_ARCH"] == "x86_64" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["HOST_CPU_ARCH"] == "x86" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
 Library("codec_globals_headers_gn")
diff --git a/media/webrtc/trunk/webrtc/modules/video_coding/video_coding_gn/moz.build b/media/webrtc/trunk/webrtc/modules/video_coding/video_coding_gn/moz.build
index c296dd27befe..36069c62c72b 100644
--- a/media/webrtc/trunk/webrtc/modules/video_coding/video_coding_gn/moz.build
+++ b/media/webrtc/trunk/webrtc/modules/video_coding/video_coding_gn/moz.build
@@ -63,56 +63,18 @@ UNIFIED_SOURCES += [
     "/media/webrtc/trunk/webrtc/modules/video_coding/video_sender.cc"
 ]
 
-if not CONFIG["MOZ_DEBUG"]:
-
-    DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "0"
-    DEFINES["NDEBUG"] = True
-    DEFINES["NVALGRIND"] = True
-
 if CONFIG["MOZ_DEBUG"] == "1":
 
     DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "1"
     DEFINES["WTF_USE_DYNAMIC_ANNOTATIONS"] = "1"
 
-if CONFIG["OS_TARGET"] == "Android":
-
-    DEFINES["ANDROID"] = True
-    DEFINES["ANDROID_NDK_VERSION"] = "r12b"
-    DEFINES["DISABLE_NACL"] = True
-    DEFINES["HAVE_SYS_UIO_H"] = True
-    DEFINES["NO_TCMALLOC"] = True
-    DEFINES["USE_OPENSSL_CERTS"] = "1"
-    DEFINES["WEBRTC_ANDROID"] = True
-    DEFINES["WEBRTC_ANDROID_OPENSLES"] = True
-    DEFINES["WEBRTC_LINUX"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
-    DEFINES["__GNU_SOURCE"] = "1"
-
-    OS_LIBS += [
-        "log"
-    ]
-
-if CONFIG["OS_TARGET"] == "Darwin":
-
-    DEFINES["CR_XCODE_VERSION"] = "0920"
-    DEFINES["NO_TCMALLOC"] = True
-    DEFINES["WEBRTC_MAC"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["__ASSERT_MACROS_DEFINE_VERSIONS_WITHOUT_UNDERSCORE"] = "0"
-
-    OS_LIBS += [
-        "-framework Foundation"
-    ]
-
-if CONFIG["OS_TARGET"] == "DragonFly":
+if not CONFIG["MOZ_DEBUG"]:
 
-    DEFINES["USE_X11"] = "1"
-    DEFINES["WEBRTC_BSD"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
+    DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "0"
+    DEFINES["NDEBUG"] = True
+    DEFINES["NVALGRIND"] = True
 
-if CONFIG["OS_TARGET"] == "FreeBSD":
+if CONFIG["OS_TARGET"] == "NetBSD":
 
     DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_BSD"] = True
@@ -122,7 +84,6 @@ if CONFIG["OS_TARGET"] == "FreeBSD":
 if CONFIG["OS_TARGET"] == "Linux":
 
     DEFINES["USE_NSS_CERTS"] = "1"
-    DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_LINUX"] = True
     DEFINES["WEBRTC_POSIX"] = True
     DEFINES["_FILE_OFFSET_BITS"] = "64"
@@ -131,14 +92,7 @@ if CONFIG["OS_TARGET"] == "Linux":
         "rt"
     ]
 
-if CONFIG["OS_TARGET"] == "NetBSD":
-
-    DEFINES["USE_X11"] = "1"
-    DEFINES["WEBRTC_BSD"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
-
-if CONFIG["OS_TARGET"] == "OpenBSD":
+if CONFIG["OS_TARGET"] == "DragonFly":
 
     DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_BSD"] = True
@@ -174,10 +128,50 @@ if CONFIG["OS_TARGET"] == "WINNT":
         "winmm"
     ]
 
-if CONFIG["CPU_ARCH"] == "aarch64":
+if CONFIG["OS_TARGET"] == "Darwin":
 
-    DEFINES["WEBRTC_ARCH_ARM64"] = True
-    DEFINES["WEBRTC_HAS_NEON"] = True
+    DEFINES["CR_XCODE_VERSION"] = "0920"
+    DEFINES["NO_TCMALLOC"] = True
+    DEFINES["WEBRTC_MAC"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["__ASSERT_MACROS_DEFINE_VERSIONS_WITHOUT_UNDERSCORE"] = "0"
+
+    OS_LIBS += [
+        "-framework Foundation"
+    ]
+
+if CONFIG["OS_TARGET"] == "OpenBSD":
+
+    DEFINES["USE_X11"] = "1"
+    DEFINES["WEBRTC_BSD"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+
+if CONFIG["OS_TARGET"] == "FreeBSD":
+
+    DEFINES["USE_X11"] = "1"
+    DEFINES["WEBRTC_BSD"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+
+if CONFIG["OS_TARGET"] == "Android":
+
+    DEFINES["ANDROID"] = True
+    DEFINES["ANDROID_NDK_VERSION"] = "r12b"
+    DEFINES["DISABLE_NACL"] = True
+    DEFINES["HAVE_SYS_UIO_H"] = True
+    DEFINES["NO_TCMALLOC"] = True
+    DEFINES["USE_OPENSSL_CERTS"] = "1"
+    DEFINES["WEBRTC_ANDROID"] = True
+    DEFINES["WEBRTC_ANDROID_OPENSLES"] = True
+    DEFINES["WEBRTC_LINUX"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+    DEFINES["__GNU_SOURCE"] = "1"
+
+    OS_LIBS += [
+        "log"
+    ]
 
 if CONFIG["CPU_ARCH"] == "arm":
 
@@ -189,15 +183,24 @@ if CONFIG["CPU_ARCH"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Android":
+if CONFIG["CPU_ARCH"] == "ppc64":
 
-    DEFINES["_FORTIFY_SOURCE"] = "2"
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "mips64":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "aarch64":
+
+    DEFINES["WEBRTC_ARCH_ARM64"] = True
+    DEFINES["WEBRTC_HAS_NEON"] = True
 
 if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Darwin":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "DragonFly":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "OpenBSD":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
@@ -205,20 +208,28 @@ if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "FreeBSD":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "NetBSD":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Android":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "OpenBSD":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "DragonFly":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "Android":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "NetBSD":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "NetBSD":
 
     CXXFLAGS += [
         "-msse2"
     ]
 
+if CONFIG["CPU_ARCH"] == "x86_64" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
 if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "FreeBSD":
 
     CXXFLAGS += [
@@ -236,7 +247,7 @@ if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "Linux":
         "-msse2"
     ]
 
-if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "NetBSD":
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "Android":
 
     CXXFLAGS += [
         "-msse2"
@@ -248,4 +259,32 @@ if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "OpenBSD":
         "-msse2"
     ]
 
+if CONFIG["CPU_ARCH"] == "arm" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "aarch64" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "arm" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "aarch64" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["HOST_CPU_ARCH"] == "x86_64" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["HOST_CPU_ARCH"] == "x86" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
 Library("video_coding_gn")
diff --git a/media/webrtc/trunk/webrtc/modules/video_coding/video_coding_utility_gn/moz.build b/media/webrtc/trunk/webrtc/modules/video_coding/video_coding_utility_gn/moz.build
index 49d64794a8d4..f0d7cd061e90 100644
--- a/media/webrtc/trunk/webrtc/modules/video_coding/video_coding_utility_gn/moz.build
+++ b/media/webrtc/trunk/webrtc/modules/video_coding/video_coding_utility_gn/moz.build
@@ -38,56 +38,18 @@ UNIFIED_SOURCES += [
     "/media/webrtc/trunk/webrtc/modules/video_coding/utility/vp9_uncompressed_header_parser.cc"
 ]
 
-if not CONFIG["MOZ_DEBUG"]:
-
-    DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "0"
-    DEFINES["NDEBUG"] = True
-    DEFINES["NVALGRIND"] = True
-
 if CONFIG["MOZ_DEBUG"] == "1":
 
     DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "1"
     DEFINES["WTF_USE_DYNAMIC_ANNOTATIONS"] = "1"
 
-if CONFIG["OS_TARGET"] == "Android":
-
-    DEFINES["ANDROID"] = True
-    DEFINES["ANDROID_NDK_VERSION"] = "r12b"
-    DEFINES["DISABLE_NACL"] = True
-    DEFINES["HAVE_SYS_UIO_H"] = True
-    DEFINES["NO_TCMALLOC"] = True
-    DEFINES["USE_OPENSSL_CERTS"] = "1"
-    DEFINES["WEBRTC_ANDROID"] = True
-    DEFINES["WEBRTC_ANDROID_OPENSLES"] = True
-    DEFINES["WEBRTC_LINUX"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
-    DEFINES["__GNU_SOURCE"] = "1"
-
-    OS_LIBS += [
-        "log"
-    ]
-
-if CONFIG["OS_TARGET"] == "Darwin":
-
-    DEFINES["CR_XCODE_VERSION"] = "0920"
-    DEFINES["NO_TCMALLOC"] = True
-    DEFINES["WEBRTC_MAC"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["__ASSERT_MACROS_DEFINE_VERSIONS_WITHOUT_UNDERSCORE"] = "0"
-
-    OS_LIBS += [
-        "-framework Foundation"
-    ]
-
-if CONFIG["OS_TARGET"] == "DragonFly":
+if not CONFIG["MOZ_DEBUG"]:
 
-    DEFINES["USE_X11"] = "1"
-    DEFINES["WEBRTC_BSD"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
+    DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "0"
+    DEFINES["NDEBUG"] = True
+    DEFINES["NVALGRIND"] = True
 
-if CONFIG["OS_TARGET"] == "FreeBSD":
+if CONFIG["OS_TARGET"] == "NetBSD":
 
     DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_BSD"] = True
@@ -97,7 +59,6 @@ if CONFIG["OS_TARGET"] == "FreeBSD":
 if CONFIG["OS_TARGET"] == "Linux":
 
     DEFINES["USE_NSS_CERTS"] = "1"
-    DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_LINUX"] = True
     DEFINES["WEBRTC_POSIX"] = True
     DEFINES["_FILE_OFFSET_BITS"] = "64"
@@ -106,14 +67,7 @@ if CONFIG["OS_TARGET"] == "Linux":
         "rt"
     ]
 
-if CONFIG["OS_TARGET"] == "NetBSD":
-
-    DEFINES["USE_X11"] = "1"
-    DEFINES["WEBRTC_BSD"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
-
-if CONFIG["OS_TARGET"] == "OpenBSD":
+if CONFIG["OS_TARGET"] == "DragonFly":
 
     DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_BSD"] = True
@@ -149,10 +103,50 @@ if CONFIG["OS_TARGET"] == "WINNT":
         "winmm"
     ]
 
-if CONFIG["CPU_ARCH"] == "aarch64":
+if CONFIG["OS_TARGET"] == "Darwin":
 
-    DEFINES["WEBRTC_ARCH_ARM64"] = True
-    DEFINES["WEBRTC_HAS_NEON"] = True
+    DEFINES["CR_XCODE_VERSION"] = "0920"
+    DEFINES["NO_TCMALLOC"] = True
+    DEFINES["WEBRTC_MAC"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["__ASSERT_MACROS_DEFINE_VERSIONS_WITHOUT_UNDERSCORE"] = "0"
+
+    OS_LIBS += [
+        "-framework Foundation"
+    ]
+
+if CONFIG["OS_TARGET"] == "OpenBSD":
+
+    DEFINES["USE_X11"] = "1"
+    DEFINES["WEBRTC_BSD"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+
+if CONFIG["OS_TARGET"] == "FreeBSD":
+
+    DEFINES["USE_X11"] = "1"
+    DEFINES["WEBRTC_BSD"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+
+if CONFIG["OS_TARGET"] == "Android":
+
+    DEFINES["ANDROID"] = True
+    DEFINES["ANDROID_NDK_VERSION"] = "r12b"
+    DEFINES["DISABLE_NACL"] = True
+    DEFINES["HAVE_SYS_UIO_H"] = True
+    DEFINES["NO_TCMALLOC"] = True
+    DEFINES["USE_OPENSSL_CERTS"] = "1"
+    DEFINES["WEBRTC_ANDROID"] = True
+    DEFINES["WEBRTC_ANDROID_OPENSLES"] = True
+    DEFINES["WEBRTC_LINUX"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+    DEFINES["__GNU_SOURCE"] = "1"
+
+    OS_LIBS += [
+        "log"
+    ]
 
 if CONFIG["CPU_ARCH"] == "arm":
 
@@ -164,15 +158,24 @@ if CONFIG["CPU_ARCH"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Android":
+if CONFIG["CPU_ARCH"] == "ppc64":
 
-    DEFINES["_FORTIFY_SOURCE"] = "2"
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "mips64":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "aarch64":
+
+    DEFINES["WEBRTC_ARCH_ARM64"] = True
+    DEFINES["WEBRTC_HAS_NEON"] = True
 
 if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Darwin":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "DragonFly":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "OpenBSD":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
@@ -180,20 +183,28 @@ if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "FreeBSD":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "NetBSD":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Android":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "OpenBSD":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "DragonFly":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "Android":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "NetBSD":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "NetBSD":
 
     CXXFLAGS += [
         "-msse2"
     ]
 
+if CONFIG["CPU_ARCH"] == "x86_64" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
 if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "FreeBSD":
 
     CXXFLAGS += [
@@ -211,7 +222,7 @@ if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "Linux":
         "-msse2"
     ]
 
-if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "NetBSD":
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "Android":
 
     CXXFLAGS += [
         "-msse2"
@@ -223,4 +234,32 @@ if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "OpenBSD":
         "-msse2"
     ]
 
+if CONFIG["CPU_ARCH"] == "arm" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "aarch64" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "arm" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "aarch64" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["HOST_CPU_ARCH"] == "x86_64" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["HOST_CPU_ARCH"] == "x86" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
 Library("video_coding_utility_gn")
diff --git a/media/webrtc/trunk/webrtc/modules/video_coding/webrtc_h264_gn/moz.build b/media/webrtc/trunk/webrtc/modules/video_coding/webrtc_h264_gn/moz.build
index 7dd83426c3ea..9b8703532b69 100644
--- a/media/webrtc/trunk/webrtc/modules/video_coding/webrtc_h264_gn/moz.build
+++ b/media/webrtc/trunk/webrtc/modules/video_coding/webrtc_h264_gn/moz.build
@@ -30,56 +30,18 @@ UNIFIED_SOURCES += [
     "/media/webrtc/trunk/webrtc/modules/video_coding/codecs/h264/h264.cc"
 ]
 
-if not CONFIG["MOZ_DEBUG"]:
-
-    DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "0"
-    DEFINES["NDEBUG"] = True
-    DEFINES["NVALGRIND"] = True
-
 if CONFIG["MOZ_DEBUG"] == "1":
 
     DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "1"
     DEFINES["WTF_USE_DYNAMIC_ANNOTATIONS"] = "1"
 
-if CONFIG["OS_TARGET"] == "Android":
-
-    DEFINES["ANDROID"] = True
-    DEFINES["ANDROID_NDK_VERSION"] = "r12b"
-    DEFINES["DISABLE_NACL"] = True
-    DEFINES["HAVE_SYS_UIO_H"] = True
-    DEFINES["NO_TCMALLOC"] = True
-    DEFINES["USE_OPENSSL_CERTS"] = "1"
-    DEFINES["WEBRTC_ANDROID"] = True
-    DEFINES["WEBRTC_ANDROID_OPENSLES"] = True
-    DEFINES["WEBRTC_LINUX"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
-    DEFINES["__GNU_SOURCE"] = "1"
-
-    OS_LIBS += [
-        "log"
-    ]
-
-if CONFIG["OS_TARGET"] == "Darwin":
-
-    DEFINES["CR_XCODE_VERSION"] = "0920"
-    DEFINES["NO_TCMALLOC"] = True
-    DEFINES["WEBRTC_MAC"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["__ASSERT_MACROS_DEFINE_VERSIONS_WITHOUT_UNDERSCORE"] = "0"
-
-    OS_LIBS += [
-        "-framework Foundation"
-    ]
-
-if CONFIG["OS_TARGET"] == "DragonFly":
+if not CONFIG["MOZ_DEBUG"]:
 
-    DEFINES["USE_X11"] = "1"
-    DEFINES["WEBRTC_BSD"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
+    DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "0"
+    DEFINES["NDEBUG"] = True
+    DEFINES["NVALGRIND"] = True
 
-if CONFIG["OS_TARGET"] == "FreeBSD":
+if CONFIG["OS_TARGET"] == "NetBSD":
 
     DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_BSD"] = True
@@ -89,7 +51,6 @@ if CONFIG["OS_TARGET"] == "FreeBSD":
 if CONFIG["OS_TARGET"] == "Linux":
 
     DEFINES["USE_NSS_CERTS"] = "1"
-    DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_LINUX"] = True
     DEFINES["WEBRTC_POSIX"] = True
     DEFINES["_FILE_OFFSET_BITS"] = "64"
@@ -98,14 +59,7 @@ if CONFIG["OS_TARGET"] == "Linux":
         "rt"
     ]
 
-if CONFIG["OS_TARGET"] == "NetBSD":
-
-    DEFINES["USE_X11"] = "1"
-    DEFINES["WEBRTC_BSD"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
-
-if CONFIG["OS_TARGET"] == "OpenBSD":
+if CONFIG["OS_TARGET"] == "DragonFly":
 
     DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_BSD"] = True
@@ -141,10 +95,50 @@ if CONFIG["OS_TARGET"] == "WINNT":
         "winmm"
     ]
 
-if CONFIG["CPU_ARCH"] == "aarch64":
+if CONFIG["OS_TARGET"] == "Darwin":
 
-    DEFINES["WEBRTC_ARCH_ARM64"] = True
-    DEFINES["WEBRTC_HAS_NEON"] = True
+    DEFINES["CR_XCODE_VERSION"] = "0920"
+    DEFINES["NO_TCMALLOC"] = True
+    DEFINES["WEBRTC_MAC"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["__ASSERT_MACROS_DEFINE_VERSIONS_WITHOUT_UNDERSCORE"] = "0"
+
+    OS_LIBS += [
+        "-framework Foundation"
+    ]
+
+if CONFIG["OS_TARGET"] == "OpenBSD":
+
+    DEFINES["USE_X11"] = "1"
+    DEFINES["WEBRTC_BSD"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+
+if CONFIG["OS_TARGET"] == "FreeBSD":
+
+    DEFINES["USE_X11"] = "1"
+    DEFINES["WEBRTC_BSD"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+
+if CONFIG["OS_TARGET"] == "Android":
+
+    DEFINES["ANDROID"] = True
+    DEFINES["ANDROID_NDK_VERSION"] = "r12b"
+    DEFINES["DISABLE_NACL"] = True
+    DEFINES["HAVE_SYS_UIO_H"] = True
+    DEFINES["NO_TCMALLOC"] = True
+    DEFINES["USE_OPENSSL_CERTS"] = "1"
+    DEFINES["WEBRTC_ANDROID"] = True
+    DEFINES["WEBRTC_ANDROID_OPENSLES"] = True
+    DEFINES["WEBRTC_LINUX"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+    DEFINES["__GNU_SOURCE"] = "1"
+
+    OS_LIBS += [
+        "log"
+    ]
 
 if CONFIG["CPU_ARCH"] == "arm":
 
@@ -156,15 +150,24 @@ if CONFIG["CPU_ARCH"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Android":
+if CONFIG["CPU_ARCH"] == "ppc64":
 
-    DEFINES["_FORTIFY_SOURCE"] = "2"
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "mips64":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "aarch64":
+
+    DEFINES["WEBRTC_ARCH_ARM64"] = True
+    DEFINES["WEBRTC_HAS_NEON"] = True
 
 if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Darwin":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "DragonFly":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "OpenBSD":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
@@ -172,20 +175,28 @@ if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "FreeBSD":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "NetBSD":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Android":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "OpenBSD":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "DragonFly":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "Android":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "NetBSD":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "NetBSD":
 
     CXXFLAGS += [
         "-msse2"
     ]
 
+if CONFIG["CPU_ARCH"] == "x86_64" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
 if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "FreeBSD":
 
     CXXFLAGS += [
@@ -203,7 +214,7 @@ if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "Linux":
         "-msse2"
     ]
 
-if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "NetBSD":
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "Android":
 
     CXXFLAGS += [
         "-msse2"
@@ -215,4 +226,32 @@ if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "OpenBSD":
         "-msse2"
     ]
 
+if CONFIG["CPU_ARCH"] == "arm" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "aarch64" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "arm" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "aarch64" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["HOST_CPU_ARCH"] == "x86_64" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["HOST_CPU_ARCH"] == "x86" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
 Library("webrtc_h264_gn")
diff --git a/media/webrtc/trunk/webrtc/modules/video_coding/webrtc_i420_gn/moz.build b/media/webrtc/trunk/webrtc/modules/video_coding/webrtc_i420_gn/moz.build
index 774e72912d00..396e452f7e46 100644
--- a/media/webrtc/trunk/webrtc/modules/video_coding/webrtc_i420_gn/moz.build
+++ b/media/webrtc/trunk/webrtc/modules/video_coding/webrtc_i420_gn/moz.build
@@ -32,56 +32,18 @@ UNIFIED_SOURCES += [
     "/media/webrtc/trunk/webrtc/modules/video_coding/codecs/i420/i420.cc"
 ]
 
-if not CONFIG["MOZ_DEBUG"]:
-
-    DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "0"
-    DEFINES["NDEBUG"] = True
-    DEFINES["NVALGRIND"] = True
-
 if CONFIG["MOZ_DEBUG"] == "1":
 
     DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "1"
     DEFINES["WTF_USE_DYNAMIC_ANNOTATIONS"] = "1"
 
-if CONFIG["OS_TARGET"] == "Android":
-
-    DEFINES["ANDROID"] = True
-    DEFINES["ANDROID_NDK_VERSION"] = "r12b"
-    DEFINES["DISABLE_NACL"] = True
-    DEFINES["HAVE_SYS_UIO_H"] = True
-    DEFINES["NO_TCMALLOC"] = True
-    DEFINES["USE_OPENSSL_CERTS"] = "1"
-    DEFINES["WEBRTC_ANDROID"] = True
-    DEFINES["WEBRTC_ANDROID_OPENSLES"] = True
-    DEFINES["WEBRTC_LINUX"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
-    DEFINES["__GNU_SOURCE"] = "1"
-
-    OS_LIBS += [
-        "log"
-    ]
-
-if CONFIG["OS_TARGET"] == "Darwin":
-
-    DEFINES["CR_XCODE_VERSION"] = "0920"
-    DEFINES["NO_TCMALLOC"] = True
-    DEFINES["WEBRTC_MAC"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["__ASSERT_MACROS_DEFINE_VERSIONS_WITHOUT_UNDERSCORE"] = "0"
-
-    OS_LIBS += [
-        "-framework Foundation"
-    ]
-
-if CONFIG["OS_TARGET"] == "DragonFly":
+if not CONFIG["MOZ_DEBUG"]:
 
-    DEFINES["USE_X11"] = "1"
-    DEFINES["WEBRTC_BSD"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
+    DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "0"
+    DEFINES["NDEBUG"] = True
+    DEFINES["NVALGRIND"] = True
 
-if CONFIG["OS_TARGET"] == "FreeBSD":
+if CONFIG["OS_TARGET"] == "NetBSD":
 
     DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_BSD"] = True
@@ -91,7 +53,6 @@ if CONFIG["OS_TARGET"] == "FreeBSD":
 if CONFIG["OS_TARGET"] == "Linux":
 
     DEFINES["USE_NSS_CERTS"] = "1"
-    DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_LINUX"] = True
     DEFINES["WEBRTC_POSIX"] = True
     DEFINES["_FILE_OFFSET_BITS"] = "64"
@@ -100,14 +61,7 @@ if CONFIG["OS_TARGET"] == "Linux":
         "rt"
     ]
 
-if CONFIG["OS_TARGET"] == "NetBSD":
-
-    DEFINES["USE_X11"] = "1"
-    DEFINES["WEBRTC_BSD"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
-
-if CONFIG["OS_TARGET"] == "OpenBSD":
+if CONFIG["OS_TARGET"] == "DragonFly":
 
     DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_BSD"] = True
@@ -143,10 +97,50 @@ if CONFIG["OS_TARGET"] == "WINNT":
         "winmm"
     ]
 
-if CONFIG["CPU_ARCH"] == "aarch64":
+if CONFIG["OS_TARGET"] == "Darwin":
 
-    DEFINES["WEBRTC_ARCH_ARM64"] = True
-    DEFINES["WEBRTC_HAS_NEON"] = True
+    DEFINES["CR_XCODE_VERSION"] = "0920"
+    DEFINES["NO_TCMALLOC"] = True
+    DEFINES["WEBRTC_MAC"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["__ASSERT_MACROS_DEFINE_VERSIONS_WITHOUT_UNDERSCORE"] = "0"
+
+    OS_LIBS += [
+        "-framework Foundation"
+    ]
+
+if CONFIG["OS_TARGET"] == "OpenBSD":
+
+    DEFINES["USE_X11"] = "1"
+    DEFINES["WEBRTC_BSD"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+
+if CONFIG["OS_TARGET"] == "FreeBSD":
+
+    DEFINES["USE_X11"] = "1"
+    DEFINES["WEBRTC_BSD"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+
+if CONFIG["OS_TARGET"] == "Android":
+
+    DEFINES["ANDROID"] = True
+    DEFINES["ANDROID_NDK_VERSION"] = "r12b"
+    DEFINES["DISABLE_NACL"] = True
+    DEFINES["HAVE_SYS_UIO_H"] = True
+    DEFINES["NO_TCMALLOC"] = True
+    DEFINES["USE_OPENSSL_CERTS"] = "1"
+    DEFINES["WEBRTC_ANDROID"] = True
+    DEFINES["WEBRTC_ANDROID_OPENSLES"] = True
+    DEFINES["WEBRTC_LINUX"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+    DEFINES["__GNU_SOURCE"] = "1"
+
+    OS_LIBS += [
+        "log"
+    ]
 
 if CONFIG["CPU_ARCH"] == "arm":
 
@@ -158,15 +152,24 @@ if CONFIG["CPU_ARCH"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Android":
+if CONFIG["CPU_ARCH"] == "ppc64":
 
-    DEFINES["_FORTIFY_SOURCE"] = "2"
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "mips64":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "aarch64":
+
+    DEFINES["WEBRTC_ARCH_ARM64"] = True
+    DEFINES["WEBRTC_HAS_NEON"] = True
 
 if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Darwin":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "DragonFly":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "OpenBSD":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
@@ -174,20 +177,28 @@ if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "FreeBSD":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "NetBSD":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Android":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "OpenBSD":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "DragonFly":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "Android":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "NetBSD":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "NetBSD":
 
     CXXFLAGS += [
         "-msse2"
     ]
 
+if CONFIG["CPU_ARCH"] == "x86_64" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
 if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "FreeBSD":
 
     CXXFLAGS += [
@@ -205,7 +216,7 @@ if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "Linux":
         "-msse2"
     ]
 
-if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "NetBSD":
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "Android":
 
     CXXFLAGS += [
         "-msse2"
@@ -217,4 +228,32 @@ if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "OpenBSD":
         "-msse2"
     ]
 
+if CONFIG["CPU_ARCH"] == "arm" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "aarch64" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "arm" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "aarch64" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["HOST_CPU_ARCH"] == "x86_64" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["HOST_CPU_ARCH"] == "x86" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
 Library("webrtc_i420_gn")
diff --git a/media/webrtc/trunk/webrtc/modules/video_coding/webrtc_stereo_gn/moz.build b/media/webrtc/trunk/webrtc/modules/video_coding/webrtc_stereo_gn/moz.build
index 5d09e1ddc491..296616b42f39 100644
--- a/media/webrtc/trunk/webrtc/modules/video_coding/webrtc_stereo_gn/moz.build
+++ b/media/webrtc/trunk/webrtc/modules/video_coding/webrtc_stereo_gn/moz.build
@@ -33,56 +33,18 @@ UNIFIED_SOURCES += [
     "/media/webrtc/trunk/webrtc/modules/video_coding/codecs/stereo/stereo_encoder_adapter.cc"
 ]
 
-if not CONFIG["MOZ_DEBUG"]:
-
-    DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "0"
-    DEFINES["NDEBUG"] = True
-    DEFINES["NVALGRIND"] = True
-
 if CONFIG["MOZ_DEBUG"] == "1":
 
     DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "1"
     DEFINES["WTF_USE_DYNAMIC_ANNOTATIONS"] = "1"
 
-if CONFIG["OS_TARGET"] == "Android":
-
-    DEFINES["ANDROID"] = True
-    DEFINES["ANDROID_NDK_VERSION"] = "r12b"
-    DEFINES["DISABLE_NACL"] = True
-    DEFINES["HAVE_SYS_UIO_H"] = True
-    DEFINES["NO_TCMALLOC"] = True
-    DEFINES["USE_OPENSSL_CERTS"] = "1"
-    DEFINES["WEBRTC_ANDROID"] = True
-    DEFINES["WEBRTC_ANDROID_OPENSLES"] = True
-    DEFINES["WEBRTC_LINUX"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
-    DEFINES["__GNU_SOURCE"] = "1"
-
-    OS_LIBS += [
-        "log"
-    ]
-
-if CONFIG["OS_TARGET"] == "Darwin":
-
-    DEFINES["CR_XCODE_VERSION"] = "0920"
-    DEFINES["NO_TCMALLOC"] = True
-    DEFINES["WEBRTC_MAC"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["__ASSERT_MACROS_DEFINE_VERSIONS_WITHOUT_UNDERSCORE"] = "0"
-
-    OS_LIBS += [
-        "-framework Foundation"
-    ]
-
-if CONFIG["OS_TARGET"] == "DragonFly":
+if not CONFIG["MOZ_DEBUG"]:
 
-    DEFINES["USE_X11"] = "1"
-    DEFINES["WEBRTC_BSD"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
+    DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "0"
+    DEFINES["NDEBUG"] = True
+    DEFINES["NVALGRIND"] = True
 
-if CONFIG["OS_TARGET"] == "FreeBSD":
+if CONFIG["OS_TARGET"] == "NetBSD":
 
     DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_BSD"] = True
@@ -92,7 +54,6 @@ if CONFIG["OS_TARGET"] == "FreeBSD":
 if CONFIG["OS_TARGET"] == "Linux":
 
     DEFINES["USE_NSS_CERTS"] = "1"
-    DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_LINUX"] = True
     DEFINES["WEBRTC_POSIX"] = True
     DEFINES["_FILE_OFFSET_BITS"] = "64"
@@ -101,14 +62,7 @@ if CONFIG["OS_TARGET"] == "Linux":
         "rt"
     ]
 
-if CONFIG["OS_TARGET"] == "NetBSD":
-
-    DEFINES["USE_X11"] = "1"
-    DEFINES["WEBRTC_BSD"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
-
-if CONFIG["OS_TARGET"] == "OpenBSD":
+if CONFIG["OS_TARGET"] == "DragonFly":
 
     DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_BSD"] = True
@@ -144,10 +98,50 @@ if CONFIG["OS_TARGET"] == "WINNT":
         "winmm"
     ]
 
-if CONFIG["CPU_ARCH"] == "aarch64":
+if CONFIG["OS_TARGET"] == "Darwin":
 
-    DEFINES["WEBRTC_ARCH_ARM64"] = True
-    DEFINES["WEBRTC_HAS_NEON"] = True
+    DEFINES["CR_XCODE_VERSION"] = "0920"
+    DEFINES["NO_TCMALLOC"] = True
+    DEFINES["WEBRTC_MAC"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["__ASSERT_MACROS_DEFINE_VERSIONS_WITHOUT_UNDERSCORE"] = "0"
+
+    OS_LIBS += [
+        "-framework Foundation"
+    ]
+
+if CONFIG["OS_TARGET"] == "OpenBSD":
+
+    DEFINES["USE_X11"] = "1"
+    DEFINES["WEBRTC_BSD"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+
+if CONFIG["OS_TARGET"] == "FreeBSD":
+
+    DEFINES["USE_X11"] = "1"
+    DEFINES["WEBRTC_BSD"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+
+if CONFIG["OS_TARGET"] == "Android":
+
+    DEFINES["ANDROID"] = True
+    DEFINES["ANDROID_NDK_VERSION"] = "r12b"
+    DEFINES["DISABLE_NACL"] = True
+    DEFINES["HAVE_SYS_UIO_H"] = True
+    DEFINES["NO_TCMALLOC"] = True
+    DEFINES["USE_OPENSSL_CERTS"] = "1"
+    DEFINES["WEBRTC_ANDROID"] = True
+    DEFINES["WEBRTC_ANDROID_OPENSLES"] = True
+    DEFINES["WEBRTC_LINUX"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+    DEFINES["__GNU_SOURCE"] = "1"
+
+    OS_LIBS += [
+        "log"
+    ]
 
 if CONFIG["CPU_ARCH"] == "arm":
 
@@ -159,15 +153,24 @@ if CONFIG["CPU_ARCH"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Android":
+if CONFIG["CPU_ARCH"] == "ppc64":
 
-    DEFINES["_FORTIFY_SOURCE"] = "2"
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "mips64":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "aarch64":
+
+    DEFINES["WEBRTC_ARCH_ARM64"] = True
+    DEFINES["WEBRTC_HAS_NEON"] = True
 
 if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Darwin":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "DragonFly":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "OpenBSD":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
@@ -175,20 +178,28 @@ if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "FreeBSD":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "NetBSD":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Android":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "OpenBSD":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "DragonFly":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "Android":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "NetBSD":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "NetBSD":
 
     CXXFLAGS += [
         "-msse2"
     ]
 
+if CONFIG["CPU_ARCH"] == "x86_64" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
 if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "FreeBSD":
 
     CXXFLAGS += [
@@ -206,7 +217,7 @@ if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "Linux":
         "-msse2"
     ]
 
-if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "NetBSD":
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "Android":
 
     CXXFLAGS += [
         "-msse2"
@@ -218,4 +229,32 @@ if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "OpenBSD":
         "-msse2"
     ]
 
+if CONFIG["CPU_ARCH"] == "arm" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "aarch64" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "arm" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "aarch64" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["HOST_CPU_ARCH"] == "x86_64" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["HOST_CPU_ARCH"] == "x86" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
 Library("webrtc_stereo_gn")
diff --git a/media/webrtc/trunk/webrtc/modules/video_coding/webrtc_vp8_gn/moz.build b/media/webrtc/trunk/webrtc/modules/video_coding/webrtc_vp8_gn/moz.build
index def7429f56c9..b0cdd0f2ccc3 100644
--- a/media/webrtc/trunk/webrtc/modules/video_coding/webrtc_vp8_gn/moz.build
+++ b/media/webrtc/trunk/webrtc/modules/video_coding/webrtc_vp8_gn/moz.build
@@ -36,56 +36,18 @@ UNIFIED_SOURCES += [
     "/media/webrtc/trunk/webrtc/modules/video_coding/codecs/vp8/vp8_impl.cc"
 ]
 
-if not CONFIG["MOZ_DEBUG"]:
-
-    DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "0"
-    DEFINES["NDEBUG"] = True
-    DEFINES["NVALGRIND"] = True
-
 if CONFIG["MOZ_DEBUG"] == "1":
 
     DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "1"
     DEFINES["WTF_USE_DYNAMIC_ANNOTATIONS"] = "1"
 
-if CONFIG["OS_TARGET"] == "Android":
-
-    DEFINES["ANDROID"] = True
-    DEFINES["ANDROID_NDK_VERSION"] = "r12b"
-    DEFINES["DISABLE_NACL"] = True
-    DEFINES["HAVE_SYS_UIO_H"] = True
-    DEFINES["NO_TCMALLOC"] = True
-    DEFINES["USE_OPENSSL_CERTS"] = "1"
-    DEFINES["WEBRTC_ANDROID"] = True
-    DEFINES["WEBRTC_ANDROID_OPENSLES"] = True
-    DEFINES["WEBRTC_LINUX"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
-    DEFINES["__GNU_SOURCE"] = "1"
-
-    OS_LIBS += [
-        "log"
-    ]
-
-if CONFIG["OS_TARGET"] == "Darwin":
-
-    DEFINES["CR_XCODE_VERSION"] = "0920"
-    DEFINES["NO_TCMALLOC"] = True
-    DEFINES["WEBRTC_MAC"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["__ASSERT_MACROS_DEFINE_VERSIONS_WITHOUT_UNDERSCORE"] = "0"
-
-    OS_LIBS += [
-        "-framework Foundation"
-    ]
-
-if CONFIG["OS_TARGET"] == "DragonFly":
+if not CONFIG["MOZ_DEBUG"]:
 
-    DEFINES["USE_X11"] = "1"
-    DEFINES["WEBRTC_BSD"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
+    DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "0"
+    DEFINES["NDEBUG"] = True
+    DEFINES["NVALGRIND"] = True
 
-if CONFIG["OS_TARGET"] == "FreeBSD":
+if CONFIG["OS_TARGET"] == "NetBSD":
 
     DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_BSD"] = True
@@ -95,7 +57,6 @@ if CONFIG["OS_TARGET"] == "FreeBSD":
 if CONFIG["OS_TARGET"] == "Linux":
 
     DEFINES["USE_NSS_CERTS"] = "1"
-    DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_LINUX"] = True
     DEFINES["WEBRTC_POSIX"] = True
     DEFINES["_FILE_OFFSET_BITS"] = "64"
@@ -104,14 +65,7 @@ if CONFIG["OS_TARGET"] == "Linux":
         "rt"
     ]
 
-if CONFIG["OS_TARGET"] == "NetBSD":
-
-    DEFINES["USE_X11"] = "1"
-    DEFINES["WEBRTC_BSD"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
-
-if CONFIG["OS_TARGET"] == "OpenBSD":
+if CONFIG["OS_TARGET"] == "DragonFly":
 
     DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_BSD"] = True
@@ -147,10 +101,50 @@ if CONFIG["OS_TARGET"] == "WINNT":
         "winmm"
     ]
 
-if CONFIG["CPU_ARCH"] == "aarch64":
+if CONFIG["OS_TARGET"] == "Darwin":
 
-    DEFINES["WEBRTC_ARCH_ARM64"] = True
-    DEFINES["WEBRTC_HAS_NEON"] = True
+    DEFINES["CR_XCODE_VERSION"] = "0920"
+    DEFINES["NO_TCMALLOC"] = True
+    DEFINES["WEBRTC_MAC"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["__ASSERT_MACROS_DEFINE_VERSIONS_WITHOUT_UNDERSCORE"] = "0"
+
+    OS_LIBS += [
+        "-framework Foundation"
+    ]
+
+if CONFIG["OS_TARGET"] == "OpenBSD":
+
+    DEFINES["USE_X11"] = "1"
+    DEFINES["WEBRTC_BSD"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+
+if CONFIG["OS_TARGET"] == "FreeBSD":
+
+    DEFINES["USE_X11"] = "1"
+    DEFINES["WEBRTC_BSD"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+
+if CONFIG["OS_TARGET"] == "Android":
+
+    DEFINES["ANDROID"] = True
+    DEFINES["ANDROID_NDK_VERSION"] = "r12b"
+    DEFINES["DISABLE_NACL"] = True
+    DEFINES["HAVE_SYS_UIO_H"] = True
+    DEFINES["NO_TCMALLOC"] = True
+    DEFINES["USE_OPENSSL_CERTS"] = "1"
+    DEFINES["WEBRTC_ANDROID"] = True
+    DEFINES["WEBRTC_ANDROID_OPENSLES"] = True
+    DEFINES["WEBRTC_LINUX"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+    DEFINES["__GNU_SOURCE"] = "1"
+
+    OS_LIBS += [
+        "log"
+    ]
 
 if CONFIG["CPU_ARCH"] == "arm":
 
@@ -162,15 +156,24 @@ if CONFIG["CPU_ARCH"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Android":
+if CONFIG["CPU_ARCH"] == "ppc64":
 
-    DEFINES["_FORTIFY_SOURCE"] = "2"
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "mips64":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "aarch64":
+
+    DEFINES["WEBRTC_ARCH_ARM64"] = True
+    DEFINES["WEBRTC_HAS_NEON"] = True
 
 if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Darwin":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "DragonFly":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "OpenBSD":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
@@ -178,20 +181,28 @@ if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "FreeBSD":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "NetBSD":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Android":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "OpenBSD":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "DragonFly":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "Android":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "NetBSD":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "NetBSD":
 
     CXXFLAGS += [
         "-msse2"
     ]
 
+if CONFIG["CPU_ARCH"] == "x86_64" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
 if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "FreeBSD":
 
     CXXFLAGS += [
@@ -209,7 +220,7 @@ if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "Linux":
         "-msse2"
     ]
 
-if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "NetBSD":
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "Android":
 
     CXXFLAGS += [
         "-msse2"
@@ -221,4 +232,32 @@ if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "OpenBSD":
         "-msse2"
     ]
 
+if CONFIG["CPU_ARCH"] == "arm" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "aarch64" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "arm" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "aarch64" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["HOST_CPU_ARCH"] == "x86_64" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["HOST_CPU_ARCH"] == "x86" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
 Library("webrtc_vp8_gn")
diff --git a/media/webrtc/trunk/webrtc/modules/video_coding/webrtc_vp9_gn/moz.build b/media/webrtc/trunk/webrtc/modules/video_coding/webrtc_vp9_gn/moz.build
index 20ebe05e26ea..5ed5b50475dc 100644
--- a/media/webrtc/trunk/webrtc/modules/video_coding/webrtc_vp9_gn/moz.build
+++ b/media/webrtc/trunk/webrtc/modules/video_coding/webrtc_vp9_gn/moz.build
@@ -34,56 +34,18 @@ UNIFIED_SOURCES += [
     "/media/webrtc/trunk/webrtc/modules/video_coding/codecs/vp9/vp9_impl.cc"
 ]
 
-if not CONFIG["MOZ_DEBUG"]:
-
-    DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "0"
-    DEFINES["NDEBUG"] = True
-    DEFINES["NVALGRIND"] = True
-
 if CONFIG["MOZ_DEBUG"] == "1":
 
     DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "1"
     DEFINES["WTF_USE_DYNAMIC_ANNOTATIONS"] = "1"
 
-if CONFIG["OS_TARGET"] == "Android":
-
-    DEFINES["ANDROID"] = True
-    DEFINES["ANDROID_NDK_VERSION"] = "r12b"
-    DEFINES["DISABLE_NACL"] = True
-    DEFINES["HAVE_SYS_UIO_H"] = True
-    DEFINES["NO_TCMALLOC"] = True
-    DEFINES["USE_OPENSSL_CERTS"] = "1"
-    DEFINES["WEBRTC_ANDROID"] = True
-    DEFINES["WEBRTC_ANDROID_OPENSLES"] = True
-    DEFINES["WEBRTC_LINUX"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
-    DEFINES["__GNU_SOURCE"] = "1"
-
-    OS_LIBS += [
-        "log"
-    ]
-
-if CONFIG["OS_TARGET"] == "Darwin":
-
-    DEFINES["CR_XCODE_VERSION"] = "0920"
-    DEFINES["NO_TCMALLOC"] = True
-    DEFINES["WEBRTC_MAC"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["__ASSERT_MACROS_DEFINE_VERSIONS_WITHOUT_UNDERSCORE"] = "0"
-
-    OS_LIBS += [
-        "-framework Foundation"
-    ]
-
-if CONFIG["OS_TARGET"] == "DragonFly":
+if not CONFIG["MOZ_DEBUG"]:
 
-    DEFINES["USE_X11"] = "1"
-    DEFINES["WEBRTC_BSD"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
+    DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "0"
+    DEFINES["NDEBUG"] = True
+    DEFINES["NVALGRIND"] = True
 
-if CONFIG["OS_TARGET"] == "FreeBSD":
+if CONFIG["OS_TARGET"] == "NetBSD":
 
     DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_BSD"] = True
@@ -93,7 +55,6 @@ if CONFIG["OS_TARGET"] == "FreeBSD":
 if CONFIG["OS_TARGET"] == "Linux":
 
     DEFINES["USE_NSS_CERTS"] = "1"
-    DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_LINUX"] = True
     DEFINES["WEBRTC_POSIX"] = True
     DEFINES["_FILE_OFFSET_BITS"] = "64"
@@ -102,14 +63,7 @@ if CONFIG["OS_TARGET"] == "Linux":
         "rt"
     ]
 
-if CONFIG["OS_TARGET"] == "NetBSD":
-
-    DEFINES["USE_X11"] = "1"
-    DEFINES["WEBRTC_BSD"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
-
-if CONFIG["OS_TARGET"] == "OpenBSD":
+if CONFIG["OS_TARGET"] == "DragonFly":
 
     DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_BSD"] = True
@@ -145,10 +99,50 @@ if CONFIG["OS_TARGET"] == "WINNT":
         "winmm"
     ]
 
-if CONFIG["CPU_ARCH"] == "aarch64":
+if CONFIG["OS_TARGET"] == "Darwin":
 
-    DEFINES["WEBRTC_ARCH_ARM64"] = True
-    DEFINES["WEBRTC_HAS_NEON"] = True
+    DEFINES["CR_XCODE_VERSION"] = "0920"
+    DEFINES["NO_TCMALLOC"] = True
+    DEFINES["WEBRTC_MAC"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["__ASSERT_MACROS_DEFINE_VERSIONS_WITHOUT_UNDERSCORE"] = "0"
+
+    OS_LIBS += [
+        "-framework Foundation"
+    ]
+
+if CONFIG["OS_TARGET"] == "OpenBSD":
+
+    DEFINES["USE_X11"] = "1"
+    DEFINES["WEBRTC_BSD"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+
+if CONFIG["OS_TARGET"] == "FreeBSD":
+
+    DEFINES["USE_X11"] = "1"
+    DEFINES["WEBRTC_BSD"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+
+if CONFIG["OS_TARGET"] == "Android":
+
+    DEFINES["ANDROID"] = True
+    DEFINES["ANDROID_NDK_VERSION"] = "r12b"
+    DEFINES["DISABLE_NACL"] = True
+    DEFINES["HAVE_SYS_UIO_H"] = True
+    DEFINES["NO_TCMALLOC"] = True
+    DEFINES["USE_OPENSSL_CERTS"] = "1"
+    DEFINES["WEBRTC_ANDROID"] = True
+    DEFINES["WEBRTC_ANDROID_OPENSLES"] = True
+    DEFINES["WEBRTC_LINUX"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+    DEFINES["__GNU_SOURCE"] = "1"
+
+    OS_LIBS += [
+        "log"
+    ]
 
 if CONFIG["CPU_ARCH"] == "arm":
 
@@ -160,15 +154,24 @@ if CONFIG["CPU_ARCH"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Android":
+if CONFIG["CPU_ARCH"] == "ppc64":
 
-    DEFINES["_FORTIFY_SOURCE"] = "2"
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "mips64":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "aarch64":
+
+    DEFINES["WEBRTC_ARCH_ARM64"] = True
+    DEFINES["WEBRTC_HAS_NEON"] = True
 
 if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Darwin":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "DragonFly":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "OpenBSD":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
@@ -176,20 +179,28 @@ if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "FreeBSD":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "NetBSD":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Android":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "OpenBSD":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "DragonFly":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "Android":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "NetBSD":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "NetBSD":
 
     CXXFLAGS += [
         "-msse2"
     ]
 
+if CONFIG["CPU_ARCH"] == "x86_64" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
 if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "FreeBSD":
 
     CXXFLAGS += [
@@ -207,7 +218,7 @@ if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "Linux":
         "-msse2"
     ]
 
-if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "NetBSD":
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "Android":
 
     CXXFLAGS += [
         "-msse2"
@@ -219,4 +230,32 @@ if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "OpenBSD":
         "-msse2"
     ]
 
+if CONFIG["CPU_ARCH"] == "arm" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "aarch64" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "arm" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "aarch64" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["HOST_CPU_ARCH"] == "x86_64" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["HOST_CPU_ARCH"] == "x86" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
 Library("webrtc_vp9_gn")
diff --git a/media/webrtc/trunk/webrtc/modules/video_processing/denoiser_filter_gn/moz.build b/media/webrtc/trunk/webrtc/modules/video_processing/denoiser_filter_gn/moz.build
index 51d4be1980a1..b5b8259e61d4 100644
--- a/media/webrtc/trunk/webrtc/modules/video_processing/denoiser_filter_gn/moz.build
+++ b/media/webrtc/trunk/webrtc/modules/video_processing/denoiser_filter_gn/moz.build
@@ -26,56 +26,18 @@ LOCAL_INCLUDES += [
     "/media/webrtc/trunk/webrtc/"
 ]
 
-if not CONFIG["MOZ_DEBUG"]:
-
-    DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "0"
-    DEFINES["NDEBUG"] = True
-    DEFINES["NVALGRIND"] = True
-
 if CONFIG["MOZ_DEBUG"] == "1":
 
     DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "1"
     DEFINES["WTF_USE_DYNAMIC_ANNOTATIONS"] = "1"
 
-if CONFIG["OS_TARGET"] == "Android":
-
-    DEFINES["ANDROID"] = True
-    DEFINES["ANDROID_NDK_VERSION"] = "r12b"
-    DEFINES["DISABLE_NACL"] = True
-    DEFINES["HAVE_SYS_UIO_H"] = True
-    DEFINES["NO_TCMALLOC"] = True
-    DEFINES["USE_OPENSSL_CERTS"] = "1"
-    DEFINES["WEBRTC_ANDROID"] = True
-    DEFINES["WEBRTC_ANDROID_OPENSLES"] = True
-    DEFINES["WEBRTC_LINUX"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
-    DEFINES["__GNU_SOURCE"] = "1"
-
-    OS_LIBS += [
-        "log"
-    ]
-
-if CONFIG["OS_TARGET"] == "Darwin":
-
-    DEFINES["CR_XCODE_VERSION"] = "0920"
-    DEFINES["NO_TCMALLOC"] = True
-    DEFINES["WEBRTC_MAC"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["__ASSERT_MACROS_DEFINE_VERSIONS_WITHOUT_UNDERSCORE"] = "0"
-
-    OS_LIBS += [
-        "-framework Foundation"
-    ]
-
-if CONFIG["OS_TARGET"] == "DragonFly":
+if not CONFIG["MOZ_DEBUG"]:
 
-    DEFINES["USE_X11"] = "1"
-    DEFINES["WEBRTC_BSD"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
+    DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "0"
+    DEFINES["NDEBUG"] = True
+    DEFINES["NVALGRIND"] = True
 
-if CONFIG["OS_TARGET"] == "FreeBSD":
+if CONFIG["OS_TARGET"] == "NetBSD":
 
     DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_BSD"] = True
@@ -85,7 +47,6 @@ if CONFIG["OS_TARGET"] == "FreeBSD":
 if CONFIG["OS_TARGET"] == "Linux":
 
     DEFINES["USE_NSS_CERTS"] = "1"
-    DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_LINUX"] = True
     DEFINES["WEBRTC_POSIX"] = True
     DEFINES["_FILE_OFFSET_BITS"] = "64"
@@ -94,14 +55,7 @@ if CONFIG["OS_TARGET"] == "Linux":
         "rt"
     ]
 
-if CONFIG["OS_TARGET"] == "NetBSD":
-
-    DEFINES["USE_X11"] = "1"
-    DEFINES["WEBRTC_BSD"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
-
-if CONFIG["OS_TARGET"] == "OpenBSD":
+if CONFIG["OS_TARGET"] == "DragonFly":
 
     DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_BSD"] = True
@@ -137,10 +91,50 @@ if CONFIG["OS_TARGET"] == "WINNT":
         "winmm"
     ]
 
-if CONFIG["CPU_ARCH"] == "aarch64":
+if CONFIG["OS_TARGET"] == "Darwin":
 
-    DEFINES["WEBRTC_ARCH_ARM64"] = True
-    DEFINES["WEBRTC_HAS_NEON"] = True
+    DEFINES["CR_XCODE_VERSION"] = "0920"
+    DEFINES["NO_TCMALLOC"] = True
+    DEFINES["WEBRTC_MAC"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["__ASSERT_MACROS_DEFINE_VERSIONS_WITHOUT_UNDERSCORE"] = "0"
+
+    OS_LIBS += [
+        "-framework Foundation"
+    ]
+
+if CONFIG["OS_TARGET"] == "OpenBSD":
+
+    DEFINES["USE_X11"] = "1"
+    DEFINES["WEBRTC_BSD"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+
+if CONFIG["OS_TARGET"] == "FreeBSD":
+
+    DEFINES["USE_X11"] = "1"
+    DEFINES["WEBRTC_BSD"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+
+if CONFIG["OS_TARGET"] == "Android":
+
+    DEFINES["ANDROID"] = True
+    DEFINES["ANDROID_NDK_VERSION"] = "r12b"
+    DEFINES["DISABLE_NACL"] = True
+    DEFINES["HAVE_SYS_UIO_H"] = True
+    DEFINES["NO_TCMALLOC"] = True
+    DEFINES["USE_OPENSSL_CERTS"] = "1"
+    DEFINES["WEBRTC_ANDROID"] = True
+    DEFINES["WEBRTC_ANDROID_OPENSLES"] = True
+    DEFINES["WEBRTC_LINUX"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+    DEFINES["__GNU_SOURCE"] = "1"
+
+    OS_LIBS += [
+        "log"
+    ]
 
 if CONFIG["CPU_ARCH"] == "arm":
 
@@ -148,15 +142,24 @@ if CONFIG["CPU_ARCH"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Android":
+if CONFIG["CPU_ARCH"] == "ppc64":
 
-    DEFINES["_FORTIFY_SOURCE"] = "2"
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "mips64":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "aarch64":
+
+    DEFINES["WEBRTC_ARCH_ARM64"] = True
+    DEFINES["WEBRTC_HAS_NEON"] = True
 
 if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Darwin":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "DragonFly":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "OpenBSD":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
@@ -164,17 +167,53 @@ if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "FreeBSD":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "NetBSD":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Android":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "OpenBSD":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "DragonFly":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "NetBSD":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
+if CONFIG["CPU_ARCH"] == "x86_64" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
 if CONFIG["CPU_ARCH"] == "aarch64" and CONFIG["OS_TARGET"] == "Linux":
 
     DEFINES["DISABLE_NACL"] = True
     DEFINES["NO_TCMALLOC"] = True
 
+if CONFIG["CPU_ARCH"] == "arm" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "aarch64" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "arm" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "aarch64" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["HOST_CPU_ARCH"] == "x86_64" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["HOST_CPU_ARCH"] == "x86" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
 Library("denoiser_filter_gn")
diff --git a/media/webrtc/trunk/webrtc/modules/video_processing/video_processing_gn/moz.build b/media/webrtc/trunk/webrtc/modules/video_processing/video_processing_gn/moz.build
index ab922b7bb49e..447b9ab0a1dc 100644
--- a/media/webrtc/trunk/webrtc/modules/video_processing/video_processing_gn/moz.build
+++ b/media/webrtc/trunk/webrtc/modules/video_processing/video_processing_gn/moz.build
@@ -40,56 +40,18 @@ UNIFIED_SOURCES += [
     "/media/webrtc/trunk/webrtc/modules/video_processing/video_denoiser.cc"
 ]
 
-if not CONFIG["MOZ_DEBUG"]:
-
-    DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "0"
-    DEFINES["NDEBUG"] = True
-    DEFINES["NVALGRIND"] = True
-
 if CONFIG["MOZ_DEBUG"] == "1":
 
     DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "1"
     DEFINES["WTF_USE_DYNAMIC_ANNOTATIONS"] = "1"
 
-if CONFIG["OS_TARGET"] == "Android":
-
-    DEFINES["ANDROID"] = True
-    DEFINES["ANDROID_NDK_VERSION"] = "r12b"
-    DEFINES["DISABLE_NACL"] = True
-    DEFINES["HAVE_SYS_UIO_H"] = True
-    DEFINES["NO_TCMALLOC"] = True
-    DEFINES["USE_OPENSSL_CERTS"] = "1"
-    DEFINES["WEBRTC_ANDROID"] = True
-    DEFINES["WEBRTC_ANDROID_OPENSLES"] = True
-    DEFINES["WEBRTC_LINUX"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
-    DEFINES["__GNU_SOURCE"] = "1"
-
-    OS_LIBS += [
-        "log"
-    ]
-
-if CONFIG["OS_TARGET"] == "Darwin":
-
-    DEFINES["CR_XCODE_VERSION"] = "0920"
-    DEFINES["NO_TCMALLOC"] = True
-    DEFINES["WEBRTC_MAC"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["__ASSERT_MACROS_DEFINE_VERSIONS_WITHOUT_UNDERSCORE"] = "0"
-
-    OS_LIBS += [
-        "-framework Foundation"
-    ]
-
-if CONFIG["OS_TARGET"] == "DragonFly":
+if not CONFIG["MOZ_DEBUG"]:
 
-    DEFINES["USE_X11"] = "1"
-    DEFINES["WEBRTC_BSD"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
+    DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "0"
+    DEFINES["NDEBUG"] = True
+    DEFINES["NVALGRIND"] = True
 
-if CONFIG["OS_TARGET"] == "FreeBSD":
+if CONFIG["OS_TARGET"] == "NetBSD":
 
     DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_BSD"] = True
@@ -99,7 +61,6 @@ if CONFIG["OS_TARGET"] == "FreeBSD":
 if CONFIG["OS_TARGET"] == "Linux":
 
     DEFINES["USE_NSS_CERTS"] = "1"
-    DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_LINUX"] = True
     DEFINES["WEBRTC_POSIX"] = True
     DEFINES["_FILE_OFFSET_BITS"] = "64"
@@ -108,14 +69,7 @@ if CONFIG["OS_TARGET"] == "Linux":
         "rt"
     ]
 
-if CONFIG["OS_TARGET"] == "NetBSD":
-
-    DEFINES["USE_X11"] = "1"
-    DEFINES["WEBRTC_BSD"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
-
-if CONFIG["OS_TARGET"] == "OpenBSD":
+if CONFIG["OS_TARGET"] == "DragonFly":
 
     DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_BSD"] = True
@@ -151,10 +105,50 @@ if CONFIG["OS_TARGET"] == "WINNT":
         "winmm"
     ]
 
-if CONFIG["CPU_ARCH"] == "aarch64":
+if CONFIG["OS_TARGET"] == "Darwin":
 
-    DEFINES["WEBRTC_ARCH_ARM64"] = True
-    DEFINES["WEBRTC_HAS_NEON"] = True
+    DEFINES["CR_XCODE_VERSION"] = "0920"
+    DEFINES["NO_TCMALLOC"] = True
+    DEFINES["WEBRTC_MAC"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["__ASSERT_MACROS_DEFINE_VERSIONS_WITHOUT_UNDERSCORE"] = "0"
+
+    OS_LIBS += [
+        "-framework Foundation"
+    ]
+
+if CONFIG["OS_TARGET"] == "OpenBSD":
+
+    DEFINES["USE_X11"] = "1"
+    DEFINES["WEBRTC_BSD"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+
+if CONFIG["OS_TARGET"] == "FreeBSD":
+
+    DEFINES["USE_X11"] = "1"
+    DEFINES["WEBRTC_BSD"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+
+if CONFIG["OS_TARGET"] == "Android":
+
+    DEFINES["ANDROID"] = True
+    DEFINES["ANDROID_NDK_VERSION"] = "r12b"
+    DEFINES["DISABLE_NACL"] = True
+    DEFINES["HAVE_SYS_UIO_H"] = True
+    DEFINES["NO_TCMALLOC"] = True
+    DEFINES["USE_OPENSSL_CERTS"] = "1"
+    DEFINES["WEBRTC_ANDROID"] = True
+    DEFINES["WEBRTC_ANDROID_OPENSLES"] = True
+    DEFINES["WEBRTC_LINUX"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+    DEFINES["__GNU_SOURCE"] = "1"
+
+    OS_LIBS += [
+        "log"
+    ]
 
 if CONFIG["CPU_ARCH"] == "arm":
 
@@ -166,15 +160,24 @@ if CONFIG["CPU_ARCH"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Android":
+if CONFIG["CPU_ARCH"] == "ppc64":
 
-    DEFINES["_FORTIFY_SOURCE"] = "2"
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "mips64":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "aarch64":
+
+    DEFINES["WEBRTC_ARCH_ARM64"] = True
+    DEFINES["WEBRTC_HAS_NEON"] = True
 
 if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Darwin":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "DragonFly":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "OpenBSD":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
@@ -182,20 +185,28 @@ if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "FreeBSD":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "NetBSD":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Android":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "OpenBSD":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "DragonFly":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "Android":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "NetBSD":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "NetBSD":
 
     CXXFLAGS += [
         "-msse2"
     ]
 
+if CONFIG["CPU_ARCH"] == "x86_64" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
 if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "FreeBSD":
 
     CXXFLAGS += [
@@ -213,7 +224,7 @@ if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "Linux":
         "-msse2"
     ]
 
-if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "NetBSD":
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "Android":
 
     CXXFLAGS += [
         "-msse2"
@@ -225,4 +236,32 @@ if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "OpenBSD":
         "-msse2"
     ]
 
+if CONFIG["CPU_ARCH"] == "arm" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "aarch64" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "arm" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "aarch64" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["HOST_CPU_ARCH"] == "x86_64" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["HOST_CPU_ARCH"] == "x86" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
 Library("video_processing_gn")
diff --git a/media/webrtc/trunk/webrtc/modules/video_processing/video_processing_neon_gn/moz.build b/media/webrtc/trunk/webrtc/modules/video_processing/video_processing_neon_gn/moz.build
index 979fa0680026..105454819f9a 100644
--- a/media/webrtc/trunk/webrtc/modules/video_processing/video_processing_neon_gn/moz.build
+++ b/media/webrtc/trunk/webrtc/modules/video_processing/video_processing_neon_gn/moz.build
@@ -31,37 +31,18 @@ UNIFIED_SOURCES += [
     "/media/webrtc/trunk/webrtc/modules/video_processing/util/denoiser_filter_neon.cc"
 ]
 
-if not CONFIG["MOZ_DEBUG"]:
-
-    DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "0"
-    DEFINES["NDEBUG"] = True
-    DEFINES["NVALGRIND"] = True
-
 if CONFIG["MOZ_DEBUG"] == "1":
 
     DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "1"
     DEFINES["WTF_USE_DYNAMIC_ANNOTATIONS"] = "1"
 
-if CONFIG["OS_TARGET"] == "Android":
-
-    DEFINES["ANDROID"] = True
-    DEFINES["ANDROID_NDK_VERSION"] = "r12b"
-    DEFINES["DISABLE_NACL"] = True
-    DEFINES["HAVE_SYS_UIO_H"] = True
-    DEFINES["NO_TCMALLOC"] = True
-    DEFINES["USE_OPENSSL_CERTS"] = "1"
-    DEFINES["WEBRTC_ANDROID"] = True
-    DEFINES["WEBRTC_ANDROID_OPENSLES"] = True
-    DEFINES["WEBRTC_LINUX"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
-    DEFINES["__GNU_SOURCE"] = "1"
+if not CONFIG["MOZ_DEBUG"]:
 
-    OS_LIBS += [
-        "log"
-    ]
+    DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "0"
+    DEFINES["NDEBUG"] = True
+    DEFINES["NVALGRIND"] = True
 
-if CONFIG["OS_TARGET"] == "FreeBSD":
+if CONFIG["OS_TARGET"] == "NetBSD":
 
     DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_BSD"] = True
@@ -71,7 +52,6 @@ if CONFIG["OS_TARGET"] == "FreeBSD":
 if CONFIG["OS_TARGET"] == "Linux":
 
     DEFINES["USE_NSS_CERTS"] = "1"
-    DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_LINUX"] = True
     DEFINES["WEBRTC_POSIX"] = True
     DEFINES["_FILE_OFFSET_BITS"] = "64"
@@ -80,20 +60,6 @@ if CONFIG["OS_TARGET"] == "Linux":
         "rt"
     ]
 
-if CONFIG["OS_TARGET"] == "NetBSD":
-
-    DEFINES["USE_X11"] = "1"
-    DEFINES["WEBRTC_BSD"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
-
-if CONFIG["OS_TARGET"] == "OpenBSD":
-
-    DEFINES["USE_X11"] = "1"
-    DEFINES["WEBRTC_BSD"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
-
 if CONFIG["OS_TARGET"] == "WINNT":
 
     DEFINES["CERT_CHAIN_PARA_HAS_EXTRA_FIELDS"] = True
@@ -124,6 +90,39 @@ if CONFIG["OS_TARGET"] == "WINNT":
         "winmm"
     ]
 
+if CONFIG["OS_TARGET"] == "OpenBSD":
+
+    DEFINES["USE_X11"] = "1"
+    DEFINES["WEBRTC_BSD"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+
+if CONFIG["OS_TARGET"] == "FreeBSD":
+
+    DEFINES["USE_X11"] = "1"
+    DEFINES["WEBRTC_BSD"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+
+if CONFIG["OS_TARGET"] == "Android":
+
+    DEFINES["ANDROID"] = True
+    DEFINES["ANDROID_NDK_VERSION"] = "r12b"
+    DEFINES["DISABLE_NACL"] = True
+    DEFINES["HAVE_SYS_UIO_H"] = True
+    DEFINES["NO_TCMALLOC"] = True
+    DEFINES["USE_OPENSSL_CERTS"] = "1"
+    DEFINES["WEBRTC_ANDROID"] = True
+    DEFINES["WEBRTC_ANDROID_OPENSLES"] = True
+    DEFINES["WEBRTC_LINUX"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+    DEFINES["__GNU_SOURCE"] = "1"
+
+    OS_LIBS += [
+        "log"
+    ]
+
 if CONFIG["CPU_ARCH"] == "arm":
 
     CXXFLAGS += [
@@ -133,7 +132,7 @@ if CONFIG["CPU_ARCH"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM"] = True
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Android":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "OpenBSD":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
@@ -141,15 +140,23 @@ if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "FreeBSD":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Android":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
 if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "NetBSD":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "OpenBSD":
+if CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if CONFIG["CPU_ARCH"] == "aarch64" and CONFIG["OS_TARGET"] == "Android":
+if CONFIG["CPU_ARCH"] == "aarch64" and CONFIG["OS_TARGET"] == "OpenBSD":
 
     DEFINES["WEBRTC_ARCH_ARM64"] = True
 
@@ -157,17 +164,17 @@ if CONFIG["CPU_ARCH"] == "aarch64" and CONFIG["OS_TARGET"] == "FreeBSD":
 
     DEFINES["WEBRTC_ARCH_ARM64"] = True
 
-if CONFIG["CPU_ARCH"] == "aarch64" and CONFIG["OS_TARGET"] == "Linux":
+if CONFIG["CPU_ARCH"] == "aarch64" and CONFIG["OS_TARGET"] == "NetBSD":
 
-    DEFINES["DISABLE_NACL"] = True
-    DEFINES["NO_TCMALLOC"] = True
     DEFINES["WEBRTC_ARCH_ARM64"] = True
 
-if CONFIG["CPU_ARCH"] == "aarch64" and CONFIG["OS_TARGET"] == "NetBSD":
+if CONFIG["CPU_ARCH"] == "aarch64" and CONFIG["OS_TARGET"] == "Linux":
 
+    DEFINES["DISABLE_NACL"] = True
+    DEFINES["NO_TCMALLOC"] = True
     DEFINES["WEBRTC_ARCH_ARM64"] = True
 
-if CONFIG["CPU_ARCH"] == "aarch64" and CONFIG["OS_TARGET"] == "OpenBSD":
+if CONFIG["CPU_ARCH"] == "aarch64" and CONFIG["OS_TARGET"] == "Android":
 
     DEFINES["WEBRTC_ARCH_ARM64"] = True
 
diff --git a/media/webrtc/trunk/webrtc/modules/video_processing/video_processing_sse2_gn/moz.build b/media/webrtc/trunk/webrtc/modules/video_processing/video_processing_sse2_gn/moz.build
index 63151115b98b..0402e076afb7 100644
--- a/media/webrtc/trunk/webrtc/modules/video_processing/video_processing_sse2_gn/moz.build
+++ b/media/webrtc/trunk/webrtc/modules/video_processing/video_processing_sse2_gn/moz.build
@@ -30,51 +30,23 @@ UNIFIED_SOURCES += [
     "/media/webrtc/trunk/webrtc/modules/video_processing/util/denoiser_filter_sse2.cc"
 ]
 
-if not CONFIG["MOZ_DEBUG"]:
-
-    DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "0"
-    DEFINES["NDEBUG"] = True
-    DEFINES["NVALGRIND"] = True
-
 if CONFIG["MOZ_DEBUG"] == "1":
 
     DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "1"
     DEFINES["WTF_USE_DYNAMIC_ANNOTATIONS"] = "1"
 
-if CONFIG["OS_TARGET"] == "Android":
-
-    DEFINES["ANDROID"] = True
-    DEFINES["ANDROID_NDK_VERSION"] = "r12b"
-    DEFINES["DISABLE_NACL"] = True
-    DEFINES["HAVE_SYS_UIO_H"] = True
-    DEFINES["NO_TCMALLOC"] = True
-    DEFINES["USE_OPENSSL_CERTS"] = "1"
-    DEFINES["WEBRTC_ANDROID"] = True
-    DEFINES["WEBRTC_ANDROID_OPENSLES"] = True
-    DEFINES["WEBRTC_LINUX"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
-    DEFINES["__GNU_SOURCE"] = "1"
-
-    OS_LIBS += [
-        "log"
-    ]
+if not CONFIG["MOZ_DEBUG"]:
 
-if CONFIG["OS_TARGET"] == "Darwin":
+    DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "0"
+    DEFINES["NDEBUG"] = True
+    DEFINES["NVALGRIND"] = True
 
-    CXXFLAGS += [
-        "-msse2"
-    ]
+if CONFIG["OS_TARGET"] == "NetBSD":
 
-    DEFINES["CR_XCODE_VERSION"] = "0920"
-    DEFINES["NO_TCMALLOC"] = True
-    DEFINES["WEBRTC_MAC"] = True
+    DEFINES["USE_X11"] = "1"
+    DEFINES["WEBRTC_BSD"] = True
     DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["__ASSERT_MACROS_DEFINE_VERSIONS_WITHOUT_UNDERSCORE"] = "0"
-
-    OS_LIBS += [
-        "-framework Foundation"
-    ]
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
 
 if CONFIG["OS_TARGET"] == "DragonFly":
 
@@ -87,21 +59,9 @@ if CONFIG["OS_TARGET"] == "DragonFly":
     DEFINES["WEBRTC_POSIX"] = True
     DEFINES["_FILE_OFFSET_BITS"] = "64"
 
-if CONFIG["OS_TARGET"] == "FreeBSD":
-
-    DEFINES["USE_X11"] = "1"
-    DEFINES["WEBRTC_BSD"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
-
 if CONFIG["OS_TARGET"] == "Linux":
 
-    CXXFLAGS += [
-        "-msse2"
-    ]
-
     DEFINES["USE_NSS_CERTS"] = "1"
-    DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_LINUX"] = True
     DEFINES["WEBRTC_POSIX"] = True
     DEFINES["_FILE_OFFSET_BITS"] = "64"
@@ -110,20 +70,6 @@ if CONFIG["OS_TARGET"] == "Linux":
         "rt"
     ]
 
-if CONFIG["OS_TARGET"] == "NetBSD":
-
-    DEFINES["USE_X11"] = "1"
-    DEFINES["WEBRTC_BSD"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
-
-if CONFIG["OS_TARGET"] == "OpenBSD":
-
-    DEFINES["USE_X11"] = "1"
-    DEFINES["WEBRTC_BSD"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
-
 if CONFIG["OS_TARGET"] == "WINNT":
 
     DEFINES["CERT_CHAIN_PARA_HAS_EXTRA_FIELDS"] = True
@@ -153,15 +99,60 @@ if CONFIG["OS_TARGET"] == "WINNT":
         "winmm"
     ]
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Android":
+if CONFIG["OS_TARGET"] == "Darwin":
 
-    DEFINES["_FORTIFY_SOURCE"] = "2"
+    CXXFLAGS += [
+        "-msse2"
+    ]
+
+    DEFINES["CR_XCODE_VERSION"] = "0920"
+    DEFINES["NO_TCMALLOC"] = True
+    DEFINES["WEBRTC_MAC"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["__ASSERT_MACROS_DEFINE_VERSIONS_WITHOUT_UNDERSCORE"] = "0"
+
+    OS_LIBS += [
+        "-framework Foundation"
+    ]
+
+if CONFIG["OS_TARGET"] == "OpenBSD":
+
+    DEFINES["USE_X11"] = "1"
+    DEFINES["WEBRTC_BSD"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+
+if CONFIG["OS_TARGET"] == "FreeBSD":
+
+    DEFINES["USE_X11"] = "1"
+    DEFINES["WEBRTC_BSD"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+
+if CONFIG["OS_TARGET"] == "Android":
+
+    DEFINES["ANDROID"] = True
+    DEFINES["ANDROID_NDK_VERSION"] = "r12b"
+    DEFINES["DISABLE_NACL"] = True
+    DEFINES["HAVE_SYS_UIO_H"] = True
+    DEFINES["NO_TCMALLOC"] = True
+    DEFINES["USE_OPENSSL_CERTS"] = "1"
+    DEFINES["WEBRTC_ANDROID"] = True
+    DEFINES["WEBRTC_ANDROID_OPENSLES"] = True
+    DEFINES["WEBRTC_LINUX"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+    DEFINES["__GNU_SOURCE"] = "1"
+
+    OS_LIBS += [
+        "log"
+    ]
 
 if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Darwin":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "DragonFly":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "OpenBSD":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
@@ -169,37 +160,42 @@ if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "FreeBSD":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "NetBSD":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Android":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "OpenBSD":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "DragonFly":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "Android":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "NetBSD":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
+if CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
 
     CXXFLAGS += [
-        "-msse2",
         "-msse2"
     ]
 
+    DEFINES["USE_X11"] = "1"
+
 if CONFIG["CPU_ARCH"] == "x86_64" and CONFIG["OS_TARGET"] == "Android":
 
     CXXFLAGS += [
         "-msse2"
     ]
 
-if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "FreeBSD":
+if CONFIG["CPU_ARCH"] == "x86_64" and CONFIG["OS_TARGET"] == "FreeBSD":
 
     CXXFLAGS += [
-        "-msse2",
         "-msse2"
     ]
 
-if CONFIG["CPU_ARCH"] == "x86_64" and CONFIG["OS_TARGET"] == "FreeBSD":
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "FreeBSD":
 
     CXXFLAGS += [
+        "-msse2",
         "-msse2"
     ]
 
@@ -210,7 +206,7 @@ if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "NetBSD":
         "-msse2"
     ]
 
-if CONFIG["CPU_ARCH"] == "x86_64" and CONFIG["OS_TARGET"] == "NetBSD":
+if CONFIG["CPU_ARCH"] == "x86_64" and CONFIG["OS_TARGET"] == "OpenBSD":
 
     CXXFLAGS += [
         "-msse2"
@@ -223,10 +219,42 @@ if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "OpenBSD":
         "-msse2"
     ]
 
-if CONFIG["CPU_ARCH"] == "x86_64" and CONFIG["OS_TARGET"] == "OpenBSD":
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "Android":
 
     CXXFLAGS += [
+        "-msse2",
         "-msse2"
     ]
 
+if CONFIG["CPU_ARCH"] == "x86_64" and CONFIG["OS_TARGET"] == "NetBSD":
+
+    CXXFLAGS += [
+        "-msse2"
+    ]
+
+if CONFIG["CPU_ARCH"] == "x86_64" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    CXXFLAGS += [
+        "-msse2"
+    ]
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["HOST_CPU_ARCH"] == "x86_64" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    CXXFLAGS += [
+        "-msse2"
+    ]
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["HOST_CPU_ARCH"] == "x86" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    CXXFLAGS += [
+        "-msse2",
+        "-msse2"
+    ]
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
 Library("video_processing_sse2_gn")
diff --git a/media/webrtc/trunk/webrtc/moz.build b/media/webrtc/trunk/webrtc/moz.build
index 8587b5e61d0d..6441db868cc6 100644
--- a/media/webrtc/trunk/webrtc/moz.build
+++ b/media/webrtc/trunk/webrtc/moz.build
@@ -103,7 +103,6 @@ DIRS += [
     "/media/webrtc/trunk/webrtc/modules/rtp_rtcp/rtp_rtcp_format_gn",
     "/media/webrtc/trunk/webrtc/modules/rtp_rtcp/rtp_rtcp_gn",
     "/media/webrtc/trunk/webrtc/modules/utility/utility_gn",
-    "/media/webrtc/trunk/webrtc/modules/video_capture/video_capture_internal_impl_gn",
     "/media/webrtc/trunk/webrtc/modules/video_capture/video_capture_module_gn",
     "/media/webrtc/trunk/webrtc/modules/video_coding/codec_globals_headers_gn",
     "/media/webrtc/trunk/webrtc/modules/video_coding/video_coding_gn",
@@ -152,6 +151,7 @@ if CONFIG["OS_TARGET"] == "Darwin":
         "/media/webrtc/trunk/webrtc/modules/desktop_capture/desktop_capture_gn",
         "/media/webrtc/trunk/webrtc/modules/desktop_capture/desktop_capture_objc_gn",
         "/media/webrtc/trunk/webrtc/modules/desktop_capture/primitives_gn",
+        "/media/webrtc/trunk/webrtc/modules/video_capture/video_capture_internal_impl_gn",
         "/media/webrtc/trunk/webrtc/modules/video_capture/video_capture_internal_impl_objc_gn",
         "/media/webrtc/trunk/webrtc/modules/video_processing/video_processing_sse2_gn",
         "/media/webrtc/trunk/webrtc/rtc_base/rtc_base_approved_objc_gn",
@@ -169,6 +169,7 @@ if CONFIG["OS_TARGET"] == "DragonFly":
         "/media/webrtc/trunk/webrtc/modules/desktop_capture/desktop_capture_generic_gn",
         "/media/webrtc/trunk/webrtc/modules/desktop_capture/desktop_capture_gn",
         "/media/webrtc/trunk/webrtc/modules/desktop_capture/primitives_gn",
+        "/media/webrtc/trunk/webrtc/modules/video_capture/video_capture_internal_impl_gn",
         "/media/webrtc/trunk/webrtc/modules/video_processing/video_processing_sse2_gn"
     ]
 
@@ -177,15 +178,14 @@ if CONFIG["OS_TARGET"] == "FreeBSD":
     DIRS += [
         "/media/webrtc/trunk/webrtc/modules/desktop_capture/desktop_capture_generic_gn",
         "/media/webrtc/trunk/webrtc/modules/desktop_capture/desktop_capture_gn",
-        "/media/webrtc/trunk/webrtc/modules/desktop_capture/primitives_gn"
+        "/media/webrtc/trunk/webrtc/modules/desktop_capture/primitives_gn",
+        "/media/webrtc/trunk/webrtc/modules/video_capture/video_capture_internal_impl_gn"
     ]
 
 if CONFIG["OS_TARGET"] == "Linux":
 
     DIRS += [
-        "/media/webrtc/trunk/webrtc/modules/desktop_capture/desktop_capture_generic_gn",
-        "/media/webrtc/trunk/webrtc/modules/desktop_capture/desktop_capture_gn",
-        "/media/webrtc/trunk/webrtc/modules/desktop_capture/primitives_gn",
+        "/media/webrtc/trunk/webrtc/modules/video_capture/video_capture_internal_impl_gn",
         "/media/webrtc/trunk/webrtc/system_wrappers/cpu_features_linux_gn"
     ]
 
@@ -194,7 +194,8 @@ if CONFIG["OS_TARGET"] == "NetBSD":
     DIRS += [
         "/media/webrtc/trunk/webrtc/modules/desktop_capture/desktop_capture_generic_gn",
         "/media/webrtc/trunk/webrtc/modules/desktop_capture/desktop_capture_gn",
-        "/media/webrtc/trunk/webrtc/modules/desktop_capture/primitives_gn"
+        "/media/webrtc/trunk/webrtc/modules/desktop_capture/primitives_gn",
+        "/media/webrtc/trunk/webrtc/modules/video_capture/video_capture_internal_impl_gn"
     ]
 
 if CONFIG["OS_TARGET"] == "OpenBSD":
@@ -202,7 +203,8 @@ if CONFIG["OS_TARGET"] == "OpenBSD":
     DIRS += [
         "/media/webrtc/trunk/webrtc/modules/desktop_capture/desktop_capture_generic_gn",
         "/media/webrtc/trunk/webrtc/modules/desktop_capture/desktop_capture_gn",
-        "/media/webrtc/trunk/webrtc/modules/desktop_capture/primitives_gn"
+        "/media/webrtc/trunk/webrtc/modules/desktop_capture/primitives_gn",
+        "/media/webrtc/trunk/webrtc/modules/video_capture/video_capture_internal_impl_gn"
     ]
 
 if CONFIG["OS_TARGET"] == "WINNT":
@@ -212,7 +214,8 @@ if CONFIG["OS_TARGET"] == "WINNT":
         "/media/webrtc/trunk/webrtc/api/audio_codecs/isac/audio_encoder_isac_float_gn",
         "/media/webrtc/trunk/webrtc/modules/desktop_capture/desktop_capture_generic_gn",
         "/media/webrtc/trunk/webrtc/modules/desktop_capture/desktop_capture_gn",
-        "/media/webrtc/trunk/webrtc/modules/desktop_capture/primitives_gn"
+        "/media/webrtc/trunk/webrtc/modules/desktop_capture/primitives_gn",
+        "/media/webrtc/trunk/webrtc/modules/video_capture/video_capture_internal_impl_gn"
     ]
 
 if CONFIG["CPU_ARCH"] == "aarch64" and CONFIG["OS_TARGET"] == "Android":
@@ -345,14 +348,20 @@ if CONFIG["CPU_ARCH"] == "mips64" and CONFIG["OS_TARGET"] == "Linux":
 
     DIRS += [
         "/media/webrtc/trunk/webrtc/api/audio_codecs/isac/audio_decoder_isac_float_gn",
-        "/media/webrtc/trunk/webrtc/api/audio_codecs/isac/audio_encoder_isac_float_gn"
+        "/media/webrtc/trunk/webrtc/api/audio_codecs/isac/audio_encoder_isac_float_gn",
+        "/media/webrtc/trunk/webrtc/modules/desktop_capture/desktop_capture_generic_gn",
+        "/media/webrtc/trunk/webrtc/modules/desktop_capture/desktop_capture_gn",
+        "/media/webrtc/trunk/webrtc/modules/desktop_capture/primitives_gn"
     ]
 
 if CONFIG["CPU_ARCH"] == "ppc64" and CONFIG["OS_TARGET"] == "Linux":
 
     DIRS += [
         "/media/webrtc/trunk/webrtc/api/audio_codecs/isac/audio_decoder_isac_float_gn",
-        "/media/webrtc/trunk/webrtc/api/audio_codecs/isac/audio_encoder_isac_float_gn"
+        "/media/webrtc/trunk/webrtc/api/audio_codecs/isac/audio_encoder_isac_float_gn",
+        "/media/webrtc/trunk/webrtc/modules/desktop_capture/desktop_capture_generic_gn",
+        "/media/webrtc/trunk/webrtc/modules/desktop_capture/desktop_capture_gn",
+        "/media/webrtc/trunk/webrtc/modules/desktop_capture/primitives_gn"
     ]
 
 if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "Linux":
@@ -362,7 +371,6 @@ if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "Linux":
         "/media/webrtc/trunk/webrtc/api/audio_codecs/isac/audio_encoder_isac_float_gn",
         "/media/webrtc/trunk/webrtc/common_audio/common_audio_sse2_gn",
         "/media/webrtc/trunk/webrtc/modules/audio_processing/audio_processing_sse2_gn",
-        "/media/webrtc/trunk/webrtc/modules/desktop_capture/desktop_capture_differ_sse2_gn",
         "/media/webrtc/trunk/webrtc/modules/video_processing/video_processing_sse2_gn"
     ]
 
@@ -374,6 +382,9 @@ if CONFIG["CPU_ARCH"] == "x86_64" and CONFIG["OS_TARGET"] == "Linux":
         "/media/webrtc/trunk/webrtc/common_audio/common_audio_sse2_gn",
         "/media/webrtc/trunk/webrtc/modules/audio_processing/audio_processing_sse2_gn",
         "/media/webrtc/trunk/webrtc/modules/desktop_capture/desktop_capture_differ_sse2_gn",
+        "/media/webrtc/trunk/webrtc/modules/desktop_capture/desktop_capture_generic_gn",
+        "/media/webrtc/trunk/webrtc/modules/desktop_capture/desktop_capture_gn",
+        "/media/webrtc/trunk/webrtc/modules/desktop_capture/primitives_gn",
         "/media/webrtc/trunk/webrtc/modules/video_processing/video_processing_sse2_gn"
     ]
 
diff --git a/media/webrtc/trunk/webrtc/rtc_base/compile_assert_c_gn/moz.build b/media/webrtc/trunk/webrtc/rtc_base/compile_assert_c_gn/moz.build
index 653a4e23b47e..772e218f6de7 100644
--- a/media/webrtc/trunk/webrtc/rtc_base/compile_assert_c_gn/moz.build
+++ b/media/webrtc/trunk/webrtc/rtc_base/compile_assert_c_gn/moz.build
@@ -22,40 +22,18 @@ LOCAL_INCLUDES += [
     "/media/webrtc/trunk/webrtc/"
 ]
 
-if not CONFIG["MOZ_DEBUG"]:
-
-    DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "0"
-    DEFINES["NDEBUG"] = True
-    DEFINES["NVALGRIND"] = True
-
 if CONFIG["MOZ_DEBUG"] == "1":
 
     DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "1"
     DEFINES["WTF_USE_DYNAMIC_ANNOTATIONS"] = "1"
 
-if CONFIG["OS_TARGET"] == "Android":
-
-    DEFINES["ANDROID"] = True
-    DEFINES["ANDROID_NDK_VERSION"] = "r12b"
-    DEFINES["DISABLE_NACL"] = True
-    DEFINES["HAVE_SYS_UIO_H"] = True
-    DEFINES["NO_TCMALLOC"] = True
-    DEFINES["USE_OPENSSL_CERTS"] = "1"
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
-    DEFINES["__GNU_SOURCE"] = "1"
-
-if CONFIG["OS_TARGET"] == "Darwin":
-
-    DEFINES["CR_XCODE_VERSION"] = "0920"
-    DEFINES["NO_TCMALLOC"] = True
-    DEFINES["__ASSERT_MACROS_DEFINE_VERSIONS_WITHOUT_UNDERSCORE"] = "0"
-
-if CONFIG["OS_TARGET"] == "DragonFly":
+if not CONFIG["MOZ_DEBUG"]:
 
-    DEFINES["USE_X11"] = "1"
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
+    DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "0"
+    DEFINES["NDEBUG"] = True
+    DEFINES["NVALGRIND"] = True
 
-if CONFIG["OS_TARGET"] == "FreeBSD":
+if CONFIG["OS_TARGET"] == "NetBSD":
 
     DEFINES["USE_X11"] = "1"
     DEFINES["_FILE_OFFSET_BITS"] = "64"
@@ -63,15 +41,9 @@ if CONFIG["OS_TARGET"] == "FreeBSD":
 if CONFIG["OS_TARGET"] == "Linux":
 
     DEFINES["USE_NSS_CERTS"] = "1"
-    DEFINES["USE_X11"] = "1"
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
-
-if CONFIG["OS_TARGET"] == "NetBSD":
-
-    DEFINES["USE_X11"] = "1"
     DEFINES["_FILE_OFFSET_BITS"] = "64"
 
-if CONFIG["OS_TARGET"] == "OpenBSD":
+if CONFIG["OS_TARGET"] == "DragonFly":
 
     DEFINES["USE_X11"] = "1"
     DEFINES["_FILE_OFFSET_BITS"] = "64"
@@ -99,15 +71,46 @@ if CONFIG["OS_TARGET"] == "WINNT":
     DEFINES["_WINDOWS"] = True
     DEFINES["__STD_C"] = True
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Android":
+if CONFIG["OS_TARGET"] == "Darwin":
 
-    DEFINES["_FORTIFY_SOURCE"] = "2"
+    DEFINES["CR_XCODE_VERSION"] = "0920"
+    DEFINES["NO_TCMALLOC"] = True
+    DEFINES["__ASSERT_MACROS_DEFINE_VERSIONS_WITHOUT_UNDERSCORE"] = "0"
+
+if CONFIG["OS_TARGET"] == "OpenBSD":
+
+    DEFINES["USE_X11"] = "1"
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+
+if CONFIG["OS_TARGET"] == "FreeBSD":
+
+    DEFINES["USE_X11"] = "1"
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+
+if CONFIG["OS_TARGET"] == "Android":
+
+    DEFINES["ANDROID"] = True
+    DEFINES["ANDROID_NDK_VERSION"] = "r12b"
+    DEFINES["DISABLE_NACL"] = True
+    DEFINES["HAVE_SYS_UIO_H"] = True
+    DEFINES["NO_TCMALLOC"] = True
+    DEFINES["USE_OPENSSL_CERTS"] = "1"
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+    DEFINES["__GNU_SOURCE"] = "1"
+
+if CONFIG["CPU_ARCH"] == "ppc64":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "mips64":
+
+    DEFINES["USE_X11"] = "1"
 
 if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Darwin":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "DragonFly":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "OpenBSD":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
@@ -115,17 +118,53 @@ if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "FreeBSD":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "NetBSD":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Android":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "OpenBSD":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "DragonFly":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "NetBSD":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
+if CONFIG["CPU_ARCH"] == "x86_64" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
 if CONFIG["CPU_ARCH"] == "aarch64" and CONFIG["OS_TARGET"] == "Linux":
 
     DEFINES["DISABLE_NACL"] = True
     DEFINES["NO_TCMALLOC"] = True
 
+if CONFIG["CPU_ARCH"] == "arm" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "aarch64" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "arm" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "aarch64" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["HOST_CPU_ARCH"] == "x86_64" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["HOST_CPU_ARCH"] == "x86" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
 Library("compile_assert_c_gn")
diff --git a/media/webrtc/trunk/webrtc/rtc_base/gtest_prod_gn/moz.build b/media/webrtc/trunk/webrtc/rtc_base/gtest_prod_gn/moz.build
index 1041ca582a1b..b5d55167fa54 100644
--- a/media/webrtc/trunk/webrtc/rtc_base/gtest_prod_gn/moz.build
+++ b/media/webrtc/trunk/webrtc/rtc_base/gtest_prod_gn/moz.build
@@ -26,48 +26,18 @@ LOCAL_INCLUDES += [
     "/media/webrtc/trunk/webrtc/"
 ]
 
-if not CONFIG["MOZ_DEBUG"]:
-
-    DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "0"
-    DEFINES["NDEBUG"] = True
-    DEFINES["NVALGRIND"] = True
-
 if CONFIG["MOZ_DEBUG"] == "1":
 
     DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "1"
     DEFINES["WTF_USE_DYNAMIC_ANNOTATIONS"] = "1"
 
-if CONFIG["OS_TARGET"] == "Android":
-
-    DEFINES["ANDROID"] = True
-    DEFINES["ANDROID_NDK_VERSION"] = "r12b"
-    DEFINES["DISABLE_NACL"] = True
-    DEFINES["HAVE_SYS_UIO_H"] = True
-    DEFINES["NO_TCMALLOC"] = True
-    DEFINES["USE_OPENSSL_CERTS"] = "1"
-    DEFINES["WEBRTC_ANDROID"] = True
-    DEFINES["WEBRTC_ANDROID_OPENSLES"] = True
-    DEFINES["WEBRTC_LINUX"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
-    DEFINES["__GNU_SOURCE"] = "1"
-
-if CONFIG["OS_TARGET"] == "Darwin":
-
-    DEFINES["CR_XCODE_VERSION"] = "0920"
-    DEFINES["NO_TCMALLOC"] = True
-    DEFINES["WEBRTC_MAC"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["__ASSERT_MACROS_DEFINE_VERSIONS_WITHOUT_UNDERSCORE"] = "0"
-
-if CONFIG["OS_TARGET"] == "DragonFly":
+if not CONFIG["MOZ_DEBUG"]:
 
-    DEFINES["USE_X11"] = "1"
-    DEFINES["WEBRTC_BSD"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
+    DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "0"
+    DEFINES["NDEBUG"] = True
+    DEFINES["NVALGRIND"] = True
 
-if CONFIG["OS_TARGET"] == "FreeBSD":
+if CONFIG["OS_TARGET"] == "NetBSD":
 
     DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_BSD"] = True
@@ -77,19 +47,11 @@ if CONFIG["OS_TARGET"] == "FreeBSD":
 if CONFIG["OS_TARGET"] == "Linux":
 
     DEFINES["USE_NSS_CERTS"] = "1"
-    DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_LINUX"] = True
     DEFINES["WEBRTC_POSIX"] = True
     DEFINES["_FILE_OFFSET_BITS"] = "64"
 
-if CONFIG["OS_TARGET"] == "NetBSD":
-
-    DEFINES["USE_X11"] = "1"
-    DEFINES["WEBRTC_BSD"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
-
-if CONFIG["OS_TARGET"] == "OpenBSD":
+if CONFIG["OS_TARGET"] == "DragonFly":
 
     DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_BSD"] = True
@@ -121,10 +83,42 @@ if CONFIG["OS_TARGET"] == "WINNT":
     DEFINES["_WINDOWS"] = True
     DEFINES["__STD_C"] = True
 
-if CONFIG["CPU_ARCH"] == "aarch64":
+if CONFIG["OS_TARGET"] == "Darwin":
 
-    DEFINES["WEBRTC_ARCH_ARM64"] = True
-    DEFINES["WEBRTC_HAS_NEON"] = True
+    DEFINES["CR_XCODE_VERSION"] = "0920"
+    DEFINES["NO_TCMALLOC"] = True
+    DEFINES["WEBRTC_MAC"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["__ASSERT_MACROS_DEFINE_VERSIONS_WITHOUT_UNDERSCORE"] = "0"
+
+if CONFIG["OS_TARGET"] == "OpenBSD":
+
+    DEFINES["USE_X11"] = "1"
+    DEFINES["WEBRTC_BSD"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+
+if CONFIG["OS_TARGET"] == "FreeBSD":
+
+    DEFINES["USE_X11"] = "1"
+    DEFINES["WEBRTC_BSD"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+
+if CONFIG["OS_TARGET"] == "Android":
+
+    DEFINES["ANDROID"] = True
+    DEFINES["ANDROID_NDK_VERSION"] = "r12b"
+    DEFINES["DISABLE_NACL"] = True
+    DEFINES["HAVE_SYS_UIO_H"] = True
+    DEFINES["NO_TCMALLOC"] = True
+    DEFINES["USE_OPENSSL_CERTS"] = "1"
+    DEFINES["WEBRTC_ANDROID"] = True
+    DEFINES["WEBRTC_ANDROID_OPENSLES"] = True
+    DEFINES["WEBRTC_LINUX"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+    DEFINES["__GNU_SOURCE"] = "1"
 
 if CONFIG["CPU_ARCH"] == "arm":
 
@@ -132,15 +126,24 @@ if CONFIG["CPU_ARCH"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Android":
+if CONFIG["CPU_ARCH"] == "ppc64":
 
-    DEFINES["_FORTIFY_SOURCE"] = "2"
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "mips64":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "aarch64":
+
+    DEFINES["WEBRTC_ARCH_ARM64"] = True
+    DEFINES["WEBRTC_HAS_NEON"] = True
 
 if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Darwin":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "DragonFly":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "OpenBSD":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
@@ -148,17 +151,53 @@ if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "FreeBSD":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "NetBSD":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Android":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "OpenBSD":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "DragonFly":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "NetBSD":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
+if CONFIG["CPU_ARCH"] == "x86_64" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
 if CONFIG["CPU_ARCH"] == "aarch64" and CONFIG["OS_TARGET"] == "Linux":
 
     DEFINES["DISABLE_NACL"] = True
     DEFINES["NO_TCMALLOC"] = True
 
+if CONFIG["CPU_ARCH"] == "arm" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "aarch64" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "arm" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "aarch64" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["HOST_CPU_ARCH"] == "x86_64" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["HOST_CPU_ARCH"] == "x86" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
 Library("gtest_prod_gn")
diff --git a/media/webrtc/trunk/webrtc/rtc_base/protobuf_utils_gn/moz.build b/media/webrtc/trunk/webrtc/rtc_base/protobuf_utils_gn/moz.build
index 794579186b95..437f15ea7d85 100644
--- a/media/webrtc/trunk/webrtc/rtc_base/protobuf_utils_gn/moz.build
+++ b/media/webrtc/trunk/webrtc/rtc_base/protobuf_utils_gn/moz.build
@@ -22,40 +22,18 @@ LOCAL_INCLUDES += [
     "/media/webrtc/trunk/webrtc/"
 ]
 
-if not CONFIG["MOZ_DEBUG"]:
-
-    DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "0"
-    DEFINES["NDEBUG"] = True
-    DEFINES["NVALGRIND"] = True
-
 if CONFIG["MOZ_DEBUG"] == "1":
 
     DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "1"
     DEFINES["WTF_USE_DYNAMIC_ANNOTATIONS"] = "1"
 
-if CONFIG["OS_TARGET"] == "Android":
-
-    DEFINES["ANDROID"] = True
-    DEFINES["ANDROID_NDK_VERSION"] = "r12b"
-    DEFINES["DISABLE_NACL"] = True
-    DEFINES["HAVE_SYS_UIO_H"] = True
-    DEFINES["NO_TCMALLOC"] = True
-    DEFINES["USE_OPENSSL_CERTS"] = "1"
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
-    DEFINES["__GNU_SOURCE"] = "1"
-
-if CONFIG["OS_TARGET"] == "Darwin":
-
-    DEFINES["CR_XCODE_VERSION"] = "0920"
-    DEFINES["NO_TCMALLOC"] = True
-    DEFINES["__ASSERT_MACROS_DEFINE_VERSIONS_WITHOUT_UNDERSCORE"] = "0"
-
-if CONFIG["OS_TARGET"] == "DragonFly":
+if not CONFIG["MOZ_DEBUG"]:
 
-    DEFINES["USE_X11"] = "1"
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
+    DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "0"
+    DEFINES["NDEBUG"] = True
+    DEFINES["NVALGRIND"] = True
 
-if CONFIG["OS_TARGET"] == "FreeBSD":
+if CONFIG["OS_TARGET"] == "NetBSD":
 
     DEFINES["USE_X11"] = "1"
     DEFINES["_FILE_OFFSET_BITS"] = "64"
@@ -63,15 +41,9 @@ if CONFIG["OS_TARGET"] == "FreeBSD":
 if CONFIG["OS_TARGET"] == "Linux":
 
     DEFINES["USE_NSS_CERTS"] = "1"
-    DEFINES["USE_X11"] = "1"
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
-
-if CONFIG["OS_TARGET"] == "NetBSD":
-
-    DEFINES["USE_X11"] = "1"
     DEFINES["_FILE_OFFSET_BITS"] = "64"
 
-if CONFIG["OS_TARGET"] == "OpenBSD":
+if CONFIG["OS_TARGET"] == "DragonFly":
 
     DEFINES["USE_X11"] = "1"
     DEFINES["_FILE_OFFSET_BITS"] = "64"
@@ -99,15 +71,46 @@ if CONFIG["OS_TARGET"] == "WINNT":
     DEFINES["_WINDOWS"] = True
     DEFINES["__STD_C"] = True
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Android":
+if CONFIG["OS_TARGET"] == "Darwin":
 
-    DEFINES["_FORTIFY_SOURCE"] = "2"
+    DEFINES["CR_XCODE_VERSION"] = "0920"
+    DEFINES["NO_TCMALLOC"] = True
+    DEFINES["__ASSERT_MACROS_DEFINE_VERSIONS_WITHOUT_UNDERSCORE"] = "0"
+
+if CONFIG["OS_TARGET"] == "OpenBSD":
+
+    DEFINES["USE_X11"] = "1"
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+
+if CONFIG["OS_TARGET"] == "FreeBSD":
+
+    DEFINES["USE_X11"] = "1"
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+
+if CONFIG["OS_TARGET"] == "Android":
+
+    DEFINES["ANDROID"] = True
+    DEFINES["ANDROID_NDK_VERSION"] = "r12b"
+    DEFINES["DISABLE_NACL"] = True
+    DEFINES["HAVE_SYS_UIO_H"] = True
+    DEFINES["NO_TCMALLOC"] = True
+    DEFINES["USE_OPENSSL_CERTS"] = "1"
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+    DEFINES["__GNU_SOURCE"] = "1"
+
+if CONFIG["CPU_ARCH"] == "ppc64":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "mips64":
+
+    DEFINES["USE_X11"] = "1"
 
 if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Darwin":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "DragonFly":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "OpenBSD":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
@@ -115,17 +118,53 @@ if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "FreeBSD":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "NetBSD":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Android":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "OpenBSD":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "DragonFly":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "NetBSD":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
+if CONFIG["CPU_ARCH"] == "x86_64" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
 if CONFIG["CPU_ARCH"] == "aarch64" and CONFIG["OS_TARGET"] == "Linux":
 
     DEFINES["DISABLE_NACL"] = True
     DEFINES["NO_TCMALLOC"] = True
 
+if CONFIG["CPU_ARCH"] == "arm" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "aarch64" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "arm" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "aarch64" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["HOST_CPU_ARCH"] == "x86_64" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["HOST_CPU_ARCH"] == "x86" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
 Library("protobuf_utils_gn")
diff --git a/media/webrtc/trunk/webrtc/rtc_base/rtc_base_approved_generic_gn/moz.build b/media/webrtc/trunk/webrtc/rtc_base/rtc_base_approved_generic_gn/moz.build
index 0f0851465409..9d1c62b09842 100644
--- a/media/webrtc/trunk/webrtc/rtc_base/rtc_base_approved_generic_gn/moz.build
+++ b/media/webrtc/trunk/webrtc/rtc_base/rtc_base_approved_generic_gn/moz.build
@@ -69,66 +69,18 @@ UNIFIED_SOURCES += [
     "/media/webrtc/trunk/webrtc/rtc_base/timeutils.cc"
 ]
 
-if not CONFIG["MOZ_DEBUG"]:
-
-    DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "0"
-    DEFINES["NDEBUG"] = True
-    DEFINES["NVALGRIND"] = True
-
 if CONFIG["MOZ_DEBUG"] == "1":
 
     DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "1"
     DEFINES["WTF_USE_DYNAMIC_ANNOTATIONS"] = "1"
 
-if CONFIG["OS_TARGET"] == "Android":
-
-    DEFINES["ANDROID"] = True
-    DEFINES["ANDROID_NDK_VERSION"] = "r12b"
-    DEFINES["DISABLE_NACL"] = True
-    DEFINES["HAVE_SYS_UIO_H"] = True
-    DEFINES["NO_TCMALLOC"] = True
-    DEFINES["USE_OPENSSL_CERTS"] = "1"
-    DEFINES["WEBRTC_ANDROID"] = True
-    DEFINES["WEBRTC_ANDROID_OPENSLES"] = True
-    DEFINES["WEBRTC_LINUX"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
-    DEFINES["__GNU_SOURCE"] = "1"
-
-    OS_LIBS += [
-        "log"
-    ]
-
-    UNIFIED_SOURCES += [
-        "/media/webrtc/trunk/webrtc/rtc_base/file_posix.cc",
-        "/media/webrtc/trunk/webrtc/rtc_base/ifaddrs-android.cc"
-    ]
-
-if CONFIG["OS_TARGET"] == "Darwin":
-
-    DEFINES["CR_XCODE_VERSION"] = "0920"
-    DEFINES["NO_TCMALLOC"] = True
-    DEFINES["WEBRTC_MAC"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["__ASSERT_MACROS_DEFINE_VERSIONS_WITHOUT_UNDERSCORE"] = "0"
-
-    UNIFIED_SOURCES += [
-        "/media/webrtc/trunk/webrtc/rtc_base/file_posix.cc",
-        "/media/webrtc/trunk/webrtc/rtc_base/macutils.cc"
-    ]
-
-if CONFIG["OS_TARGET"] == "DragonFly":
-
-    DEFINES["USE_X11"] = "1"
-    DEFINES["WEBRTC_BSD"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
+if not CONFIG["MOZ_DEBUG"]:
 
-    UNIFIED_SOURCES += [
-        "/media/webrtc/trunk/webrtc/rtc_base/file_posix.cc"
-    ]
+    DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "0"
+    DEFINES["NDEBUG"] = True
+    DEFINES["NVALGRIND"] = True
 
-if CONFIG["OS_TARGET"] == "FreeBSD":
+if CONFIG["OS_TARGET"] == "NetBSD":
 
     DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_BSD"] = True
@@ -142,7 +94,6 @@ if CONFIG["OS_TARGET"] == "FreeBSD":
 if CONFIG["OS_TARGET"] == "Linux":
 
     DEFINES["USE_NSS_CERTS"] = "1"
-    DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_LINUX"] = True
     DEFINES["WEBRTC_POSIX"] = True
     DEFINES["_FILE_OFFSET_BITS"] = "64"
@@ -151,18 +102,7 @@ if CONFIG["OS_TARGET"] == "Linux":
         "/media/webrtc/trunk/webrtc/rtc_base/file_posix.cc"
     ]
 
-if CONFIG["OS_TARGET"] == "NetBSD":
-
-    DEFINES["USE_X11"] = "1"
-    DEFINES["WEBRTC_BSD"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
-
-    UNIFIED_SOURCES += [
-        "/media/webrtc/trunk/webrtc/rtc_base/file_posix.cc"
-    ]
-
-if CONFIG["OS_TARGET"] == "OpenBSD":
+if CONFIG["OS_TARGET"] == "DragonFly":
 
     DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_BSD"] = True
@@ -204,10 +144,64 @@ if CONFIG["OS_TARGET"] == "WINNT":
         "/media/webrtc/trunk/webrtc/rtc_base/win32socketinit.cc"
     ]
 
-if CONFIG["CPU_ARCH"] == "aarch64":
+if CONFIG["OS_TARGET"] == "Darwin":
 
-    DEFINES["WEBRTC_ARCH_ARM64"] = True
-    DEFINES["WEBRTC_HAS_NEON"] = True
+    DEFINES["CR_XCODE_VERSION"] = "0920"
+    DEFINES["NO_TCMALLOC"] = True
+    DEFINES["WEBRTC_MAC"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["__ASSERT_MACROS_DEFINE_VERSIONS_WITHOUT_UNDERSCORE"] = "0"
+
+    UNIFIED_SOURCES += [
+        "/media/webrtc/trunk/webrtc/rtc_base/file_posix.cc",
+        "/media/webrtc/trunk/webrtc/rtc_base/macutils.cc"
+    ]
+
+if CONFIG["OS_TARGET"] == "OpenBSD":
+
+    DEFINES["USE_X11"] = "1"
+    DEFINES["WEBRTC_BSD"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+
+    UNIFIED_SOURCES += [
+        "/media/webrtc/trunk/webrtc/rtc_base/file_posix.cc"
+    ]
+
+if CONFIG["OS_TARGET"] == "FreeBSD":
+
+    DEFINES["USE_X11"] = "1"
+    DEFINES["WEBRTC_BSD"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+
+    UNIFIED_SOURCES += [
+        "/media/webrtc/trunk/webrtc/rtc_base/file_posix.cc"
+    ]
+
+if CONFIG["OS_TARGET"] == "Android":
+
+    DEFINES["ANDROID"] = True
+    DEFINES["ANDROID_NDK_VERSION"] = "r12b"
+    DEFINES["DISABLE_NACL"] = True
+    DEFINES["HAVE_SYS_UIO_H"] = True
+    DEFINES["NO_TCMALLOC"] = True
+    DEFINES["USE_OPENSSL_CERTS"] = "1"
+    DEFINES["WEBRTC_ANDROID"] = True
+    DEFINES["WEBRTC_ANDROID_OPENSLES"] = True
+    DEFINES["WEBRTC_LINUX"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+    DEFINES["__GNU_SOURCE"] = "1"
+
+    OS_LIBS += [
+        "log"
+    ]
+
+    UNIFIED_SOURCES += [
+        "/media/webrtc/trunk/webrtc/rtc_base/file_posix.cc",
+        "/media/webrtc/trunk/webrtc/rtc_base/ifaddrs-android.cc"
+    ]
 
 if CONFIG["CPU_ARCH"] == "arm":
 
@@ -219,15 +213,24 @@ if CONFIG["CPU_ARCH"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Android":
+if CONFIG["CPU_ARCH"] == "ppc64":
 
-    DEFINES["_FORTIFY_SOURCE"] = "2"
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "mips64":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "aarch64":
+
+    DEFINES["WEBRTC_ARCH_ARM64"] = True
+    DEFINES["WEBRTC_HAS_NEON"] = True
 
 if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Darwin":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "DragonFly":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "OpenBSD":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
@@ -235,20 +238,28 @@ if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "FreeBSD":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "NetBSD":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Android":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "OpenBSD":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "DragonFly":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "Android":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "NetBSD":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "NetBSD":
 
     CXXFLAGS += [
         "-msse2"
     ]
 
+if CONFIG["CPU_ARCH"] == "x86_64" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
 if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "FreeBSD":
 
     CXXFLAGS += [
@@ -266,7 +277,7 @@ if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "Linux":
         "-msse2"
     ]
 
-if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "NetBSD":
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "Android":
 
     CXXFLAGS += [
         "-msse2"
@@ -278,4 +289,32 @@ if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "OpenBSD":
         "-msse2"
     ]
 
+if CONFIG["CPU_ARCH"] == "arm" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "aarch64" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "arm" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "aarch64" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["HOST_CPU_ARCH"] == "x86_64" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["HOST_CPU_ARCH"] == "x86" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
 Library("rtc_base_approved_generic_gn")
diff --git a/media/webrtc/trunk/webrtc/rtc_base/rtc_base_approved_gn/moz.build b/media/webrtc/trunk/webrtc/rtc_base/rtc_base_approved_gn/moz.build
index f7791889eda3..e80729f6c747 100644
--- a/media/webrtc/trunk/webrtc/rtc_base/rtc_base_approved_gn/moz.build
+++ b/media/webrtc/trunk/webrtc/rtc_base/rtc_base_approved_gn/moz.build
@@ -26,56 +26,18 @@ LOCAL_INCLUDES += [
     "/media/webrtc/trunk/webrtc/"
 ]
 
-if not CONFIG["MOZ_DEBUG"]:
-
-    DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "0"
-    DEFINES["NDEBUG"] = True
-    DEFINES["NVALGRIND"] = True
-
 if CONFIG["MOZ_DEBUG"] == "1":
 
     DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "1"
     DEFINES["WTF_USE_DYNAMIC_ANNOTATIONS"] = "1"
 
-if CONFIG["OS_TARGET"] == "Android":
-
-    DEFINES["ANDROID"] = True
-    DEFINES["ANDROID_NDK_VERSION"] = "r12b"
-    DEFINES["DISABLE_NACL"] = True
-    DEFINES["HAVE_SYS_UIO_H"] = True
-    DEFINES["NO_TCMALLOC"] = True
-    DEFINES["USE_OPENSSL_CERTS"] = "1"
-    DEFINES["WEBRTC_ANDROID"] = True
-    DEFINES["WEBRTC_ANDROID_OPENSLES"] = True
-    DEFINES["WEBRTC_LINUX"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
-    DEFINES["__GNU_SOURCE"] = "1"
-
-    OS_LIBS += [
-        "log"
-    ]
-
-if CONFIG["OS_TARGET"] == "Darwin":
-
-    DEFINES["CR_XCODE_VERSION"] = "0920"
-    DEFINES["NO_TCMALLOC"] = True
-    DEFINES["WEBRTC_MAC"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["__ASSERT_MACROS_DEFINE_VERSIONS_WITHOUT_UNDERSCORE"] = "0"
-
-    OS_LIBS += [
-        "-framework Foundation"
-    ]
-
-if CONFIG["OS_TARGET"] == "DragonFly":
+if not CONFIG["MOZ_DEBUG"]:
 
-    DEFINES["USE_X11"] = "1"
-    DEFINES["WEBRTC_BSD"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
+    DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "0"
+    DEFINES["NDEBUG"] = True
+    DEFINES["NVALGRIND"] = True
 
-if CONFIG["OS_TARGET"] == "FreeBSD":
+if CONFIG["OS_TARGET"] == "NetBSD":
 
     DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_BSD"] = True
@@ -85,19 +47,11 @@ if CONFIG["OS_TARGET"] == "FreeBSD":
 if CONFIG["OS_TARGET"] == "Linux":
 
     DEFINES["USE_NSS_CERTS"] = "1"
-    DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_LINUX"] = True
     DEFINES["WEBRTC_POSIX"] = True
     DEFINES["_FILE_OFFSET_BITS"] = "64"
 
-if CONFIG["OS_TARGET"] == "NetBSD":
-
-    DEFINES["USE_X11"] = "1"
-    DEFINES["WEBRTC_BSD"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
-
-if CONFIG["OS_TARGET"] == "OpenBSD":
+if CONFIG["OS_TARGET"] == "DragonFly":
 
     DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_BSD"] = True
@@ -129,10 +83,50 @@ if CONFIG["OS_TARGET"] == "WINNT":
     DEFINES["_WINDOWS"] = True
     DEFINES["__STD_C"] = True
 
-if CONFIG["CPU_ARCH"] == "aarch64":
+if CONFIG["OS_TARGET"] == "Darwin":
 
-    DEFINES["WEBRTC_ARCH_ARM64"] = True
-    DEFINES["WEBRTC_HAS_NEON"] = True
+    DEFINES["CR_XCODE_VERSION"] = "0920"
+    DEFINES["NO_TCMALLOC"] = True
+    DEFINES["WEBRTC_MAC"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["__ASSERT_MACROS_DEFINE_VERSIONS_WITHOUT_UNDERSCORE"] = "0"
+
+    OS_LIBS += [
+        "-framework Foundation"
+    ]
+
+if CONFIG["OS_TARGET"] == "OpenBSD":
+
+    DEFINES["USE_X11"] = "1"
+    DEFINES["WEBRTC_BSD"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+
+if CONFIG["OS_TARGET"] == "FreeBSD":
+
+    DEFINES["USE_X11"] = "1"
+    DEFINES["WEBRTC_BSD"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+
+if CONFIG["OS_TARGET"] == "Android":
+
+    DEFINES["ANDROID"] = True
+    DEFINES["ANDROID_NDK_VERSION"] = "r12b"
+    DEFINES["DISABLE_NACL"] = True
+    DEFINES["HAVE_SYS_UIO_H"] = True
+    DEFINES["NO_TCMALLOC"] = True
+    DEFINES["USE_OPENSSL_CERTS"] = "1"
+    DEFINES["WEBRTC_ANDROID"] = True
+    DEFINES["WEBRTC_ANDROID_OPENSLES"] = True
+    DEFINES["WEBRTC_LINUX"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+    DEFINES["__GNU_SOURCE"] = "1"
+
+    OS_LIBS += [
+        "log"
+    ]
 
 if CONFIG["CPU_ARCH"] == "arm":
 
@@ -140,15 +134,24 @@ if CONFIG["CPU_ARCH"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Android":
+if CONFIG["CPU_ARCH"] == "ppc64":
 
-    DEFINES["_FORTIFY_SOURCE"] = "2"
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "mips64":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "aarch64":
+
+    DEFINES["WEBRTC_ARCH_ARM64"] = True
+    DEFINES["WEBRTC_HAS_NEON"] = True
 
 if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Darwin":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "DragonFly":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "OpenBSD":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
@@ -156,17 +159,53 @@ if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "FreeBSD":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "NetBSD":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Android":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "OpenBSD":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "DragonFly":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "NetBSD":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
+if CONFIG["CPU_ARCH"] == "x86_64" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
 if CONFIG["CPU_ARCH"] == "aarch64" and CONFIG["OS_TARGET"] == "Linux":
 
     DEFINES["DISABLE_NACL"] = True
     DEFINES["NO_TCMALLOC"] = True
 
+if CONFIG["CPU_ARCH"] == "arm" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "aarch64" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "arm" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "aarch64" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["HOST_CPU_ARCH"] == "x86_64" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["HOST_CPU_ARCH"] == "x86" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
 Library("rtc_base_approved_gn")
diff --git a/media/webrtc/trunk/webrtc/rtc_base/rtc_base_approved_objc_gn/moz.build b/media/webrtc/trunk/webrtc/rtc_base/rtc_base_approved_objc_gn/moz.build
index 2f8534ec427c..1b8cbb1cd637 100644
--- a/media/webrtc/trunk/webrtc/rtc_base/rtc_base_approved_objc_gn/moz.build
+++ b/media/webrtc/trunk/webrtc/rtc_base/rtc_base_approved_objc_gn/moz.build
@@ -39,6 +39,11 @@ UNIFIED_SOURCES += [
     "/media/webrtc/trunk/webrtc/rtc_base/logging_mac.mm"
 ]
 
+if CONFIG["MOZ_DEBUG"] == "1":
+
+    DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "1"
+    DEFINES["WTF_USE_DYNAMIC_ANNOTATIONS"] = "1"
+
 if not CONFIG["MOZ_DEBUG"]:
 
     DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "0"
@@ -46,9 +51,4 @@ if not CONFIG["MOZ_DEBUG"]:
     DEFINES["NVALGRIND"] = True
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if CONFIG["MOZ_DEBUG"] == "1":
-
-    DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "1"
-    DEFINES["WTF_USE_DYNAMIC_ANNOTATIONS"] = "1"
-
 Library("rtc_base_approved_objc_gn")
diff --git a/media/webrtc/trunk/webrtc/rtc_base/rtc_base_gn/moz.build b/media/webrtc/trunk/webrtc/rtc_base/rtc_base_gn/moz.build
index 3ec9c20aa0fe..cb5dff8d8a2e 100644
--- a/media/webrtc/trunk/webrtc/rtc_base/rtc_base_gn/moz.build
+++ b/media/webrtc/trunk/webrtc/rtc_base/rtc_base_gn/moz.build
@@ -26,52 +26,18 @@ LOCAL_INCLUDES += [
     "/media/webrtc/trunk/webrtc/"
 ]
 
-if not CONFIG["MOZ_DEBUG"]:
-
-    DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "0"
-    DEFINES["NDEBUG"] = True
-    DEFINES["NVALGRIND"] = True
-
 if CONFIG["MOZ_DEBUG"] == "1":
 
     DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "1"
     DEFINES["WTF_USE_DYNAMIC_ANNOTATIONS"] = "1"
 
-if CONFIG["OS_TARGET"] == "Android":
-
-    DEFINES["ANDROID"] = True
-    DEFINES["ANDROID_NDK_VERSION"] = "r12b"
-    DEFINES["DISABLE_NACL"] = True
-    DEFINES["HAVE_SYS_UIO_H"] = True
-    DEFINES["NO_TCMALLOC"] = True
-    DEFINES["USE_OPENSSL_CERTS"] = "1"
-    DEFINES["WEBRTC_ANDROID"] = True
-    DEFINES["WEBRTC_ANDROID_OPENSLES"] = True
-    DEFINES["WEBRTC_LINUX"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
-    DEFINES["__GNU_SOURCE"] = "1"
-
-if CONFIG["OS_TARGET"] == "Darwin":
-
-    DEFINES["CR_XCODE_VERSION"] = "0920"
-    DEFINES["NO_TCMALLOC"] = True
-    DEFINES["WEBRTC_MAC"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["__ASSERT_MACROS_DEFINE_VERSIONS_WITHOUT_UNDERSCORE"] = "0"
-
-    UNIFIED_SOURCES += [
-        "/media/webrtc/trunk/webrtc/rtc_base/noop.mm"
-    ]
-
-if CONFIG["OS_TARGET"] == "DragonFly":
+if not CONFIG["MOZ_DEBUG"]:
 
-    DEFINES["USE_X11"] = "1"
-    DEFINES["WEBRTC_BSD"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
+    DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "0"
+    DEFINES["NDEBUG"] = True
+    DEFINES["NVALGRIND"] = True
 
-if CONFIG["OS_TARGET"] == "FreeBSD":
+if CONFIG["OS_TARGET"] == "NetBSD":
 
     DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_BSD"] = True
@@ -81,19 +47,11 @@ if CONFIG["OS_TARGET"] == "FreeBSD":
 if CONFIG["OS_TARGET"] == "Linux":
 
     DEFINES["USE_NSS_CERTS"] = "1"
-    DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_LINUX"] = True
     DEFINES["WEBRTC_POSIX"] = True
     DEFINES["_FILE_OFFSET_BITS"] = "64"
 
-if CONFIG["OS_TARGET"] == "NetBSD":
-
-    DEFINES["USE_X11"] = "1"
-    DEFINES["WEBRTC_BSD"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
-
-if CONFIG["OS_TARGET"] == "OpenBSD":
+if CONFIG["OS_TARGET"] == "DragonFly":
 
     DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_BSD"] = True
@@ -129,10 +87,46 @@ if CONFIG["OS_TARGET"] == "WINNT":
         "/media/webrtc/trunk/webrtc/rtc_base/noop.cc"
     ]
 
-if CONFIG["CPU_ARCH"] == "aarch64":
+if CONFIG["OS_TARGET"] == "Darwin":
 
-    DEFINES["WEBRTC_ARCH_ARM64"] = True
-    DEFINES["WEBRTC_HAS_NEON"] = True
+    DEFINES["CR_XCODE_VERSION"] = "0920"
+    DEFINES["NO_TCMALLOC"] = True
+    DEFINES["WEBRTC_MAC"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["__ASSERT_MACROS_DEFINE_VERSIONS_WITHOUT_UNDERSCORE"] = "0"
+
+    UNIFIED_SOURCES += [
+        "/media/webrtc/trunk/webrtc/rtc_base/noop.mm"
+    ]
+
+if CONFIG["OS_TARGET"] == "OpenBSD":
+
+    DEFINES["USE_X11"] = "1"
+    DEFINES["WEBRTC_BSD"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+
+if CONFIG["OS_TARGET"] == "FreeBSD":
+
+    DEFINES["USE_X11"] = "1"
+    DEFINES["WEBRTC_BSD"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+
+if CONFIG["OS_TARGET"] == "Android":
+
+    DEFINES["ANDROID"] = True
+    DEFINES["ANDROID_NDK_VERSION"] = "r12b"
+    DEFINES["DISABLE_NACL"] = True
+    DEFINES["HAVE_SYS_UIO_H"] = True
+    DEFINES["NO_TCMALLOC"] = True
+    DEFINES["USE_OPENSSL_CERTS"] = "1"
+    DEFINES["WEBRTC_ANDROID"] = True
+    DEFINES["WEBRTC_ANDROID_OPENSLES"] = True
+    DEFINES["WEBRTC_LINUX"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+    DEFINES["__GNU_SOURCE"] = "1"
 
 if CONFIG["CPU_ARCH"] == "arm":
 
@@ -140,15 +134,24 @@ if CONFIG["CPU_ARCH"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Android":
+if CONFIG["CPU_ARCH"] == "ppc64":
 
-    DEFINES["_FORTIFY_SOURCE"] = "2"
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "mips64":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "aarch64":
+
+    DEFINES["WEBRTC_ARCH_ARM64"] = True
+    DEFINES["WEBRTC_HAS_NEON"] = True
 
 if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Darwin":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "DragonFly":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "OpenBSD":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
@@ -156,17 +159,53 @@ if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "FreeBSD":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "NetBSD":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Android":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "OpenBSD":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "DragonFly":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "NetBSD":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
+if CONFIG["CPU_ARCH"] == "x86_64" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
 if CONFIG["CPU_ARCH"] == "aarch64" and CONFIG["OS_TARGET"] == "Linux":
 
     DEFINES["DISABLE_NACL"] = True
     DEFINES["NO_TCMALLOC"] = True
 
+if CONFIG["CPU_ARCH"] == "arm" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "aarch64" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "arm" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "aarch64" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["HOST_CPU_ARCH"] == "x86_64" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["HOST_CPU_ARCH"] == "x86" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
 Library("rtc_base_gn")
diff --git a/media/webrtc/trunk/webrtc/rtc_base/rtc_base_objc_gn/moz.build b/media/webrtc/trunk/webrtc/rtc_base/rtc_base_objc_gn/moz.build
index e45a216f53c4..956b517826be 100644
--- a/media/webrtc/trunk/webrtc/rtc_base/rtc_base_objc_gn/moz.build
+++ b/media/webrtc/trunk/webrtc/rtc_base/rtc_base_objc_gn/moz.build
@@ -35,6 +35,11 @@ UNIFIED_SOURCES += [
     "/media/webrtc/trunk/webrtc/rtc_base/thread_darwin.mm"
 ]
 
+if CONFIG["MOZ_DEBUG"] == "1":
+
+    DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "1"
+    DEFINES["WTF_USE_DYNAMIC_ANNOTATIONS"] = "1"
+
 if not CONFIG["MOZ_DEBUG"]:
 
     DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "0"
@@ -42,9 +47,4 @@ if not CONFIG["MOZ_DEBUG"]:
     DEFINES["NVALGRIND"] = True
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if CONFIG["MOZ_DEBUG"] == "1":
-
-    DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "1"
-    DEFINES["WTF_USE_DYNAMIC_ANNOTATIONS"] = "1"
-
 Library("rtc_base_objc_gn")
diff --git a/media/webrtc/trunk/webrtc/rtc_base/rtc_numerics_gn/moz.build b/media/webrtc/trunk/webrtc/rtc_base/rtc_numerics_gn/moz.build
index 5250809a8f14..f37fa4773e25 100644
--- a/media/webrtc/trunk/webrtc/rtc_base/rtc_numerics_gn/moz.build
+++ b/media/webrtc/trunk/webrtc/rtc_base/rtc_numerics_gn/moz.build
@@ -30,56 +30,18 @@ UNIFIED_SOURCES += [
     "/media/webrtc/trunk/webrtc/rtc_base/numerics/exp_filter.cc"
 ]
 
-if not CONFIG["MOZ_DEBUG"]:
-
-    DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "0"
-    DEFINES["NDEBUG"] = True
-    DEFINES["NVALGRIND"] = True
-
 if CONFIG["MOZ_DEBUG"] == "1":
 
     DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "1"
     DEFINES["WTF_USE_DYNAMIC_ANNOTATIONS"] = "1"
 
-if CONFIG["OS_TARGET"] == "Android":
-
-    DEFINES["ANDROID"] = True
-    DEFINES["ANDROID_NDK_VERSION"] = "r12b"
-    DEFINES["DISABLE_NACL"] = True
-    DEFINES["HAVE_SYS_UIO_H"] = True
-    DEFINES["NO_TCMALLOC"] = True
-    DEFINES["USE_OPENSSL_CERTS"] = "1"
-    DEFINES["WEBRTC_ANDROID"] = True
-    DEFINES["WEBRTC_ANDROID_OPENSLES"] = True
-    DEFINES["WEBRTC_LINUX"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
-    DEFINES["__GNU_SOURCE"] = "1"
-
-    OS_LIBS += [
-        "log"
-    ]
-
-if CONFIG["OS_TARGET"] == "Darwin":
-
-    DEFINES["CR_XCODE_VERSION"] = "0920"
-    DEFINES["NO_TCMALLOC"] = True
-    DEFINES["WEBRTC_MAC"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["__ASSERT_MACROS_DEFINE_VERSIONS_WITHOUT_UNDERSCORE"] = "0"
-
-    OS_LIBS += [
-        "-framework Foundation"
-    ]
-
-if CONFIG["OS_TARGET"] == "DragonFly":
+if not CONFIG["MOZ_DEBUG"]:
 
-    DEFINES["USE_X11"] = "1"
-    DEFINES["WEBRTC_BSD"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
+    DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "0"
+    DEFINES["NDEBUG"] = True
+    DEFINES["NVALGRIND"] = True
 
-if CONFIG["OS_TARGET"] == "FreeBSD":
+if CONFIG["OS_TARGET"] == "NetBSD":
 
     DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_BSD"] = True
@@ -89,19 +51,11 @@ if CONFIG["OS_TARGET"] == "FreeBSD":
 if CONFIG["OS_TARGET"] == "Linux":
 
     DEFINES["USE_NSS_CERTS"] = "1"
-    DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_LINUX"] = True
     DEFINES["WEBRTC_POSIX"] = True
     DEFINES["_FILE_OFFSET_BITS"] = "64"
 
-if CONFIG["OS_TARGET"] == "NetBSD":
-
-    DEFINES["USE_X11"] = "1"
-    DEFINES["WEBRTC_BSD"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
-
-if CONFIG["OS_TARGET"] == "OpenBSD":
+if CONFIG["OS_TARGET"] == "DragonFly":
 
     DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_BSD"] = True
@@ -133,10 +87,50 @@ if CONFIG["OS_TARGET"] == "WINNT":
     DEFINES["_WINDOWS"] = True
     DEFINES["__STD_C"] = True
 
-if CONFIG["CPU_ARCH"] == "aarch64":
+if CONFIG["OS_TARGET"] == "Darwin":
 
-    DEFINES["WEBRTC_ARCH_ARM64"] = True
-    DEFINES["WEBRTC_HAS_NEON"] = True
+    DEFINES["CR_XCODE_VERSION"] = "0920"
+    DEFINES["NO_TCMALLOC"] = True
+    DEFINES["WEBRTC_MAC"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["__ASSERT_MACROS_DEFINE_VERSIONS_WITHOUT_UNDERSCORE"] = "0"
+
+    OS_LIBS += [
+        "-framework Foundation"
+    ]
+
+if CONFIG["OS_TARGET"] == "OpenBSD":
+
+    DEFINES["USE_X11"] = "1"
+    DEFINES["WEBRTC_BSD"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+
+if CONFIG["OS_TARGET"] == "FreeBSD":
+
+    DEFINES["USE_X11"] = "1"
+    DEFINES["WEBRTC_BSD"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+
+if CONFIG["OS_TARGET"] == "Android":
+
+    DEFINES["ANDROID"] = True
+    DEFINES["ANDROID_NDK_VERSION"] = "r12b"
+    DEFINES["DISABLE_NACL"] = True
+    DEFINES["HAVE_SYS_UIO_H"] = True
+    DEFINES["NO_TCMALLOC"] = True
+    DEFINES["USE_OPENSSL_CERTS"] = "1"
+    DEFINES["WEBRTC_ANDROID"] = True
+    DEFINES["WEBRTC_ANDROID_OPENSLES"] = True
+    DEFINES["WEBRTC_LINUX"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+    DEFINES["__GNU_SOURCE"] = "1"
+
+    OS_LIBS += [
+        "log"
+    ]
 
 if CONFIG["CPU_ARCH"] == "arm":
 
@@ -148,15 +142,24 @@ if CONFIG["CPU_ARCH"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Android":
+if CONFIG["CPU_ARCH"] == "ppc64":
 
-    DEFINES["_FORTIFY_SOURCE"] = "2"
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "mips64":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "aarch64":
+
+    DEFINES["WEBRTC_ARCH_ARM64"] = True
+    DEFINES["WEBRTC_HAS_NEON"] = True
 
 if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Darwin":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "DragonFly":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "OpenBSD":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
@@ -164,20 +167,28 @@ if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "FreeBSD":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "NetBSD":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Android":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "OpenBSD":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "DragonFly":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "Android":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "NetBSD":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "NetBSD":
 
     CXXFLAGS += [
         "-msse2"
     ]
 
+if CONFIG["CPU_ARCH"] == "x86_64" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
 if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "FreeBSD":
 
     CXXFLAGS += [
@@ -195,7 +206,7 @@ if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "Linux":
         "-msse2"
     ]
 
-if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "NetBSD":
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "Android":
 
     CXXFLAGS += [
         "-msse2"
@@ -207,4 +218,32 @@ if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "OpenBSD":
         "-msse2"
     ]
 
+if CONFIG["CPU_ARCH"] == "arm" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "aarch64" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "arm" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "aarch64" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["HOST_CPU_ARCH"] == "x86_64" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["HOST_CPU_ARCH"] == "x86" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
 Library("rtc_numerics_gn")
diff --git a/media/webrtc/trunk/webrtc/rtc_base/rtc_task_queue_api_gn/moz.build b/media/webrtc/trunk/webrtc/rtc_base/rtc_task_queue_api_gn/moz.build
index a2fd7878f068..886063e510f2 100644
--- a/media/webrtc/trunk/webrtc/rtc_base/rtc_task_queue_api_gn/moz.build
+++ b/media/webrtc/trunk/webrtc/rtc_base/rtc_task_queue_api_gn/moz.build
@@ -26,56 +26,18 @@ LOCAL_INCLUDES += [
     "/media/webrtc/trunk/webrtc/"
 ]
 
-if not CONFIG["MOZ_DEBUG"]:
-
-    DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "0"
-    DEFINES["NDEBUG"] = True
-    DEFINES["NVALGRIND"] = True
-
 if CONFIG["MOZ_DEBUG"] == "1":
 
     DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "1"
     DEFINES["WTF_USE_DYNAMIC_ANNOTATIONS"] = "1"
 
-if CONFIG["OS_TARGET"] == "Android":
-
-    DEFINES["ANDROID"] = True
-    DEFINES["ANDROID_NDK_VERSION"] = "r12b"
-    DEFINES["DISABLE_NACL"] = True
-    DEFINES["HAVE_SYS_UIO_H"] = True
-    DEFINES["NO_TCMALLOC"] = True
-    DEFINES["USE_OPENSSL_CERTS"] = "1"
-    DEFINES["WEBRTC_ANDROID"] = True
-    DEFINES["WEBRTC_ANDROID_OPENSLES"] = True
-    DEFINES["WEBRTC_LINUX"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
-    DEFINES["__GNU_SOURCE"] = "1"
-
-    OS_LIBS += [
-        "log"
-    ]
-
-if CONFIG["OS_TARGET"] == "Darwin":
-
-    DEFINES["CR_XCODE_VERSION"] = "0920"
-    DEFINES["NO_TCMALLOC"] = True
-    DEFINES["WEBRTC_MAC"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["__ASSERT_MACROS_DEFINE_VERSIONS_WITHOUT_UNDERSCORE"] = "0"
-
-    OS_LIBS += [
-        "-framework Foundation"
-    ]
-
-if CONFIG["OS_TARGET"] == "DragonFly":
+if not CONFIG["MOZ_DEBUG"]:
 
-    DEFINES["USE_X11"] = "1"
-    DEFINES["WEBRTC_BSD"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
+    DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "0"
+    DEFINES["NDEBUG"] = True
+    DEFINES["NVALGRIND"] = True
 
-if CONFIG["OS_TARGET"] == "FreeBSD":
+if CONFIG["OS_TARGET"] == "NetBSD":
 
     DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_BSD"] = True
@@ -85,19 +47,11 @@ if CONFIG["OS_TARGET"] == "FreeBSD":
 if CONFIG["OS_TARGET"] == "Linux":
 
     DEFINES["USE_NSS_CERTS"] = "1"
-    DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_LINUX"] = True
     DEFINES["WEBRTC_POSIX"] = True
     DEFINES["_FILE_OFFSET_BITS"] = "64"
 
-if CONFIG["OS_TARGET"] == "NetBSD":
-
-    DEFINES["USE_X11"] = "1"
-    DEFINES["WEBRTC_BSD"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
-
-if CONFIG["OS_TARGET"] == "OpenBSD":
+if CONFIG["OS_TARGET"] == "DragonFly":
 
     DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_BSD"] = True
@@ -129,10 +83,50 @@ if CONFIG["OS_TARGET"] == "WINNT":
     DEFINES["_WINDOWS"] = True
     DEFINES["__STD_C"] = True
 
-if CONFIG["CPU_ARCH"] == "aarch64":
+if CONFIG["OS_TARGET"] == "Darwin":
 
-    DEFINES["WEBRTC_ARCH_ARM64"] = True
-    DEFINES["WEBRTC_HAS_NEON"] = True
+    DEFINES["CR_XCODE_VERSION"] = "0920"
+    DEFINES["NO_TCMALLOC"] = True
+    DEFINES["WEBRTC_MAC"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["__ASSERT_MACROS_DEFINE_VERSIONS_WITHOUT_UNDERSCORE"] = "0"
+
+    OS_LIBS += [
+        "-framework Foundation"
+    ]
+
+if CONFIG["OS_TARGET"] == "OpenBSD":
+
+    DEFINES["USE_X11"] = "1"
+    DEFINES["WEBRTC_BSD"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+
+if CONFIG["OS_TARGET"] == "FreeBSD":
+
+    DEFINES["USE_X11"] = "1"
+    DEFINES["WEBRTC_BSD"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+
+if CONFIG["OS_TARGET"] == "Android":
+
+    DEFINES["ANDROID"] = True
+    DEFINES["ANDROID_NDK_VERSION"] = "r12b"
+    DEFINES["DISABLE_NACL"] = True
+    DEFINES["HAVE_SYS_UIO_H"] = True
+    DEFINES["NO_TCMALLOC"] = True
+    DEFINES["USE_OPENSSL_CERTS"] = "1"
+    DEFINES["WEBRTC_ANDROID"] = True
+    DEFINES["WEBRTC_ANDROID_OPENSLES"] = True
+    DEFINES["WEBRTC_LINUX"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+    DEFINES["__GNU_SOURCE"] = "1"
+
+    OS_LIBS += [
+        "log"
+    ]
 
 if CONFIG["CPU_ARCH"] == "arm":
 
@@ -140,15 +134,24 @@ if CONFIG["CPU_ARCH"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Android":
+if CONFIG["CPU_ARCH"] == "ppc64":
 
-    DEFINES["_FORTIFY_SOURCE"] = "2"
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "mips64":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "aarch64":
+
+    DEFINES["WEBRTC_ARCH_ARM64"] = True
+    DEFINES["WEBRTC_HAS_NEON"] = True
 
 if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Darwin":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "DragonFly":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "OpenBSD":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
@@ -156,17 +159,53 @@ if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "FreeBSD":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "NetBSD":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Android":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "OpenBSD":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "DragonFly":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "NetBSD":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
+if CONFIG["CPU_ARCH"] == "x86_64" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
 if CONFIG["CPU_ARCH"] == "aarch64" and CONFIG["OS_TARGET"] == "Linux":
 
     DEFINES["DISABLE_NACL"] = True
     DEFINES["NO_TCMALLOC"] = True
 
+if CONFIG["CPU_ARCH"] == "arm" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "aarch64" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "arm" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "aarch64" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["HOST_CPU_ARCH"] == "x86_64" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["HOST_CPU_ARCH"] == "x86" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
 Library("rtc_task_queue_api_gn")
diff --git a/media/webrtc/trunk/webrtc/rtc_base/rtc_task_queue_gn/moz.build b/media/webrtc/trunk/webrtc/rtc_base/rtc_task_queue_gn/moz.build
index 2952f40724b3..122844ec682f 100644
--- a/media/webrtc/trunk/webrtc/rtc_base/rtc_task_queue_gn/moz.build
+++ b/media/webrtc/trunk/webrtc/rtc_base/rtc_task_queue_gn/moz.build
@@ -26,56 +26,18 @@ LOCAL_INCLUDES += [
     "/media/webrtc/trunk/webrtc/"
 ]
 
-if not CONFIG["MOZ_DEBUG"]:
-
-    DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "0"
-    DEFINES["NDEBUG"] = True
-    DEFINES["NVALGRIND"] = True
-
 if CONFIG["MOZ_DEBUG"] == "1":
 
     DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "1"
     DEFINES["WTF_USE_DYNAMIC_ANNOTATIONS"] = "1"
 
-if CONFIG["OS_TARGET"] == "Android":
-
-    DEFINES["ANDROID"] = True
-    DEFINES["ANDROID_NDK_VERSION"] = "r12b"
-    DEFINES["DISABLE_NACL"] = True
-    DEFINES["HAVE_SYS_UIO_H"] = True
-    DEFINES["NO_TCMALLOC"] = True
-    DEFINES["USE_OPENSSL_CERTS"] = "1"
-    DEFINES["WEBRTC_ANDROID"] = True
-    DEFINES["WEBRTC_ANDROID_OPENSLES"] = True
-    DEFINES["WEBRTC_LINUX"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
-    DEFINES["__GNU_SOURCE"] = "1"
-
-    OS_LIBS += [
-        "log"
-    ]
-
-if CONFIG["OS_TARGET"] == "Darwin":
-
-    DEFINES["CR_XCODE_VERSION"] = "0920"
-    DEFINES["NO_TCMALLOC"] = True
-    DEFINES["WEBRTC_MAC"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["__ASSERT_MACROS_DEFINE_VERSIONS_WITHOUT_UNDERSCORE"] = "0"
-
-    OS_LIBS += [
-        "-framework Foundation"
-    ]
-
-if CONFIG["OS_TARGET"] == "DragonFly":
+if not CONFIG["MOZ_DEBUG"]:
 
-    DEFINES["USE_X11"] = "1"
-    DEFINES["WEBRTC_BSD"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
+    DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "0"
+    DEFINES["NDEBUG"] = True
+    DEFINES["NVALGRIND"] = True
 
-if CONFIG["OS_TARGET"] == "FreeBSD":
+if CONFIG["OS_TARGET"] == "NetBSD":
 
     DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_BSD"] = True
@@ -85,19 +47,11 @@ if CONFIG["OS_TARGET"] == "FreeBSD":
 if CONFIG["OS_TARGET"] == "Linux":
 
     DEFINES["USE_NSS_CERTS"] = "1"
-    DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_LINUX"] = True
     DEFINES["WEBRTC_POSIX"] = True
     DEFINES["_FILE_OFFSET_BITS"] = "64"
 
-if CONFIG["OS_TARGET"] == "NetBSD":
-
-    DEFINES["USE_X11"] = "1"
-    DEFINES["WEBRTC_BSD"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
-
-if CONFIG["OS_TARGET"] == "OpenBSD":
+if CONFIG["OS_TARGET"] == "DragonFly":
 
     DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_BSD"] = True
@@ -129,10 +83,50 @@ if CONFIG["OS_TARGET"] == "WINNT":
     DEFINES["_WINDOWS"] = True
     DEFINES["__STD_C"] = True
 
-if CONFIG["CPU_ARCH"] == "aarch64":
+if CONFIG["OS_TARGET"] == "Darwin":
 
-    DEFINES["WEBRTC_ARCH_ARM64"] = True
-    DEFINES["WEBRTC_HAS_NEON"] = True
+    DEFINES["CR_XCODE_VERSION"] = "0920"
+    DEFINES["NO_TCMALLOC"] = True
+    DEFINES["WEBRTC_MAC"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["__ASSERT_MACROS_DEFINE_VERSIONS_WITHOUT_UNDERSCORE"] = "0"
+
+    OS_LIBS += [
+        "-framework Foundation"
+    ]
+
+if CONFIG["OS_TARGET"] == "OpenBSD":
+
+    DEFINES["USE_X11"] = "1"
+    DEFINES["WEBRTC_BSD"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+
+if CONFIG["OS_TARGET"] == "FreeBSD":
+
+    DEFINES["USE_X11"] = "1"
+    DEFINES["WEBRTC_BSD"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+
+if CONFIG["OS_TARGET"] == "Android":
+
+    DEFINES["ANDROID"] = True
+    DEFINES["ANDROID_NDK_VERSION"] = "r12b"
+    DEFINES["DISABLE_NACL"] = True
+    DEFINES["HAVE_SYS_UIO_H"] = True
+    DEFINES["NO_TCMALLOC"] = True
+    DEFINES["USE_OPENSSL_CERTS"] = "1"
+    DEFINES["WEBRTC_ANDROID"] = True
+    DEFINES["WEBRTC_ANDROID_OPENSLES"] = True
+    DEFINES["WEBRTC_LINUX"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+    DEFINES["__GNU_SOURCE"] = "1"
+
+    OS_LIBS += [
+        "log"
+    ]
 
 if CONFIG["CPU_ARCH"] == "arm":
 
@@ -140,15 +134,24 @@ if CONFIG["CPU_ARCH"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Android":
+if CONFIG["CPU_ARCH"] == "ppc64":
 
-    DEFINES["_FORTIFY_SOURCE"] = "2"
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "mips64":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "aarch64":
+
+    DEFINES["WEBRTC_ARCH_ARM64"] = True
+    DEFINES["WEBRTC_HAS_NEON"] = True
 
 if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Darwin":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "DragonFly":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "OpenBSD":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
@@ -156,17 +159,53 @@ if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "FreeBSD":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "NetBSD":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Android":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "OpenBSD":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "DragonFly":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "NetBSD":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
+if CONFIG["CPU_ARCH"] == "x86_64" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
 if CONFIG["CPU_ARCH"] == "aarch64" and CONFIG["OS_TARGET"] == "Linux":
 
     DEFINES["DISABLE_NACL"] = True
     DEFINES["NO_TCMALLOC"] = True
 
+if CONFIG["CPU_ARCH"] == "arm" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "aarch64" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "arm" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "aarch64" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["HOST_CPU_ARCH"] == "x86_64" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["HOST_CPU_ARCH"] == "x86" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
 Library("rtc_task_queue_gn")
diff --git a/media/webrtc/trunk/webrtc/rtc_base/rtc_task_queue_impl_gn/moz.build b/media/webrtc/trunk/webrtc/rtc_base/rtc_task_queue_impl_gn/moz.build
index fa7270205f5c..69396d3e5638 100644
--- a/media/webrtc/trunk/webrtc/rtc_base/rtc_task_queue_impl_gn/moz.build
+++ b/media/webrtc/trunk/webrtc/rtc_base/rtc_task_queue_impl_gn/moz.build
@@ -26,60 +26,48 @@ LOCAL_INCLUDES += [
     "/media/webrtc/trunk/webrtc/"
 ]
 
+if CONFIG["MOZ_DEBUG"] == "1":
+
+    DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "1"
+    DEFINES["WTF_USE_DYNAMIC_ANNOTATIONS"] = "1"
+
 if not CONFIG["MOZ_DEBUG"]:
 
     DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "0"
     DEFINES["NDEBUG"] = True
     DEFINES["NVALGRIND"] = True
 
-if CONFIG["MOZ_DEBUG"] == "1":
-
-    DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "1"
-    DEFINES["WTF_USE_DYNAMIC_ANNOTATIONS"] = "1"
-
-if CONFIG["OS_TARGET"] == "Android":
+if CONFIG["OS_TARGET"] == "NetBSD":
 
-    DEFINES["ANDROID"] = True
-    DEFINES["ANDROID_NDK_VERSION"] = "r12b"
-    DEFINES["DISABLE_NACL"] = True
-    DEFINES["HAVE_SYS_UIO_H"] = True
-    DEFINES["NO_TCMALLOC"] = True
-    DEFINES["USE_OPENSSL_CERTS"] = "1"
-    DEFINES["WEBRTC_ANDROID"] = True
-    DEFINES["WEBRTC_ANDROID_OPENSLES"] = True
-    DEFINES["WEBRTC_LINUX"] = True
+    DEFINES["USE_X11"] = "1"
+    DEFINES["WEBRTC_BSD"] = True
     DEFINES["WEBRTC_POSIX"] = True
     DEFINES["_FILE_OFFSET_BITS"] = "64"
-    DEFINES["__GNU_SOURCE"] = "1"
 
     LOCAL_INCLUDES += [
-        "/ipc/chromium/src/third_party/libevent/android/",
+        "/ipc/chromium/src/third_party/libevent/bsd/",
         "/ipc/chromium/src/third_party/libevent/include/"
     ]
 
-    OS_LIBS += [
-        "log"
-    ]
-
     UNIFIED_SOURCES += [
         "/media/webrtc/trunk/webrtc/rtc_base/task_queue_libevent.cc",
         "/media/webrtc/trunk/webrtc/rtc_base/task_queue_posix.cc"
     ]
 
-if CONFIG["OS_TARGET"] == "Darwin":
+if CONFIG["OS_TARGET"] == "Linux":
 
-    DEFINES["CR_XCODE_VERSION"] = "0920"
-    DEFINES["NO_TCMALLOC"] = True
-    DEFINES["WEBRTC_MAC"] = True
+    DEFINES["USE_NSS_CERTS"] = "1"
+    DEFINES["WEBRTC_LINUX"] = True
     DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["__ASSERT_MACROS_DEFINE_VERSIONS_WITHOUT_UNDERSCORE"] = "0"
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
 
-    OS_LIBS += [
-        "-framework Foundation"
+    LOCAL_INCLUDES += [
+        "/ipc/chromium/src/third_party/libevent/include/",
+        "/ipc/chromium/src/third_party/libevent/linux/"
     ]
 
     UNIFIED_SOURCES += [
-        "/media/webrtc/trunk/webrtc/rtc_base/task_queue_gcd.cc",
+        "/media/webrtc/trunk/webrtc/rtc_base/task_queue_libevent.cc",
         "/media/webrtc/trunk/webrtc/rtc_base/task_queue_posix.cc"
     ]
 
@@ -100,42 +88,53 @@ if CONFIG["OS_TARGET"] == "DragonFly":
         "/media/webrtc/trunk/webrtc/rtc_base/task_queue_posix.cc"
     ]
 
-if CONFIG["OS_TARGET"] == "FreeBSD":
-
-    DEFINES["USE_X11"] = "1"
-    DEFINES["WEBRTC_BSD"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
+if CONFIG["OS_TARGET"] == "WINNT":
 
-    LOCAL_INCLUDES += [
-        "/ipc/chromium/src/third_party/libevent/bsd/",
-        "/ipc/chromium/src/third_party/libevent/include/"
-    ]
+    DEFINES["CERT_CHAIN_PARA_HAS_EXTRA_FIELDS"] = True
+    DEFINES["NOMINMAX"] = True
+    DEFINES["NO_TCMALLOC"] = True
+    DEFINES["NTDDI_VERSION"] = "0x0A000000"
+    DEFINES["PSAPI_VERSION"] = "1"
+    DEFINES["UNICODE"] = True
+    DEFINES["WEBRTC_WIN"] = True
+    DEFINES["WIN32"] = True
+    DEFINES["WIN32_LEAN_AND_MEAN"] = True
+    DEFINES["WINVER"] = "0x0A00"
+    DEFINES["_ATL_NO_OPENGL"] = True
+    DEFINES["_CRT_RAND_S"] = True
+    DEFINES["_CRT_SECURE_NO_DEPRECATE"] = True
+    DEFINES["_CRT_SECURE_NO_WARNINGS"] = True
+    DEFINES["_HAS_EXCEPTIONS"] = "0"
+    DEFINES["_SCL_SECURE_NO_DEPRECATE"] = True
+    DEFINES["_SECURE_ATL"] = True
+    DEFINES["_UNICODE"] = True
+    DEFINES["_USING_V110_SDK71_"] = True
+    DEFINES["_WIN32_WINNT"] = "0x0A00"
+    DEFINES["_WINDOWS"] = True
+    DEFINES["__STD_C"] = True
 
     UNIFIED_SOURCES += [
-        "/media/webrtc/trunk/webrtc/rtc_base/task_queue_libevent.cc",
-        "/media/webrtc/trunk/webrtc/rtc_base/task_queue_posix.cc"
+        "/media/webrtc/trunk/webrtc/rtc_base/task_queue_win.cc"
     ]
 
-if CONFIG["OS_TARGET"] == "Linux":
+if CONFIG["OS_TARGET"] == "Darwin":
 
-    DEFINES["USE_NSS_CERTS"] = "1"
-    DEFINES["USE_X11"] = "1"
-    DEFINES["WEBRTC_LINUX"] = True
+    DEFINES["CR_XCODE_VERSION"] = "0920"
+    DEFINES["NO_TCMALLOC"] = True
+    DEFINES["WEBRTC_MAC"] = True
     DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
+    DEFINES["__ASSERT_MACROS_DEFINE_VERSIONS_WITHOUT_UNDERSCORE"] = "0"
 
-    LOCAL_INCLUDES += [
-        "/ipc/chromium/src/third_party/libevent/include/",
-        "/ipc/chromium/src/third_party/libevent/linux/"
+    OS_LIBS += [
+        "-framework Foundation"
     ]
 
     UNIFIED_SOURCES += [
-        "/media/webrtc/trunk/webrtc/rtc_base/task_queue_libevent.cc",
+        "/media/webrtc/trunk/webrtc/rtc_base/task_queue_gcd.cc",
         "/media/webrtc/trunk/webrtc/rtc_base/task_queue_posix.cc"
     ]
 
-if CONFIG["OS_TARGET"] == "NetBSD":
+if CONFIG["OS_TARGET"] == "OpenBSD":
 
     DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_BSD"] = True
@@ -152,7 +151,7 @@ if CONFIG["OS_TARGET"] == "NetBSD":
         "/media/webrtc/trunk/webrtc/rtc_base/task_queue_posix.cc"
     ]
 
-if CONFIG["OS_TARGET"] == "OpenBSD":
+if CONFIG["OS_TARGET"] == "FreeBSD":
 
     DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_BSD"] = True
@@ -169,39 +168,34 @@ if CONFIG["OS_TARGET"] == "OpenBSD":
         "/media/webrtc/trunk/webrtc/rtc_base/task_queue_posix.cc"
     ]
 
-if CONFIG["OS_TARGET"] == "WINNT":
+if CONFIG["OS_TARGET"] == "Android":
 
-    DEFINES["CERT_CHAIN_PARA_HAS_EXTRA_FIELDS"] = True
-    DEFINES["NOMINMAX"] = True
+    DEFINES["ANDROID"] = True
+    DEFINES["ANDROID_NDK_VERSION"] = "r12b"
+    DEFINES["DISABLE_NACL"] = True
+    DEFINES["HAVE_SYS_UIO_H"] = True
     DEFINES["NO_TCMALLOC"] = True
-    DEFINES["NTDDI_VERSION"] = "0x0A000000"
-    DEFINES["PSAPI_VERSION"] = "1"
-    DEFINES["UNICODE"] = True
-    DEFINES["WEBRTC_WIN"] = True
-    DEFINES["WIN32"] = True
-    DEFINES["WIN32_LEAN_AND_MEAN"] = True
-    DEFINES["WINVER"] = "0x0A00"
-    DEFINES["_ATL_NO_OPENGL"] = True
-    DEFINES["_CRT_RAND_S"] = True
-    DEFINES["_CRT_SECURE_NO_DEPRECATE"] = True
-    DEFINES["_CRT_SECURE_NO_WARNINGS"] = True
-    DEFINES["_HAS_EXCEPTIONS"] = "0"
-    DEFINES["_SCL_SECURE_NO_DEPRECATE"] = True
-    DEFINES["_SECURE_ATL"] = True
-    DEFINES["_UNICODE"] = True
-    DEFINES["_USING_V110_SDK71_"] = True
-    DEFINES["_WIN32_WINNT"] = "0x0A00"
-    DEFINES["_WINDOWS"] = True
-    DEFINES["__STD_C"] = True
+    DEFINES["USE_OPENSSL_CERTS"] = "1"
+    DEFINES["WEBRTC_ANDROID"] = True
+    DEFINES["WEBRTC_ANDROID_OPENSLES"] = True
+    DEFINES["WEBRTC_LINUX"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+    DEFINES["__GNU_SOURCE"] = "1"
 
-    UNIFIED_SOURCES += [
-        "/media/webrtc/trunk/webrtc/rtc_base/task_queue_win.cc"
+    LOCAL_INCLUDES += [
+        "/ipc/chromium/src/third_party/libevent/android/",
+        "/ipc/chromium/src/third_party/libevent/include/"
     ]
 
-if CONFIG["CPU_ARCH"] == "aarch64":
+    OS_LIBS += [
+        "log"
+    ]
 
-    DEFINES["WEBRTC_ARCH_ARM64"] = True
-    DEFINES["WEBRTC_HAS_NEON"] = True
+    UNIFIED_SOURCES += [
+        "/media/webrtc/trunk/webrtc/rtc_base/task_queue_libevent.cc",
+        "/media/webrtc/trunk/webrtc/rtc_base/task_queue_posix.cc"
+    ]
 
 if CONFIG["CPU_ARCH"] == "arm":
 
@@ -213,15 +207,24 @@ if CONFIG["CPU_ARCH"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Android":
+if CONFIG["CPU_ARCH"] == "ppc64":
 
-    DEFINES["_FORTIFY_SOURCE"] = "2"
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "mips64":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "aarch64":
+
+    DEFINES["WEBRTC_ARCH_ARM64"] = True
+    DEFINES["WEBRTC_HAS_NEON"] = True
 
 if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Darwin":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "DragonFly":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "OpenBSD":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
@@ -229,20 +232,28 @@ if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "FreeBSD":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "NetBSD":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Android":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "OpenBSD":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "DragonFly":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "Android":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "NetBSD":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "NetBSD":
 
     CXXFLAGS += [
         "-msse2"
     ]
 
+if CONFIG["CPU_ARCH"] == "x86_64" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
 if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "FreeBSD":
 
     CXXFLAGS += [
@@ -260,7 +271,7 @@ if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "Linux":
         "-msse2"
     ]
 
-if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "NetBSD":
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "Android":
 
     CXXFLAGS += [
         "-msse2"
@@ -272,4 +283,32 @@ if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "OpenBSD":
         "-msse2"
     ]
 
+if CONFIG["CPU_ARCH"] == "arm" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "aarch64" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "arm" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "aarch64" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["HOST_CPU_ARCH"] == "x86_64" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["HOST_CPU_ARCH"] == "x86" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
 Library("rtc_task_queue_impl_gn")
diff --git a/media/webrtc/trunk/webrtc/rtc_base/sequenced_task_checker_gn/moz.build b/media/webrtc/trunk/webrtc/rtc_base/sequenced_task_checker_gn/moz.build
index 9fe6a0b1004a..e44cdd1f92a6 100644
--- a/media/webrtc/trunk/webrtc/rtc_base/sequenced_task_checker_gn/moz.build
+++ b/media/webrtc/trunk/webrtc/rtc_base/sequenced_task_checker_gn/moz.build
@@ -30,56 +30,18 @@ UNIFIED_SOURCES += [
     "/media/webrtc/trunk/webrtc/rtc_base/sequenced_task_checker_impl.cc"
 ]
 
-if not CONFIG["MOZ_DEBUG"]:
-
-    DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "0"
-    DEFINES["NDEBUG"] = True
-    DEFINES["NVALGRIND"] = True
-
 if CONFIG["MOZ_DEBUG"] == "1":
 
     DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "1"
     DEFINES["WTF_USE_DYNAMIC_ANNOTATIONS"] = "1"
 
-if CONFIG["OS_TARGET"] == "Android":
-
-    DEFINES["ANDROID"] = True
-    DEFINES["ANDROID_NDK_VERSION"] = "r12b"
-    DEFINES["DISABLE_NACL"] = True
-    DEFINES["HAVE_SYS_UIO_H"] = True
-    DEFINES["NO_TCMALLOC"] = True
-    DEFINES["USE_OPENSSL_CERTS"] = "1"
-    DEFINES["WEBRTC_ANDROID"] = True
-    DEFINES["WEBRTC_ANDROID_OPENSLES"] = True
-    DEFINES["WEBRTC_LINUX"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
-    DEFINES["__GNU_SOURCE"] = "1"
-
-    OS_LIBS += [
-        "log"
-    ]
-
-if CONFIG["OS_TARGET"] == "Darwin":
-
-    DEFINES["CR_XCODE_VERSION"] = "0920"
-    DEFINES["NO_TCMALLOC"] = True
-    DEFINES["WEBRTC_MAC"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["__ASSERT_MACROS_DEFINE_VERSIONS_WITHOUT_UNDERSCORE"] = "0"
-
-    OS_LIBS += [
-        "-framework Foundation"
-    ]
-
-if CONFIG["OS_TARGET"] == "DragonFly":
+if not CONFIG["MOZ_DEBUG"]:
 
-    DEFINES["USE_X11"] = "1"
-    DEFINES["WEBRTC_BSD"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
+    DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "0"
+    DEFINES["NDEBUG"] = True
+    DEFINES["NVALGRIND"] = True
 
-if CONFIG["OS_TARGET"] == "FreeBSD":
+if CONFIG["OS_TARGET"] == "NetBSD":
 
     DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_BSD"] = True
@@ -89,19 +51,11 @@ if CONFIG["OS_TARGET"] == "FreeBSD":
 if CONFIG["OS_TARGET"] == "Linux":
 
     DEFINES["USE_NSS_CERTS"] = "1"
-    DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_LINUX"] = True
     DEFINES["WEBRTC_POSIX"] = True
     DEFINES["_FILE_OFFSET_BITS"] = "64"
 
-if CONFIG["OS_TARGET"] == "NetBSD":
-
-    DEFINES["USE_X11"] = "1"
-    DEFINES["WEBRTC_BSD"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
-
-if CONFIG["OS_TARGET"] == "OpenBSD":
+if CONFIG["OS_TARGET"] == "DragonFly":
 
     DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_BSD"] = True
@@ -133,10 +87,50 @@ if CONFIG["OS_TARGET"] == "WINNT":
     DEFINES["_WINDOWS"] = True
     DEFINES["__STD_C"] = True
 
-if CONFIG["CPU_ARCH"] == "aarch64":
+if CONFIG["OS_TARGET"] == "Darwin":
 
-    DEFINES["WEBRTC_ARCH_ARM64"] = True
-    DEFINES["WEBRTC_HAS_NEON"] = True
+    DEFINES["CR_XCODE_VERSION"] = "0920"
+    DEFINES["NO_TCMALLOC"] = True
+    DEFINES["WEBRTC_MAC"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["__ASSERT_MACROS_DEFINE_VERSIONS_WITHOUT_UNDERSCORE"] = "0"
+
+    OS_LIBS += [
+        "-framework Foundation"
+    ]
+
+if CONFIG["OS_TARGET"] == "OpenBSD":
+
+    DEFINES["USE_X11"] = "1"
+    DEFINES["WEBRTC_BSD"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+
+if CONFIG["OS_TARGET"] == "FreeBSD":
+
+    DEFINES["USE_X11"] = "1"
+    DEFINES["WEBRTC_BSD"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+
+if CONFIG["OS_TARGET"] == "Android":
+
+    DEFINES["ANDROID"] = True
+    DEFINES["ANDROID_NDK_VERSION"] = "r12b"
+    DEFINES["DISABLE_NACL"] = True
+    DEFINES["HAVE_SYS_UIO_H"] = True
+    DEFINES["NO_TCMALLOC"] = True
+    DEFINES["USE_OPENSSL_CERTS"] = "1"
+    DEFINES["WEBRTC_ANDROID"] = True
+    DEFINES["WEBRTC_ANDROID_OPENSLES"] = True
+    DEFINES["WEBRTC_LINUX"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+    DEFINES["__GNU_SOURCE"] = "1"
+
+    OS_LIBS += [
+        "log"
+    ]
 
 if CONFIG["CPU_ARCH"] == "arm":
 
@@ -148,15 +142,24 @@ if CONFIG["CPU_ARCH"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Android":
+if CONFIG["CPU_ARCH"] == "ppc64":
 
-    DEFINES["_FORTIFY_SOURCE"] = "2"
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "mips64":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "aarch64":
+
+    DEFINES["WEBRTC_ARCH_ARM64"] = True
+    DEFINES["WEBRTC_HAS_NEON"] = True
 
 if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Darwin":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "DragonFly":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "OpenBSD":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
@@ -164,20 +167,28 @@ if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "FreeBSD":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "NetBSD":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Android":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "OpenBSD":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "DragonFly":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "Android":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "NetBSD":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "NetBSD":
 
     CXXFLAGS += [
         "-msse2"
     ]
 
+if CONFIG["CPU_ARCH"] == "x86_64" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
 if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "FreeBSD":
 
     CXXFLAGS += [
@@ -195,7 +206,7 @@ if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "Linux":
         "-msse2"
     ]
 
-if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "NetBSD":
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "Android":
 
     CXXFLAGS += [
         "-msse2"
@@ -207,4 +218,32 @@ if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "OpenBSD":
         "-msse2"
     ]
 
+if CONFIG["CPU_ARCH"] == "arm" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "aarch64" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "arm" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "aarch64" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["HOST_CPU_ARCH"] == "x86_64" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["HOST_CPU_ARCH"] == "x86" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
 Library("sequenced_task_checker_gn")
diff --git a/media/webrtc/trunk/webrtc/rtc_base/weak_ptr_gn/moz.build b/media/webrtc/trunk/webrtc/rtc_base/weak_ptr_gn/moz.build
index b6676f8e247b..969b36d245c2 100644
--- a/media/webrtc/trunk/webrtc/rtc_base/weak_ptr_gn/moz.build
+++ b/media/webrtc/trunk/webrtc/rtc_base/weak_ptr_gn/moz.build
@@ -30,56 +30,18 @@ UNIFIED_SOURCES += [
     "/media/webrtc/trunk/webrtc/rtc_base/weak_ptr.cc"
 ]
 
-if not CONFIG["MOZ_DEBUG"]:
-
-    DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "0"
-    DEFINES["NDEBUG"] = True
-    DEFINES["NVALGRIND"] = True
-
 if CONFIG["MOZ_DEBUG"] == "1":
 
     DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "1"
     DEFINES["WTF_USE_DYNAMIC_ANNOTATIONS"] = "1"
 
-if CONFIG["OS_TARGET"] == "Android":
-
-    DEFINES["ANDROID"] = True
-    DEFINES["ANDROID_NDK_VERSION"] = "r12b"
-    DEFINES["DISABLE_NACL"] = True
-    DEFINES["HAVE_SYS_UIO_H"] = True
-    DEFINES["NO_TCMALLOC"] = True
-    DEFINES["USE_OPENSSL_CERTS"] = "1"
-    DEFINES["WEBRTC_ANDROID"] = True
-    DEFINES["WEBRTC_ANDROID_OPENSLES"] = True
-    DEFINES["WEBRTC_LINUX"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
-    DEFINES["__GNU_SOURCE"] = "1"
-
-    OS_LIBS += [
-        "log"
-    ]
-
-if CONFIG["OS_TARGET"] == "Darwin":
-
-    DEFINES["CR_XCODE_VERSION"] = "0920"
-    DEFINES["NO_TCMALLOC"] = True
-    DEFINES["WEBRTC_MAC"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["__ASSERT_MACROS_DEFINE_VERSIONS_WITHOUT_UNDERSCORE"] = "0"
-
-    OS_LIBS += [
-        "-framework Foundation"
-    ]
-
-if CONFIG["OS_TARGET"] == "DragonFly":
+if not CONFIG["MOZ_DEBUG"]:
 
-    DEFINES["USE_X11"] = "1"
-    DEFINES["WEBRTC_BSD"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
+    DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "0"
+    DEFINES["NDEBUG"] = True
+    DEFINES["NVALGRIND"] = True
 
-if CONFIG["OS_TARGET"] == "FreeBSD":
+if CONFIG["OS_TARGET"] == "NetBSD":
 
     DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_BSD"] = True
@@ -89,19 +51,11 @@ if CONFIG["OS_TARGET"] == "FreeBSD":
 if CONFIG["OS_TARGET"] == "Linux":
 
     DEFINES["USE_NSS_CERTS"] = "1"
-    DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_LINUX"] = True
     DEFINES["WEBRTC_POSIX"] = True
     DEFINES["_FILE_OFFSET_BITS"] = "64"
 
-if CONFIG["OS_TARGET"] == "NetBSD":
-
-    DEFINES["USE_X11"] = "1"
-    DEFINES["WEBRTC_BSD"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
-
-if CONFIG["OS_TARGET"] == "OpenBSD":
+if CONFIG["OS_TARGET"] == "DragonFly":
 
     DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_BSD"] = True
@@ -133,10 +87,50 @@ if CONFIG["OS_TARGET"] == "WINNT":
     DEFINES["_WINDOWS"] = True
     DEFINES["__STD_C"] = True
 
-if CONFIG["CPU_ARCH"] == "aarch64":
+if CONFIG["OS_TARGET"] == "Darwin":
 
-    DEFINES["WEBRTC_ARCH_ARM64"] = True
-    DEFINES["WEBRTC_HAS_NEON"] = True
+    DEFINES["CR_XCODE_VERSION"] = "0920"
+    DEFINES["NO_TCMALLOC"] = True
+    DEFINES["WEBRTC_MAC"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["__ASSERT_MACROS_DEFINE_VERSIONS_WITHOUT_UNDERSCORE"] = "0"
+
+    OS_LIBS += [
+        "-framework Foundation"
+    ]
+
+if CONFIG["OS_TARGET"] == "OpenBSD":
+
+    DEFINES["USE_X11"] = "1"
+    DEFINES["WEBRTC_BSD"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+
+if CONFIG["OS_TARGET"] == "FreeBSD":
+
+    DEFINES["USE_X11"] = "1"
+    DEFINES["WEBRTC_BSD"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+
+if CONFIG["OS_TARGET"] == "Android":
+
+    DEFINES["ANDROID"] = True
+    DEFINES["ANDROID_NDK_VERSION"] = "r12b"
+    DEFINES["DISABLE_NACL"] = True
+    DEFINES["HAVE_SYS_UIO_H"] = True
+    DEFINES["NO_TCMALLOC"] = True
+    DEFINES["USE_OPENSSL_CERTS"] = "1"
+    DEFINES["WEBRTC_ANDROID"] = True
+    DEFINES["WEBRTC_ANDROID_OPENSLES"] = True
+    DEFINES["WEBRTC_LINUX"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+    DEFINES["__GNU_SOURCE"] = "1"
+
+    OS_LIBS += [
+        "log"
+    ]
 
 if CONFIG["CPU_ARCH"] == "arm":
 
@@ -148,15 +142,24 @@ if CONFIG["CPU_ARCH"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Android":
+if CONFIG["CPU_ARCH"] == "ppc64":
 
-    DEFINES["_FORTIFY_SOURCE"] = "2"
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "mips64":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "aarch64":
+
+    DEFINES["WEBRTC_ARCH_ARM64"] = True
+    DEFINES["WEBRTC_HAS_NEON"] = True
 
 if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Darwin":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "DragonFly":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "OpenBSD":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
@@ -164,20 +167,28 @@ if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "FreeBSD":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "NetBSD":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Android":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "OpenBSD":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "DragonFly":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "Android":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "NetBSD":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "NetBSD":
 
     CXXFLAGS += [
         "-msse2"
     ]
 
+if CONFIG["CPU_ARCH"] == "x86_64" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
 if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "FreeBSD":
 
     CXXFLAGS += [
@@ -195,7 +206,7 @@ if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "Linux":
         "-msse2"
     ]
 
-if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "NetBSD":
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "Android":
 
     CXXFLAGS += [
         "-msse2"
@@ -207,4 +218,32 @@ if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "OpenBSD":
         "-msse2"
     ]
 
+if CONFIG["CPU_ARCH"] == "arm" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "aarch64" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "arm" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "aarch64" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["HOST_CPU_ARCH"] == "x86_64" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["HOST_CPU_ARCH"] == "x86" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
 Library("weak_ptr_gn")
diff --git a/media/webrtc/trunk/webrtc/system_wrappers/cpu_features_api_gn/moz.build b/media/webrtc/trunk/webrtc/system_wrappers/cpu_features_api_gn/moz.build
index f6ca5a436206..00e2374ddad7 100644
--- a/media/webrtc/trunk/webrtc/system_wrappers/cpu_features_api_gn/moz.build
+++ b/media/webrtc/trunk/webrtc/system_wrappers/cpu_features_api_gn/moz.build
@@ -26,48 +26,18 @@ LOCAL_INCLUDES += [
     "/media/webrtc/trunk/webrtc/"
 ]
 
-if not CONFIG["MOZ_DEBUG"]:
-
-    DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "0"
-    DEFINES["NDEBUG"] = True
-    DEFINES["NVALGRIND"] = True
-
 if CONFIG["MOZ_DEBUG"] == "1":
 
     DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "1"
     DEFINES["WTF_USE_DYNAMIC_ANNOTATIONS"] = "1"
 
-if CONFIG["OS_TARGET"] == "Android":
-
-    DEFINES["ANDROID"] = True
-    DEFINES["ANDROID_NDK_VERSION"] = "r12b"
-    DEFINES["DISABLE_NACL"] = True
-    DEFINES["HAVE_SYS_UIO_H"] = True
-    DEFINES["NO_TCMALLOC"] = True
-    DEFINES["USE_OPENSSL_CERTS"] = "1"
-    DEFINES["WEBRTC_ANDROID"] = True
-    DEFINES["WEBRTC_ANDROID_OPENSLES"] = True
-    DEFINES["WEBRTC_LINUX"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
-    DEFINES["__GNU_SOURCE"] = "1"
-
-if CONFIG["OS_TARGET"] == "Darwin":
-
-    DEFINES["CR_XCODE_VERSION"] = "0920"
-    DEFINES["NO_TCMALLOC"] = True
-    DEFINES["WEBRTC_MAC"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["__ASSERT_MACROS_DEFINE_VERSIONS_WITHOUT_UNDERSCORE"] = "0"
-
-if CONFIG["OS_TARGET"] == "DragonFly":
+if not CONFIG["MOZ_DEBUG"]:
 
-    DEFINES["USE_X11"] = "1"
-    DEFINES["WEBRTC_BSD"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
+    DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "0"
+    DEFINES["NDEBUG"] = True
+    DEFINES["NVALGRIND"] = True
 
-if CONFIG["OS_TARGET"] == "FreeBSD":
+if CONFIG["OS_TARGET"] == "NetBSD":
 
     DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_BSD"] = True
@@ -77,19 +47,11 @@ if CONFIG["OS_TARGET"] == "FreeBSD":
 if CONFIG["OS_TARGET"] == "Linux":
 
     DEFINES["USE_NSS_CERTS"] = "1"
-    DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_LINUX"] = True
     DEFINES["WEBRTC_POSIX"] = True
     DEFINES["_FILE_OFFSET_BITS"] = "64"
 
-if CONFIG["OS_TARGET"] == "NetBSD":
-
-    DEFINES["USE_X11"] = "1"
-    DEFINES["WEBRTC_BSD"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
-
-if CONFIG["OS_TARGET"] == "OpenBSD":
+if CONFIG["OS_TARGET"] == "DragonFly":
 
     DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_BSD"] = True
@@ -121,10 +83,42 @@ if CONFIG["OS_TARGET"] == "WINNT":
     DEFINES["_WINDOWS"] = True
     DEFINES["__STD_C"] = True
 
-if CONFIG["CPU_ARCH"] == "aarch64":
+if CONFIG["OS_TARGET"] == "Darwin":
 
-    DEFINES["WEBRTC_ARCH_ARM64"] = True
-    DEFINES["WEBRTC_HAS_NEON"] = True
+    DEFINES["CR_XCODE_VERSION"] = "0920"
+    DEFINES["NO_TCMALLOC"] = True
+    DEFINES["WEBRTC_MAC"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["__ASSERT_MACROS_DEFINE_VERSIONS_WITHOUT_UNDERSCORE"] = "0"
+
+if CONFIG["OS_TARGET"] == "OpenBSD":
+
+    DEFINES["USE_X11"] = "1"
+    DEFINES["WEBRTC_BSD"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+
+if CONFIG["OS_TARGET"] == "FreeBSD":
+
+    DEFINES["USE_X11"] = "1"
+    DEFINES["WEBRTC_BSD"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+
+if CONFIG["OS_TARGET"] == "Android":
+
+    DEFINES["ANDROID"] = True
+    DEFINES["ANDROID_NDK_VERSION"] = "r12b"
+    DEFINES["DISABLE_NACL"] = True
+    DEFINES["HAVE_SYS_UIO_H"] = True
+    DEFINES["NO_TCMALLOC"] = True
+    DEFINES["USE_OPENSSL_CERTS"] = "1"
+    DEFINES["WEBRTC_ANDROID"] = True
+    DEFINES["WEBRTC_ANDROID_OPENSLES"] = True
+    DEFINES["WEBRTC_LINUX"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+    DEFINES["__GNU_SOURCE"] = "1"
 
 if CONFIG["CPU_ARCH"] == "arm":
 
@@ -132,15 +126,24 @@ if CONFIG["CPU_ARCH"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Android":
+if CONFIG["CPU_ARCH"] == "ppc64":
 
-    DEFINES["_FORTIFY_SOURCE"] = "2"
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "mips64":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "aarch64":
+
+    DEFINES["WEBRTC_ARCH_ARM64"] = True
+    DEFINES["WEBRTC_HAS_NEON"] = True
 
 if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Darwin":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "DragonFly":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "OpenBSD":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
@@ -148,17 +151,53 @@ if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "FreeBSD":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "NetBSD":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Android":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "OpenBSD":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "DragonFly":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "NetBSD":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
+if CONFIG["CPU_ARCH"] == "x86_64" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
 if CONFIG["CPU_ARCH"] == "aarch64" and CONFIG["OS_TARGET"] == "Linux":
 
     DEFINES["DISABLE_NACL"] = True
     DEFINES["NO_TCMALLOC"] = True
 
+if CONFIG["CPU_ARCH"] == "arm" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "aarch64" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "arm" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "aarch64" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["HOST_CPU_ARCH"] == "x86_64" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["HOST_CPU_ARCH"] == "x86" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
 Library("cpu_features_api_gn")
diff --git a/media/webrtc/trunk/webrtc/system_wrappers/cpu_features_linux_gn/moz.build b/media/webrtc/trunk/webrtc/system_wrappers/cpu_features_linux_gn/moz.build
index 5444e131dee3..28603e7f7ab1 100644
--- a/media/webrtc/trunk/webrtc/system_wrappers/cpu_features_linux_gn/moz.build
+++ b/media/webrtc/trunk/webrtc/system_wrappers/cpu_features_linux_gn/moz.build
@@ -11,7 +11,6 @@ AllowCompilerWarnings()
 
 DEFINES["CHROMIUM_BUILD"] = True
 DEFINES["USE_NSS_CERTS"] = "1"
-DEFINES["USE_X11"] = "1"
 DEFINES["V8_DEPRECATION_WARNINGS"] = True
 DEFINES["WEBRTC_ENABLE_PROTOBUF"] = "0"
 DEFINES["WEBRTC_LINUX"] = True
@@ -35,23 +34,17 @@ UNIFIED_SOURCES += [
     "/media/webrtc/trunk/webrtc/system_wrappers/source/cpu_features_linux.c"
 ]
 
-if not CONFIG["MOZ_DEBUG"]:
-
-    DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "0"
-    DEFINES["NDEBUG"] = True
-    DEFINES["NVALGRIND"] = True
-
 if CONFIG["MOZ_DEBUG"] == "1":
 
     DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "1"
+    DEFINES["USE_X11"] = "1"
     DEFINES["WTF_USE_DYNAMIC_ANNOTATIONS"] = "1"
 
-if CONFIG["CPU_ARCH"] == "aarch64":
+if not CONFIG["MOZ_DEBUG"]:
 
-    DEFINES["DISABLE_NACL"] = True
-    DEFINES["NO_TCMALLOC"] = True
-    DEFINES["WEBRTC_ARCH_ARM64"] = True
-    DEFINES["WEBRTC_HAS_NEON"] = True
+    DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "0"
+    DEFINES["NDEBUG"] = True
+    DEFINES["NVALGRIND"] = True
 
 if CONFIG["CPU_ARCH"] == "arm":
 
@@ -69,4 +62,39 @@ if CONFIG["CPU_ARCH"] == "x86":
         "-msse2"
     ]
 
+if CONFIG["CPU_ARCH"] == "aarch64":
+
+    DEFINES["DISABLE_NACL"] = True
+    DEFINES["NO_TCMALLOC"] = True
+    DEFINES["WEBRTC_ARCH_ARM64"] = True
+    DEFINES["WEBRTC_HAS_NEON"] = True
+
+if CONFIG["CPU_ARCH"] == "ppc64" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "aarch64" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
+if CONFIG["CPU_ARCH"] == "arm" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
+if CONFIG["CPU_ARCH"] == "x86_64" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "mips64" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["HOST_CPU_ARCH"] == "x86_64" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["HOST_CPU_ARCH"] == "x86" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
 Library("cpu_features_linux_gn")
diff --git a/media/webrtc/trunk/webrtc/system_wrappers/field_trial_api_gn/moz.build b/media/webrtc/trunk/webrtc/system_wrappers/field_trial_api_gn/moz.build
index 80994c3322c5..45b4b361a0a1 100644
--- a/media/webrtc/trunk/webrtc/system_wrappers/field_trial_api_gn/moz.build
+++ b/media/webrtc/trunk/webrtc/system_wrappers/field_trial_api_gn/moz.build
@@ -26,48 +26,18 @@ LOCAL_INCLUDES += [
     "/media/webrtc/trunk/webrtc/"
 ]
 
-if not CONFIG["MOZ_DEBUG"]:
-
-    DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "0"
-    DEFINES["NDEBUG"] = True
-    DEFINES["NVALGRIND"] = True
-
 if CONFIG["MOZ_DEBUG"] == "1":
 
     DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "1"
     DEFINES["WTF_USE_DYNAMIC_ANNOTATIONS"] = "1"
 
-if CONFIG["OS_TARGET"] == "Android":
-
-    DEFINES["ANDROID"] = True
-    DEFINES["ANDROID_NDK_VERSION"] = "r12b"
-    DEFINES["DISABLE_NACL"] = True
-    DEFINES["HAVE_SYS_UIO_H"] = True
-    DEFINES["NO_TCMALLOC"] = True
-    DEFINES["USE_OPENSSL_CERTS"] = "1"
-    DEFINES["WEBRTC_ANDROID"] = True
-    DEFINES["WEBRTC_ANDROID_OPENSLES"] = True
-    DEFINES["WEBRTC_LINUX"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
-    DEFINES["__GNU_SOURCE"] = "1"
-
-if CONFIG["OS_TARGET"] == "Darwin":
-
-    DEFINES["CR_XCODE_VERSION"] = "0920"
-    DEFINES["NO_TCMALLOC"] = True
-    DEFINES["WEBRTC_MAC"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["__ASSERT_MACROS_DEFINE_VERSIONS_WITHOUT_UNDERSCORE"] = "0"
-
-if CONFIG["OS_TARGET"] == "DragonFly":
+if not CONFIG["MOZ_DEBUG"]:
 
-    DEFINES["USE_X11"] = "1"
-    DEFINES["WEBRTC_BSD"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
+    DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "0"
+    DEFINES["NDEBUG"] = True
+    DEFINES["NVALGRIND"] = True
 
-if CONFIG["OS_TARGET"] == "FreeBSD":
+if CONFIG["OS_TARGET"] == "NetBSD":
 
     DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_BSD"] = True
@@ -77,19 +47,11 @@ if CONFIG["OS_TARGET"] == "FreeBSD":
 if CONFIG["OS_TARGET"] == "Linux":
 
     DEFINES["USE_NSS_CERTS"] = "1"
-    DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_LINUX"] = True
     DEFINES["WEBRTC_POSIX"] = True
     DEFINES["_FILE_OFFSET_BITS"] = "64"
 
-if CONFIG["OS_TARGET"] == "NetBSD":
-
-    DEFINES["USE_X11"] = "1"
-    DEFINES["WEBRTC_BSD"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
-
-if CONFIG["OS_TARGET"] == "OpenBSD":
+if CONFIG["OS_TARGET"] == "DragonFly":
 
     DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_BSD"] = True
@@ -121,10 +83,42 @@ if CONFIG["OS_TARGET"] == "WINNT":
     DEFINES["_WINDOWS"] = True
     DEFINES["__STD_C"] = True
 
-if CONFIG["CPU_ARCH"] == "aarch64":
+if CONFIG["OS_TARGET"] == "Darwin":
 
-    DEFINES["WEBRTC_ARCH_ARM64"] = True
-    DEFINES["WEBRTC_HAS_NEON"] = True
+    DEFINES["CR_XCODE_VERSION"] = "0920"
+    DEFINES["NO_TCMALLOC"] = True
+    DEFINES["WEBRTC_MAC"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["__ASSERT_MACROS_DEFINE_VERSIONS_WITHOUT_UNDERSCORE"] = "0"
+
+if CONFIG["OS_TARGET"] == "OpenBSD":
+
+    DEFINES["USE_X11"] = "1"
+    DEFINES["WEBRTC_BSD"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+
+if CONFIG["OS_TARGET"] == "FreeBSD":
+
+    DEFINES["USE_X11"] = "1"
+    DEFINES["WEBRTC_BSD"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+
+if CONFIG["OS_TARGET"] == "Android":
+
+    DEFINES["ANDROID"] = True
+    DEFINES["ANDROID_NDK_VERSION"] = "r12b"
+    DEFINES["DISABLE_NACL"] = True
+    DEFINES["HAVE_SYS_UIO_H"] = True
+    DEFINES["NO_TCMALLOC"] = True
+    DEFINES["USE_OPENSSL_CERTS"] = "1"
+    DEFINES["WEBRTC_ANDROID"] = True
+    DEFINES["WEBRTC_ANDROID_OPENSLES"] = True
+    DEFINES["WEBRTC_LINUX"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+    DEFINES["__GNU_SOURCE"] = "1"
 
 if CONFIG["CPU_ARCH"] == "arm":
 
@@ -132,15 +126,24 @@ if CONFIG["CPU_ARCH"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Android":
+if CONFIG["CPU_ARCH"] == "ppc64":
 
-    DEFINES["_FORTIFY_SOURCE"] = "2"
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "mips64":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "aarch64":
+
+    DEFINES["WEBRTC_ARCH_ARM64"] = True
+    DEFINES["WEBRTC_HAS_NEON"] = True
 
 if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Darwin":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "DragonFly":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "OpenBSD":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
@@ -148,17 +151,53 @@ if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "FreeBSD":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "NetBSD":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Android":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "OpenBSD":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "DragonFly":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "NetBSD":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
+if CONFIG["CPU_ARCH"] == "x86_64" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
 if CONFIG["CPU_ARCH"] == "aarch64" and CONFIG["OS_TARGET"] == "Linux":
 
     DEFINES["DISABLE_NACL"] = True
     DEFINES["NO_TCMALLOC"] = True
 
+if CONFIG["CPU_ARCH"] == "arm" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "aarch64" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "arm" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "aarch64" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["HOST_CPU_ARCH"] == "x86_64" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["HOST_CPU_ARCH"] == "x86" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
 Library("field_trial_api_gn")
diff --git a/media/webrtc/trunk/webrtc/system_wrappers/field_trial_default_gn/moz.build b/media/webrtc/trunk/webrtc/system_wrappers/field_trial_default_gn/moz.build
index 23d1af6c639a..10099d485145 100644
--- a/media/webrtc/trunk/webrtc/system_wrappers/field_trial_default_gn/moz.build
+++ b/media/webrtc/trunk/webrtc/system_wrappers/field_trial_default_gn/moz.build
@@ -30,48 +30,18 @@ UNIFIED_SOURCES += [
     "/media/webrtc/trunk/webrtc/system_wrappers/source/field_trial_default.cc"
 ]
 
-if not CONFIG["MOZ_DEBUG"]:
-
-    DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "0"
-    DEFINES["NDEBUG"] = True
-    DEFINES["NVALGRIND"] = True
-
 if CONFIG["MOZ_DEBUG"] == "1":
 
     DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "1"
     DEFINES["WTF_USE_DYNAMIC_ANNOTATIONS"] = "1"
 
-if CONFIG["OS_TARGET"] == "Android":
-
-    DEFINES["ANDROID"] = True
-    DEFINES["ANDROID_NDK_VERSION"] = "r12b"
-    DEFINES["DISABLE_NACL"] = True
-    DEFINES["HAVE_SYS_UIO_H"] = True
-    DEFINES["NO_TCMALLOC"] = True
-    DEFINES["USE_OPENSSL_CERTS"] = "1"
-    DEFINES["WEBRTC_ANDROID"] = True
-    DEFINES["WEBRTC_ANDROID_OPENSLES"] = True
-    DEFINES["WEBRTC_LINUX"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
-    DEFINES["__GNU_SOURCE"] = "1"
-
-if CONFIG["OS_TARGET"] == "Darwin":
-
-    DEFINES["CR_XCODE_VERSION"] = "0920"
-    DEFINES["NO_TCMALLOC"] = True
-    DEFINES["WEBRTC_MAC"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["__ASSERT_MACROS_DEFINE_VERSIONS_WITHOUT_UNDERSCORE"] = "0"
-
-if CONFIG["OS_TARGET"] == "DragonFly":
+if not CONFIG["MOZ_DEBUG"]:
 
-    DEFINES["USE_X11"] = "1"
-    DEFINES["WEBRTC_BSD"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
+    DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "0"
+    DEFINES["NDEBUG"] = True
+    DEFINES["NVALGRIND"] = True
 
-if CONFIG["OS_TARGET"] == "FreeBSD":
+if CONFIG["OS_TARGET"] == "NetBSD":
 
     DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_BSD"] = True
@@ -81,19 +51,11 @@ if CONFIG["OS_TARGET"] == "FreeBSD":
 if CONFIG["OS_TARGET"] == "Linux":
 
     DEFINES["USE_NSS_CERTS"] = "1"
-    DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_LINUX"] = True
     DEFINES["WEBRTC_POSIX"] = True
     DEFINES["_FILE_OFFSET_BITS"] = "64"
 
-if CONFIG["OS_TARGET"] == "NetBSD":
-
-    DEFINES["USE_X11"] = "1"
-    DEFINES["WEBRTC_BSD"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
-
-if CONFIG["OS_TARGET"] == "OpenBSD":
+if CONFIG["OS_TARGET"] == "DragonFly":
 
     DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_BSD"] = True
@@ -125,10 +87,42 @@ if CONFIG["OS_TARGET"] == "WINNT":
     DEFINES["_WINDOWS"] = True
     DEFINES["__STD_C"] = True
 
-if CONFIG["CPU_ARCH"] == "aarch64":
+if CONFIG["OS_TARGET"] == "Darwin":
 
-    DEFINES["WEBRTC_ARCH_ARM64"] = True
-    DEFINES["WEBRTC_HAS_NEON"] = True
+    DEFINES["CR_XCODE_VERSION"] = "0920"
+    DEFINES["NO_TCMALLOC"] = True
+    DEFINES["WEBRTC_MAC"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["__ASSERT_MACROS_DEFINE_VERSIONS_WITHOUT_UNDERSCORE"] = "0"
+
+if CONFIG["OS_TARGET"] == "OpenBSD":
+
+    DEFINES["USE_X11"] = "1"
+    DEFINES["WEBRTC_BSD"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+
+if CONFIG["OS_TARGET"] == "FreeBSD":
+
+    DEFINES["USE_X11"] = "1"
+    DEFINES["WEBRTC_BSD"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+
+if CONFIG["OS_TARGET"] == "Android":
+
+    DEFINES["ANDROID"] = True
+    DEFINES["ANDROID_NDK_VERSION"] = "r12b"
+    DEFINES["DISABLE_NACL"] = True
+    DEFINES["HAVE_SYS_UIO_H"] = True
+    DEFINES["NO_TCMALLOC"] = True
+    DEFINES["USE_OPENSSL_CERTS"] = "1"
+    DEFINES["WEBRTC_ANDROID"] = True
+    DEFINES["WEBRTC_ANDROID_OPENSLES"] = True
+    DEFINES["WEBRTC_LINUX"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+    DEFINES["__GNU_SOURCE"] = "1"
 
 if CONFIG["CPU_ARCH"] == "arm":
 
@@ -140,15 +134,24 @@ if CONFIG["CPU_ARCH"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Android":
+if CONFIG["CPU_ARCH"] == "ppc64":
 
-    DEFINES["_FORTIFY_SOURCE"] = "2"
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "mips64":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "aarch64":
+
+    DEFINES["WEBRTC_ARCH_ARM64"] = True
+    DEFINES["WEBRTC_HAS_NEON"] = True
 
 if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Darwin":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "DragonFly":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "OpenBSD":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
@@ -156,20 +159,28 @@ if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "FreeBSD":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "NetBSD":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Android":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "OpenBSD":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "DragonFly":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "Android":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "NetBSD":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "NetBSD":
 
     CXXFLAGS += [
         "-msse2"
     ]
 
+if CONFIG["CPU_ARCH"] == "x86_64" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
 if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "FreeBSD":
 
     CXXFLAGS += [
@@ -187,7 +198,7 @@ if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "Linux":
         "-msse2"
     ]
 
-if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "NetBSD":
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "Android":
 
     CXXFLAGS += [
         "-msse2"
@@ -199,4 +210,32 @@ if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "OpenBSD":
         "-msse2"
     ]
 
+if CONFIG["CPU_ARCH"] == "arm" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "aarch64" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "arm" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "aarch64" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["HOST_CPU_ARCH"] == "x86_64" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["HOST_CPU_ARCH"] == "x86" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
 Library("field_trial_default_gn")
diff --git a/media/webrtc/trunk/webrtc/system_wrappers/metrics_api_gn/moz.build b/media/webrtc/trunk/webrtc/system_wrappers/metrics_api_gn/moz.build
index 9e93944b895a..ff733673f5c9 100644
--- a/media/webrtc/trunk/webrtc/system_wrappers/metrics_api_gn/moz.build
+++ b/media/webrtc/trunk/webrtc/system_wrappers/metrics_api_gn/moz.build
@@ -26,56 +26,18 @@ LOCAL_INCLUDES += [
     "/media/webrtc/trunk/webrtc/"
 ]
 
-if not CONFIG["MOZ_DEBUG"]:
-
-    DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "0"
-    DEFINES["NDEBUG"] = True
-    DEFINES["NVALGRIND"] = True
-
 if CONFIG["MOZ_DEBUG"] == "1":
 
     DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "1"
     DEFINES["WTF_USE_DYNAMIC_ANNOTATIONS"] = "1"
 
-if CONFIG["OS_TARGET"] == "Android":
-
-    DEFINES["ANDROID"] = True
-    DEFINES["ANDROID_NDK_VERSION"] = "r12b"
-    DEFINES["DISABLE_NACL"] = True
-    DEFINES["HAVE_SYS_UIO_H"] = True
-    DEFINES["NO_TCMALLOC"] = True
-    DEFINES["USE_OPENSSL_CERTS"] = "1"
-    DEFINES["WEBRTC_ANDROID"] = True
-    DEFINES["WEBRTC_ANDROID_OPENSLES"] = True
-    DEFINES["WEBRTC_LINUX"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
-    DEFINES["__GNU_SOURCE"] = "1"
-
-    OS_LIBS += [
-        "log"
-    ]
-
-if CONFIG["OS_TARGET"] == "Darwin":
-
-    DEFINES["CR_XCODE_VERSION"] = "0920"
-    DEFINES["NO_TCMALLOC"] = True
-    DEFINES["WEBRTC_MAC"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["__ASSERT_MACROS_DEFINE_VERSIONS_WITHOUT_UNDERSCORE"] = "0"
-
-    OS_LIBS += [
-        "-framework Foundation"
-    ]
-
-if CONFIG["OS_TARGET"] == "DragonFly":
+if not CONFIG["MOZ_DEBUG"]:
 
-    DEFINES["USE_X11"] = "1"
-    DEFINES["WEBRTC_BSD"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
+    DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "0"
+    DEFINES["NDEBUG"] = True
+    DEFINES["NVALGRIND"] = True
 
-if CONFIG["OS_TARGET"] == "FreeBSD":
+if CONFIG["OS_TARGET"] == "NetBSD":
 
     DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_BSD"] = True
@@ -85,19 +47,11 @@ if CONFIG["OS_TARGET"] == "FreeBSD":
 if CONFIG["OS_TARGET"] == "Linux":
 
     DEFINES["USE_NSS_CERTS"] = "1"
-    DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_LINUX"] = True
     DEFINES["WEBRTC_POSIX"] = True
     DEFINES["_FILE_OFFSET_BITS"] = "64"
 
-if CONFIG["OS_TARGET"] == "NetBSD":
-
-    DEFINES["USE_X11"] = "1"
-    DEFINES["WEBRTC_BSD"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
-
-if CONFIG["OS_TARGET"] == "OpenBSD":
+if CONFIG["OS_TARGET"] == "DragonFly":
 
     DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_BSD"] = True
@@ -129,10 +83,50 @@ if CONFIG["OS_TARGET"] == "WINNT":
     DEFINES["_WINDOWS"] = True
     DEFINES["__STD_C"] = True
 
-if CONFIG["CPU_ARCH"] == "aarch64":
+if CONFIG["OS_TARGET"] == "Darwin":
 
-    DEFINES["WEBRTC_ARCH_ARM64"] = True
-    DEFINES["WEBRTC_HAS_NEON"] = True
+    DEFINES["CR_XCODE_VERSION"] = "0920"
+    DEFINES["NO_TCMALLOC"] = True
+    DEFINES["WEBRTC_MAC"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["__ASSERT_MACROS_DEFINE_VERSIONS_WITHOUT_UNDERSCORE"] = "0"
+
+    OS_LIBS += [
+        "-framework Foundation"
+    ]
+
+if CONFIG["OS_TARGET"] == "OpenBSD":
+
+    DEFINES["USE_X11"] = "1"
+    DEFINES["WEBRTC_BSD"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+
+if CONFIG["OS_TARGET"] == "FreeBSD":
+
+    DEFINES["USE_X11"] = "1"
+    DEFINES["WEBRTC_BSD"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+
+if CONFIG["OS_TARGET"] == "Android":
+
+    DEFINES["ANDROID"] = True
+    DEFINES["ANDROID_NDK_VERSION"] = "r12b"
+    DEFINES["DISABLE_NACL"] = True
+    DEFINES["HAVE_SYS_UIO_H"] = True
+    DEFINES["NO_TCMALLOC"] = True
+    DEFINES["USE_OPENSSL_CERTS"] = "1"
+    DEFINES["WEBRTC_ANDROID"] = True
+    DEFINES["WEBRTC_ANDROID_OPENSLES"] = True
+    DEFINES["WEBRTC_LINUX"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+    DEFINES["__GNU_SOURCE"] = "1"
+
+    OS_LIBS += [
+        "log"
+    ]
 
 if CONFIG["CPU_ARCH"] == "arm":
 
@@ -140,15 +134,24 @@ if CONFIG["CPU_ARCH"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Android":
+if CONFIG["CPU_ARCH"] == "ppc64":
 
-    DEFINES["_FORTIFY_SOURCE"] = "2"
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "mips64":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "aarch64":
+
+    DEFINES["WEBRTC_ARCH_ARM64"] = True
+    DEFINES["WEBRTC_HAS_NEON"] = True
 
 if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Darwin":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "DragonFly":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "OpenBSD":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
@@ -156,17 +159,53 @@ if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "FreeBSD":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "NetBSD":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Android":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "OpenBSD":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "DragonFly":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "NetBSD":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
+if CONFIG["CPU_ARCH"] == "x86_64" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
 if CONFIG["CPU_ARCH"] == "aarch64" and CONFIG["OS_TARGET"] == "Linux":
 
     DEFINES["DISABLE_NACL"] = True
     DEFINES["NO_TCMALLOC"] = True
 
+if CONFIG["CPU_ARCH"] == "arm" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "aarch64" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "arm" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "aarch64" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["HOST_CPU_ARCH"] == "x86_64" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["HOST_CPU_ARCH"] == "x86" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
 Library("metrics_api_gn")
diff --git a/media/webrtc/trunk/webrtc/system_wrappers/metrics_default_gn/moz.build b/media/webrtc/trunk/webrtc/system_wrappers/metrics_default_gn/moz.build
index 73e5f58d6a42..4aa6c21ef3cb 100644
--- a/media/webrtc/trunk/webrtc/system_wrappers/metrics_default_gn/moz.build
+++ b/media/webrtc/trunk/webrtc/system_wrappers/metrics_default_gn/moz.build
@@ -30,56 +30,18 @@ UNIFIED_SOURCES += [
     "/media/webrtc/trunk/webrtc/system_wrappers/source/metrics_default.cc"
 ]
 
-if not CONFIG["MOZ_DEBUG"]:
-
-    DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "0"
-    DEFINES["NDEBUG"] = True
-    DEFINES["NVALGRIND"] = True
-
 if CONFIG["MOZ_DEBUG"] == "1":
 
     DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "1"
     DEFINES["WTF_USE_DYNAMIC_ANNOTATIONS"] = "1"
 
-if CONFIG["OS_TARGET"] == "Android":
-
-    DEFINES["ANDROID"] = True
-    DEFINES["ANDROID_NDK_VERSION"] = "r12b"
-    DEFINES["DISABLE_NACL"] = True
-    DEFINES["HAVE_SYS_UIO_H"] = True
-    DEFINES["NO_TCMALLOC"] = True
-    DEFINES["USE_OPENSSL_CERTS"] = "1"
-    DEFINES["WEBRTC_ANDROID"] = True
-    DEFINES["WEBRTC_ANDROID_OPENSLES"] = True
-    DEFINES["WEBRTC_LINUX"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
-    DEFINES["__GNU_SOURCE"] = "1"
-
-    OS_LIBS += [
-        "log"
-    ]
-
-if CONFIG["OS_TARGET"] == "Darwin":
-
-    DEFINES["CR_XCODE_VERSION"] = "0920"
-    DEFINES["NO_TCMALLOC"] = True
-    DEFINES["WEBRTC_MAC"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["__ASSERT_MACROS_DEFINE_VERSIONS_WITHOUT_UNDERSCORE"] = "0"
-
-    OS_LIBS += [
-        "-framework Foundation"
-    ]
-
-if CONFIG["OS_TARGET"] == "DragonFly":
+if not CONFIG["MOZ_DEBUG"]:
 
-    DEFINES["USE_X11"] = "1"
-    DEFINES["WEBRTC_BSD"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
+    DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "0"
+    DEFINES["NDEBUG"] = True
+    DEFINES["NVALGRIND"] = True
 
-if CONFIG["OS_TARGET"] == "FreeBSD":
+if CONFIG["OS_TARGET"] == "NetBSD":
 
     DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_BSD"] = True
@@ -89,19 +51,11 @@ if CONFIG["OS_TARGET"] == "FreeBSD":
 if CONFIG["OS_TARGET"] == "Linux":
 
     DEFINES["USE_NSS_CERTS"] = "1"
-    DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_LINUX"] = True
     DEFINES["WEBRTC_POSIX"] = True
     DEFINES["_FILE_OFFSET_BITS"] = "64"
 
-if CONFIG["OS_TARGET"] == "NetBSD":
-
-    DEFINES["USE_X11"] = "1"
-    DEFINES["WEBRTC_BSD"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
-
-if CONFIG["OS_TARGET"] == "OpenBSD":
+if CONFIG["OS_TARGET"] == "DragonFly":
 
     DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_BSD"] = True
@@ -133,10 +87,50 @@ if CONFIG["OS_TARGET"] == "WINNT":
     DEFINES["_WINDOWS"] = True
     DEFINES["__STD_C"] = True
 
-if CONFIG["CPU_ARCH"] == "aarch64":
+if CONFIG["OS_TARGET"] == "Darwin":
 
-    DEFINES["WEBRTC_ARCH_ARM64"] = True
-    DEFINES["WEBRTC_HAS_NEON"] = True
+    DEFINES["CR_XCODE_VERSION"] = "0920"
+    DEFINES["NO_TCMALLOC"] = True
+    DEFINES["WEBRTC_MAC"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["__ASSERT_MACROS_DEFINE_VERSIONS_WITHOUT_UNDERSCORE"] = "0"
+
+    OS_LIBS += [
+        "-framework Foundation"
+    ]
+
+if CONFIG["OS_TARGET"] == "OpenBSD":
+
+    DEFINES["USE_X11"] = "1"
+    DEFINES["WEBRTC_BSD"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+
+if CONFIG["OS_TARGET"] == "FreeBSD":
+
+    DEFINES["USE_X11"] = "1"
+    DEFINES["WEBRTC_BSD"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+
+if CONFIG["OS_TARGET"] == "Android":
+
+    DEFINES["ANDROID"] = True
+    DEFINES["ANDROID_NDK_VERSION"] = "r12b"
+    DEFINES["DISABLE_NACL"] = True
+    DEFINES["HAVE_SYS_UIO_H"] = True
+    DEFINES["NO_TCMALLOC"] = True
+    DEFINES["USE_OPENSSL_CERTS"] = "1"
+    DEFINES["WEBRTC_ANDROID"] = True
+    DEFINES["WEBRTC_ANDROID_OPENSLES"] = True
+    DEFINES["WEBRTC_LINUX"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+    DEFINES["__GNU_SOURCE"] = "1"
+
+    OS_LIBS += [
+        "log"
+    ]
 
 if CONFIG["CPU_ARCH"] == "arm":
 
@@ -148,15 +142,24 @@ if CONFIG["CPU_ARCH"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Android":
+if CONFIG["CPU_ARCH"] == "ppc64":
 
-    DEFINES["_FORTIFY_SOURCE"] = "2"
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "mips64":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "aarch64":
+
+    DEFINES["WEBRTC_ARCH_ARM64"] = True
+    DEFINES["WEBRTC_HAS_NEON"] = True
 
 if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Darwin":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "DragonFly":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "OpenBSD":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
@@ -164,20 +167,28 @@ if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "FreeBSD":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "NetBSD":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Android":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "OpenBSD":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "DragonFly":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "Android":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "NetBSD":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "NetBSD":
 
     CXXFLAGS += [
         "-msse2"
     ]
 
+if CONFIG["CPU_ARCH"] == "x86_64" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
 if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "FreeBSD":
 
     CXXFLAGS += [
@@ -195,7 +206,7 @@ if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "Linux":
         "-msse2"
     ]
 
-if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "NetBSD":
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "Android":
 
     CXXFLAGS += [
         "-msse2"
@@ -207,4 +218,32 @@ if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "OpenBSD":
         "-msse2"
     ]
 
+if CONFIG["CPU_ARCH"] == "arm" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "aarch64" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "arm" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "aarch64" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["HOST_CPU_ARCH"] == "x86_64" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["HOST_CPU_ARCH"] == "x86" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
 Library("metrics_default_gn")
diff --git a/media/webrtc/trunk/webrtc/system_wrappers/system_wrappers_gn/moz.build b/media/webrtc/trunk/webrtc/system_wrappers/system_wrappers_gn/moz.build
index 7fb46690f12d..ca0fe65b2a82 100644
--- a/media/webrtc/trunk/webrtc/system_wrappers/system_wrappers_gn/moz.build
+++ b/media/webrtc/trunk/webrtc/system_wrappers/system_wrappers_gn/moz.build
@@ -40,59 +40,40 @@ UNIFIED_SOURCES += [
     "/media/webrtc/trunk/webrtc/system_wrappers/source/timestamp_extrapolator.cc"
 ]
 
+if CONFIG["MOZ_DEBUG"] == "1":
+
+    DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "1"
+    DEFINES["WTF_USE_DYNAMIC_ANNOTATIONS"] = "1"
+
 if not CONFIG["MOZ_DEBUG"]:
 
     DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "0"
     DEFINES["NDEBUG"] = True
     DEFINES["NVALGRIND"] = True
 
-if CONFIG["MOZ_DEBUG"] == "1":
-
-    DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "1"
-    DEFINES["WTF_USE_DYNAMIC_ANNOTATIONS"] = "1"
-
-if CONFIG["OS_TARGET"] == "Android":
+if CONFIG["OS_TARGET"] == "NetBSD":
 
-    DEFINES["ANDROID"] = True
-    DEFINES["ANDROID_NDK_VERSION"] = "r12b"
-    DEFINES["DISABLE_NACL"] = True
-    DEFINES["HAVE_SYS_UIO_H"] = True
-    DEFINES["NO_TCMALLOC"] = True
-    DEFINES["USE_OPENSSL_CERTS"] = "1"
-    DEFINES["WEBRTC_ANDROID"] = True
-    DEFINES["WEBRTC_ANDROID_OPENSLES"] = True
-    DEFINES["WEBRTC_LINUX"] = True
+    DEFINES["USE_X11"] = "1"
+    DEFINES["WEBRTC_BSD"] = True
     DEFINES["WEBRTC_POSIX"] = True
     DEFINES["WEBRTC_THREAD_RR"] = True
     DEFINES["_FILE_OFFSET_BITS"] = "64"
-    DEFINES["__GNU_SOURCE"] = "1"
-
-    LOCAL_INCLUDES += [
-        "/config/external/nspr/",
-        "/nsprpub/lib/ds/",
-        "/nsprpub/pr/include/"
-    ]
-
-    OS_LIBS += [
-        "log"
-    ]
 
     UNIFIED_SOURCES += [
         "/media/webrtc/trunk/webrtc/system_wrappers/source/event_timer_posix.cc",
         "/media/webrtc/trunk/webrtc/system_wrappers/source/rw_lock_posix.cc"
     ]
 
-if CONFIG["OS_TARGET"] == "Darwin":
+if CONFIG["OS_TARGET"] == "Linux":
 
-    DEFINES["CR_XCODE_VERSION"] = "0920"
-    DEFINES["NO_TCMALLOC"] = True
-    DEFINES["WEBRTC_MAC"] = True
+    DEFINES["USE_NSS_CERTS"] = "1"
+    DEFINES["WEBRTC_LINUX"] = True
     DEFINES["WEBRTC_POSIX"] = True
     DEFINES["WEBRTC_THREAD_RR"] = True
-    DEFINES["__ASSERT_MACROS_DEFINE_VERSIONS_WITHOUT_UNDERSCORE"] = "0"
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
 
     OS_LIBS += [
-        "-framework Foundation"
+        "rt"
     ]
 
     UNIFIED_SOURCES += [
@@ -113,30 +94,51 @@ if CONFIG["OS_TARGET"] == "DragonFly":
         "/media/webrtc/trunk/webrtc/system_wrappers/source/rw_lock_posix.cc"
     ]
 
-if CONFIG["OS_TARGET"] == "FreeBSD":
+if CONFIG["OS_TARGET"] == "WINNT":
 
-    DEFINES["USE_X11"] = "1"
-    DEFINES["WEBRTC_BSD"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["WEBRTC_THREAD_RR"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
+    DEFINES["CERT_CHAIN_PARA_HAS_EXTRA_FIELDS"] = True
+    DEFINES["NOMINMAX"] = True
+    DEFINES["NO_TCMALLOC"] = True
+    DEFINES["NTDDI_VERSION"] = "0x0A000000"
+    DEFINES["PSAPI_VERSION"] = "1"
+    DEFINES["UNICODE"] = True
+    DEFINES["WEBRTC_WIN"] = True
+    DEFINES["WIN32"] = True
+    DEFINES["WIN32_LEAN_AND_MEAN"] = True
+    DEFINES["WINVER"] = "0x0A00"
+    DEFINES["_ATL_NO_OPENGL"] = True
+    DEFINES["_CRT_RAND_S"] = True
+    DEFINES["_CRT_SECURE_NO_DEPRECATE"] = True
+    DEFINES["_CRT_SECURE_NO_WARNINGS"] = True
+    DEFINES["_HAS_EXCEPTIONS"] = "0"
+    DEFINES["_SCL_SECURE_NO_DEPRECATE"] = True
+    DEFINES["_SECURE_ATL"] = True
+    DEFINES["_UNICODE"] = True
+    DEFINES["_USING_V110_SDK71_"] = True
+    DEFINES["_WIN32_WINNT"] = "0x0A00"
+    DEFINES["_WINDOWS"] = True
+    DEFINES["__STD_C"] = True
+
+    OS_LIBS += [
+        "winmm"
+    ]
 
     UNIFIED_SOURCES += [
-        "/media/webrtc/trunk/webrtc/system_wrappers/source/event_timer_posix.cc",
-        "/media/webrtc/trunk/webrtc/system_wrappers/source/rw_lock_posix.cc"
+        "/media/webrtc/trunk/webrtc/system_wrappers/source/event_timer_win.cc",
+        "/media/webrtc/trunk/webrtc/system_wrappers/source/rw_lock_win.cc"
     ]
 
-if CONFIG["OS_TARGET"] == "Linux":
+if CONFIG["OS_TARGET"] == "Darwin":
 
-    DEFINES["USE_NSS_CERTS"] = "1"
-    DEFINES["USE_X11"] = "1"
-    DEFINES["WEBRTC_LINUX"] = True
+    DEFINES["CR_XCODE_VERSION"] = "0920"
+    DEFINES["NO_TCMALLOC"] = True
+    DEFINES["WEBRTC_MAC"] = True
     DEFINES["WEBRTC_POSIX"] = True
     DEFINES["WEBRTC_THREAD_RR"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
+    DEFINES["__ASSERT_MACROS_DEFINE_VERSIONS_WITHOUT_UNDERSCORE"] = "0"
 
     OS_LIBS += [
-        "rt"
+        "-framework Foundation"
     ]
 
     UNIFIED_SOURCES += [
@@ -144,7 +146,7 @@ if CONFIG["OS_TARGET"] == "Linux":
         "/media/webrtc/trunk/webrtc/system_wrappers/source/rw_lock_posix.cc"
     ]
 
-if CONFIG["OS_TARGET"] == "NetBSD":
+if CONFIG["OS_TARGET"] == "OpenBSD":
 
     DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_BSD"] = True
@@ -157,7 +159,7 @@ if CONFIG["OS_TARGET"] == "NetBSD":
         "/media/webrtc/trunk/webrtc/system_wrappers/source/rw_lock_posix.cc"
     ]
 
-if CONFIG["OS_TARGET"] == "OpenBSD":
+if CONFIG["OS_TARGET"] == "FreeBSD":
 
     DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_BSD"] = True
@@ -170,45 +172,37 @@ if CONFIG["OS_TARGET"] == "OpenBSD":
         "/media/webrtc/trunk/webrtc/system_wrappers/source/rw_lock_posix.cc"
     ]
 
-if CONFIG["OS_TARGET"] == "WINNT":
+if CONFIG["OS_TARGET"] == "Android":
 
-    DEFINES["CERT_CHAIN_PARA_HAS_EXTRA_FIELDS"] = True
-    DEFINES["NOMINMAX"] = True
+    DEFINES["ANDROID"] = True
+    DEFINES["ANDROID_NDK_VERSION"] = "r12b"
+    DEFINES["DISABLE_NACL"] = True
+    DEFINES["HAVE_SYS_UIO_H"] = True
     DEFINES["NO_TCMALLOC"] = True
-    DEFINES["NTDDI_VERSION"] = "0x0A000000"
-    DEFINES["PSAPI_VERSION"] = "1"
-    DEFINES["UNICODE"] = True
-    DEFINES["WEBRTC_WIN"] = True
-    DEFINES["WIN32"] = True
-    DEFINES["WIN32_LEAN_AND_MEAN"] = True
-    DEFINES["WINVER"] = "0x0A00"
-    DEFINES["_ATL_NO_OPENGL"] = True
-    DEFINES["_CRT_RAND_S"] = True
-    DEFINES["_CRT_SECURE_NO_DEPRECATE"] = True
-    DEFINES["_CRT_SECURE_NO_WARNINGS"] = True
-    DEFINES["_HAS_EXCEPTIONS"] = "0"
-    DEFINES["_SCL_SECURE_NO_DEPRECATE"] = True
-    DEFINES["_SECURE_ATL"] = True
-    DEFINES["_UNICODE"] = True
-    DEFINES["_USING_V110_SDK71_"] = True
-    DEFINES["_WIN32_WINNT"] = "0x0A00"
-    DEFINES["_WINDOWS"] = True
-    DEFINES["__STD_C"] = True
+    DEFINES["USE_OPENSSL_CERTS"] = "1"
+    DEFINES["WEBRTC_ANDROID"] = True
+    DEFINES["WEBRTC_ANDROID_OPENSLES"] = True
+    DEFINES["WEBRTC_LINUX"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["WEBRTC_THREAD_RR"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+    DEFINES["__GNU_SOURCE"] = "1"
+
+    LOCAL_INCLUDES += [
+        "/config/external/nspr/",
+        "/nsprpub/lib/ds/",
+        "/nsprpub/pr/include/"
+    ]
 
     OS_LIBS += [
-        "winmm"
+        "log"
     ]
 
     UNIFIED_SOURCES += [
-        "/media/webrtc/trunk/webrtc/system_wrappers/source/event_timer_win.cc",
-        "/media/webrtc/trunk/webrtc/system_wrappers/source/rw_lock_win.cc"
+        "/media/webrtc/trunk/webrtc/system_wrappers/source/event_timer_posix.cc",
+        "/media/webrtc/trunk/webrtc/system_wrappers/source/rw_lock_posix.cc"
     ]
 
-if CONFIG["CPU_ARCH"] == "aarch64":
-
-    DEFINES["WEBRTC_ARCH_ARM64"] = True
-    DEFINES["WEBRTC_HAS_NEON"] = True
-
 if CONFIG["CPU_ARCH"] == "arm":
 
     CXXFLAGS += [
@@ -219,15 +213,24 @@ if CONFIG["CPU_ARCH"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Android":
+if CONFIG["CPU_ARCH"] == "ppc64":
 
-    DEFINES["_FORTIFY_SOURCE"] = "2"
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "mips64":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "aarch64":
+
+    DEFINES["WEBRTC_ARCH_ARM64"] = True
+    DEFINES["WEBRTC_HAS_NEON"] = True
 
 if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Darwin":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "DragonFly":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "OpenBSD":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
@@ -235,20 +238,28 @@ if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "FreeBSD":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "NetBSD":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Android":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "OpenBSD":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "DragonFly":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "Android":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "NetBSD":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "NetBSD":
 
     CXXFLAGS += [
         "-msse2"
     ]
 
+if CONFIG["CPU_ARCH"] == "x86_64" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
 if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "FreeBSD":
 
     CXXFLAGS += [
@@ -266,7 +277,7 @@ if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "Linux":
         "-msse2"
     ]
 
-if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "NetBSD":
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "Android":
 
     CXXFLAGS += [
         "-msse2"
@@ -278,4 +289,32 @@ if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "OpenBSD":
         "-msse2"
     ]
 
+if CONFIG["CPU_ARCH"] == "arm" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "aarch64" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "arm" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "aarch64" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["HOST_CPU_ARCH"] == "x86_64" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["HOST_CPU_ARCH"] == "x86" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
 Library("system_wrappers_gn")
diff --git a/media/webrtc/trunk/webrtc/video/video_gn/moz.build b/media/webrtc/trunk/webrtc/video/video_gn/moz.build
index 882a25ec6c2f..38abfd2e6ddc 100644
--- a/media/webrtc/trunk/webrtc/video/video_gn/moz.build
+++ b/media/webrtc/trunk/webrtc/video/video_gn/moz.build
@@ -54,56 +54,18 @@ UNIFIED_SOURCES += [
     "/media/webrtc/trunk/webrtc/video/video_stream_encoder.cc"
 ]
 
-if not CONFIG["MOZ_DEBUG"]:
-
-    DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "0"
-    DEFINES["NDEBUG"] = True
-    DEFINES["NVALGRIND"] = True
-
 if CONFIG["MOZ_DEBUG"] == "1":
 
     DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "1"
     DEFINES["WTF_USE_DYNAMIC_ANNOTATIONS"] = "1"
 
-if CONFIG["OS_TARGET"] == "Android":
-
-    DEFINES["ANDROID"] = True
-    DEFINES["ANDROID_NDK_VERSION"] = "r12b"
-    DEFINES["DISABLE_NACL"] = True
-    DEFINES["HAVE_SYS_UIO_H"] = True
-    DEFINES["NO_TCMALLOC"] = True
-    DEFINES["USE_OPENSSL_CERTS"] = "1"
-    DEFINES["WEBRTC_ANDROID"] = True
-    DEFINES["WEBRTC_ANDROID_OPENSLES"] = True
-    DEFINES["WEBRTC_LINUX"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
-    DEFINES["__GNU_SOURCE"] = "1"
-
-    OS_LIBS += [
-        "log"
-    ]
-
-if CONFIG["OS_TARGET"] == "Darwin":
-
-    DEFINES["CR_XCODE_VERSION"] = "0920"
-    DEFINES["NO_TCMALLOC"] = True
-    DEFINES["WEBRTC_MAC"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["__ASSERT_MACROS_DEFINE_VERSIONS_WITHOUT_UNDERSCORE"] = "0"
-
-    OS_LIBS += [
-        "-framework Foundation"
-    ]
-
-if CONFIG["OS_TARGET"] == "DragonFly":
+if not CONFIG["MOZ_DEBUG"]:
 
-    DEFINES["USE_X11"] = "1"
-    DEFINES["WEBRTC_BSD"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
+    DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "0"
+    DEFINES["NDEBUG"] = True
+    DEFINES["NVALGRIND"] = True
 
-if CONFIG["OS_TARGET"] == "FreeBSD":
+if CONFIG["OS_TARGET"] == "NetBSD":
 
     DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_BSD"] = True
@@ -113,7 +75,6 @@ if CONFIG["OS_TARGET"] == "FreeBSD":
 if CONFIG["OS_TARGET"] == "Linux":
 
     DEFINES["USE_NSS_CERTS"] = "1"
-    DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_LINUX"] = True
     DEFINES["WEBRTC_POSIX"] = True
     DEFINES["_FILE_OFFSET_BITS"] = "64"
@@ -123,14 +84,7 @@ if CONFIG["OS_TARGET"] == "Linux":
         "rt"
     ]
 
-if CONFIG["OS_TARGET"] == "NetBSD":
-
-    DEFINES["USE_X11"] = "1"
-    DEFINES["WEBRTC_BSD"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
-
-if CONFIG["OS_TARGET"] == "OpenBSD":
+if CONFIG["OS_TARGET"] == "DragonFly":
 
     DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_BSD"] = True
@@ -166,10 +120,50 @@ if CONFIG["OS_TARGET"] == "WINNT":
         "winmm"
     ]
 
-if CONFIG["CPU_ARCH"] == "aarch64":
+if CONFIG["OS_TARGET"] == "Darwin":
 
-    DEFINES["WEBRTC_ARCH_ARM64"] = True
-    DEFINES["WEBRTC_HAS_NEON"] = True
+    DEFINES["CR_XCODE_VERSION"] = "0920"
+    DEFINES["NO_TCMALLOC"] = True
+    DEFINES["WEBRTC_MAC"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["__ASSERT_MACROS_DEFINE_VERSIONS_WITHOUT_UNDERSCORE"] = "0"
+
+    OS_LIBS += [
+        "-framework Foundation"
+    ]
+
+if CONFIG["OS_TARGET"] == "OpenBSD":
+
+    DEFINES["USE_X11"] = "1"
+    DEFINES["WEBRTC_BSD"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+
+if CONFIG["OS_TARGET"] == "FreeBSD":
+
+    DEFINES["USE_X11"] = "1"
+    DEFINES["WEBRTC_BSD"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+
+if CONFIG["OS_TARGET"] == "Android":
+
+    DEFINES["ANDROID"] = True
+    DEFINES["ANDROID_NDK_VERSION"] = "r12b"
+    DEFINES["DISABLE_NACL"] = True
+    DEFINES["HAVE_SYS_UIO_H"] = True
+    DEFINES["NO_TCMALLOC"] = True
+    DEFINES["USE_OPENSSL_CERTS"] = "1"
+    DEFINES["WEBRTC_ANDROID"] = True
+    DEFINES["WEBRTC_ANDROID_OPENSLES"] = True
+    DEFINES["WEBRTC_LINUX"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+    DEFINES["__GNU_SOURCE"] = "1"
+
+    OS_LIBS += [
+        "log"
+    ]
 
 if CONFIG["CPU_ARCH"] == "arm":
 
@@ -181,15 +175,24 @@ if CONFIG["CPU_ARCH"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Android":
+if CONFIG["CPU_ARCH"] == "ppc64":
 
-    DEFINES["_FORTIFY_SOURCE"] = "2"
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "mips64":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "aarch64":
+
+    DEFINES["WEBRTC_ARCH_ARM64"] = True
+    DEFINES["WEBRTC_HAS_NEON"] = True
 
 if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Darwin":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "DragonFly":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "OpenBSD":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
@@ -197,20 +200,28 @@ if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "FreeBSD":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "NetBSD":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Android":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "OpenBSD":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "DragonFly":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "Android":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "NetBSD":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "NetBSD":
 
     CXXFLAGS += [
         "-msse2"
     ]
 
+if CONFIG["CPU_ARCH"] == "x86_64" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
 if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "FreeBSD":
 
     CXXFLAGS += [
@@ -228,7 +239,7 @@ if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "Linux":
         "-msse2"
     ]
 
-if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "NetBSD":
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "Android":
 
     CXXFLAGS += [
         "-msse2"
@@ -240,4 +251,32 @@ if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "OpenBSD":
         "-msse2"
     ]
 
+if CONFIG["CPU_ARCH"] == "arm" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "aarch64" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "arm" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "aarch64" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["HOST_CPU_ARCH"] == "x86_64" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["HOST_CPU_ARCH"] == "x86" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
 Library("video_gn")
diff --git a/media/webrtc/trunk/webrtc/voice_engine/audio_level_gn/moz.build b/media/webrtc/trunk/webrtc/voice_engine/audio_level_gn/moz.build
index 7989a2e1ef75..dcd4865a2aef 100644
--- a/media/webrtc/trunk/webrtc/voice_engine/audio_level_gn/moz.build
+++ b/media/webrtc/trunk/webrtc/voice_engine/audio_level_gn/moz.build
@@ -33,56 +33,18 @@ UNIFIED_SOURCES += [
     "/media/webrtc/trunk/webrtc/voice_engine/audio_level.cc"
 ]
 
-if not CONFIG["MOZ_DEBUG"]:
-
-    DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "0"
-    DEFINES["NDEBUG"] = True
-    DEFINES["NVALGRIND"] = True
-
 if CONFIG["MOZ_DEBUG"] == "1":
 
     DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "1"
     DEFINES["WTF_USE_DYNAMIC_ANNOTATIONS"] = "1"
 
-if CONFIG["OS_TARGET"] == "Android":
-
-    DEFINES["ANDROID"] = True
-    DEFINES["ANDROID_NDK_VERSION"] = "r12b"
-    DEFINES["DISABLE_NACL"] = True
-    DEFINES["HAVE_SYS_UIO_H"] = True
-    DEFINES["NO_TCMALLOC"] = True
-    DEFINES["USE_OPENSSL_CERTS"] = "1"
-    DEFINES["WEBRTC_ANDROID"] = True
-    DEFINES["WEBRTC_ANDROID_OPENSLES"] = True
-    DEFINES["WEBRTC_LINUX"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
-    DEFINES["__GNU_SOURCE"] = "1"
-
-    OS_LIBS += [
-        "log"
-    ]
-
-if CONFIG["OS_TARGET"] == "Darwin":
-
-    DEFINES["CR_XCODE_VERSION"] = "0920"
-    DEFINES["NO_TCMALLOC"] = True
-    DEFINES["WEBRTC_MAC"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["__ASSERT_MACROS_DEFINE_VERSIONS_WITHOUT_UNDERSCORE"] = "0"
-
-    OS_LIBS += [
-        "-framework Foundation"
-    ]
-
-if CONFIG["OS_TARGET"] == "DragonFly":
+if not CONFIG["MOZ_DEBUG"]:
 
-    DEFINES["USE_X11"] = "1"
-    DEFINES["WEBRTC_BSD"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
+    DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "0"
+    DEFINES["NDEBUG"] = True
+    DEFINES["NVALGRIND"] = True
 
-if CONFIG["OS_TARGET"] == "FreeBSD":
+if CONFIG["OS_TARGET"] == "NetBSD":
 
     DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_BSD"] = True
@@ -92,7 +54,6 @@ if CONFIG["OS_TARGET"] == "FreeBSD":
 if CONFIG["OS_TARGET"] == "Linux":
 
     DEFINES["USE_NSS_CERTS"] = "1"
-    DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_LINUX"] = True
     DEFINES["WEBRTC_POSIX"] = True
     DEFINES["_FILE_OFFSET_BITS"] = "64"
@@ -101,14 +62,7 @@ if CONFIG["OS_TARGET"] == "Linux":
         "rt"
     ]
 
-if CONFIG["OS_TARGET"] == "NetBSD":
-
-    DEFINES["USE_X11"] = "1"
-    DEFINES["WEBRTC_BSD"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
-
-if CONFIG["OS_TARGET"] == "OpenBSD":
+if CONFIG["OS_TARGET"] == "DragonFly":
 
     DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_BSD"] = True
@@ -144,10 +98,50 @@ if CONFIG["OS_TARGET"] == "WINNT":
         "winmm"
     ]
 
-if CONFIG["CPU_ARCH"] == "aarch64":
+if CONFIG["OS_TARGET"] == "Darwin":
 
-    DEFINES["WEBRTC_ARCH_ARM64"] = True
-    DEFINES["WEBRTC_HAS_NEON"] = True
+    DEFINES["CR_XCODE_VERSION"] = "0920"
+    DEFINES["NO_TCMALLOC"] = True
+    DEFINES["WEBRTC_MAC"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["__ASSERT_MACROS_DEFINE_VERSIONS_WITHOUT_UNDERSCORE"] = "0"
+
+    OS_LIBS += [
+        "-framework Foundation"
+    ]
+
+if CONFIG["OS_TARGET"] == "OpenBSD":
+
+    DEFINES["USE_X11"] = "1"
+    DEFINES["WEBRTC_BSD"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+
+if CONFIG["OS_TARGET"] == "FreeBSD":
+
+    DEFINES["USE_X11"] = "1"
+    DEFINES["WEBRTC_BSD"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+
+if CONFIG["OS_TARGET"] == "Android":
+
+    DEFINES["ANDROID"] = True
+    DEFINES["ANDROID_NDK_VERSION"] = "r12b"
+    DEFINES["DISABLE_NACL"] = True
+    DEFINES["HAVE_SYS_UIO_H"] = True
+    DEFINES["NO_TCMALLOC"] = True
+    DEFINES["USE_OPENSSL_CERTS"] = "1"
+    DEFINES["WEBRTC_ANDROID"] = True
+    DEFINES["WEBRTC_ANDROID_OPENSLES"] = True
+    DEFINES["WEBRTC_LINUX"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+    DEFINES["__GNU_SOURCE"] = "1"
+
+    OS_LIBS += [
+        "log"
+    ]
 
 if CONFIG["CPU_ARCH"] == "arm":
 
@@ -159,15 +153,24 @@ if CONFIG["CPU_ARCH"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Android":
+if CONFIG["CPU_ARCH"] == "ppc64":
 
-    DEFINES["_FORTIFY_SOURCE"] = "2"
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "mips64":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "aarch64":
+
+    DEFINES["WEBRTC_ARCH_ARM64"] = True
+    DEFINES["WEBRTC_HAS_NEON"] = True
 
 if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Darwin":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "DragonFly":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "OpenBSD":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
@@ -175,20 +178,28 @@ if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "FreeBSD":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "NetBSD":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Android":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "OpenBSD":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "DragonFly":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "Android":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "NetBSD":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "NetBSD":
 
     CXXFLAGS += [
         "-msse2"
     ]
 
+if CONFIG["CPU_ARCH"] == "x86_64" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
 if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "FreeBSD":
 
     CXXFLAGS += [
@@ -206,7 +217,7 @@ if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "Linux":
         "-msse2"
     ]
 
-if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "NetBSD":
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "Android":
 
     CXXFLAGS += [
         "-msse2"
@@ -218,4 +229,32 @@ if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "OpenBSD":
         "-msse2"
     ]
 
+if CONFIG["CPU_ARCH"] == "arm" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "aarch64" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "arm" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "aarch64" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["HOST_CPU_ARCH"] == "x86_64" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["HOST_CPU_ARCH"] == "x86" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
 Library("audio_level_gn")
diff --git a/media/webrtc/trunk/webrtc/voice_engine/voice_engine_gn/moz.build b/media/webrtc/trunk/webrtc/voice_engine/voice_engine_gn/moz.build
index 03a934532266..0f18e1af6569 100644
--- a/media/webrtc/trunk/webrtc/voice_engine/voice_engine_gn/moz.build
+++ b/media/webrtc/trunk/webrtc/voice_engine/voice_engine_gn/moz.build
@@ -46,56 +46,18 @@ UNIFIED_SOURCES += [
     "/media/webrtc/trunk/webrtc/voice_engine/voice_engine_impl.cc"
 ]
 
-if not CONFIG["MOZ_DEBUG"]:
-
-    DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "0"
-    DEFINES["NDEBUG"] = True
-    DEFINES["NVALGRIND"] = True
-
 if CONFIG["MOZ_DEBUG"] == "1":
 
     DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "1"
     DEFINES["WTF_USE_DYNAMIC_ANNOTATIONS"] = "1"
 
-if CONFIG["OS_TARGET"] == "Android":
-
-    DEFINES["ANDROID"] = True
-    DEFINES["ANDROID_NDK_VERSION"] = "r12b"
-    DEFINES["DISABLE_NACL"] = True
-    DEFINES["HAVE_SYS_UIO_H"] = True
-    DEFINES["NO_TCMALLOC"] = True
-    DEFINES["USE_OPENSSL_CERTS"] = "1"
-    DEFINES["WEBRTC_ANDROID"] = True
-    DEFINES["WEBRTC_ANDROID_OPENSLES"] = True
-    DEFINES["WEBRTC_LINUX"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
-    DEFINES["__GNU_SOURCE"] = "1"
-
-    OS_LIBS += [
-        "log"
-    ]
-
-if CONFIG["OS_TARGET"] == "Darwin":
-
-    DEFINES["CR_XCODE_VERSION"] = "0920"
-    DEFINES["NO_TCMALLOC"] = True
-    DEFINES["WEBRTC_MAC"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["__ASSERT_MACROS_DEFINE_VERSIONS_WITHOUT_UNDERSCORE"] = "0"
-
-    OS_LIBS += [
-        "-framework Foundation"
-    ]
-
-if CONFIG["OS_TARGET"] == "DragonFly":
+if not CONFIG["MOZ_DEBUG"]:
 
-    DEFINES["USE_X11"] = "1"
-    DEFINES["WEBRTC_BSD"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
+    DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "0"
+    DEFINES["NDEBUG"] = True
+    DEFINES["NVALGRIND"] = True
 
-if CONFIG["OS_TARGET"] == "FreeBSD":
+if CONFIG["OS_TARGET"] == "NetBSD":
 
     DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_BSD"] = True
@@ -105,7 +67,6 @@ if CONFIG["OS_TARGET"] == "FreeBSD":
 if CONFIG["OS_TARGET"] == "Linux":
 
     DEFINES["USE_NSS_CERTS"] = "1"
-    DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_LINUX"] = True
     DEFINES["WEBRTC_POSIX"] = True
     DEFINES["_FILE_OFFSET_BITS"] = "64"
@@ -115,14 +76,7 @@ if CONFIG["OS_TARGET"] == "Linux":
         "rt"
     ]
 
-if CONFIG["OS_TARGET"] == "NetBSD":
-
-    DEFINES["USE_X11"] = "1"
-    DEFINES["WEBRTC_BSD"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
-
-if CONFIG["OS_TARGET"] == "OpenBSD":
+if CONFIG["OS_TARGET"] == "DragonFly":
 
     DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_BSD"] = True
@@ -159,10 +113,50 @@ if CONFIG["OS_TARGET"] == "WINNT":
         "winmm"
     ]
 
-if CONFIG["CPU_ARCH"] == "aarch64":
+if CONFIG["OS_TARGET"] == "Darwin":
 
-    DEFINES["WEBRTC_ARCH_ARM64"] = True
-    DEFINES["WEBRTC_HAS_NEON"] = True
+    DEFINES["CR_XCODE_VERSION"] = "0920"
+    DEFINES["NO_TCMALLOC"] = True
+    DEFINES["WEBRTC_MAC"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["__ASSERT_MACROS_DEFINE_VERSIONS_WITHOUT_UNDERSCORE"] = "0"
+
+    OS_LIBS += [
+        "-framework Foundation"
+    ]
+
+if CONFIG["OS_TARGET"] == "OpenBSD":
+
+    DEFINES["USE_X11"] = "1"
+    DEFINES["WEBRTC_BSD"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+
+if CONFIG["OS_TARGET"] == "FreeBSD":
+
+    DEFINES["USE_X11"] = "1"
+    DEFINES["WEBRTC_BSD"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+
+if CONFIG["OS_TARGET"] == "Android":
+
+    DEFINES["ANDROID"] = True
+    DEFINES["ANDROID_NDK_VERSION"] = "r12b"
+    DEFINES["DISABLE_NACL"] = True
+    DEFINES["HAVE_SYS_UIO_H"] = True
+    DEFINES["NO_TCMALLOC"] = True
+    DEFINES["USE_OPENSSL_CERTS"] = "1"
+    DEFINES["WEBRTC_ANDROID"] = True
+    DEFINES["WEBRTC_ANDROID_OPENSLES"] = True
+    DEFINES["WEBRTC_LINUX"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+    DEFINES["__GNU_SOURCE"] = "1"
+
+    OS_LIBS += [
+        "log"
+    ]
 
 if CONFIG["CPU_ARCH"] == "arm":
 
@@ -174,15 +168,24 @@ if CONFIG["CPU_ARCH"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Android":
+if CONFIG["CPU_ARCH"] == "ppc64":
 
-    DEFINES["_FORTIFY_SOURCE"] = "2"
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "mips64":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "aarch64":
+
+    DEFINES["WEBRTC_ARCH_ARM64"] = True
+    DEFINES["WEBRTC_HAS_NEON"] = True
 
 if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Darwin":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "DragonFly":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "OpenBSD":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
@@ -190,20 +193,28 @@ if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "FreeBSD":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "NetBSD":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Android":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "OpenBSD":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "DragonFly":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "Android":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "NetBSD":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "NetBSD":
 
     CXXFLAGS += [
         "-msse2"
     ]
 
+if CONFIG["CPU_ARCH"] == "x86_64" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
 if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "FreeBSD":
 
     CXXFLAGS += [
@@ -221,7 +232,7 @@ if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "Linux":
         "-msse2"
     ]
 
-if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "NetBSD":
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "Android":
 
     CXXFLAGS += [
         "-msse2"
@@ -233,4 +244,32 @@ if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "OpenBSD":
         "-msse2"
     ]
 
+if CONFIG["CPU_ARCH"] == "arm" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "aarch64" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "arm" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "aarch64" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["HOST_CPU_ARCH"] == "x86_64" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["HOST_CPU_ARCH"] == "x86" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
 Library("voice_engine_gn")
diff --git a/media/webrtc/trunk/webrtc/webrtc_common_gn/moz.build b/media/webrtc/trunk/webrtc/webrtc_common_gn/moz.build
index bb2209bdf0ac..2814027b6725 100644
--- a/media/webrtc/trunk/webrtc/webrtc_common_gn/moz.build
+++ b/media/webrtc/trunk/webrtc/webrtc_common_gn/moz.build
@@ -30,48 +30,18 @@ UNIFIED_SOURCES += [
     "/media/webrtc/trunk/webrtc/common_types.cc"
 ]
 
-if not CONFIG["MOZ_DEBUG"]:
-
-    DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "0"
-    DEFINES["NDEBUG"] = True
-    DEFINES["NVALGRIND"] = True
-
 if CONFIG["MOZ_DEBUG"] == "1":
 
     DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "1"
     DEFINES["WTF_USE_DYNAMIC_ANNOTATIONS"] = "1"
 
-if CONFIG["OS_TARGET"] == "Android":
-
-    DEFINES["ANDROID"] = True
-    DEFINES["ANDROID_NDK_VERSION"] = "r12b"
-    DEFINES["DISABLE_NACL"] = True
-    DEFINES["HAVE_SYS_UIO_H"] = True
-    DEFINES["NO_TCMALLOC"] = True
-    DEFINES["USE_OPENSSL_CERTS"] = "1"
-    DEFINES["WEBRTC_ANDROID"] = True
-    DEFINES["WEBRTC_ANDROID_OPENSLES"] = True
-    DEFINES["WEBRTC_LINUX"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
-    DEFINES["__GNU_SOURCE"] = "1"
-
-if CONFIG["OS_TARGET"] == "Darwin":
-
-    DEFINES["CR_XCODE_VERSION"] = "0920"
-    DEFINES["NO_TCMALLOC"] = True
-    DEFINES["WEBRTC_MAC"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["__ASSERT_MACROS_DEFINE_VERSIONS_WITHOUT_UNDERSCORE"] = "0"
-
-if CONFIG["OS_TARGET"] == "DragonFly":
+if not CONFIG["MOZ_DEBUG"]:
 
-    DEFINES["USE_X11"] = "1"
-    DEFINES["WEBRTC_BSD"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
+    DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "0"
+    DEFINES["NDEBUG"] = True
+    DEFINES["NVALGRIND"] = True
 
-if CONFIG["OS_TARGET"] == "FreeBSD":
+if CONFIG["OS_TARGET"] == "NetBSD":
 
     DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_BSD"] = True
@@ -81,19 +51,11 @@ if CONFIG["OS_TARGET"] == "FreeBSD":
 if CONFIG["OS_TARGET"] == "Linux":
 
     DEFINES["USE_NSS_CERTS"] = "1"
-    DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_LINUX"] = True
     DEFINES["WEBRTC_POSIX"] = True
     DEFINES["_FILE_OFFSET_BITS"] = "64"
 
-if CONFIG["OS_TARGET"] == "NetBSD":
-
-    DEFINES["USE_X11"] = "1"
-    DEFINES["WEBRTC_BSD"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
-
-if CONFIG["OS_TARGET"] == "OpenBSD":
+if CONFIG["OS_TARGET"] == "DragonFly":
 
     DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_BSD"] = True
@@ -125,10 +87,42 @@ if CONFIG["OS_TARGET"] == "WINNT":
     DEFINES["_WINDOWS"] = True
     DEFINES["__STD_C"] = True
 
-if CONFIG["CPU_ARCH"] == "aarch64":
+if CONFIG["OS_TARGET"] == "Darwin":
 
-    DEFINES["WEBRTC_ARCH_ARM64"] = True
-    DEFINES["WEBRTC_HAS_NEON"] = True
+    DEFINES["CR_XCODE_VERSION"] = "0920"
+    DEFINES["NO_TCMALLOC"] = True
+    DEFINES["WEBRTC_MAC"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["__ASSERT_MACROS_DEFINE_VERSIONS_WITHOUT_UNDERSCORE"] = "0"
+
+if CONFIG["OS_TARGET"] == "OpenBSD":
+
+    DEFINES["USE_X11"] = "1"
+    DEFINES["WEBRTC_BSD"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+
+if CONFIG["OS_TARGET"] == "FreeBSD":
+
+    DEFINES["USE_X11"] = "1"
+    DEFINES["WEBRTC_BSD"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+
+if CONFIG["OS_TARGET"] == "Android":
+
+    DEFINES["ANDROID"] = True
+    DEFINES["ANDROID_NDK_VERSION"] = "r12b"
+    DEFINES["DISABLE_NACL"] = True
+    DEFINES["HAVE_SYS_UIO_H"] = True
+    DEFINES["NO_TCMALLOC"] = True
+    DEFINES["USE_OPENSSL_CERTS"] = "1"
+    DEFINES["WEBRTC_ANDROID"] = True
+    DEFINES["WEBRTC_ANDROID_OPENSLES"] = True
+    DEFINES["WEBRTC_LINUX"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+    DEFINES["__GNU_SOURCE"] = "1"
 
 if CONFIG["CPU_ARCH"] == "arm":
 
@@ -140,15 +134,24 @@ if CONFIG["CPU_ARCH"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Android":
+if CONFIG["CPU_ARCH"] == "ppc64":
 
-    DEFINES["_FORTIFY_SOURCE"] = "2"
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "mips64":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "aarch64":
+
+    DEFINES["WEBRTC_ARCH_ARM64"] = True
+    DEFINES["WEBRTC_HAS_NEON"] = True
 
 if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Darwin":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "DragonFly":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "OpenBSD":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
@@ -156,20 +159,28 @@ if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "FreeBSD":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "NetBSD":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Android":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "OpenBSD":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "DragonFly":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "Android":
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "NetBSD":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "NetBSD":
 
     CXXFLAGS += [
         "-msse2"
     ]
 
+if CONFIG["CPU_ARCH"] == "x86_64" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
 if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "FreeBSD":
 
     CXXFLAGS += [
@@ -187,7 +198,7 @@ if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "Linux":
         "-msse2"
     ]
 
-if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "NetBSD":
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "Android":
 
     CXXFLAGS += [
         "-msse2"
@@ -199,4 +210,32 @@ if CONFIG["CPU_ARCH"] == "x86" and CONFIG["OS_TARGET"] == "OpenBSD":
         "-msse2"
     ]
 
+if CONFIG["CPU_ARCH"] == "arm" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "aarch64" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "arm" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "aarch64" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["HOST_CPU_ARCH"] == "x86_64" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_X11"] = "1"
+
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["HOST_CPU_ARCH"] == "x86" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
 Library("webrtc_common_gn")
diff --git a/media/webrtc/trunk/webrtc/webrtc_gn/moz.build b/media/webrtc/trunk/webrtc/webrtc_gn/moz.build
index d68eb28b388a..405ddb99d552 100644
--- a/media/webrtc/trunk/webrtc/webrtc_gn/moz.build
+++ b/media/webrtc/trunk/webrtc/webrtc_gn/moz.build
@@ -38,34 +38,99 @@ LOCAL_INCLUDES += [
     "/media/webrtc/trunk/webrtc/modules/include/"
 ]
 
+if CONFIG["MOZ_DEBUG"] == "1":
+
+    DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "1"
+    DEFINES["WTF_USE_DYNAMIC_ANNOTATIONS"] = "1"
+
 if not CONFIG["MOZ_DEBUG"]:
 
     DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "0"
     DEFINES["NDEBUG"] = True
     DEFINES["NVALGRIND"] = True
 
-if CONFIG["MOZ_DEBUG"] == "1":
+if CONFIG["OS_TARGET"] == "NetBSD":
 
-    DEFINES["DYNAMIC_ANNOTATIONS_ENABLED"] = "1"
-    DEFINES["WTF_USE_DYNAMIC_ANNOTATIONS"] = "1"
+    DEFINES["USE_X11"] = "1"
+    DEFINES["WEBRTC_BSD"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
 
-if CONFIG["OS_TARGET"] == "Android":
+    OS_LIBS += [
+        "X11",
+        "X11-xcb",
+        "xcb",
+        "Xcomposite",
+        "Xcursor",
+        "Xdamage",
+        "Xext",
+        "Xfixes",
+        "Xi",
+        "Xrender"
+    ]
 
-    DEFINES["ANDROID"] = True
-    DEFINES["ANDROID_NDK_VERSION"] = "r12b"
-    DEFINES["DISABLE_NACL"] = True
-    DEFINES["HAVE_SYS_UIO_H"] = True
-    DEFINES["NO_TCMALLOC"] = True
-    DEFINES["USE_OPENSSL_CERTS"] = "1"
-    DEFINES["WEBRTC_ANDROID"] = True
-    DEFINES["WEBRTC_ANDROID_OPENSLES"] = True
+if CONFIG["OS_TARGET"] == "Linux":
+
+    DEFINES["USE_NSS_CERTS"] = "1"
     DEFINES["WEBRTC_LINUX"] = True
     DEFINES["WEBRTC_POSIX"] = True
     DEFINES["_FILE_OFFSET_BITS"] = "64"
-    DEFINES["__GNU_SOURCE"] = "1"
 
     OS_LIBS += [
-        "log"
+        "m",
+        "rt"
+    ]
+
+if CONFIG["OS_TARGET"] == "DragonFly":
+
+    DEFINES["USE_X11"] = "1"
+    DEFINES["WEBRTC_BSD"] = True
+    DEFINES["WEBRTC_POSIX"] = True
+    DEFINES["_FILE_OFFSET_BITS"] = "64"
+
+    OS_LIBS += [
+        "X11",
+        "X11-xcb",
+        "xcb",
+        "Xcomposite",
+        "Xcursor",
+        "Xdamage",
+        "Xext",
+        "Xfixes",
+        "Xi",
+        "Xrender"
+    ]
+
+if CONFIG["OS_TARGET"] == "WINNT":
+
+    DEFINES["CERT_CHAIN_PARA_HAS_EXTRA_FIELDS"] = True
+    DEFINES["NOMINMAX"] = True
+    DEFINES["NO_TCMALLOC"] = True
+    DEFINES["NTDDI_VERSION"] = "0x0A000000"
+    DEFINES["PSAPI_VERSION"] = "1"
+    DEFINES["UNICODE"] = True
+    DEFINES["WEBRTC_WIN"] = True
+    DEFINES["WIN32"] = True
+    DEFINES["WIN32_LEAN_AND_MEAN"] = True
+    DEFINES["WINVER"] = "0x0A00"
+    DEFINES["_ATL_NO_OPENGL"] = True
+    DEFINES["_CRT_RAND_S"] = True
+    DEFINES["_CRT_SECURE_NO_DEPRECATE"] = True
+    DEFINES["_CRT_SECURE_NO_WARNINGS"] = True
+    DEFINES["_HAS_EXCEPTIONS"] = "0"
+    DEFINES["_SCL_SECURE_NO_DEPRECATE"] = True
+    DEFINES["_SECURE_ATL"] = True
+    DEFINES["_UNICODE"] = True
+    DEFINES["_USING_V110_SDK71_"] = True
+    DEFINES["_WIN32_WINNT"] = "0x0A00"
+    DEFINES["_WINDOWS"] = True
+    DEFINES["__STD_C"] = True
+
+    OS_LIBS += [
+        "d3d11",
+        "dxgi",
+        "Strmiids",
+        "winmm"
     ]
 
 if CONFIG["OS_TARGET"] == "Darwin":
@@ -86,7 +151,7 @@ if CONFIG["OS_TARGET"] == "Darwin":
         "-framework OpenGL"
     ]
 
-if CONFIG["OS_TARGET"] == "DragonFly":
+if CONFIG["OS_TARGET"] == "OpenBSD":
 
     DEFINES["USE_X11"] = "1"
     DEFINES["WEBRTC_BSD"] = True
@@ -126,17 +191,36 @@ if CONFIG["OS_TARGET"] == "FreeBSD":
         "Xrender"
     ]
 
-if CONFIG["OS_TARGET"] == "Linux":
+if CONFIG["OS_TARGET"] == "Android":
 
-    DEFINES["USE_NSS_CERTS"] = "1"
-    DEFINES["USE_X11"] = "1"
+    DEFINES["ANDROID"] = True
+    DEFINES["ANDROID_NDK_VERSION"] = "r12b"
+    DEFINES["DISABLE_NACL"] = True
+    DEFINES["HAVE_SYS_UIO_H"] = True
+    DEFINES["NO_TCMALLOC"] = True
+    DEFINES["USE_OPENSSL_CERTS"] = "1"
+    DEFINES["WEBRTC_ANDROID"] = True
+    DEFINES["WEBRTC_ANDROID_OPENSLES"] = True
     DEFINES["WEBRTC_LINUX"] = True
     DEFINES["WEBRTC_POSIX"] = True
     DEFINES["_FILE_OFFSET_BITS"] = "64"
+    DEFINES["__GNU_SOURCE"] = "1"
+
+    OS_LIBS += [
+        "log"
+    ]
+
+if CONFIG["CPU_ARCH"] == "arm":
+
+    DEFINES["WEBRTC_ARCH_ARM"] = True
+    DEFINES["WEBRTC_ARCH_ARM_V7"] = True
+    DEFINES["WEBRTC_HAS_NEON"] = True
+
+if CONFIG["CPU_ARCH"] == "ppc64":
+
+    DEFINES["USE_X11"] = "1"
 
     OS_LIBS += [
-        "m",
-        "rt",
         "X11",
         "X11-xcb",
         "xcb",
@@ -149,12 +233,9 @@ if CONFIG["OS_TARGET"] == "Linux":
         "Xrender"
     ]
 
-if CONFIG["OS_TARGET"] == "NetBSD":
+if CONFIG["CPU_ARCH"] == "mips64":
 
     DEFINES["USE_X11"] = "1"
-    DEFINES["WEBRTC_BSD"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
 
     OS_LIBS += [
         "X11",
@@ -169,12 +250,38 @@ if CONFIG["OS_TARGET"] == "NetBSD":
         "Xrender"
     ]
 
-if CONFIG["OS_TARGET"] == "OpenBSD":
+if CONFIG["CPU_ARCH"] == "aarch64":
+
+    DEFINES["WEBRTC_ARCH_ARM64"] = True
+    DEFINES["WEBRTC_HAS_NEON"] = True
+
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Darwin":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "OpenBSD":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "FreeBSD":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Android":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "DragonFly":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
+if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "NetBSD":
+
+    DEFINES["_FORTIFY_SOURCE"] = "2"
+
+if CONFIG["CPU_ARCH"] == "x86_64" and CONFIG["OS_TARGET"] == "Linux":
 
     DEFINES["USE_X11"] = "1"
-    DEFINES["WEBRTC_BSD"] = True
-    DEFINES["WEBRTC_POSIX"] = True
-    DEFINES["_FILE_OFFSET_BITS"] = "64"
 
     OS_LIBS += [
         "X11",
@@ -189,76 +296,89 @@ if CONFIG["OS_TARGET"] == "OpenBSD":
         "Xrender"
     ]
 
-if CONFIG["OS_TARGET"] == "WINNT":
+if CONFIG["CPU_ARCH"] == "aarch64" and CONFIG["OS_TARGET"] == "Linux":
 
-    DEFINES["CERT_CHAIN_PARA_HAS_EXTRA_FIELDS"] = True
-    DEFINES["NOMINMAX"] = True
+    DEFINES["DISABLE_NACL"] = True
     DEFINES["NO_TCMALLOC"] = True
-    DEFINES["NTDDI_VERSION"] = "0x0A000000"
-    DEFINES["PSAPI_VERSION"] = "1"
-    DEFINES["UNICODE"] = True
-    DEFINES["WEBRTC_WIN"] = True
-    DEFINES["WIN32"] = True
-    DEFINES["WIN32_LEAN_AND_MEAN"] = True
-    DEFINES["WINVER"] = "0x0A00"
-    DEFINES["_ATL_NO_OPENGL"] = True
-    DEFINES["_CRT_RAND_S"] = True
-    DEFINES["_CRT_SECURE_NO_DEPRECATE"] = True
-    DEFINES["_CRT_SECURE_NO_WARNINGS"] = True
-    DEFINES["_HAS_EXCEPTIONS"] = "0"
-    DEFINES["_SCL_SECURE_NO_DEPRECATE"] = True
-    DEFINES["_SECURE_ATL"] = True
-    DEFINES["_UNICODE"] = True
-    DEFINES["_USING_V110_SDK71_"] = True
-    DEFINES["_WIN32_WINNT"] = "0x0A00"
-    DEFINES["_WINDOWS"] = True
-    DEFINES["__STD_C"] = True
 
-    OS_LIBS += [
-        "d3d11",
-        "dxgi",
-        "Strmiids",
-        "winmm"
-    ]
+if CONFIG["CPU_ARCH"] == "arm" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
 
-if CONFIG["CPU_ARCH"] == "aarch64":
+    DEFINES["_FORTIFY_SOURCE"] = "2"
 
-    DEFINES["WEBRTC_ARCH_ARM64"] = True
-    DEFINES["WEBRTC_HAS_NEON"] = True
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
 
-if CONFIG["CPU_ARCH"] == "arm":
+    DEFINES["USE_X11"] = "1"
 
-    DEFINES["WEBRTC_ARCH_ARM"] = True
-    DEFINES["WEBRTC_ARCH_ARM_V7"] = True
-    DEFINES["WEBRTC_HAS_NEON"] = True
+    OS_LIBS += [
+        "X11",
+        "X11-xcb",
+        "xcb",
+        "Xcomposite",
+        "Xcursor",
+        "Xdamage",
+        "Xext",
+        "Xfixes",
+        "Xi",
+        "Xrender"
+    ]
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Android":
+if CONFIG["CPU_ARCH"] == "aarch64" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
 
-    DEFINES["_FORTIFY_SOURCE"] = "2"
+    DEFINES["USE_X11"] = "1"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Darwin":
+    OS_LIBS += [
+        "X11",
+        "X11-xcb",
+        "xcb",
+        "Xcomposite",
+        "Xcursor",
+        "Xdamage",
+        "Xext",
+        "Xfixes",
+        "Xi",
+        "Xrender"
+    ]
 
-    DEFINES["_FORTIFY_SOURCE"] = "2"
+if CONFIG["CPU_ARCH"] == "arm" and CONFIG["MOZ_DEBUG"] == "1" and CONFIG["OS_TARGET"] == "Linux":
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "DragonFly":
+    DEFINES["USE_X11"] = "1"
 
-    DEFINES["_FORTIFY_SOURCE"] = "2"
+    OS_LIBS += [
+        "X11",
+        "X11-xcb",
+        "xcb",
+        "Xcomposite",
+        "Xcursor",
+        "Xdamage",
+        "Xext",
+        "Xfixes",
+        "Xi",
+        "Xrender"
+    ]
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "FreeBSD":
+if CONFIG["CPU_ARCH"] == "aarch64" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
 
     DEFINES["_FORTIFY_SOURCE"] = "2"
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "NetBSD":
-
-    DEFINES["_FORTIFY_SOURCE"] = "2"
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["HOST_CPU_ARCH"] == "x86_64" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
 
-if not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "OpenBSD":
+    DEFINES["USE_X11"] = "1"
 
-    DEFINES["_FORTIFY_SOURCE"] = "2"
+    OS_LIBS += [
+        "X11",
+        "X11-xcb",
+        "xcb",
+        "Xcomposite",
+        "Xcursor",
+        "Xdamage",
+        "Xext",
+        "Xfixes",
+        "Xi",
+        "Xrender"
+    ]
 
-if CONFIG["CPU_ARCH"] == "aarch64" and CONFIG["OS_TARGET"] == "Linux":
+if CONFIG["CPU_ARCH"] == "x86" and CONFIG["HOST_CPU_ARCH"] == "x86" and not CONFIG["MOZ_DEBUG"] and CONFIG["OS_TARGET"] == "Linux":
 
-    DEFINES["DISABLE_NACL"] = True
-    DEFINES["NO_TCMALLOC"] = True
+    DEFINES["_FORTIFY_SOURCE"] = "2"
 
 Library("webrtc_gn")
-- 
2.31.1

